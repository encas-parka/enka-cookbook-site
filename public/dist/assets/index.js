(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();const Yg=!1;var Ku=Array.isArray,cw=Array.prototype.indexOf,dp=Array.from,fh=Object.defineProperty,Ls=Object.getOwnPropertyDescriptor,Xg=Object.getOwnPropertyDescriptors,eb=Object.prototype,dw=Array.prototype,hd=Object.getPrototypeOf,pv=Object.isExtensible;function eo(r){return typeof r=="function"}const me=()=>{};function fw(r){return r()}function hh(r){for(var e=0;e<r.length;e++)r[e]()}function tb(){var r,e,t=new Promise((n,a)=>{r=n,e=a});return{promise:t,resolve:r,reject:e}}function hw(r,e,t=!1){return r===void 0?t?e():e:r}function ha(r,e){if(Array.isArray(r))return r;if(!(Symbol.iterator in r))return Array.from(r);const t=[];for(const n of r)if(t.push(n),t.length===e)break;return t}const En=2,fp=4,pd=8,Qs=16,ps=32,Gs=64,hp=128,Kn=256,ac=512,tn=1024,Bn=2048,Ks=4096,ca=8192,Ri=16384,vd=32768,Js=65536,vv=1<<17,pw=1<<18,Ni=1<<19,rb=1<<20,ph=1<<21,md=1<<22,hi=1<<23,Pa=Symbol("$state"),nb=Symbol("legacy props"),vw=Symbol(""),uu=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function ab(r){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function mw(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function gw(r){throw new Error("https://svelte.dev/e/effect_in_teardown")}function bw(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function _w(r){throw new Error("https://svelte.dev/e/effect_orphan")}function yw(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function xw(r){throw new Error("https://svelte.dev/e/props_invalid_value")}function ww(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function kw(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ew(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Sw(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const gd=1,bd=2,sb=4,Aw=8,Dw=16,Cw=1,Iw=2,Tw=4,Mw=8,Rw=16,Nw=1,Pw=2,$w=4,Lw=1,Ow=2,Mr=Symbol(),Bw="http://www.w3.org/1999/xhtml",Fw="http://www.w3.org/2000/svg",zw="@attach";function qw(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function jw(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Hw=!1;function ib(r){return r===this.v}function ob(r,e){return r!=r?e==e:r!==e||r!==null&&typeof r=="object"||typeof r=="function"}function Uw(r,e){return r!==e}function ub(r){return!ob(r,this.v)}let Do=!1,Vw=!1;function Ww(){Do=!0}const Qw=[];function si(r,e=!1,t=!1){return Gl(r,new Map,"",Qw,null,t)}function Gl(r,e,t,n,a=null,s=!1){if(typeof r=="object"&&r!==null){var i=e.get(r);if(i!==void 0)return i;if(r instanceof Map)return new Map(r);if(r instanceof Set)return new Set(r);if(Ku(r)){var u=Array(r.length);e.set(r,u),a!==null&&e.set(a,u);for(var l=0;l<r.length;l+=1){var c=r[l];l in r&&(u[l]=Gl(c,e,t,n,null,s))}return u}if(hd(r)===eb){u={},e.set(r,u),a!==null&&e.set(a,u);for(var f in r)u[f]=Gl(r[f],e,t,n,null,s);return u}if(r instanceof Date)return structuredClone(r);if(typeof r.toJSON=="function"&&!s)return Gl(r.toJSON(),e,t,n,r)}if(r instanceof EventTarget)return r;try{return structuredClone(r)}catch{return r}}let xr=null;function fo(r){xr=r}function pe(r,e=!1,t){xr={p:xr,c:null,e:null,s:r,x:null,l:Do&&!e?{s:null,u:null,$:[]}:null}}function ve(r){var e=xr,t=e.e;if(t!==null){e.e=null;for(var n of t)Eb(n)}return xr=e.p,{}}function Co(){return!Do||xr!==null&&xr.l===null}let ii=[];function lb(){var r=ii;ii=[],hh(r)}function pa(r){if(ii.length===0&&!lu){var e=ii;queueMicrotask(()=>{e===ii&&lb()})}ii.push(r)}function Gw(){for(;ii.length>0;)lb()}const Kw=new WeakMap;function cb(r){var e=Bt;if(e===null)return Ht.f|=hi,r;if((e.f&vd)===0){if((e.f&hp)===0)throw!e.parent&&r instanceof Error&&db(r),r;e.b.error(r)}else ho(r,e)}function ho(r,e){for(;e!==null;){if((e.f&hp)!==0)try{e.b.error(r);return}catch(t){r=t}e=e.parent}throw r instanceof Error&&db(r),r}function db(r){const e=Kw.get(r);e&&(fh(r,"message",{value:e.message}),fh(r,"stack",{value:e.stack}))}const xl=new Set;let lr=null,Kl=null,vh=new Set,Sa=[],_d=null,mh=!1,lu=!1;class Nn{current=new Map;#e=new Map;#t=new Set;#r=0;#s=null;#n=[];#a=[];#i=[];#c=[];#d=[];#u=[];skipped_effects=new Set;process(e){Sa=[],Kl=null;var t=Nn.apply(this);for(const s of e)this.#l(s);if(this.#r===0){this.#h();var n=this.#a,a=this.#i;this.#a=[],this.#i=[],this.#c=[],Kl=this,lr=null,mv(n),mv(a),Kl=null,this.#s?.resolve()}else this.#f(this.#a),this.#f(this.#i),this.#f(this.#c);t();for(const s of this.#n)Su(s);this.#n=[]}#l(e){e.f^=tn;for(var t=e.first;t!==null;){var n=t.f,a=(n&(ps|Gs))!==0,s=a&&(n&tn)!==0,i=s||(n&ca)!==0||this.skipped_effects.has(t);if(!i&&t.fn!==null){a?t.f^=tn:(n&fp)!==0?this.#i.push(t):(n&tn)===0&&((n&md)!==0&&t.b?.is_pending()?this.#n.push(t):Sd(t)&&((t.f&Qs)!==0&&this.#c.push(t),Su(t)));var u=t.first;if(u!==null){t=u;continue}}var l=t.parent;for(t=t.next;t===null&&l!==null;)t=l.next,l=l.parent}}#f(e){for(const t of e)((t.f&Bn)!==0?this.#d:this.#u).push(t),fn(t,tn);e.length=0}capture(e,t){this.#e.has(e)||this.#e.set(e,t),this.current.set(e,e.v)}activate(){lr=this}deactivate(){lr=null}flush(){if(Sa.length>0){if(this.activate(),fb(),lr!==null&&lr!==this)return}else this.#r===0&&this.#h();this.deactivate();for(const e of vh)if(vh.delete(e),e(),lr!==null)break}#h(){for(const e of this.#t)e();if(this.#t.clear(),xl.size>1){this.#e.clear();let e=!0;for(const t of xl){if(t===this){e=!1;continue}for(const[n,a]of this.current){if(t.current.has(n))if(e)t.current.set(n,a);else continue;hb(n)}if(Sa.length>0){lr=t;const n=Nn.apply(t);for(const a of Sa)t.#l(a);Sa=[],n()}}lr=null}xl.delete(this)}increment(){this.#r+=1}decrement(){this.#r-=1;for(const e of this.#d)fn(e,Bn),wi(e);for(const e of this.#u)fn(e,Ks),wi(e);this.flush()}add_callback(e){this.#t.add(e)}settled(){return(this.#s??=tb()).promise}static ensure(){if(lr===null){const e=lr=new Nn;xl.add(lr),lu||Nn.enqueue(()=>{lr===e&&e.flush()})}return lr}static enqueue(e){pa(e)}static apply(e){return me}}function Jw(r){var e=lu;lu=!0;try{for(var t;;){if(Gw(),Sa.length===0&&(lr?.flush(),Sa.length===0))return _d=null,t;fb()}}finally{lu=e}}function fb(){var r=io;mh=!0;try{var e=0;for(yv(!0);Sa.length>0;){var t=Nn.ensure();if(e++>1e3){var n,a;Zw()}t.process(Sa),Os.clear()}}finally{mh=!1,yv(r),_d=null}}function Zw(){try{yw()}catch(r){ho(r,_d)}}let ri=null;function mv(r){var e=r.length;if(e!==0){for(var t=0;t<e;){var n=r[t++];if((n.f&(Ri|ca))===0&&Sd(n)&&(ri=[],Su(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null&&n.ac===null?Cb(n):n.fn=null),ri?.length>0)){Os.clear();for(const a of ri)Su(a);ri=[]}}ri=null}}function hb(r){if(r.reactions!==null)for(const e of r.reactions){const t=e.f;(t&En)!==0?hb(e):(t&(md|Qs))!==0&&(fn(e,Bn),wi(e))}}function wi(r){for(var e=_d=r;e.parent!==null;){e=e.parent;var t=e.f;if(mh&&e===Bt&&(t&Qs)!==0)return;if((t&(Gs|ps))!==0){if((t&tn)===0)return;e.f^=tn}}Sa.push(e)}function pp(r){let e=0,t=ds(0),n;return()=>{d4()&&(o(t),Xu(()=>(e===0&&(n=ta(()=>r(()=>Mn(t)))),e+=1,()=>{pa(()=>{e-=1,e===0&&(n?.(),n=void 0,Mn(t))})})))}}var Yw=Js|Ni|hp;function Xw(r,e,t){new e4(r,e,t)}class e4{parent;#e=!1;#t;#r=null;#s;#n;#a;#i=null;#c=null;#d=null;#u=null;#l=0;#f=0;#h=!1;#o=null;#v=()=>{this.#o&&po(this.#o,this.#l)};#p=pp(()=>(this.#o=ds(this.#l),()=>{this.#o=null}));constructor(e,t,n){this.#t=e,this.#s=t,this.#n=n,this.parent=Bt.b,this.#e=!!this.#s.pending,this.#a=ms(()=>{Bt.b=this;{try{this.#i=Wr(()=>n(this.#t))}catch(a){this.error(a)}this.#f>0?this.#g():this.#e=!1}},Yw)}#w(){try{this.#i=Wr(()=>this.#n(this.#t))}catch(e){this.error(e)}this.#e=!1}#k(){const e=this.#s.pending;e&&(this.#c=Wr(()=>e(this.#t)),Nn.enqueue(()=>{this.#i=this.#m(()=>(Nn.ensure(),Wr(()=>this.#n(this.#t)))),this.#f>0?this.#g():(as(this.#c,()=>{this.#c=null}),this.#e=!1)}))}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#s.pending}#m(e){var t=Bt,n=Ht,a=xr;La(this.#a),yn(this.#a),fo(this.#a.ctx);try{return e()}catch(s){return cb(s),null}finally{La(t),yn(n),fo(a)}}#g(){const e=this.#s.pending;this.#i!==null&&(this.#u=document.createDocumentFragment(),t4(this.#i,this.#u)),this.#c===null&&(this.#c=Wr(()=>e(this.#t)))}#b(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#b(e);return}this.#f+=e,this.#f===0&&(this.#e=!1,this.#c&&as(this.#c,()=>{this.#c=null}),this.#u&&(this.#t.before(this.#u),this.#u=null),pa(()=>{Nn.ensure().flush()}))}update_pending_count(e){this.#b(e),this.#l+=e,vh.add(this.#v)}get_effect_pending(){return this.#p(),o(this.#o)}error(e){var t=this.#s.onerror;let n=this.#s.failed;if(this.#h||!t&&!n)throw e;this.#i&&(qr(this.#i),this.#i=null),this.#c&&(qr(this.#c),this.#c=null),this.#d&&(qr(this.#d),this.#d=null);var a=!1,s=!1;const i=()=>{if(a){jw();return}a=!0,s&&Sw(),Nn.ensure(),this.#l=0,this.#d!==null&&as(this.#d,()=>{this.#d=null}),this.#e=this.has_pending_snippet(),this.#i=this.#m(()=>(this.#h=!1,Wr(()=>this.#n(this.#t)))),this.#f>0?this.#g():this.#e=!1};var u=Ht;try{yn(null),s=!0,t?.(e,i),s=!1}catch(l){ho(l,this.#a&&this.#a.parent)}finally{yn(u)}n&&pa(()=>{this.#d=this.#m(()=>{this.#h=!0;try{return Wr(()=>{n(this.#t,()=>e,()=>i)})}catch(l){return ho(l,this.#a.parent),null}finally{this.#h=!1}})})}}function t4(r,e){for(var t=r.nodes_start,n=r.nodes_end;t!==null;){var a=t===n?null:Zu(t);e.append(t),t=a}}function pb(r,e,t){const n=Co()?Ju:yd;if(e.length===0){t(r.map(n));return}var a=lr,s=Bt,i=r4();Promise.all(e.map(u=>n4(u))).then(u=>{i();try{t([...r.map(n),...u])}catch(l){(s.f&Ri)===0&&ho(l,s)}a?.deactivate(),vb()}).catch(u=>{ho(u,s)})}function r4(){var r=Bt,e=Ht,t=xr,n=lr;return function(){La(r),yn(e),fo(t),n?.activate()}}function vb(){La(null),yn(null),fo(null)}function Ju(r){var e=En|Bn,t=Ht!==null&&(Ht.f&En)!==0?Ht:null;return Bt===null||t!==null&&(t.f&Kn)!==0?e|=Kn:Bt.f|=Ni,{ctx:xr,deps:null,effects:null,equals:ib,f:e,fn:r,reactions:null,rv:0,v:Mr,wv:0,parent:t??Bt,ac:null}}function n4(r,e){let t=Bt;t===null&&mw();var n=t.b,a=void 0,s=ds(Mr),i=!Ht,u=new Map;return v4(()=>{var l=tb();a=l.promise;try{Promise.resolve(r()).then(l.resolve,l.reject)}catch(m){l.reject(m)}var c=lr,f=n.is_pending();i&&(n.update_pending_count(1),f||(c.increment(),u.get(c)?.reject(uu),u.set(c,l)));const h=(m,g=void 0)=>{f||c.activate(),g?g!==uu&&(s.f|=hi,po(s,g)):((s.f&hi)!==0&&(s.f^=hi),po(s,m)),i&&(n.update_pending_count(-1),f||c.decrement()),vb()};l.promise.then(h,m=>h(null,m||"unknown"))}),kd(()=>{for(const l of u.values())l.reject(uu)}),new Promise(l=>{function c(f){function h(){f===a?l(s):c(a)}f.then(h,h)}c(a)})}function V(r){const e=Ju(r);return Mb(e),e}function yd(r){const e=Ju(r);return e.equals=ub,e}function mb(r){var e=r.effects;if(e!==null){r.effects=null;for(var t=0;t<e.length;t+=1)qr(e[t])}}function a4(r){for(var e=r.parent;e!==null;){if((e.f&En)===0)return e;e=e.parent}return null}function vp(r){var e,t=Bt;La(a4(r));try{mb(r),e=$b(r)}finally{La(t)}return e}function gb(r){var e=vp(r);if(r.equals(e)||(r.v=e,r.wv=Nb()),!Pi){var t=(Is||(r.f&Kn)!==0)&&r.deps!==null?Ks:tn;fn(r,t)}}const Os=new Map;function ds(r,e){var t={f:0,v:r,reactions:null,equals:ib,rv:0,wv:0};return t}function ae(r,e){const t=ds(r);return Mb(t),t}function s4(r,e=!1,t=!0){const n=ds(r);return e||(n.equals=ub),Do&&t&&xr!==null&&xr.l!==null&&(xr.l.s??=[]).push(n),n}function w(r,e,t=!1){Ht!==null&&(!oa||(Ht.f&vv)!==0)&&Co()&&(Ht.f&(En|Qs|md|vv))!==0&&!ss?.includes(r)&&Ew();let n=t?ot(e):e;return po(r,n)}function po(r,e){if(!r.equals(e)){var t=r.v;Pi?Os.set(r,e):Os.set(r,t),r.v=e;var n=Nn.ensure();n.capture(r,t),(r.f&En)!==0&&((r.f&Bn)!==0&&vp(r),fn(r,(r.f&Kn)===0?tn:Ks)),r.wv=Nb(),bb(r,Bn),Co()&&Bt!==null&&(Bt.f&tn)!==0&&(Bt.f&(ps|Gs))===0&&(Un===null?g4([r]):Un.push(r))}return e}function $a(r,e=1){var t=o(r),n=e===1?t++:t--;return w(r,t),n}function Mn(r){w(r,r.v+1)}function bb(r,e){var t=r.reactions;if(t!==null)for(var n=Co(),a=t.length,s=0;s<a;s++){var i=t[s],u=i.f;if(!(!n&&i===Bt)){var l=(u&Bn)===0;l&&fn(i,e),(u&En)!==0?bb(i,Ks):l&&((u&Qs)!==0&&ri!==null&&ri.push(i),wi(i))}}}function ot(r){if(typeof r!="object"||r===null||Pa in r)return r;const e=hd(r);if(e!==eb&&e!==dw)return r;var t=new Map,n=Ku(r),a=ae(0),s=da,i=u=>{if(da===s)return u();var l=Ht,c=da;yn(null),wv(s);var f=u();return yn(l),wv(c),f};return n&&t.set("length",ae(r.length)),new Proxy(r,{defineProperty(u,l,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&ww();var f=t.get(l);return f===void 0?f=i(()=>{var h=ae(c.value);return t.set(l,h),h}):w(f,c.value,!0),!0},deleteProperty(u,l){var c=t.get(l);if(c===void 0){if(l in u){const f=i(()=>ae(Mr));t.set(l,f),Mn(a)}}else w(c,Mr),Mn(a);return!0},get(u,l,c){if(l===Pa)return r;var f=t.get(l),h=l in u;if(f===void 0&&(!h||Ls(u,l)?.writable)&&(f=i(()=>{var g=ot(h?u[l]:Mr),b=ae(g);return b}),t.set(l,f)),f!==void 0){var m=o(f);return m===Mr?void 0:m}return Reflect.get(u,l,c)},getOwnPropertyDescriptor(u,l){var c=Reflect.getOwnPropertyDescriptor(u,l);if(c&&"value"in c){var f=t.get(l);f&&(c.value=o(f))}else if(c===void 0){var h=t.get(l),m=h?.v;if(h!==void 0&&m!==Mr)return{enumerable:!0,configurable:!0,value:m,writable:!0}}return c},has(u,l){if(l===Pa)return!0;var c=t.get(l),f=c!==void 0&&c.v!==Mr||Reflect.has(u,l);if(c!==void 0||Bt!==null&&(!f||Ls(u,l)?.writable)){c===void 0&&(c=i(()=>{var m=f?ot(u[l]):Mr,g=ae(m);return g}),t.set(l,c));var h=o(c);if(h===Mr)return!1}return f},set(u,l,c,f){var h=t.get(l),m=l in u;if(n&&l==="length")for(var g=c;g<h.v;g+=1){var b=t.get(g+"");b!==void 0?w(b,Mr):g in u&&(b=i(()=>ae(Mr)),t.set(g+"",b))}if(h===void 0)(!m||Ls(u,l)?.writable)&&(h=i(()=>ae(void 0)),w(h,ot(c)),t.set(l,h));else{m=h.v!==Mr;var y=i(()=>ot(c));w(h,y)}var x=Reflect.getOwnPropertyDescriptor(u,l);if(x?.set&&x.set.call(f,c),!m){if(n&&typeof l=="string"){var k=t.get("length"),S=Number(l);Number.isInteger(S)&&S>=k.v&&w(k,S+1)}Mn(a)}return!0},ownKeys(u){o(a);var l=Reflect.ownKeys(u).filter(h=>{var m=t.get(h);return m===void 0||m.v!==Mr});for(var[c,f]of t)f.v!==Mr&&!(c in u)&&l.push(c);return l},setPrototypeOf(){kw()}})}function gv(r){try{if(r!==null&&typeof r=="object"&&Pa in r)return r[Pa]}catch{}return r}function _b(r,e){return Object.is(gv(r),gv(e))}var bv,yb,xb,wb;function i4(){if(bv===void 0){bv=window,yb=/Firefox/.test(navigator.userAgent);var r=Element.prototype,e=Node.prototype,t=Text.prototype;xb=Ls(e,"firstChild").get,wb=Ls(e,"nextSibling").get,pv(r)&&(r.__click=void 0,r.__className=void 0,r.__attributes=null,r.__style=void 0,r.__e=void 0),pv(t)&&(t.__t=void 0)}}function vs(r=""){return document.createTextNode(r)}function Ta(r){return xb.call(r)}function Zu(r){return wb.call(r)}function d(r,e){return Ta(r)}function z(r,e=!1){{var t=Ta(r);return t instanceof Comment&&t.data===""?Zu(t):t}}function p(r,e=1,t=!1){let n=r;for(;e--;)n=Zu(n);return n}function o4(r){r.textContent=""}function xd(){return!1}function u4(r,e){if(e){const t=document.body;r.autofocus=!0,pa(()=>{document.activeElement===t&&r.focus()})}}let _v=!1;function l4(){_v||(_v=!0,document.addEventListener("reset",r=>{Promise.resolve().then(()=>{if(!r.defaultPrevented)for(const e of r.target.elements)e.__on_r?.()})},{capture:!0}))}function Io(r){var e=Ht,t=Bt;yn(null),La(null);try{return r()}finally{yn(e),La(t)}}function wd(r,e,t,n=t){r.addEventListener(e,()=>Io(t));const a=r.__on_r;a?r.__on_r=()=>{a(),n(!0)}:r.__on_r=()=>n(!0),l4()}function kb(r){Bt===null&&Ht===null&&_w(),Ht!==null&&(Ht.f&Kn)!==0&&Bt===null&&bw(),Pi&&gw()}function c4(r,e){var t=e.last;t===null?e.last=e.first=r:(t.next=r,r.prev=t,e.last=r)}function ma(r,e,t,n=!0){var a=Bt;a!==null&&(a.f&ca)!==0&&(r|=ca);var s={ctx:xr,deps:null,nodes_start:null,nodes_end:null,f:r|Bn,first:null,fn:e,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(t)try{Su(s),s.f|=vd}catch(l){throw qr(s),l}else e!==null&&wi(s);if(n){var i=s;if(t&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&Ni)===0&&(i=i.first),i!==null&&(i.parent=a,a!==null&&c4(i,a),Ht!==null&&(Ht.f&En)!==0&&(r&Gs)===0)){var u=Ht;(u.effects??=[]).push(i)}}return s}function d4(){return Ht!==null&&!oa}function kd(r){const e=ma(pd,null,!1);return fn(e,tn),e.teardown=r,e}function st(r){kb();var e=Bt.f,t=!Ht&&(e&ps)!==0&&(e&vd)===0;if(t){var n=xr;(n.e??=[]).push(r)}else return Eb(r)}function Eb(r){return ma(fp|rb,r,!1)}function f4(r){return kb(),ma(pd|rb,r,!0)}function h4(r){Nn.ensure();const e=ma(Gs|Ni,r,!0);return()=>{qr(e)}}function p4(r){Nn.ensure();const e=ma(Gs|Ni,r,!0);return(t={})=>new Promise(n=>{t.outro?as(e,()=>{qr(e),n(void 0)}):(qr(e),n(void 0))})}function Yu(r){return ma(fp,r,!1)}function v4(r){return ma(md|Ni,r,!0)}function Xu(r,e=0){return ma(pd|e,r,!0)}function P(r,e=[],t=[]){pb(e,t,n=>{ma(pd,()=>r(...n.map(o)),!0)})}function ms(r,e=0){var t=ma(Qs|e,r,!0);return t}function Wr(r,e=!0){return ma(ps|Ni,r,!0,e)}function Sb(r){var e=r.teardown;if(e!==null){const t=Pi,n=Ht;xv(!0),yn(null);try{e.call(null)}finally{xv(t),yn(n)}}}function Ab(r,e=!1){var t=r.first;for(r.first=r.last=null;t!==null;){const a=t.ac;a!==null&&Io(()=>{a.abort(uu)});var n=t.next;(t.f&Gs)!==0?t.parent=null:qr(t,e),t=n}}function m4(r){for(var e=r.first;e!==null;){var t=e.next;(e.f&ps)===0&&qr(e),e=t}}function qr(r,e=!0){var t=!1;(e||(r.f&pw)!==0)&&r.nodes_start!==null&&r.nodes_end!==null&&(Db(r.nodes_start,r.nodes_end),t=!0),Ab(r,e&&!t),sc(r,0),fn(r,Ri);var n=r.transitions;if(n!==null)for(const s of n)s.stop();Sb(r);var a=r.parent;a!==null&&a.first!==null&&Cb(r),r.next=r.prev=r.teardown=r.ctx=r.deps=r.fn=r.nodes_start=r.nodes_end=r.ac=null}function Db(r,e){for(;r!==null;){var t=r===e?null:Zu(r);r.remove(),r=t}}function Cb(r){var e=r.parent,t=r.prev,n=r.next;t!==null&&(t.next=n),n!==null&&(n.prev=t),e!==null&&(e.first===r&&(e.first=n),e.last===r&&(e.last=t))}function as(r,e){var t=[];mp(r,t,!0),Ib(t,()=>{qr(r),e&&e()})}function Ib(r,e){var t=r.length;if(t>0){var n=()=>--t||e();for(var a of r)a.out(n)}else e()}function mp(r,e,t){if((r.f&ca)===0){if(r.f^=ca,r.transitions!==null)for(const i of r.transitions)(i.is_global||t)&&e.push(i);for(var n=r.first;n!==null;){var a=n.next,s=(n.f&Js)!==0||(n.f&ps)!==0;mp(n,e,s?t:!1),n=a}}}function Ed(r){Tb(r,!0)}function Tb(r,e){if((r.f&ca)!==0){r.f^=ca,(r.f&tn)===0&&(fn(r,Bn),wi(r));for(var t=r.first;t!==null;){var n=t.next,a=(t.f&Js)!==0||(t.f&ps)!==0;Tb(t,a?e:!1),t=n}if(r.transitions!==null)for(const s of r.transitions)(s.is_global||e)&&s.in()}}let io=!1;function yv(r){io=r}let Pi=!1;function xv(r){Pi=r}let Ht=null,oa=!1;function yn(r){Ht=r}let Bt=null;function La(r){Bt=r}let ss=null;function Mb(r){Ht!==null&&(ss===null?ss=[r]:ss.push(r))}let ln=null,In=0,Un=null;function g4(r){Un=r}let Rb=1,Eu=0,da=Eu;function wv(r){da=r}let Is=!1;function Nb(){return++Rb}function Sd(r){var e=r.f;if((e&Bn)!==0)return!0;if((e&Ks)!==0){var t=r.deps,n=(e&Kn)!==0;if(t!==null){var a,s,i=(e&ac)!==0,u=n&&Bt!==null&&!Is,l=t.length;if((i||u)&&(Bt===null||(Bt.f&Ri)===0)){var c=r,f=c.parent;for(a=0;a<l;a++)s=t[a],(i||!s?.reactions?.includes(c))&&(s.reactions??=[]).push(c);i&&(c.f^=ac),u&&f!==null&&(f.f&Kn)===0&&(c.f^=Kn)}for(a=0;a<l;a++)if(s=t[a],Sd(s)&&gb(s),s.wv>r.wv)return!0}(!n||Bt!==null&&!Is)&&fn(r,tn)}return!1}function Pb(r,e,t=!0){var n=r.reactions;if(n!==null&&!ss?.includes(r))for(var a=0;a<n.length;a++){var s=n[a];(s.f&En)!==0?Pb(s,e,!1):e===s&&(t?fn(s,Bn):(s.f&tn)!==0&&fn(s,Ks),wi(s))}}function $b(r){var e=ln,t=In,n=Un,a=Ht,s=Is,i=ss,u=xr,l=oa,c=da,f=r.f;ln=null,In=0,Un=null,Is=(f&Kn)!==0&&(oa||!io||Ht===null),Ht=(f&(ps|Gs))===0?r:null,ss=null,fo(r.ctx),oa=!1,da=++Eu,r.ac!==null&&(Io(()=>{r.ac.abort(uu)}),r.ac=null);try{r.f|=ph;var h=r.fn,m=h(),g=r.deps;if(ln!==null){var b;if(sc(r,In),g!==null&&In>0)for(g.length=In+ln.length,b=0;b<ln.length;b++)g[In+b]=ln[b];else r.deps=g=ln;if(!Is||(f&En)!==0&&r.reactions!==null)for(b=In;b<g.length;b++)(g[b].reactions??=[]).push(r)}else g!==null&&In<g.length&&(sc(r,In),g.length=In);if(Co()&&Un!==null&&!oa&&g!==null&&(r.f&(En|Ks|Bn))===0)for(b=0;b<Un.length;b++)Pb(Un[b],r);return a!==null&&a!==r&&(Eu++,Un!==null&&(n===null?n=Un:n.push(...Un))),(r.f&hi)!==0&&(r.f^=hi),m}catch(y){return cb(y)}finally{r.f^=ph,ln=e,In=t,Un=n,Ht=a,Is=s,ss=i,fo(u),oa=l,da=c}}function b4(r,e){let t=e.reactions;if(t!==null){var n=cw.call(t,r);if(n!==-1){var a=t.length-1;a===0?t=e.reactions=null:(t[n]=t[a],t.pop())}}t===null&&(e.f&En)!==0&&(ln===null||!ln.includes(e))&&(fn(e,Ks),(e.f&(Kn|ac))===0&&(e.f^=ac),mb(e),sc(e,0))}function sc(r,e){var t=r.deps;if(t!==null)for(var n=e;n<t.length;n++)b4(r,t[n])}function Su(r){var e=r.f;if((e&Ri)===0){fn(r,tn);var t=Bt,n=io;Bt=r,io=!0;try{(e&Qs)!==0?m4(r):Ab(r),Sb(r);var a=$b(r);r.teardown=typeof a=="function"?a:null,r.wv=Rb;var s;Yg&&Vw&&(r.f&Bn)!==0&&r.deps}finally{io=n,Bt=t}}}async function Ad(){await Promise.resolve(),Jw()}function o(r){var e=r.f,t=(e&En)!==0;if(Ht!==null&&!oa){var n=Bt!==null&&(Bt.f&Ri)!==0;if(!n&&!ss?.includes(r)){var a=Ht.deps;if((Ht.f&ph)!==0)r.rv<Eu&&(r.rv=Eu,ln===null&&a!==null&&a[In]===r?In++:ln===null?ln=[r]:(!Is||!ln.includes(r))&&ln.push(r));else{(Ht.deps??=[]).push(r);var s=r.reactions;s===null?r.reactions=[Ht]:s.includes(Ht)||s.push(Ht)}}}else if(t&&r.deps===null&&r.effects===null){var i=r,u=i.parent;u!==null&&(u.f&Kn)===0&&(i.f^=Kn)}if(Pi){if(Os.has(r))return Os.get(r);if(t){i=r;var l=i.v;return((i.f&tn)===0&&i.reactions!==null||Lb(i))&&(l=vp(i)),Os.set(i,l),l}}else t&&(i=r,Sd(i)&&gb(i));if((r.f&hi)!==0)throw r.v;return r.v}function Lb(r){if(r.v===Mr)return!0;if(r.deps===null)return!1;for(const e of r.deps)if(Os.has(e)||(e.f&En)!==0&&Lb(e))return!0;return!1}function ta(r){var e=oa;try{return oa=!0,r()}finally{oa=e}}const _4=-7169;function fn(r,e){r.f=r.f&_4|e}function y4(r){if(!(typeof r!="object"||!r||r instanceof EventTarget)){if(Pa in r)gh(r);else if(!Array.isArray(r))for(let e in r){const t=r[e];typeof t=="object"&&t&&Pa in t&&gh(t)}}}function gh(r,e=new Set){if(typeof r=="object"&&r!==null&&!(r instanceof EventTarget)&&!e.has(r)){e.add(r),r instanceof Date&&r.getTime();for(let n in r)try{gh(r[n],e)}catch{}const t=hd(r);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const n=Xg(t);for(let a in n){const s=n[a].get;if(s)try{s.call(r)}catch{}}}}}function x4(r){return r.endsWith("capture")&&r!=="gotpointercapture"&&r!=="lostpointercapture"}const w4=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function k4(r){return w4.includes(r)}const E4={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function S4(r){return r=r.toLowerCase(),E4[r]??r}const A4=["touchstart","touchmove"];function D4(r){return A4.includes(r)}const Ob=new Set,bh=new Set;function gp(r,e,t,n={}){function a(s){if(n.capture||Xo.call(e,s),!s.cancelBubble)return Io(()=>t?.call(this,s))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?pa(()=>{e.addEventListener(r,a,n)}):e.addEventListener(r,a,n),a}function ic(r,e,t,n={}){var a=gp(e,r,t,n);return()=>{r.removeEventListener(e,a,n)}}function _t(r,e,t,n,a){var s={capture:n,passive:a},i=gp(r,e,t,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&kd(()=>{e.removeEventListener(r,i,s)})}function tt(r){for(var e=0;e<r.length;e++)Ob.add(r[e]);for(var t of bh)t(r)}let kv=null;function Xo(r){var e=this,t=e.ownerDocument,n=r.type,a=r.composedPath?.()||[],s=a[0]||r.target;kv=r;var i=0,u=kv===r&&r.__root;if(u){var l=a.indexOf(u);if(l!==-1&&(e===document||e===window)){r.__root=e;return}var c=a.indexOf(e);if(c===-1)return;l<=c&&(i=l)}if(s=a[i]||r.target,s!==e){fh(r,"currentTarget",{configurable:!0,get(){return s||t}});var f=Ht,h=Bt;yn(null),La(null);try{for(var m,g=[];s!==null;){var b=s.assignedSlot||s.parentNode||s.host||null;try{var y=s["__"+n];if(y!=null&&(!s.disabled||r.target===s))if(Ku(y)){var[x,...k]=y;x.apply(s,[r,...k])}else y.call(s,r)}catch(S){m?g.push(S):m=S}if(r.cancelBubble||b===e||b===null)break;s=b}if(m){for(let S of g)queueMicrotask(()=>{throw S});throw m}}finally{r.__root=e,delete r.currentTarget,yn(f),La(h)}}}function bp(r){var e=document.createElement("template");return e.innerHTML=r.replaceAll("<!>","<!---->"),e.content}function ki(r,e){var t=Bt;t.nodes_start===null&&(t.nodes_start=r,t.nodes_end=e)}function _(r,e){var t=(e&Lw)!==0,n=(e&Ow)!==0,a,s=!r.startsWith("<!>");return()=>{a===void 0&&(a=bp(s?r:"<!>"+r),t||(a=Ta(a)));var i=n||yb?document.importNode(a,!0):a.cloneNode(!0);if(t){var u=Ta(i),l=i.lastChild;ki(u,l)}else ki(i,i);return i}}function C4(r,e,t="svg"){var n=!r.startsWith("<!>"),a=`<${t}>${n?r:"<!>"+r}</${t}>`,s;return()=>{if(!s){var i=bp(a),u=Ta(i);s=Ta(u)}var l=s.cloneNode(!0);return ki(l,l),l}}function Dd(r,e){return C4(r,e,"svg")}function Pt(r=""){{var e=vs(r+"");return ki(e,e),e}}function ce(){var r=document.createDocumentFragment(),e=document.createComment(""),t=vs();return r.append(e,t),ki(e,t),r}function v(r,e){r!==null&&r.before(e)}let oc=!0;function Ev(r){oc=r}function O(r,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(r.__t??=r.nodeValue)&&(r.__t=t,r.nodeValue=t+"")}function I4(r,e){return T4(r,e)}const Gi=new Map;function T4(r,{target:e,anchor:t,props:n={},events:a,context:s,intro:i=!0}){i4();var u=new Set,l=h=>{for(var m=0;m<h.length;m++){var g=h[m];if(!u.has(g)){u.add(g);var b=D4(g);e.addEventListener(g,Xo,{passive:b});var y=Gi.get(g);y===void 0?(document.addEventListener(g,Xo,{passive:b}),Gi.set(g,1)):Gi.set(g,y+1)}}};l(dp(Ob)),bh.add(l);var c=void 0,f=p4(()=>{var h=t??e.appendChild(vs());return Xw(h,{pending:()=>{}},m=>{if(s){pe({});var g=xr;g.c=s}a&&(n.$$events=a),oc=i,c=r(m,n)||{},oc=!0,s&&ve()}),()=>{for(var m of u){e.removeEventListener(m,Xo);var g=Gi.get(m);--g===0?(document.removeEventListener(m,Xo),Gi.delete(m)):Gi.set(m,g)}bh.delete(l),h!==t&&h.parentNode?.removeChild(h)}});return M4.set(c,f),c}let M4=new WeakMap;function D(r,e,t=!1){var n=r,a=null,s=null,i=Mr,u=t?Js:0,l=!1;const c=(g,b=!0)=>{l=!0,m(b,g)};var f=null;function h(){f!==null&&(f.lastChild.remove(),n.before(f),f=null);var g=i?a:s,b=i?s:a;g&&Ed(g),b&&as(b,()=>{i?s=null:a=null})}const m=(g,b)=>{if(i!==(i=g)){var y=xd(),x=n;if(y&&(f=document.createDocumentFragment(),f.append(x=vs())),i?a??=b&&Wr(()=>b(x)):s??=b&&Wr(()=>b(x)),y){var k=lr,S=i?a:s,A=i?s:a;S&&k.skipped_effects.delete(S),A&&k.skipped_effects.add(A),k.add_callback(h)}else h()}};ms(()=>{l=!1,e(c),l||m(null,null)},u)}function Bb(r,e,t){var n=r,a=Mr,s,i,u=null,l=Co()?Uw:ob;function c(){s&&as(s),u!==null&&(u.lastChild.remove(),n.before(u),u=null),s=i}ms(()=>{if(l(a,a=e())){var f=n,h=xd();h&&(u=document.createDocumentFragment(),u.append(f=vs())),i=Wr(()=>t(f)),h?lr.add_callback(c):c()}})}let pi=null;function Sv(r){pi=r}function bt(r,e){return e}function R4(r,e,t){for(var n=r.items,a=[],s=e.length,i=0;i<s;i++)mp(e[i].e,a,!0);var u=s>0&&a.length===0&&t!==null;if(u){var l=t.parentNode;o4(l),l.append(t),n.clear(),xa(r,e[0].prev,e[s-1].next)}Ib(a,()=>{for(var c=0;c<s;c++){var f=e[c];u||(n.delete(f.k),xa(r,f.prev,f.next)),qr(f.e,!u)}})}function ze(r,e,t,n,a,s=null){var i=r,u={flags:e,items:new Map,first:null},l=(e&sb)!==0;if(l){var c=r;i=c.appendChild(vs())}var f=null,h=!1,m=new Map,g=yd(()=>{var k=t();return Ku(k)?k:k==null?[]:dp(k)}),b,y;function x(){N4(y,b,u,m,i,a,e,n,t),s!==null&&(b.length===0?f?Ed(f):f=Wr(()=>s(i)):f!==null&&as(f,()=>{f=null}))}ms(()=>{y??=Bt,b=o(g);var k=b.length;if(!(h&&k===0)){h=k===0;var S,A,C,E;if(xd()){var I=new Set,T=lr;for(A=0;A<k;A+=1){C=b[A],E=n(C,A);var j=u.items.get(E)??m.get(E);j?(e&(gd|bd))!==0&&Fb(j,C,A,e):(S=zb(null,u,null,null,C,E,A,a,e,t,!0),m.set(E,S)),I.add(E)}for(const[U,G]of u.items)I.has(U)||T.skipped_effects.add(G.e);T.add_callback(x)}else x();o(g)}})}function N4(r,e,t,n,a,s,i,u,l){var c=(i&Aw)!==0,f=(i&(gd|bd))!==0,h=e.length,m=t.items,g=t.first,b=g,y,x=null,k,S=[],A=[],C,E,I,T;if(c)for(T=0;T<h;T+=1)C=e[T],E=u(C,T),I=m.get(E),I!==void 0&&(I.a?.measure(),(k??=new Set).add(I));for(T=0;T<h;T+=1){if(C=e[T],E=u(C,T),I=m.get(E),I===void 0){var j=n.get(E);if(j!==void 0){n.delete(E),m.set(E,j);var U=x?x.next:b;xa(t,x,j),xa(t,j,U),pf(j,U,a),x=j}else{var G=b?b.e.nodes_start:a;x=zb(G,t,x,x===null?t.first:x.next,C,E,T,s,i,l)}m.set(E,x),S=[],A=[],b=x.next;continue}if(f&&Fb(I,C,T,i),(I.e.f&ca)!==0&&(Ed(I.e),c&&(I.a?.unfix(),(k??=new Set).delete(I))),I!==b){if(y!==void 0&&y.has(I)){if(S.length<A.length){var Q=A[0],ee;x=Q.prev;var oe=S[0],H=S[S.length-1];for(ee=0;ee<S.length;ee+=1)pf(S[ee],Q,a);for(ee=0;ee<A.length;ee+=1)y.delete(A[ee]);xa(t,oe.prev,H.next),xa(t,x,oe),xa(t,H,Q),b=Q,x=H,T-=1,S=[],A=[]}else y.delete(I),pf(I,b,a),xa(t,I.prev,I.next),xa(t,I,x===null?t.first:x.next),xa(t,x,I),x=I;continue}for(S=[],A=[];b!==null&&b.k!==E;)(b.e.f&ca)===0&&(y??=new Set).add(b),A.push(b),b=b.next;if(b===null)continue;I=b}S.push(I),x=I,b=I.next}if(b!==null||y!==void 0){for(var J=y===void 0?[]:dp(y);b!==null;)(b.e.f&ca)===0&&J.push(b),b=b.next;var K=J.length;if(K>0){var te=(i&sb)!==0&&h===0?a:null;if(c){for(T=0;T<K;T+=1)J[T].a?.measure();for(T=0;T<K;T+=1)J[T].a?.fix()}R4(t,J,te)}}c&&pa(()=>{if(k!==void 0)for(I of k)I.a?.apply()}),r.first=t.first&&t.first.e,r.last=x&&x.e;for(var Z of n.values())qr(Z.e);n.clear()}function Fb(r,e,t,n){(n&gd)!==0&&po(r.v,e),(n&bd)!==0?po(r.i,t):r.i=t}function zb(r,e,t,n,a,s,i,u,l,c,f){var h=pi,m=(l&gd)!==0,g=(l&Dw)===0,b=m?g?s4(a,!1,!1):ds(a):a,y=(l&bd)===0?i:ds(i),x={i:y,v:b,k:s,a:null,e:null,prev:t,next:n};pi=x;try{if(r===null){var k=document.createDocumentFragment();k.append(r=vs())}return x.e=Wr(()=>u(r,b,y,c),Hw),x.e.prev=t&&t.e,x.e.next=n&&n.e,t===null?f||(e.first=x):(t.next=x,t.e.next=x.e),n!==null&&(n.prev=x,n.e.prev=x.e),x}finally{pi=h}}function pf(r,e,t){for(var n=r.next?r.next.e.nodes_start:t,a=e?e.e.nodes_start:t,s=r.e.nodes_start;s!==null&&s!==n;){var i=Zu(s);a.before(s),s=i}}function xa(r,e,t){e===null?r.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function P4(r,e,t=!1,n=!1,a=!1){var s=r,i="";P(()=>{var u=Bt;if(i!==(i=e()??"")&&(u.nodes_start!==null&&(Db(u.nodes_start,u.nodes_end),u.nodes_start=u.nodes_end=null),i!=="")){var l=i+"";t?l=`<svg>${l}</svg>`:n&&(l=`<math>${l}</math>`);var c=bp(l);if((t||n)&&(c=Ta(c)),ki(Ta(c),c.lastChild),t||n)for(;Ta(c);)s.before(Ta(c));else s.before(c)}})}function ge(r,e,...t){var n=r,a=me,s;ms(()=>{a!==(a=e())&&(s&&(qr(s),s=null),s=Wr(()=>a(n,...t)))},Js)}function qt(r,e,t){var n=r,a,s,i=null,u=null;function l(){s&&(as(s),s=null),i&&(i.lastChild.remove(),n.before(i),i=null),s=u,u=null}ms(()=>{if(a!==(a=e())){var c=xd();if(a){var f=n;c&&(i=document.createDocumentFragment(),i.append(f=vs()),s&&lr.skipped_effects.add(s)),u=Wr(()=>t(f,a))}c?lr.add_callback(l):l()}},Js)}function $4(r,e,t,n,a,s){var i,u,l=null,c=r,f,h=pi;ms(()=>{const m=e()||null;var g=Fw;if(m!==i){var b=pi;Sv(h),f&&(m===null?as(f,()=>{f=null,u=null}):m===u?Ed(f):(qr(f),Ev(!1))),m&&m!==u&&(f=Wr(()=>{if(l=document.createElementNS(g,m),ki(l,l),n){var y=l.appendChild(vs());n(l,y)}Bt.nodes_end=l,c.before(l)})),i=m,i&&(u=i),Ev(!0),Sv(b)}},Js)}function _p(r,e){var t=void 0,n;ms(()=>{t!==(t=e())&&(n&&(qr(n),n=null),t&&(n=Wr(()=>{Yu(()=>t(r))})))})}function qb(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(t=qb(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function L4(){for(var r,e,t=0,n="",a=arguments.length;t<a;t++)(r=arguments[t])&&(e=qb(r))&&(n&&(n+=" "),n+=e);return n}function gn(r){return typeof r=="object"?L4(r):r??""}const Av=[...` 	
\r\fÂ \v\uFEFF`];function O4(r,e,t){var n=r==null?"":""+r;if(e&&(n=n?n+" "+e:e),t){for(var a in t)if(t[a])n=n?n+" "+a:a;else if(n.length)for(var s=a.length,i=0;(i=n.indexOf(a,i))>=0;){var u=i+s;(i===0||Av.includes(n[i-1]))&&(u===n.length||Av.includes(n[u]))?n=(i===0?"":n.substring(0,i))+n.substring(u+1):i=u}}return n===""?null:n}function Dv(r,e=!1){var t=e?" !important;":";",n="";for(var a in r){var s=r[a];s!=null&&s!==""&&(n+=" "+a+": "+s+t)}return n}function vf(r){return r[0]!=="-"||r[1]!=="-"?r.toLowerCase():r}function B4(r,e){if(e){var t="",n,a;if(Array.isArray(e)?(n=e[0],a=e[1]):n=e,r){r=String(r).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var s=!1,i=0,u=!1,l=[];n&&l.push(...Object.keys(n).map(vf)),a&&l.push(...Object.keys(a).map(vf));var c=0,f=-1;const y=r.length;for(var h=0;h<y;h++){var m=r[h];if(u?m==="/"&&r[h-1]==="*"&&(u=!1):s?s===m&&(s=!1):m==="/"&&r[h+1]==="*"?u=!0:m==='"'||m==="'"?s=m:m==="("?i++:m===")"&&i--,!u&&s===!1&&i===0){if(m===":"&&f===-1)f=h;else if(m===";"||h===y-1){if(f!==-1){var g=vf(r.substring(c,f).trim());if(!l.includes(g)){m!==";"&&h++;var b=r.substring(c,h).trim();t+=" "+b+";"}}c=h+1,f=-1}}}}return n&&(t+=Dv(n)),a&&(t+=Dv(a,!0)),t=t.trim(),t===""?null:t}return r==null?null:String(r)}function _e(r,e,t,n,a,s){var i=r.__className;if(i!==t||i===void 0){var u=O4(t,n,s);u==null?r.removeAttribute("class"):e?r.className=u:r.setAttribute("class",u),r.__className=t}else if(s&&a!==s)for(var l in s){var c=!!s[l];(a==null||c!==!!a[l])&&r.classList.toggle(l,c)}return s}function mf(r,e={},t,n){for(var a in t){var s=t[a];e[a]!==s&&(t[a]==null?r.style.removeProperty(a):r.style.setProperty(a,s,n))}}function _n(r,e,t,n){var a=r.__style;if(a!==e){var s=B4(e,n);s==null?r.removeAttribute("style"):r.style.cssText=s,r.__style=e}else n&&(Array.isArray(n)?(mf(r,t?.[0],n[0]),mf(r,t?.[1],n[1],"important")):mf(r,t,n));return n}function uc(r,e,t=!1){if(r.multiple){if(e==null)return;if(!Ku(e))return qw();for(var n of r.options)n.selected=e.includes(cu(n));return}for(n of r.options){var a=cu(n);if(_b(a,e)){n.selected=!0;return}}(!t||e!==void 0)&&(r.selectedIndex=-1)}function jb(r){var e=new MutationObserver(()=>{uc(r,r.__value)});e.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),kd(()=>{e.disconnect()})}function $n(r,e,t=e){var n=!0;wd(r,"change",a=>{var s=a?"[selected]":":checked",i;if(r.multiple)i=[].map.call(r.querySelectorAll(s),cu);else{var u=r.querySelector(s)??r.querySelector("option:not([disabled])");i=u&&cu(u)}t(i)}),Yu(()=>{var a=e();if(uc(r,a,n),n&&a===void 0){var s=r.querySelector(":checked");s!==null&&(a=cu(s),t(a))}r.__value=a,n=!1}),jb(r)}function cu(r){return"__value"in r?r.__value:r.value}const jo=Symbol("class"),Ho=Symbol("style"),Hb=Symbol("is custom element"),Ub=Symbol("is html");function $i(r,e){var t=Cd(r);t.value===(t.value=e??void 0)||r.value===e&&(e!==0||r.nodeName!=="PROGRESS")||(r.value=e??"")}function fa(r,e){var t=Cd(r);t.checked!==(t.checked=e??void 0)&&(r.checked=e)}function F4(r,e){e?r.hasAttribute("selected")||r.setAttribute("selected",""):r.removeAttribute("selected")}function dt(r,e,t,n){var a=Cd(r);a[e]!==(a[e]=t)&&(e==="loading"&&(r[vw]=t),t==null?r.removeAttribute(e):typeof t!="string"&&Vb(r).includes(e)?r[e]=t:r.setAttribute(e,t))}function z4(r,e,t,n,a=!1,s=!1){var i=Cd(r),u=i[Hb],l=!i[Ub],c=e||{},f=r.tagName==="OPTION";for(var h in e)h in t||(t[h]=null);t.class?t.class=gn(t.class):t[jo]&&(t.class=null),t[Ho]&&(t.style??=null);var m=Vb(r);for(const A in t){let C=t[A];if(f&&A==="value"&&C==null){r.value=r.__value="",c[A]=C;continue}if(A==="class"){var g=r.namespaceURI==="http://www.w3.org/1999/xhtml";_e(r,g,C,n,e?.[jo],t[jo]),c[A]=C,c[jo]=t[jo];continue}if(A==="style"){_n(r,C,e?.[Ho],t[Ho]),c[A]=C,c[Ho]=t[Ho];continue}var b=c[A];if(!(C===b&&!(C===void 0&&r.hasAttribute(A)))){c[A]=C;var y=A[0]+A[1];if(y!=="$$")if(y==="on"){const E={},I="$$"+A;let T=A.slice(2);var x=k4(T);if(x4(T)&&(T=T.slice(0,-7),E.capture=!0),!x&&b){if(C!=null)continue;r.removeEventListener(T,c[I],E),c[I]=null}if(C!=null)if(x)r[`__${T}`]=C,tt([T]);else{let j=function(U){c[A].call(this,U)};c[I]=gp(T,r,j,E)}else x&&(r[`__${T}`]=void 0)}else if(A==="style")dt(r,A,C);else if(A==="autofocus")u4(r,!!C);else if(!u&&(A==="__value"||A==="value"&&C!=null))r.value=r.__value=C;else if(A==="selected"&&f)F4(r,C);else{var k=A;l||(k=S4(k));var S=k==="defaultValue"||k==="defaultChecked";if(C==null&&!u&&!S)if(i[A]=null,k==="value"||k==="checked"){let E=r;const I=e===void 0;if(k==="value"){let T=E.defaultValue;E.removeAttribute(k),E.defaultValue=T,E.value=E.__value=I?T:null}else{let T=E.defaultChecked;E.removeAttribute(k),E.defaultChecked=T,E.checked=I?T:!1}}else r.removeAttribute(A);else S||m.includes(k)&&(u||typeof C!="string")?(r[k]=C,k in i&&(i[k]=Mr)):typeof C!="function"&&dt(r,k,C)}}}return c}function ut(r,e,t=[],n=[],a,s=!1,i=!1){pb(t,n,u=>{var l=void 0,c={},f=r.nodeName==="SELECT",h=!1;if(ms(()=>{var g=e(...u.map(o)),b=z4(r,l,g,a,s,i);h&&f&&"value"in g&&uc(r,g.value);for(let x of Object.getOwnPropertySymbols(c))g[x]||qr(c[x]);for(let x of Object.getOwnPropertySymbols(g)){var y=g[x];x.description===zw&&(!l||y!==l[x])&&(c[x]&&qr(c[x]),c[x]=Wr(()=>_p(r,()=>y))),b[x]=y}l=b}),f){var m=r;Yu(()=>{uc(m,l.value,!0),jb(m)})}h=!0})}function Cd(r){return r.__attributes??={[Hb]:r.nodeName.includes("-"),[Ub]:r.namespaceURI===Bw}}var Cv=new Map;function Vb(r){var e=r.getAttribute("is")||r.nodeName,t=Cv.get(e);if(t)return t;Cv.set(e,t=[]);for(var n,a=r,s=Element.prototype;s!==a;){n=Xg(a);for(var i in n)n[i].set&&t.push(i);a=hd(a)}return t}const q4=()=>performance.now(),ts={tick:r=>requestAnimationFrame(r),now:()=>q4(),tasks:new Set};function Wb(){const r=ts.now();ts.tasks.forEach(e=>{e.c(r)||(ts.tasks.delete(e),e.f())}),ts.tasks.size!==0&&ts.tick(Wb)}function j4(r){let e;return ts.tasks.size===0&&ts.tick(Wb),{promise:new Promise(t=>{ts.tasks.add(e={c:r,f:t})}),abort(){ts.tasks.delete(e)}}}function wl(r,e){Io(()=>{r.dispatchEvent(new CustomEvent(e))})}function H4(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const e=r.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function Iv(r){const e={},t=r.split(";");for(const n of t){const[a,s]=n.split(":");if(!a||s===void 0)break;const i=H4(a.trim());e[i]=s.trim()}return e}const U4=r=>r;function yp(r,e,t){var n=pi,a,s,i,u=null;n.a??={element:r,measure(){a=this.element.getBoundingClientRect()},apply(){if(i?.abort(),s=this.element.getBoundingClientRect(),a.left!==s.left||a.right!==s.right||a.top!==s.top||a.bottom!==s.bottom){const l=e()(this.element,{from:a,to:s},t?.());i=lc(this.element,l,void 0,1,()=>{i?.abort(),i=void 0})}},fix(){if(!r.getAnimations().length){var{position:l,width:c,height:f}=getComputedStyle(r);if(l!=="absolute"&&l!=="fixed"){var h=r.style;u={position:h.position,width:h.width,height:h.height,transform:h.transform},h.position="absolute",h.width=c,h.height=f;var m=r.getBoundingClientRect();if(a.left!==m.left||a.top!==m.top){var g=`translate(${a.left-m.left}px, ${a.top-m.top}px)`;h.transform=h.transform?`${h.transform} ${g}`:g}}}},unfix(){if(u){var l=r.style;l.position=u.position,l.width=u.width,l.height=u.height,l.transform=u.transform}}},n.a.element=r}function Li(r,e,t,n){var a=(r&Nw)!==0,s=(r&Pw)!==0,i=a&&s,u=(r&$w)!==0,l=i?"both":a?"in":"out",c,f=e.inert,h=e.style.overflow,m,g;function b(){return Io(()=>c??=t()(e,n?.()??{},{direction:l}))}var y={is_global:u,in(){if(e.inert=f,!a){g?.abort(),g?.reset?.();return}s||m?.abort(),wl(e,"introstart"),m=lc(e,b(),g,1,()=>{wl(e,"introend"),m?.abort(),m=c=void 0,e.style.overflow=h})},out(A){if(!s){A?.(),c=void 0;return}e.inert=!0,wl(e,"outrostart"),g=lc(e,b(),m,0,()=>{wl(e,"outroend"),A?.()})},stop:()=>{m?.abort(),g?.abort()}},x=Bt;if((x.transitions??=[]).push(y),a&&oc){var k=u;if(!k){for(var S=x.parent;S&&(S.f&Js)!==0;)for(;(S=S.parent)&&(S.f&Qs)===0;);k=!S||(S.f&vd)!==0}k&&Yu(()=>{ta(()=>y.in())})}}function lc(r,e,t,n,a){var s=n===1;if(eo(e)){var i,u=!1;return pa(()=>{if(!u){var x=e({direction:s?"in":"out"});i=lc(r,x,t,n,a)}}),{abort:()=>{u=!0,i?.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(t?.deactivate(),!e?.duration)return a(),{abort:me,deactivate:me,reset:me,t:()=>n};const{delay:l=0,css:c,tick:f,easing:h=U4}=e;var m=[];if(s&&t===void 0&&(f&&f(0,1),c)){var g=Iv(c(0,1));m.push(g,g)}var b=()=>1-n,y=r.animate(m,{duration:l,fill:"forwards"});return y.onfinish=()=>{y.cancel();var x=t?.t()??1-n;t?.abort();var k=n-x,S=e.duration*Math.abs(k),A=[];if(S>0){var C=!1;if(c)for(var E=Math.ceil(S/16.666666666666668),I=0;I<=E;I+=1){var T=x+k*h(I/E),j=Iv(c(T,1-T));A.push(j),C||=j.overflow==="hidden"}C&&(r.style.overflow="hidden"),b=()=>{var U=y.currentTime;return x+k*h(U/S)},f&&j4(()=>{if(y.playState!=="running")return!1;var U=b();return f(U,1-U),!0})}y=r.animate(A,{duration:S,fill:"forwards"}),y.onfinish=()=>{b=()=>n,f?.(n,1-n),a()}},{abort:()=>{y&&(y.cancel(),y.effect=null,y.onfinish=me)},deactivate:()=>{a=me},reset:()=>{n===0&&f?.(1,0)},t:()=>b()}}function ft(r,e,t=e){var n=new WeakSet;wd(r,"input",async a=>{var s=a?r.defaultValue:r.value;if(s=bf(r)?_f(s):s,t(s),lr!==null&&n.add(lr),await Ad(),s!==(s=e())){var i=r.selectionStart,u=r.selectionEnd;r.value=s??"",u!==null&&(r.selectionStart=i,r.selectionEnd=Math.min(u,r.value.length))}}),ta(e)==null&&r.value&&(t(bf(r)?_f(r.value):r.value),lr!==null&&n.add(lr)),Xu(()=>{var a=e();if(r===document.activeElement){var s=Kl??lr;if(n.has(s))return}bf(r)&&a===_f(r.value)||r.type==="date"&&!a&&!r.value||a!==r.value&&(r.value=a??"")})}const gf=new Set;function Au(r,e,t,n,a=n){var s=t.getAttribute("type")==="checkbox",i=r;if(e!==null)for(var u of e)i=i[u]??=[];i.push(t),wd(t,"change",()=>{var l=t.__value;s&&(l=V4(i,l,t.checked)),a(l)},()=>a(s?[]:null)),Xu(()=>{var l=n();s?(l=l||[],t.checked=l.includes(t.__value)):t.checked=_b(t.__value,l)}),kd(()=>{var l=i.indexOf(t);l!==-1&&i.splice(l,1)}),gf.has(i)||(gf.add(i),pa(()=>{i.sort((l,c)=>l.compareDocumentPosition(c)===4?-1:1),gf.delete(i)})),pa(()=>{})}function Xr(r,e,t=e){wd(r,"change",n=>{var a=n?r.defaultChecked:r.checked;t(a)}),ta(e)==null&&t(r.checked),Xu(()=>{var n=e();r.checked=!!n})}function V4(r,e,t){for(var n=new Set,a=0;a<r.length;a+=1)r[a].checked&&n.add(r[a].__value);return t||n.delete(e),Array.from(n)}function bf(r){var e=r.type;return e==="number"||e==="range"}function _f(r){return r===""?null:+r}function Tv(r,e){return r===e||r?.[Pa]===e}function xn(r={},e,t,n){return Yu(()=>{var a,s;return Xu(()=>{a=s,s=[],ta(()=>{r!==t(...s)&&(e(r,...s),a&&Tv(t(...a),r)&&e(null,...a))})}),()=>{pa(()=>{s&&Tv(t(...s),r)&&e(null,...s)})}}),r}function W4(r=!1){const e=xr,t=e.l.u;if(!t)return;let n=()=>y4(e.s);if(r){let a=0,s={};const i=Ju(()=>{let u=!1;const l=e.s;for(const c in l)l[c]!==s[c]&&(s[c]=l[c],u=!0);return u&&a++,a});n=()=>o(i)}t.b.length&&f4(()=>{Mv(e,n),hh(t.b)}),st(()=>{const a=ta(()=>t.m.map(fw));return()=>{for(const s of a)typeof s=="function"&&s()}}),t.a.length&&st(()=>{Mv(e,n),hh(t.a)})}function Mv(r,e){if(r.l.s)for(const t of r.l.s)o(t);e()}let kl=!1;function Q4(r){var e=kl;try{return kl=!1,[r(),kl]}finally{kl=e}}const G4={get(r,e){if(!r.exclude.includes(e))return r.props[e]},set(r,e){return!1},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function Fe(r,e,t){return new Proxy({props:r,exclude:e},G4)}const K4={get(r,e){let t=r.props.length;for(;t--;){let n=r.props[t];if(eo(n)&&(n=n()),typeof n=="object"&&n!==null&&e in n)return n[e]}},set(r,e,t){let n=r.props.length;for(;n--;){let a=r.props[n];eo(a)&&(a=a());const s=Ls(a,e);if(s&&s.set)return s.set(t),!0}return!1},getOwnPropertyDescriptor(r,e){let t=r.props.length;for(;t--;){let n=r.props[t];if(eo(n)&&(n=n()),typeof n=="object"&&n!==null&&e in n){const a=Ls(n,e);return a&&!a.configurable&&(a.configurable=!0),a}}},has(r,e){if(e===Pa||e===nb)return!1;for(let t of r.props)if(eo(t)&&(t=t()),t!=null&&e in t)return!0;return!1},ownKeys(r){const e=[];for(let t of r.props)if(eo(t)&&(t=t()),!!t){for(const n in t)e.includes(n)||e.push(n);for(const n of Object.getOwnPropertySymbols(t))e.includes(n)||e.push(n)}return e}};function Ne(...r){return new Proxy({props:r},K4)}function ke(r,e,t,n){var a=!Do||(t&Iw)!==0,s=(t&Mw)!==0,i=(t&Rw)!==0,u=n,l=!0,c=()=>(l&&(l=!1,u=i?ta(n):n),u),f;if(s){var h=Pa in r||nb in r;f=Ls(r,e)?.set??(h&&e in r?A=>r[e]=A:void 0)}var m,g=!1;s?[m,g]=Q4(()=>r[e]):m=r[e],m===void 0&&n!==void 0&&(m=c(),f&&(a&&xw(),f(m)));var b;if(a?b=()=>{var A=r[e];return A===void 0?c():(l=!0,A)}:b=()=>{var A=r[e];return A!==void 0&&(u=void 0),A===void 0?u:A},a&&(t&Tw)===0)return b;if(f){var y=r.$$legacy;return(function(A,C){return arguments.length>0?((!a||!C||y||g)&&f(C?b():A),A):b()})}var x=!1,k=((t&Cw)!==0?Ju:yd)(()=>(x=!1,b()));s&&o(k);var S=Bt;return(function(A,C){if(arguments.length>0){const E=C?o(k):a&&s?ot(A):A;return w(k,E),x=!0,u!==void 0&&(u=E),A}return Pi&&x||(S.f&Ri)!==0?k.v:o(k)})}function vn(r){xr===null&&ab(),Do&&xr.l!==null?J4(xr).m.push(r):st(()=>{const e=ta(r);if(typeof e=="function")return e})}function Ir(r){xr===null&&ab(),vn(()=>()=>ta(r))}function J4(r){var e=r.l;return e.u??={a:[],b:[],m:[]}}const Z4="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Z4);var Y4=["forEach","isDisjointFrom","isSubsetOf","isSupersetOf"],X4=["difference","intersection","symmetricDifference","union"],Rv=!1;class Du extends Set{#e=new Map;#t=ae(0);#r=ae(0);#s=da||-1;constructor(e){if(super(),e){for(var t of e)super.add(t);this.#r.v=super.size}Rv||this.#a()}#n(e){return da===this.#s?ae(e):ds(e)}#a(){Rv=!0;var e=Du.prototype,t=Set.prototype;for(const n of Y4)e[n]=function(...a){return o(this.#t),t[n].apply(this,a)};for(const n of X4)e[n]=function(...a){o(this.#t);var s=t[n].apply(this,a);return new Du(s)}}has(e){var t=super.has(e),n=this.#e,a=n.get(e);if(a===void 0){if(!t)return o(this.#t),!1;a=this.#n(!0),n.set(e,a)}return o(a),t}add(e){return super.has(e)||(super.add(e),w(this.#r,super.size),Mn(this.#t)),this}delete(e){var t=super.delete(e),n=this.#e,a=n.get(e);return a!==void 0&&(n.delete(e),w(a,!1)),t&&(w(this.#r,super.size),Mn(this.#t)),t}clear(){if(super.size!==0){super.clear();var e=this.#e;for(var t of e.values())w(t,!1);e.clear(),w(this.#r,0),Mn(this.#t)}}keys(){return this.values()}values(){return o(this.#t),super.values()}entries(){return o(this.#t),super.entries()}[Symbol.iterator](){return this.keys()}get size(){return o(this.#r)}}class Kr extends Map{#e=new Map;#t=ae(0);#r=ae(0);#s=da||-1;constructor(e){if(super(),e){for(var[t,n]of e)super.set(t,n);this.#r.v=super.size}}#n(e){return da===this.#s?ae(e):ds(e)}has(e){var t=this.#e,n=t.get(e);if(n===void 0){var a=super.get(e);if(a!==void 0)n=this.#n(0),t.set(e,n);else return o(this.#t),!1}return o(n),!0}forEach(e,t){this.#a(),super.forEach(e,t)}get(e){var t=this.#e,n=t.get(e);if(n===void 0){var a=super.get(e);if(a!==void 0)n=this.#n(0),t.set(e,n);else{o(this.#t);return}}return o(n),super.get(e)}set(e,t){var n=this.#e,a=n.get(e),s=super.get(e),i=super.set(e,t),u=this.#t;if(a===void 0)a=this.#n(0),n.set(e,a),w(this.#r,super.size),Mn(u);else if(s!==t){Mn(a);var l=u.reactions===null?null:new Set(u.reactions),c=l===null||!a.reactions?.every(f=>l.has(f));c&&Mn(u)}return i}delete(e){var t=this.#e,n=t.get(e),a=super.delete(e);return n!==void 0&&(t.delete(e),w(this.#r,super.size),w(n,-1),Mn(this.#t)),a}clear(){if(super.size!==0){super.clear();var e=this.#e;w(this.#r,0);for(var t of e.values())w(t,-1);Mn(this.#t),e.clear()}}#a(){o(this.#t);var e=this.#e;if(this.#r.v!==e.size){for(var t of super.keys())if(!e.has(t)){var n=this.#n(0);e.set(t,n)}}for([,n]of this.#e)o(n)}keys(){return o(this.#t),super.keys()}values(){return this.#a(),super.values()}entries(){return this.#a(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return o(this.#r),super.size}}class Qb{#e;#t;constructor(e,t){this.#e=e,this.#t=pp(t)}get current(){return this.#t(),this.#e()}}const ek=/\(.+\)/,tk=new Set(["all","print","screen","and","or","not","only"]);class Nv extends Qb{constructor(e,t){let n=ek.test(e)||e.split(/[\s,]+/).some(s=>tk.has(s.trim()))?e:`(${e})`;const a=window.matchMedia(n);super(()=>a.matches,s=>ic(a,"change",s))}}const rk=typeof window<"u"?window:void 0;function nk(r){let e=r.activeElement;for(;e?.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}class ak{#e;#t;constructor(e={}){const{window:t=rk,document:n=t?.document}=e;t!==void 0&&(this.#e=n,this.#t=pp(a=>{const s=ic(t,"focusin",a),i=ic(t,"focusout",a);return()=>{s(),i()}}))}get current(){return this.#t?.(),this.#e?nk(this.#e):null}}new ak;function sk(r){return typeof r=="function"}function ik(r,e){if(sk(r)){const n=r();return n===void 0?e:n}return r===void 0?e:r}function ok(r,e){let t=ae(null);const n=V(()=>ik(e,250));function a(...s){if(o(t))o(t).timeout&&clearTimeout(o(t).timeout);else{let i,u;const l=new Promise((c,f)=>{i=c,u=f});w(t,{timeout:null,runner:null,promise:l,resolve:i,reject:u},!0)}return o(t).runner=async()=>{if(!o(t))return;const i=o(t);w(t,null);try{i.resolve(await r.apply(this,s))}catch(u){i.reject(u)}},o(t).timeout=setTimeout(o(t).runner,o(n)),o(t).promise}return a.cancel=async()=>{(!o(t)||o(t).timeout===null)&&(await new Promise(s=>setTimeout(s,0)),!o(t)||o(t).timeout===null)||(clearTimeout(o(t).timeout),o(t).reject("Cancelled"),w(t,null))},a.runScheduledNow=async()=>{(!o(t)||!o(t).timeout)&&(await new Promise(s=>setTimeout(s,0)),!o(t)||!o(t).timeout)||(clearTimeout(o(t).timeout),o(t).timeout=null,await o(t).runner?.())},Object.defineProperty(a,"pending",{enumerable:!0,get(){return!!o(t)?.timeout}}),a}function xp(r,e){switch(e){case"kg":case"l.":return Math.round(r*100)/100;case"gr.":case"ml":return Math.round(r);default:return Math.round(r*10)/10}}function Jn(r){return r?.length?r.map(e=>la(e.q,e.u)).join(" et "):"-"}function vi(r,e){const t=typeof r=="number"?r:parseFloat(r);if(isNaN(t))return{value:0,unit:e};let n=e,a=t;return(e==="gr."||e==="ml")&&t>=1e3?(a=t/1e3,n=e==="gr."?"kg":"l."):(e==="kg"||e==="l.")&&t<1&&t>0&&(a=t*1e3,n=e==="kg"?"gr.":"ml"),{value:xp(a,n),unit:n}}function la(r,e){const{value:t,unit:n}=vi(r,e);let a;return n==="kg"||n==="l."?a=t.toFixed(2).replace(/\.?0+$/,""):a=t.toString(),`${a} ${n}`}function Pv(r,e,t){if(e==="au goÃ»t")return{quantity:r,unit:e,formatted:`${r} ${e}`,formattedNumber:`${r}`};const n=r*t,{q:a,u:s}=wp(n,e),i=xp(a,s);let u=`${i}`;return(s==="kg"||s==="l.")&&(u=i.toFixed(2).replace(/\.?0+$/,"")),{quantity:i,unit:s,formatted:`${u} ${s}`,formattedNumber:u}}function wp(r,e){const t=e.toLowerCase().trim();return(t==="gr."||t==="ml")&&r>=1e3?{q:r/1e3,u:t==="gr."?"kg":"l."}:(t==="kg"||t==="l.")&&r<1&&r>0?{q:r*1e3,u:t==="kg"?"gr.":"ml"}:{q:r,u:e}}function _h(r){if(!r?.length)return[];const e=new Map;return r.forEach(({q:t,u:n})=>{if(typeof t=="number"&&!isNaN(t)){const a=e.get(n)||0;e.set(n,a+t)}}),Array.from(e.entries()).map(([t,n])=>({q:n,u:t}))}function uk(r,e){const t=new Map,n=new Map;r.forEach(({q:i,u})=>{t.set(u,(t.get(u)||0)+i)}),e.forEach(({q:i,u})=>{n.set(u,(n.get(u)||0)+i)});const a=[],s=new Set([...t.keys(),...n.keys()]);for(const i of s){const u=t.get(i)||0,l=n.get(i)||0,c=u-l;Math.abs(c)>.001&&a.push({q:c,u:i})}return a}function Ts(r){if(!r?.trim())return null;try{return JSON.parse(r)}catch(e){return console.warn("[ProductsStore] Erreur parsing JSON:",e),null}}function kp(r){return r?.length?r.filter(e=>e.quantity!=null&&e.unit).map(e=>({q:typeof e.quantity=="number"?e.quantity:parseFloat(e.quantity),u:e.unit})).filter(e=>!isNaN(e.q)):[]}function Ep(r){if(!r?.length)return[];const e=new Map;return r.forEach(t=>{if(!t.q||!t.u||typeof t.q!="number"||isNaN(t.q))return;const n=e.get(t.u)||0;e.set(t.u,n+t.q)}),Array.from(e.entries()).map(([t,n])=>({q:n,u:t}))}function Id(r,e){if(!r?.length)return{numeric:[],display:"â Complet"};if(!e?.length){const u=r.map(l=>la(l.q,l.u)).join(" et ");return{numeric:r,display:u}}const t=new Map,n=new Map;r.forEach(u=>{const l=parseFloat(u.q);isNaN(l)||t.set(u.u,(t.get(u.u)||0)+l)}),e.forEach(u=>{n.set(u.u,(n.get(u.u)||0)+u.q)});const a=[],s=[];t.forEach((u,l)=>{const c=n.get(l)||0,f=u-c;f>0&&(a.push({q:f,u:l}),s.push(la(f,l)))});const i=s.length>0?s.join(" et "):"â Complet";return{numeric:a,display:i}}function lk(r){return r?Object.values(r).some(e=>e.recipes?.some(t=>t.q!==void 0||t.u!==void 0)):!1}function ck(r){if(!r)return[];const e=[];return Object.entries(r).forEach(([t,n])=>{n.recipes?.forEach(a=>{e.push({...a,date:t,dateTimeService:t})})}),e}function dk(r){if(!r?.length)return"ÃquilibrÃ©";const e=r.filter(n=>n.q>0),t=r.filter(n=>n.q<0);if(e.length>0&&t.length>0){const n=e.map(s=>la(s.q,s.u)).join(" et "),a=t.map(s=>la(Math.abs(s.q),s.u)).join(" et ");return`${n} disponibles, ${a} manquant${t.length>1?"s":""}`}else return e.length>0?e.map(n=>"+"+la(n.q,n.u)).join(" et ")+" disponibles":t.length>0?t.map(n=>la(Math.abs(n.q),n.u)).join(" et ")+` manquant${t.length>1?"s":""}`:"ÃquilibrÃ©"}function fk(r,e){if(e.searchQuery.trim()){const n=e.searchQuery.toLowerCase();if(!r.productName.toLowerCase().includes(n))return!1}if(e.selectedStores.length>0&&(!r.storeInfo?.storeName||!e.selectedStores.includes(r.storeInfo.storeName))||e.selectedWho.length>0&&(!r.who||!r.who.some(n=>e.selectedWho.includes(n)))||e.selectedProductTypes.length>0&&(!r.productType||!e.selectedProductTypes.includes(r.productType)))return!1;const t=e.temperatureFilter;if(t&&t!=="all")switch(t){case"frais":if(!r.pF)return!1;break;case"not-frais":if(r.pF)return!1;break;case"surgele":if(!r.pS)return!1;break;case"not-surgele":if(r.pS)return!1;break}return!0}function Gb(r){return r.toString().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function hk(r,e,t=.01){if(!r?.length&&!e?.length)return!0;if(!r?.length||!e?.length)return!1;const n=new Map(r.map(u=>[u.u,u.q])),a=new Map(e.map(u=>[u.u,u.q])),s=Array.from(n.keys()).sort(),i=Array.from(a.keys()).sort();if(s.length!==i.length||!s.every((u,l)=>u===i[l]))return!1;for(const[u,l]of n){const c=a.get(u);if(c===void 0)return!1;const f=Math.abs(l-c),h=Math.max(l,c),m=Math.max(h*t,1);if(f>m)return!1}return!0}function Kb(r){const e=r.totalNeededOverrideParsed;if(!e)return{hasMismatch:!1,computedChanged:!1,platesChanged:!1,recipesChanged:!1};if(!(e.totalComputedWhenOverride!==void 0&&e.platesNbWhenOverride!==void 0&&e.recipesNbWhenOverride!==void 0))return{hasMismatch:!1,computedChanged:!1,platesChanged:!1,recipesChanged:!1};const n=e.totalComputedWhenOverride,a=r.totalNeededArray,s=e.platesNbWhenOverride,i=r.totalAssiettes,u=e.recipesNbWhenOverride,l=r.nbRecipes,c=!hk(n,a),f=s!==i,h=u!==l,m=c||f||h;return{hasMismatch:m,computedChanged:c,platesChanged:f,recipesChanged:h,details:m?{oldComputed:n,newComputed:a,oldPlates:s,newPlates:i,oldRecipes:u,newRecipes:l}:void 0}}function $v(r){return{...r,products:r.products?.map(e=>typeof e=="string"?e:e.$id)||[],mainId:r.mainId}}class is{static CONVERSION_RULES={cafe_sucre:5,cafe_sel:5,cafe_farine:3,cafe_semoule:4,cafe_poivre:2.5,cafe_cacao:2.5,cafe_sucre_glace:3,cafe_maizena:3,cafe_bicarbonate:5,cafe_curcuma:2,cafe_cumin:2,cafe_curry:2,cafe_muscade:2,cafe_paprika:2,cafe_miel:10,cafe_creme_epaisse:5,cafe_default:5,soupe_sucre:15,soupe_sel:15,soupe_farine:10,soupe_semoule:12,soupe_poivre:8,soupe_cacao:8,soupe_sucre_glace:9,soupe_maizena:10,soupe_creme_epaisse:15,soupe_bicarbonate:15,soupe_curcuma:6,soupe_cumin:6,soupe_curry:6,soupe_muscade:7,soupe_paprika:6,soupe_miel:30,soupe_default:15,pincee:.4,gousse_ail:6.5,tete_ail:80,unite_oignon:120,unite_ail:6.5,unite_tomate:120,unite_poireau:150,unite_aubergine:250,unite_courgette:200,unite_eshalote:30,unite_orange:200,unite_citron:100,unite_concombre:200,unite_levure_chimique:11,unite_carotte:125,unite_betterave_rouge:250};static normalize(e,t,n=""){const a=t.toLowerCase(),s=n.toLowerCase(),i=a.includes("caf"),u=a.includes("soupe"),l=a.includes("pinc"),c=a.includes("gousse"),f=a.includes("tÃªte"),h=a.includes("unit")||a==="piÃ¨ce"||a==="piece",m=s.includes("sucre"),g=s.includes("sel"),b=s.includes("farine"),y=s.includes("crÃ¨me Ã©paisse")||s.includes("creme epaisse"),x=s==="ail",k=s.includes("oignon"),S=s==="tomate",A=s==="poireau",C=s.includes("aubergine"),E=s==="courgette",I=s==="Ã©chalote"||s==="echalote",T=s==="orange"&&!s.includes("jus"),j=s.includes("citron")&&!s.includes("jus"),U=s==="concombre",G=s==="levure chimique",Q=s==="carotte",ee=s==="betterave rouge",oe=s.includes("semoule"),H=s.includes("poivre"),J=s.includes("cacao"),K=s.includes("sucre glace"),te=s.includes("maizena")||s.includes("maÃ¯zena"),Z=s.includes("bicarbonate"),R=s.includes("curcuma"),F=s.includes("cumin"),M=s.includes("curry"),B=s.includes("muscade"),q=s.includes("paprika"),$=s.includes("miel");let L=e,ne=t,Y=!1,W="",X="";if(i){Y=!0;let N="cafe_default";X="ml",m?(N="cafe_sucre",X="gr."):g?(N="cafe_sel",X="gr."):b?(N="cafe_farine",X="gr."):oe?(N="cafe_semoule",X="gr."):H?(N="cafe_poivre",X="gr."):J?(N="cafe_cacao",X="gr."):K?(N="cafe_sucre_glace",X="gr."):te?(N="cafe_maizena",X="gr."):Z?(N="cafe_bicarbonate",X="gr."):R?(N="cafe_curcuma",X="gr."):F?(N="cafe_cumin",X="gr."):M?(N="cafe_curry",X="gr."):B?(N="cafe_muscade",X="gr."):q?(N="cafe_paprika",X="gr."):$?(N="cafe_miel",X="gr."):y&&(N="cafe_creme_epaisse",X="ml"),L=e*this.CONVERSION_RULES[N],W=`1 c. Ã  cafÃ© = ${this.CONVERSION_RULES[N]} ${X}`}else if(u){Y=!0;let N="soupe_default";X="ml",m?(N="soupe_sucre",X="gr."):g?(N="soupe_sel",X="gr."):b?(N="soupe_farine",X="gr."):oe?(N="soupe_semoule",X="gr."):H?(N="soupe_poivre",X="gr."):J?(N="soupe_cacao",X="gr."):K?(N="soupe_sucre_glace",X="gr."):te?(N="soupe_maizena",X="gr."):y?(N="soupe_creme_epaisse",X="ml"):Z?(N="soupe_bicarbonate",X="gr."):R?(N="soupe_curcuma",X="gr."):F?(N="soupe_cumin",X="gr."):M?(N="soupe_curry",X="gr."):B?(N="soupe_muscade",X="gr."):q?(N="soupe_paprika",X="gr."):$&&(N="soupe_miel",X="gr."),L=e*this.CONVERSION_RULES[N],W=`1 c. Ã  soupe = ${this.CONVERSION_RULES[N]} ${X}`}else if(l)Y=!0,X="gr.",L=e*this.CONVERSION_RULES.pincee,W="1 pincÃ©e = 0.4 gr.";else if(c&&x)Y=!0,X="gr.",L=e*this.CONVERSION_RULES.gousse_ail,W="1 gousse = 6.5 gr.";else if(f&&x)Y=!0,X="gr.",L=e*this.CONVERSION_RULES.tete_ail,W="1 tÃªte = 80 gr.";else if(h){Y=!0,X="gr.";let N="";k?N="unite_oignon":x?N="unite_ail":S?N="unite_tomate":A?N="unite_poireau":C?N="unite_aubergine":E?N="unite_courgette":I?N="unite_eshalote":T?N="unite_orange":j?N="unite_citron":U?N="unite_concombre":G?N="unite_levure_chimique":Q?N="unite_carotte":ee?N="unite_betterave_rouge":Y=!1,Y&&(L=e*this.CONVERSION_RULES[N],W=`1 unitÃ© = ${this.CONVERSION_RULES[N]} gr.`)}return Y?ne=X:a==="kg"?(L=e*1e3,ne="gr."):a==="l."?(L=e*1e3,ne="ml"):a==="gr."?ne="gr.":a==="ml"&&(ne="ml"),{quantity:L,unit:ne,originalUnit:t,ruleUsed:W,hasConversion:Y}}}const Sp=2;function mi(r){const t=new Date(r).getHours();return t>=11&&t<=13?"sun":t>=19&&t<=21?"moon":t>=7&&t<=9?"cloud":null}function yh(r){return{formattedDate:new Date(r).toLocaleDateString("fr-FR",{weekday:"short",day:"numeric"}),timeIcon:mi(r)}}function pk(r){const e={};for(const t of r)e[t]=yh(t);return e}function vk(r,e,t){if(!r.byDate)return{requiredQuantities:[],requiredQuantitiesFormatted:"-",stockBalance:[],availableStockQuantities:[],missingStockQuantities:[],availableStockFormatted:"-",missingStockFormatted:"-",hasAvailableStock:!1,hasMissingStock:!1,totalRecipesInRange:0,totalPortionsInRange:0,datesInSelectedRange:[],recipesByDate:new Map};const n=new Date(e);n.setHours(0,0,0,0);const a=new Date(t);a.setHours(23,59,59,999);const s=[],i=new Map,u=new Map;let l=0,c=0;for(const[S,A]of Object.entries(r.byDate)){const C=new Date(S);C>=n&&C<=a&&(s.push(S),l+=A.totalAssiettes||0,A.recipes?.length&&(i.set(S,A.recipes),c+=A.recipes.length),A.totalConsolidated&&A.totalConsolidated.forEach(({q:E,u:I})=>{u.set(I,(u.get(I)||0)+E)}))}const f=Array.from(u.entries()).map(([S,A])=>({q:A,u:S})),h=f.length>0?Jn(f):"-",m=r.totalNeededOverrideParsed?[r.totalNeededOverrideParsed.totalOverride]:f,g=mk(r,e,t,m),b=g.filter(S=>S.q>0),y=new Date().toISOString().split("T")[0],k=t<y?[]:g.filter(S=>S.q<0);return{requiredQuantities:f,requiredQuantitiesFormatted:h,stockBalance:g,availableStockQuantities:b,missingStockQuantities:k,availableStockFormatted:dk(g),missingStockFormatted:Jn(k.map(S=>({q:Math.abs(S.q),u:S.u}))),hasAvailableStock:b.length>0,hasMissingStock:k.length>0,totalRecipesInRange:c,totalPortionsInRange:l,datesInSelectedRange:s,recipesByDate:i}}function mk(r,e,t,n){let a=[],s="";r.stockParsed?.dateTime&&r.stockParsed.dateTime<=e&&(a=[{q:parseFloat(r.stockParsed.quantity),u:r.stockParsed.unit}],s=r.stockParsed.dateTime);const i=[];if(r.purchases)for(const c of r.purchases)gk(c,e,t,s)&&i.push({q:c.quantity,u:c.unit});const u=[...a,...i],l=_h(u);return uk(l,n)}function gk(r,e,t,n=""){if(r.status==="cancelled")return!1;const a=r.deliveryDate||r.$createdAt;if(!a)return!1;const s=new Date(t);return s.setHours(s.getHours()+Sp),!(s<new Date||a>s.toISOString()||n&&r.$createdAt<n)}function bk(r){const e=Ts(r.specs)??null,t=Ep(kp(r.purchases??[]));let n=[];e?.quantity&&(n=[e.quantity]);const a=Ts(r.totalNeededOverride),s=a?[a.totalOverride]:n,{numeric:i,display:u}=Id(s,t);let l=Ts(r.stockReel)??null;if(l&&l.quantity&&l.unit){const m=is.normalize(parseFloat(l.quantity),l.unit);l={...l,quantity:m.quantity,unit:m.unit}}const c=Jn(t),f=r.store?Ts(r.store):null,h=l?`${l.quantity} ${l.unit}`:c;return{$id:r.$id,$createdAt:r.$createdAt,$updatedAt:r.$updatedAt,productHugoUuid:r.productHugoUuid||"",productName:r.productName,productType:r.productType||"none",pF:e?.pF??!1,pS:e?.pS??!1,nbRecipes:0,totalAssiettes:0,isSynced:r.isSynced,mainId:r.mainId,totalNeededRaw:[],status:r.status,who:r.who,store:r.store,stockReel:r.stockReel,previousNames:r.previousNames,isMerged:r.isMerged,mergedFrom:r.mergedFrom,mergeDate:r.mergeDate,mergeReason:r.mergeReason,mergedInto:r.mergedInto,totalNeededOverride:r.totalNeededOverride,purchases:r.purchases,specs:r.specs,byDate:{},storeInfo:f,stockParsed:l,specsParsed:e,totalNeededArray:n,totalPurchasesArray:t,missingQuantityArray:i,stockOrTotalPurchases:h,displayTotalNeeded:Jn(n),displayTotalPurchases:c,displayMissingQuantity:u,totalNeededOverrideParsed:a,displayTotalOverride:a?Jn([a.totalOverride]):"",dateDisplayInfo:{}}}function El(r,e){const t=r.purchases??e.purchases,n=r.specs??e.specs,a=n?Ts(n):e.specsParsed,s=Ep(kp(t??[])),i=Jn(s);let u=e.totalNeededArray;!e.productHugoUuid&&a?.quantity&&(u=[a.quantity]);const l=Ts(r.totalNeededOverride??e.totalNeededOverride),c=l?[l.totalOverride]:u,{numeric:f,display:h}=Id(c,s),m=r.stockReel??e.stockReel;let g=m?Ts(m):e.stockParsed;if(g&&g.quantity&&g.unit){const k=is.normalize(parseFloat(g.quantity),g.unit);g={...g,quantity:k.quantity,unit:k.unit}}const b=r.store??e.store,y=b?Ts(b):e.storeInfo,x=g?`${g.quantity} ${g.unit}`:i;return r.purchases===void 0&&e.purchases?.length&&console.log(`[ProductsStore] Fusion intelligente : prÃ©servation de ${e.purchases.length} purchases pour ${e.productName}`),{...e,$updatedAt:r.$updatedAt,productName:r.productName??e.productName,productType:r.productType??e.productType,isSynced:r.isSynced??e.isSynced,mainId:r.mainId??e.mainId,pF:a?.pF??e.pF,pS:a?.pS??e.pS,status:r.status??e.status,who:r.who??e.who,store:b,stockReel:m,specs:n,purchases:t,previousNames:r.previousNames??e.previousNames,isMerged:r.isMerged??e.isMerged,mergedFrom:r.mergedFrom??e.mergedFrom,mergeDate:r.mergeDate??e.mergeDate,mergeReason:r.mergeReason??e.mergeReason,mergedInto:r.mergedInto??e.mergedInto,totalNeededOverride:r.totalNeededOverride??e.totalNeededOverride,storeInfo:y,stockParsed:g,specsParsed:a,totalNeededArray:u,totalPurchasesArray:s,missingQuantityArray:f,stockOrTotalPurchases:x,displayTotalPurchases:i,displayMissingQuantity:h,displayTotalNeeded:Jn(u),totalNeededOverrideParsed:l,displayTotalOverride:l?Jn([l.totalOverride]):""}}function _k(r){r.totalPurchasesArray=Ep(kp(r.purchases??[]));const e=r.totalNeededOverrideParsed?[r.totalNeededOverrideParsed.totalOverride]:r.totalNeededArray,{numeric:t,display:n}=Id(e,r.totalPurchasesArray);r.missingQuantityArray=t,r.displayMissingQuantity=n}async function Lv(r,e,t){console.log(`[productEnrichment] Calcul pour Ã©vÃ©nement ${r.$id} avec ${r.meals.length} repas`);const n=new Map;for(const s of r.meals)await yk(s,e,n);const a=[];for(const[s,i]of n)a.push(wk(i,t));return console.log(`[productEnrichment] ${a.length} produits calculÃ©s`),a}async function yk(r,e,t){const n=r.date;for(const a of r.recipes){const s=await e(a.recipeUuid);if(!s){console.warn(`[processMeal] Recette ${a.recipeUuid} introuvable`);continue}const i=a.plates/s.plate;for(const u of s.ingredients)xk(u,i,n,t,s.title,a.plates)}}function xk(r,e,t,n,a,s){const i=r.uuid;n.has(i)||n.set(i,{productHugoUuid:i,productName:r.name,productType:r.type,pF:r.pF??!1,pS:r.pS??!1,byDate:{},allergens:new Set(r.allergens||[])});const u=n.get(i),l=r.normalizedUnit==="au goÃ»t"?r.normalizedQuantity:r.normalizedQuantity*e,c=r.normalizedUnit==="au goÃ»t"?r.originalQuantity:r.originalQuantity*e;u.byDate[t]||(u.byDate[t]={quantities:[],recipes:[],totalAssiettes:0});const f=u.byDate[t];f.quantities.push({q:l,u:r.normalizedUnit}),f.recipes.push({r:a,q:c,u:r.originalUnit,qEq:l,uEq:r.normalizedUnit,a:s}),f.totalAssiettes+=s,r.allergens&&r.allergens.forEach(h=>u.allergens.add(h))}function wk(r,e){const t=Gb(r.productName).substring(0,20),n=e.slice(-10),a=`${t}_${n}`,s={};for(const[k,S]of Object.entries(r.byDate))s[k]={totalConsolidated:_h(S.quantities),recipes:S.recipes,totalAssiettes:S.totalAssiettes,recipeCount:S.recipes.length};const i=Object.values(s).flatMap(k=>k.totalConsolidated),u=_h(i),l=[],c=[],f=u,{numeric:h,display:m}=Id(f,l),g=Object.values(s).reduce((k,S)=>k+S.recipeCount,0),b=Object.values(s).reduce((k,S)=>k+S.totalAssiettes,0),y=pk(Object.keys(s));return{$id:a,mainId:e,productHugoUuid:r.productHugoUuid,productName:r.productName,productType:r.productType,byDate:s,totalNeededArray:u,totalPurchasesArray:l,missingQuantityArray:h,displayTotalNeeded:Jn(u),displayTotalPurchases:Jn(l),displayMissingQuantity:m,isSynced:!1,status:"active",who:[],store:"",storeInfo:null,purchases:c,stockReel:"",stockParsed:null,totalNeededOverride:null,totalNeededOverrideParsed:null,displayTotalOverride:"",stockOrTotalPurchases:"",previousNames:null,isMerged:!1,mergedFrom:[],mergeDate:null,mergeReason:null,mergedInto:null,specs:null,specsParsed:null,pF:r.pF??!1,pS:r.pS??!1,nbRecipes:g,totalAssiettes:b,totalNeededRaw:u,dateDisplayInfo:y,$createdAt:new Date().toISOString(),$updatedAt:new Date().toISOString(),$permissions:[],$databaseId:"",$tableId:""}}const kk={loading:0,success:2e3,info:3e3,warning:5e3,error:0},Ek=2;class Sk{#e=ae(ot([]));MAX_TOASTS=3;get toasts(){return[...o(this.#e)].sort((e,t)=>t.timestamp-e.timestamp)}create(e){const t=e.id||crypto.randomUUID(),n={id:t,state:e.state,message:e.message,timestamp:Date.now(),source:e.source||"user",position:e.position,timeoutId:void 0,autoCloseDelay:e.autoCloseDelay,details:e.details,actions:e.actions||[]};return this.#t(n),t}update(e,t){const n=o(this.#e).findIndex(s=>s.id===e);if(n===-1)return;const a=o(this.#e)[n];a.timeoutId&&clearTimeout(a.timeoutId),o(this.#e)[n]={...a,state:t.state||a.state,message:t.message||a.message,source:t.source||a.source,position:t.position||a.position,actions:t.actions||a.actions,autoCloseDelay:t.autoCloseDelay!==void 0?t.autoCloseDelay:a.autoCloseDelay},this.#r(o(this.#e)[n])}async track(e,t){const n=this.create({id:t.id,state:"loading",message:t.loading,source:"user",position:t.position});try{const a=await e;return this.update(n,{state:"success",message:t.success||"OpÃ©ration rÃ©ussie",autoCloseDelay:t.successDelay}),a}catch(a){throw this.update(n,{state:"error",message:t.error||"Erreur lors de l'opÃ©ration",autoCloseDelay:t.errorDelay}),a}}dismiss(e){const t=o(this.#e).findIndex(a=>a.id===e);if(t===-1)return;const n=o(this.#e)[t];n.timeoutId&&clearTimeout(n.timeoutId),o(this.#e).splice(t,1)}dismissAll(){o(this.#e).forEach(e=>{e.timeoutId&&clearTimeout(e.timeoutId)}),w(this.#e,[],!0)}#t(e){const t=o(this.#e).findIndex(n=>n.source===e.source);if(t>=0){const n=o(this.#e)[t];n.timeoutId&&clearTimeout(n.timeoutId),o(this.#e)[t]=e}else if(o(this.#e).length<this.MAX_TOASTS)o(this.#e).push(e);else{const n=o(this.#e)[0];n.timeoutId&&clearTimeout(n.timeoutId),o(this.#e).shift(),o(this.#e).push(e)}this.#r(e)}#r(e){e.timeoutId&&clearTimeout(e.timeoutId);let t;if(e.autoCloseDelay!==void 0)t=e.autoCloseDelay===0?void 0:e.autoCloseDelay;else{const n=kk[e.state];e.source==="realtime-other"&&n>0?t=n*Ek:t=n===0?void 0:n}t!==void 0&&(e.timeoutId=setTimeout(()=>{this.dismiss(e.id)},t))}success(e,t){return this.create({state:"success",message:e,details:t?.details,autoCloseDelay:t?.autoCloseDelay,position:t?.position})}error(e,t){return this.create({state:"error",message:e,details:t?.details,autoCloseDelay:t?.autoCloseDelay,position:t?.position})}warning(e,t){return this.create({state:"warning",message:e,source:t?.source||"system",details:t?.details,actions:t?.actions,autoCloseDelay:t?.autoCloseDelay,position:t?.position})}info(e,t){return this.create({state:"info",message:e,source:t?.source||"system",details:t?.details,autoCloseDelay:t?.autoCloseDelay,position:t?.position})}loading(e,t){return this.create({state:"loading",message:e,details:t?.details,autoCloseDelay:t?.autoCloseDelay,position:t?.position})}}const rt=new Sk;function yf(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function u(f){try{c(n.next(f))}catch(h){i(h)}}function l(f){try{c(n.throw(f))}catch(h){i(h)}}function c(f){f.done?s(f.value):a(f.value).then(u,l)}c((n=n.apply(r,[])).next())})}function Ak(r,e,t,n){if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)}class Qe{constructor(e,t,n){this.method=e,this.attribute=t,n!==void 0&&(Array.isArray(n)?this.values=n:this.values=[n])}toString(){return JSON.stringify({method:this.method,attribute:this.attribute,values:this.values})}}Qe.equal=(r,e)=>new Qe("equal",r,e).toString();Qe.notEqual=(r,e)=>new Qe("notEqual",r,e).toString();Qe.lessThan=(r,e)=>new Qe("lessThan",r,e).toString();Qe.lessThanEqual=(r,e)=>new Qe("lessThanEqual",r,e).toString();Qe.greaterThan=(r,e)=>new Qe("greaterThan",r,e).toString();Qe.greaterThanEqual=(r,e)=>new Qe("greaterThanEqual",r,e).toString();Qe.isNull=r=>new Qe("isNull",r).toString();Qe.isNotNull=r=>new Qe("isNotNull",r).toString();Qe.between=(r,e,t)=>new Qe("between",r,[e,t]).toString();Qe.startsWith=(r,e)=>new Qe("startsWith",r,e).toString();Qe.endsWith=(r,e)=>new Qe("endsWith",r,e).toString();Qe.select=r=>new Qe("select",void 0,r).toString();Qe.search=(r,e)=>new Qe("search",r,e).toString();Qe.orderDesc=r=>new Qe("orderDesc",r).toString();Qe.orderAsc=r=>new Qe("orderAsc",r).toString();Qe.orderRandom=()=>new Qe("orderRandom").toString();Qe.cursorAfter=r=>new Qe("cursorAfter",void 0,r).toString();Qe.cursorBefore=r=>new Qe("cursorBefore",void 0,r).toString();Qe.limit=r=>new Qe("limit",void 0,r).toString();Qe.offset=r=>new Qe("offset",void 0,r).toString();Qe.contains=(r,e)=>new Qe("contains",r,e).toString();Qe.notContains=(r,e)=>new Qe("notContains",r,e).toString();Qe.notSearch=(r,e)=>new Qe("notSearch",r,e).toString();Qe.notBetween=(r,e,t)=>new Qe("notBetween",r,[e,t]).toString();Qe.notStartsWith=(r,e)=>new Qe("notStartsWith",r,e).toString();Qe.notEndsWith=(r,e)=>new Qe("notEndsWith",r,e).toString();Qe.createdBefore=r=>Qe.lessThan("$createdAt",r);Qe.createdAfter=r=>Qe.greaterThan("$createdAt",r);Qe.createdBetween=(r,e)=>Qe.between("$createdAt",r,e);Qe.updatedBefore=r=>Qe.lessThan("$updatedAt",r);Qe.updatedAfter=r=>Qe.greaterThan("$updatedAt",r);Qe.updatedBetween=(r,e)=>Qe.between("$updatedAt",r,e);Qe.or=r=>new Qe("or",void 0,r.map(e=>JSON.parse(e))).toString();Qe.and=r=>new Qe("and",void 0,r.map(e=>JSON.parse(e))).toString();Qe.distanceEqual=(r,e,t,n=!0)=>new Qe("distanceEqual",r,[[e,t,n]]).toString();Qe.distanceNotEqual=(r,e,t,n=!0)=>new Qe("distanceNotEqual",r,[[e,t,n]]).toString();Qe.distanceGreaterThan=(r,e,t,n=!0)=>new Qe("distanceGreaterThan",r,[[e,t,n]]).toString();Qe.distanceLessThan=(r,e,t,n=!0)=>new Qe("distanceLessThan",r,[[e,t,n]]).toString();Qe.intersects=(r,e)=>new Qe("intersects",r,[e]).toString();Qe.notIntersects=(r,e)=>new Qe("notIntersects",r,[e]).toString();Qe.crosses=(r,e)=>new Qe("crosses",r,[e]).toString();Qe.notCrosses=(r,e)=>new Qe("notCrosses",r,[e]).toString();Qe.overlaps=(r,e)=>new Qe("overlaps",r,[e]).toString();Qe.notOverlaps=(r,e)=>new Qe("notOverlaps",r,[e]).toString();Qe.touches=(r,e)=>new Qe("touches",r,[e]).toString();Qe.notTouches=(r,e)=>new Qe("notTouches",r,[e]).toString();class Me extends Error{constructor(e,t=0,n="",a=""){super(e),this.name="AppwriteException",this.message=e,this.code=t,this.type=n,this.response=a}}class es{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:"",devkey:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"21.4.0","X-Appwrite-Response-Format":"1.8.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window?.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window?.setInterval(()=>{var e;(e=this.realtime.socket)===null||e===void 0||e.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var e,t,n;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(e=this.realtime.socket)===null||e===void 0||e.close();return}const a=new URLSearchParams;this.config.project&&a.set("project",this.config.project),this.realtime.channels.forEach(i=>{a.append("channels[]",i)});const s=this.config.endpointRealtime+"/realtime?"+a.toString();(s!==this.realtime.url||!this.realtime.socket||((t=this.realtime.socket)===null||t===void 0?void 0:t.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((n=this.realtime.socket)===null||n===void 0?void 0:n.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=s,this.realtime.socket=new WebSocket(s),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",i=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",i=>{var u,l,c;if(!this.realtime.reconnect||((l=(u=this.realtime)===null||u===void 0?void 0:u.lastMessage)===null||l===void 0?void 0:l.type)==="error"&&((c=this.realtime)===null||c===void 0?void 0:c.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const f=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${f/1e3} seconds.`,i.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},f)}))},onMessage:e=>{var t,n;try{const a=JSON.parse(e.data);switch(this.realtime.lastMessage=a,a.type){case"connected":let s=this.config.session;if(!s){const l=JSON.parse((t=window.localStorage.getItem("cookieFallback"))!==null&&t!==void 0?t:"{}");s=l?.[`a_session_${this.config.project}`]}const i=a.data;s&&!i.user&&((n=this.realtime.socket)===null||n===void 0||n.send(JSON.stringify({type:"authentication",data:{session:s}})));break;case"event":let u=a.data;if(u?.channels){if(!u.channels.some(c=>this.realtime.channels.has(c)))return;this.realtime.subscriptions.forEach(c=>{u.channels.some(f=>c.channels.includes(f))&&setTimeout(()=>c.callback(u))})}break;case"pong":break;case"error":throw a.data;default:break}}catch(a){console.error(a)}},cleanUp:e=>{this.realtime.channels.forEach(t=>{e.includes(t)&&(Array.from(this.realtime.subscriptions).some(([a,s])=>s.channels.includes(t))||this.realtime.channels.delete(t))})}}}setEndpoint(e){if(!e.startsWith("http://")&&!e.startsWith("https://"))throw new Me("Invalid endpoint URL: "+e);return this.config.endpoint=e,this.config.endpointRealtime=e.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){if(!e.startsWith("ws://")&&!e.startsWith("wss://"))throw new Me("Invalid realtime endpoint URL: "+e);return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}setSession(e){return this.headers["X-Appwrite-Session"]=e,this.config.session=e,this}setDevKey(e){return this.headers["X-Appwrite-Dev-Key"]=e,this.config.devkey=e,this}subscribe(e,t){let n=typeof e=="string"?[e]:e;n.forEach(s=>this.realtime.channels.add(s));const a=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(a,{channels:n,callback:t}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(a),this.realtime.cleanUp(n),this.realtime.connect()}}prepareRequest(e,t,n={},a={}){if(e=e.toUpperCase(),n=Object.assign({},this.headers,n),typeof window<"u"&&window.localStorage){const i=window.localStorage.getItem("cookieFallback");i&&(n["X-Fallback-Cookies"]=i)}let s={method:e,headers:n};if(n["X-Appwrite-Dev-Key"]===void 0&&(s.credentials="include"),e==="GET")for(const[i,u]of Object.entries(es.flatten(a)))t.searchParams.append(i,u);else switch(n["content-type"]){case"application/json":s.body=JSON.stringify(a);break;case"multipart/form-data":const i=new FormData;for(const[u,l]of Object.entries(a))if(l instanceof File)i.append(u,l,l.name);else if(Array.isArray(l))for(const c of l)i.append(`${u}[]`,c);else i.append(u,l);s.body=i,delete n["content-type"];break}return{uri:t.toString(),options:s}}chunkedUpload(e,t,n={},a={},s){var i;return yf(this,void 0,void 0,function*(){const[u,l]=(i=Object.entries(a).find(([h,m])=>m instanceof File))!==null&&i!==void 0?i:[];if(!l||!u)throw new Error("File not found in payload");if(l.size<=es.CHUNK_SIZE)return yield this.call(e,t,n,a);let c=0,f=null;for(;c<l.size;){let h=c+es.CHUNK_SIZE;h>=l.size&&(h=l.size),n["content-range"]=`bytes ${c}-${h-1}/${l.size}`;const m=l.slice(c,h);let g=Object.assign({},a);g[u]=new File([m],l.name),f=yield this.call(e,t,n,g),s&&typeof s=="function"&&s({$id:f.$id,progress:Math.round(h/l.size*100),sizeUploaded:h,chunksTotal:Math.ceil(l.size/es.CHUNK_SIZE),chunksUploaded:Math.ceil(h/es.CHUNK_SIZE)}),f&&f.$id&&(n["x-appwrite-id"]=f.$id),c=h}return f})}ping(){return yf(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(e,t,n={},a={},s="json"){var i,u;return yf(this,void 0,void 0,function*(){const{uri:l,options:c}=this.prepareRequest(e,t,n,a);let f=null;const h=yield fetch(l,c);if(h.type==="opaque")throw new Me(`Invalid Origin. Register your new client (${window.location.host}) as a new Web platform on your project console dashboard`,403,"forbidden","");const m=h.headers.get("x-appwrite-warning");if(m&&m.split(";").forEach(b=>console.warn("Warning: "+b)),!((i=h.headers.get("content-type"))===null||i===void 0)&&i.includes("application/json")?f=yield h.json():s==="arrayBuffer"?f=yield h.arrayBuffer():f={message:yield h.text()},400<=h.status){let b="";throw!((u=h.headers.get("content-type"))===null||u===void 0)&&u.includes("application/json")||s==="arrayBuffer"?b=JSON.stringify(f):b=f?.message,new Me(f?.message,h.status,f?.type,b)}const g=h.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&g&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",g)),f})}static flatten(e,t=""){let n={};for(const[a,s]of Object.entries(e)){let i=t?t+"["+a+"]":a;Array.isArray(s)?n=Object.assign(Object.assign({},n),es.flatten(s,i)):n[i]=s}return n}}es.CHUNK_SIZE=1024*1024*5;class Cu{constructor(e){this.client=e}static flatten(e,t=""){let n={};for(const[a,s]of Object.entries(e)){let i=t?t+"["+a+"]":a;Array.isArray(s)?n=Object.assign(Object.assign({},n),Cu.flatten(s,i)):n[i]=s}return n}}Cu.CHUNK_SIZE=5*1024*1024;class Dk{constructor(e){this.client=e}get(){const e="/account",t={},n=new URL(this.client.config.endpoint+e),a={};return this.client.call("get",n,a,t)}create(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={userId:e,email:t[0],password:t[1],name:t[2]};const a=n.userId,s=n.email,i=n.password,u=n.name;if(typeof a>"u")throw new Me('Missing required parameter: "userId"');if(typeof s>"u")throw new Me('Missing required parameter: "email"');if(typeof i>"u")throw new Me('Missing required parameter: "password"');const l="/account",c={};typeof a<"u"&&(c.userId=a),typeof s<"u"&&(c.email=s),typeof i<"u"&&(c.password=i),typeof u<"u"&&(c.name=u);const f=new URL(this.client.config.endpoint+l),h={"content-type":"application/json"};return this.client.call("post",f,h,c)}updateEmail(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={email:e,password:t[0]};const a=n.email,s=n.password;if(typeof a>"u")throw new Me('Missing required parameter: "email"');if(typeof s>"u")throw new Me('Missing required parameter: "password"');const i="/account/email",u={};typeof a<"u"&&(u.email=a),typeof s<"u"&&(u.password=s);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return this.client.call("patch",l,c,u)}listIdentities(e,...t){let n;!e||e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={queries:e,total:t[0]};const a=n.queries,s=n.total,i="/account/identities",u={};typeof a<"u"&&(u.queries=a),typeof s<"u"&&(u.total=s);const l=new URL(this.client.config.endpoint+i),c={};return this.client.call("get",l,c,u)}deleteIdentity(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={identityId:e};const n=t.identityId;if(typeof n>"u")throw new Me('Missing required parameter: "identityId"');const a="/account/identities/{identityId}".replace("{identityId}",n),s={},i=new URL(this.client.config.endpoint+a),u={"content-type":"application/json"};return this.client.call("delete",i,u,s)}createJWT(){const e="/account/jwts",t={},n=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("post",n,a,t)}listLogs(e,...t){let n;!e||e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={queries:e,total:t[0]};const a=n.queries,s=n.total,i="/account/logs",u={};typeof a<"u"&&(u.queries=a),typeof s<"u"&&(u.total=s);const l=new URL(this.client.config.endpoint+i),c={};return this.client.call("get",l,c,u)}updateMFA(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={mfa:e};const n=t.mfa;if(typeof n>"u")throw new Me('Missing required parameter: "mfa"');const a="/account/mfa",s={};typeof n<"u"&&(s.mfa=n);const i=new URL(this.client.config.endpoint+a),u={"content-type":"application/json"};return this.client.call("patch",i,u,s)}createMfaAuthenticator(e){let t;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?t=e||{}:t={type:e};const n=t.type;if(typeof n>"u")throw new Me('Missing required parameter: "type"');const a="/account/mfa/authenticators/{type}".replace("{type}",n),s={},i=new URL(this.client.config.endpoint+a),u={"content-type":"application/json"};return this.client.call("post",i,u,s)}createMFAAuthenticator(e){let t;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?t=e||{}:t={type:e};const n=t.type;if(typeof n>"u")throw new Me('Missing required parameter: "type"');const a="/account/mfa/authenticators/{type}".replace("{type}",n),s={},i=new URL(this.client.config.endpoint+a),u={"content-type":"application/json"};return this.client.call("post",i,u,s)}updateMfaAuthenticator(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?n=e||{}:n={type:e,otp:t[0]};const a=n.type,s=n.otp;if(typeof a>"u")throw new Me('Missing required parameter: "type"');if(typeof s>"u")throw new Me('Missing required parameter: "otp"');const i="/account/mfa/authenticators/{type}".replace("{type}",a),u={};typeof s<"u"&&(u.otp=s);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return this.client.call("put",l,c,u)}updateMFAAuthenticator(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?n=e||{}:n={type:e,otp:t[0]};const a=n.type,s=n.otp;if(typeof a>"u")throw new Me('Missing required parameter: "type"');if(typeof s>"u")throw new Me('Missing required parameter: "otp"');const i="/account/mfa/authenticators/{type}".replace("{type}",a),u={};typeof s<"u"&&(u.otp=s);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return this.client.call("put",l,c,u)}deleteMfaAuthenticator(e){let t;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?t=e||{}:t={type:e};const n=t.type;if(typeof n>"u")throw new Me('Missing required parameter: "type"');const a="/account/mfa/authenticators/{type}".replace("{type}",n),s={},i=new URL(this.client.config.endpoint+a),u={"content-type":"application/json"};return this.client.call("delete",i,u,s)}deleteMFAAuthenticator(e){let t;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?t=e||{}:t={type:e};const n=t.type;if(typeof n>"u")throw new Me('Missing required parameter: "type"');const a="/account/mfa/authenticators/{type}".replace("{type}",n),s={},i=new URL(this.client.config.endpoint+a),u={"content-type":"application/json"};return this.client.call("delete",i,u,s)}createMfaChallenge(e){let t;e&&typeof e=="object"&&!Array.isArray(e)&&"factor"in e?t=e||{}:t={factor:e};const n=t.factor;if(typeof n>"u")throw new Me('Missing required parameter: "factor"');const a="/account/mfa/challenge",s={};typeof n<"u"&&(s.factor=n);const i=new URL(this.client.config.endpoint+a),u={"content-type":"application/json"};return this.client.call("post",i,u,s)}createMFAChallenge(e){let t;e&&typeof e=="object"&&!Array.isArray(e)&&"factor"in e?t=e||{}:t={factor:e};const n=t.factor;if(typeof n>"u")throw new Me('Missing required parameter: "factor"');const a="/account/mfa/challenge",s={};typeof n<"u"&&(s.factor=n);const i=new URL(this.client.config.endpoint+a),u={"content-type":"application/json"};return this.client.call("post",i,u,s)}updateMfaChallenge(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={challengeId:e,otp:t[0]};const a=n.challengeId,s=n.otp;if(typeof a>"u")throw new Me('Missing required parameter: "challengeId"');if(typeof s>"u")throw new Me('Missing required parameter: "otp"');const i="/account/mfa/challenge",u={};typeof a<"u"&&(u.challengeId=a),typeof s<"u"&&(u.otp=s);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return this.client.call("put",l,c,u)}updateMFAChallenge(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={challengeId:e,otp:t[0]};const a=n.challengeId,s=n.otp;if(typeof a>"u")throw new Me('Missing required parameter: "challengeId"');if(typeof s>"u")throw new Me('Missing required parameter: "otp"');const i="/account/mfa/challenge",u={};typeof a<"u"&&(u.challengeId=a),typeof s<"u"&&(u.otp=s);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return this.client.call("put",l,c,u)}listMfaFactors(){const e="/account/mfa/factors",t={},n=new URL(this.client.config.endpoint+e),a={};return this.client.call("get",n,a,t)}listMFAFactors(){const e="/account/mfa/factors",t={},n=new URL(this.client.config.endpoint+e),a={};return this.client.call("get",n,a,t)}getMfaRecoveryCodes(){const e="/account/mfa/recovery-codes",t={},n=new URL(this.client.config.endpoint+e),a={};return this.client.call("get",n,a,t)}getMFARecoveryCodes(){const e="/account/mfa/recovery-codes",t={},n=new URL(this.client.config.endpoint+e),a={};return this.client.call("get",n,a,t)}createMfaRecoveryCodes(){const e="/account/mfa/recovery-codes",t={},n=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("post",n,a,t)}createMFARecoveryCodes(){const e="/account/mfa/recovery-codes",t={},n=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("post",n,a,t)}updateMfaRecoveryCodes(){const e="/account/mfa/recovery-codes",t={},n=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("patch",n,a,t)}updateMFARecoveryCodes(){const e="/account/mfa/recovery-codes",t={},n=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("patch",n,a,t)}updateName(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={name:e};const n=t.name;if(typeof n>"u")throw new Me('Missing required parameter: "name"');const a="/account/name",s={};typeof n<"u"&&(s.name=n);const i=new URL(this.client.config.endpoint+a),u={"content-type":"application/json"};return this.client.call("patch",i,u,s)}updatePassword(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={password:e,oldPassword:t[0]};const a=n.password,s=n.oldPassword;if(typeof a>"u")throw new Me('Missing required parameter: "password"');const i="/account/password",u={};typeof a<"u"&&(u.password=a),typeof s<"u"&&(u.oldPassword=s);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return this.client.call("patch",l,c,u)}updatePhone(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={phone:e,password:t[0]};const a=n.phone,s=n.password;if(typeof a>"u")throw new Me('Missing required parameter: "phone"');if(typeof s>"u")throw new Me('Missing required parameter: "password"');const i="/account/phone",u={};typeof a<"u"&&(u.phone=a),typeof s<"u"&&(u.password=s);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return this.client.call("patch",l,c,u)}getPrefs(){const e="/account/prefs",t={},n=new URL(this.client.config.endpoint+e),a={};return this.client.call("get",n,a,t)}updatePrefs(e){let t;e&&typeof e=="object"&&!Array.isArray(e)&&"prefs"in e?t=e||{}:t={prefs:e};const n=t.prefs;if(typeof n>"u")throw new Me('Missing required parameter: "prefs"');const a="/account/prefs",s={};typeof n<"u"&&(s.prefs=n);const i=new URL(this.client.config.endpoint+a),u={"content-type":"application/json"};return this.client.call("patch",i,u,s)}createRecovery(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={email:e,url:t[0]};const a=n.email,s=n.url;if(typeof a>"u")throw new Me('Missing required parameter: "email"');if(typeof s>"u")throw new Me('Missing required parameter: "url"');const i="/account/recovery",u={};typeof a<"u"&&(u.email=a),typeof s<"u"&&(u.url=s);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return this.client.call("post",l,c,u)}updateRecovery(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={userId:e,secret:t[0],password:t[1]};const a=n.userId,s=n.secret,i=n.password;if(typeof a>"u")throw new Me('Missing required parameter: "userId"');if(typeof s>"u")throw new Me('Missing required parameter: "secret"');if(typeof i>"u")throw new Me('Missing required parameter: "password"');const u="/account/recovery",l={};typeof a<"u"&&(l.userId=a),typeof s<"u"&&(l.secret=s),typeof i<"u"&&(l.password=i);const c=new URL(this.client.config.endpoint+u),f={"content-type":"application/json"};return this.client.call("put",c,f,l)}listSessions(){const e="/account/sessions",t={},n=new URL(this.client.config.endpoint+e),a={};return this.client.call("get",n,a,t)}deleteSessions(){const e="/account/sessions",t={},n=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("delete",n,a,t)}createAnonymousSession(){const e="/account/sessions/anonymous",t={},n=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("post",n,a,t)}createEmailPasswordSession(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={email:e,password:t[0]};const a=n.email,s=n.password;if(typeof a>"u")throw new Me('Missing required parameter: "email"');if(typeof s>"u")throw new Me('Missing required parameter: "password"');const i="/account/sessions/email",u={};typeof a<"u"&&(u.email=a),typeof s<"u"&&(u.password=s);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return this.client.call("post",l,c,u)}updateMagicURLSession(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={userId:e,secret:t[0]};const a=n.userId,s=n.secret;if(typeof a>"u")throw new Me('Missing required parameter: "userId"');if(typeof s>"u")throw new Me('Missing required parameter: "secret"');const i="/account/sessions/magic-url",u={};typeof a<"u"&&(u.userId=a),typeof s<"u"&&(u.secret=s);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return this.client.call("put",l,c,u)}createOAuth2Session(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"provider"in e?n=e||{}:n={provider:e,success:t[0],failure:t[1],scopes:t[2]};const a=n.provider,s=n.success,i=n.failure,u=n.scopes;if(typeof a>"u")throw new Me('Missing required parameter: "provider"');const l="/account/sessions/oauth2/{provider}".replace("{provider}",a),c={};typeof s<"u"&&(c.success=s),typeof i<"u"&&(c.failure=i),typeof u<"u"&&(c.scopes=u);const f=new URL(this.client.config.endpoint+l);c.project=this.client.config.project;for(const[h,m]of Object.entries(Cu.flatten(c)))f.searchParams.append(h,m);if(typeof window<"u"&&window?.location){window.location.href=f.toString();return}else return f.toString()}updatePhoneSession(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={userId:e,secret:t[0]};const a=n.userId,s=n.secret;if(typeof a>"u")throw new Me('Missing required parameter: "userId"');if(typeof s>"u")throw new Me('Missing required parameter: "secret"');const i="/account/sessions/phone",u={};typeof a<"u"&&(u.userId=a),typeof s<"u"&&(u.secret=s);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return this.client.call("put",l,c,u)}createSession(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={userId:e,secret:t[0]};const a=n.userId,s=n.secret;if(typeof a>"u")throw new Me('Missing required parameter: "userId"');if(typeof s>"u")throw new Me('Missing required parameter: "secret"');const i="/account/sessions/token",u={};typeof a<"u"&&(u.userId=a),typeof s<"u"&&(u.secret=s);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return this.client.call("post",l,c,u)}getSession(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={sessionId:e};const n=t.sessionId;if(typeof n>"u")throw new Me('Missing required parameter: "sessionId"');const a="/account/sessions/{sessionId}".replace("{sessionId}",n),s={},i=new URL(this.client.config.endpoint+a),u={};return this.client.call("get",i,u,s)}updateSession(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={sessionId:e};const n=t.sessionId;if(typeof n>"u")throw new Me('Missing required parameter: "sessionId"');const a="/account/sessions/{sessionId}".replace("{sessionId}",n),s={},i=new URL(this.client.config.endpoint+a),u={"content-type":"application/json"};return this.client.call("patch",i,u,s)}deleteSession(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={sessionId:e};const n=t.sessionId;if(typeof n>"u")throw new Me('Missing required parameter: "sessionId"');const a="/account/sessions/{sessionId}".replace("{sessionId}",n),s={},i=new URL(this.client.config.endpoint+a),u={"content-type":"application/json"};return this.client.call("delete",i,u,s)}updateStatus(){const e="/account/status",t={},n=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("patch",n,a,t)}createPushTarget(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={targetId:e,identifier:t[0],providerId:t[1]};const a=n.targetId,s=n.identifier,i=n.providerId;if(typeof a>"u")throw new Me('Missing required parameter: "targetId"');if(typeof s>"u")throw new Me('Missing required parameter: "identifier"');const u="/account/targets/push",l={};typeof a<"u"&&(l.targetId=a),typeof s<"u"&&(l.identifier=s),typeof i<"u"&&(l.providerId=i);const c=new URL(this.client.config.endpoint+u),f={"content-type":"application/json"};return this.client.call("post",c,f,l)}updatePushTarget(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={targetId:e,identifier:t[0]};const a=n.targetId,s=n.identifier;if(typeof a>"u")throw new Me('Missing required parameter: "targetId"');if(typeof s>"u")throw new Me('Missing required parameter: "identifier"');const i="/account/targets/{targetId}/push".replace("{targetId}",a),u={};typeof s<"u"&&(u.identifier=s);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return this.client.call("put",l,c,u)}deletePushTarget(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={targetId:e};const n=t.targetId;if(typeof n>"u")throw new Me('Missing required parameter: "targetId"');const a="/account/targets/{targetId}/push".replace("{targetId}",n),s={},i=new URL(this.client.config.endpoint+a),u={"content-type":"application/json"};return this.client.call("delete",i,u,s)}createEmailToken(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={userId:e,email:t[0],phrase:t[1]};const a=n.userId,s=n.email,i=n.phrase;if(typeof a>"u")throw new Me('Missing required parameter: "userId"');if(typeof s>"u")throw new Me('Missing required parameter: "email"');const u="/account/tokens/email",l={};typeof a<"u"&&(l.userId=a),typeof s<"u"&&(l.email=s),typeof i<"u"&&(l.phrase=i);const c=new URL(this.client.config.endpoint+u),f={"content-type":"application/json"};return this.client.call("post",c,f,l)}createMagicURLToken(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={userId:e,email:t[0],url:t[1],phrase:t[2]};const a=n.userId,s=n.email,i=n.url,u=n.phrase;if(typeof a>"u")throw new Me('Missing required parameter: "userId"');if(typeof s>"u")throw new Me('Missing required parameter: "email"');const l="/account/tokens/magic-url",c={};typeof a<"u"&&(c.userId=a),typeof s<"u"&&(c.email=s),typeof i<"u"&&(c.url=i),typeof u<"u"&&(c.phrase=u);const f=new URL(this.client.config.endpoint+l),h={"content-type":"application/json"};return this.client.call("post",f,h,c)}createOAuth2Token(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"provider"in e?n=e||{}:n={provider:e,success:t[0],failure:t[1],scopes:t[2]};const a=n.provider,s=n.success,i=n.failure,u=n.scopes;if(typeof a>"u")throw new Me('Missing required parameter: "provider"');const l="/account/tokens/oauth2/{provider}".replace("{provider}",a),c={};typeof s<"u"&&(c.success=s),typeof i<"u"&&(c.failure=i),typeof u<"u"&&(c.scopes=u);const f=new URL(this.client.config.endpoint+l);c.project=this.client.config.project;for(const[h,m]of Object.entries(Cu.flatten(c)))f.searchParams.append(h,m);if(typeof window<"u"&&window?.location){window.location.href=f.toString();return}else return f.toString()}createPhoneToken(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={userId:e,phone:t[0]};const a=n.userId,s=n.phone;if(typeof a>"u")throw new Me('Missing required parameter: "userId"');if(typeof s>"u")throw new Me('Missing required parameter: "phone"');const i="/account/tokens/phone",u={};typeof a<"u"&&(u.userId=a),typeof s<"u"&&(u.phone=s);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return this.client.call("post",l,c,u)}createEmailVerification(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={url:e};const n=t.url;if(typeof n>"u")throw new Me('Missing required parameter: "url"');const a="/account/verifications/email",s={};typeof n<"u"&&(s.url=n);const i=new URL(this.client.config.endpoint+a),u={"content-type":"application/json"};return this.client.call("post",i,u,s)}createVerification(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={url:e};const n=t.url;if(typeof n>"u")throw new Me('Missing required parameter: "url"');const a="/account/verifications/email",s={};typeof n<"u"&&(s.url=n);const i=new URL(this.client.config.endpoint+a),u={"content-type":"application/json"};return this.client.call("post",i,u,s)}updateEmailVerification(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={userId:e,secret:t[0]};const a=n.userId,s=n.secret;if(typeof a>"u")throw new Me('Missing required parameter: "userId"');if(typeof s>"u")throw new Me('Missing required parameter: "secret"');const i="/account/verifications/email",u={};typeof a<"u"&&(u.userId=a),typeof s<"u"&&(u.secret=s);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return this.client.call("put",l,c,u)}updateVerification(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={userId:e,secret:t[0]};const a=n.userId,s=n.secret;if(typeof a>"u")throw new Me('Missing required parameter: "userId"');if(typeof s>"u")throw new Me('Missing required parameter: "secret"');const i="/account/verifications/email",u={};typeof a<"u"&&(u.userId=a),typeof s<"u"&&(u.secret=s);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return this.client.call("put",l,c,u)}createPhoneVerification(){const e="/account/verifications/phone",t={},n=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("post",n,a,t)}updatePhoneVerification(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={userId:e,secret:t[0]};const a=n.userId,s=n.secret;if(typeof a>"u")throw new Me('Missing required parameter: "userId"');if(typeof s>"u")throw new Me('Missing required parameter: "secret"');const i="/account/verifications/phone",u={};typeof a<"u"&&(u.userId=a),typeof s<"u"&&(u.secret=s);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return this.client.call("put",l,c,u)}}class Ck{constructor(e){this.client=e}listTransactions(e){let t;!e||e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={queries:e};const n=t.queries,a="/databases/transactions",s={};typeof n<"u"&&(s.queries=n);const i=new URL(this.client.config.endpoint+a),u={};return this.client.call("get",i,u,s)}createTransaction(e){let t;!e||e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={ttl:e};const n=t.ttl,a="/databases/transactions",s={};typeof n<"u"&&(s.ttl=n);const i=new URL(this.client.config.endpoint+a),u={"content-type":"application/json"};return this.client.call("post",i,u,s)}getTransaction(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={transactionId:e};const n=t.transactionId;if(typeof n>"u")throw new Me('Missing required parameter: "transactionId"');const a="/databases/transactions/{transactionId}".replace("{transactionId}",n),s={},i=new URL(this.client.config.endpoint+a),u={};return this.client.call("get",i,u,s)}updateTransaction(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={transactionId:e,commit:t[0],rollback:t[1]};const a=n.transactionId,s=n.commit,i=n.rollback;if(typeof a>"u")throw new Me('Missing required parameter: "transactionId"');const u="/databases/transactions/{transactionId}".replace("{transactionId}",a),l={};typeof s<"u"&&(l.commit=s),typeof i<"u"&&(l.rollback=i);const c=new URL(this.client.config.endpoint+u),f={"content-type":"application/json"};return this.client.call("patch",c,f,l)}deleteTransaction(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={transactionId:e};const n=t.transactionId;if(typeof n>"u")throw new Me('Missing required parameter: "transactionId"');const a="/databases/transactions/{transactionId}".replace("{transactionId}",n),s={},i=new URL(this.client.config.endpoint+a),u={"content-type":"application/json"};return this.client.call("delete",i,u,s)}createOperations(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={transactionId:e,operations:t[0]};const a=n.transactionId,s=n.operations;if(typeof a>"u")throw new Me('Missing required parameter: "transactionId"');const i="/databases/transactions/{transactionId}/operations".replace("{transactionId}",a),u={};typeof s<"u"&&(u.operations=s);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return this.client.call("post",l,c,u)}listDocuments(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={databaseId:e,collectionId:t[0],queries:t[1],transactionId:t[2],total:t[3]};const a=n.databaseId,s=n.collectionId,i=n.queries,u=n.transactionId,l=n.total;if(typeof a>"u")throw new Me('Missing required parameter: "databaseId"');if(typeof s>"u")throw new Me('Missing required parameter: "collectionId"');const c="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",a).replace("{collectionId}",s),f={};typeof i<"u"&&(f.queries=i),typeof u<"u"&&(f.transactionId=u),typeof l<"u"&&(f.total=l);const h=new URL(this.client.config.endpoint+c),m={};return this.client.call("get",h,m,f)}createDocument(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={databaseId:e,collectionId:t[0],documentId:t[1],data:t[2],permissions:t[3],transactionId:t[4]};const a=n.databaseId,s=n.collectionId,i=n.documentId,u=n.data,l=n.permissions,c=n.transactionId;if(typeof a>"u")throw new Me('Missing required parameter: "databaseId"');if(typeof s>"u")throw new Me('Missing required parameter: "collectionId"');if(typeof i>"u")throw new Me('Missing required parameter: "documentId"');if(typeof u>"u")throw new Me('Missing required parameter: "data"');const f="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",a).replace("{collectionId}",s),h={};typeof i<"u"&&(h.documentId=i),typeof u<"u"&&(h.data=u),typeof l<"u"&&(h.permissions=l),typeof c<"u"&&(h.transactionId=c);const m=new URL(this.client.config.endpoint+f),g={"content-type":"application/json"};return this.client.call("post",m,g,h)}getDocument(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={databaseId:e,collectionId:t[0],documentId:t[1],queries:t[2],transactionId:t[3]};const a=n.databaseId,s=n.collectionId,i=n.documentId,u=n.queries,l=n.transactionId;if(typeof a>"u")throw new Me('Missing required parameter: "databaseId"');if(typeof s>"u")throw new Me('Missing required parameter: "collectionId"');if(typeof i>"u")throw new Me('Missing required parameter: "documentId"');const c="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",a).replace("{collectionId}",s).replace("{documentId}",i),f={};typeof u<"u"&&(f.queries=u),typeof l<"u"&&(f.transactionId=l);const h=new URL(this.client.config.endpoint+c),m={};return this.client.call("get",h,m,f)}upsertDocument(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={databaseId:e,collectionId:t[0],documentId:t[1],data:t[2],permissions:t[3],transactionId:t[4]};const a=n.databaseId,s=n.collectionId,i=n.documentId,u=n.data,l=n.permissions,c=n.transactionId;if(typeof a>"u")throw new Me('Missing required parameter: "databaseId"');if(typeof s>"u")throw new Me('Missing required parameter: "collectionId"');if(typeof i>"u")throw new Me('Missing required parameter: "documentId"');if(typeof u>"u")throw new Me('Missing required parameter: "data"');const f="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",a).replace("{collectionId}",s).replace("{documentId}",i),h={};typeof u<"u"&&(h.data=u),typeof l<"u"&&(h.permissions=l),typeof c<"u"&&(h.transactionId=c);const m=new URL(this.client.config.endpoint+f),g={"content-type":"application/json"};return this.client.call("put",m,g,h)}updateDocument(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={databaseId:e,collectionId:t[0],documentId:t[1],data:t[2],permissions:t[3],transactionId:t[4]};const a=n.databaseId,s=n.collectionId,i=n.documentId,u=n.data,l=n.permissions,c=n.transactionId;if(typeof a>"u")throw new Me('Missing required parameter: "databaseId"');if(typeof s>"u")throw new Me('Missing required parameter: "collectionId"');if(typeof i>"u")throw new Me('Missing required parameter: "documentId"');const f="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",a).replace("{collectionId}",s).replace("{documentId}",i),h={};typeof u<"u"&&(h.data=u),typeof l<"u"&&(h.permissions=l),typeof c<"u"&&(h.transactionId=c);const m=new URL(this.client.config.endpoint+f),g={"content-type":"application/json"};return this.client.call("patch",m,g,h)}deleteDocument(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={databaseId:e,collectionId:t[0],documentId:t[1],transactionId:t[2]};const a=n.databaseId,s=n.collectionId,i=n.documentId,u=n.transactionId;if(typeof a>"u")throw new Me('Missing required parameter: "databaseId"');if(typeof s>"u")throw new Me('Missing required parameter: "collectionId"');if(typeof i>"u")throw new Me('Missing required parameter: "documentId"');const l="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",a).replace("{collectionId}",s).replace("{documentId}",i),c={};typeof u<"u"&&(c.transactionId=u);const f=new URL(this.client.config.endpoint+l),h={"content-type":"application/json"};return this.client.call("delete",f,h,c)}decrementDocumentAttribute(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={databaseId:e,collectionId:t[0],documentId:t[1],attribute:t[2],value:t[3],min:t[4],transactionId:t[5]};const a=n.databaseId,s=n.collectionId,i=n.documentId,u=n.attribute,l=n.value,c=n.min,f=n.transactionId;if(typeof a>"u")throw new Me('Missing required parameter: "databaseId"');if(typeof s>"u")throw new Me('Missing required parameter: "collectionId"');if(typeof i>"u")throw new Me('Missing required parameter: "documentId"');if(typeof u>"u")throw new Me('Missing required parameter: "attribute"');const h="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}/{attribute}/decrement".replace("{databaseId}",a).replace("{collectionId}",s).replace("{documentId}",i).replace("{attribute}",u),m={};typeof l<"u"&&(m.value=l),typeof c<"u"&&(m.min=c),typeof f<"u"&&(m.transactionId=f);const g=new URL(this.client.config.endpoint+h),b={"content-type":"application/json"};return this.client.call("patch",g,b,m)}incrementDocumentAttribute(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={databaseId:e,collectionId:t[0],documentId:t[1],attribute:t[2],value:t[3],max:t[4],transactionId:t[5]};const a=n.databaseId,s=n.collectionId,i=n.documentId,u=n.attribute,l=n.value,c=n.max,f=n.transactionId;if(typeof a>"u")throw new Me('Missing required parameter: "databaseId"');if(typeof s>"u")throw new Me('Missing required parameter: "collectionId"');if(typeof i>"u")throw new Me('Missing required parameter: "documentId"');if(typeof u>"u")throw new Me('Missing required parameter: "attribute"');const h="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}/{attribute}/increment".replace("{databaseId}",a).replace("{collectionId}",s).replace("{documentId}",i).replace("{attribute}",u),m={};typeof l<"u"&&(m.value=l),typeof c<"u"&&(m.max=c),typeof f<"u"&&(m.transactionId=f);const g=new URL(this.client.config.endpoint+h),b={"content-type":"application/json"};return this.client.call("patch",g,b,m)}}class Ik{constructor(e){this.client=e}listExecutions(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={functionId:e,queries:t[0],total:t[1]};const a=n.functionId,s=n.queries,i=n.total;if(typeof a>"u")throw new Me('Missing required parameter: "functionId"');const u="/functions/{functionId}/executions".replace("{functionId}",a),l={};typeof s<"u"&&(l.queries=s),typeof i<"u"&&(l.total=i);const c=new URL(this.client.config.endpoint+u),f={};return this.client.call("get",c,f,l)}createExecution(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={functionId:e,body:t[0],async:t[1],xpath:t[2],method:t[3],headers:t[4],scheduledAt:t[5]};const a=n.functionId,s=n.body,i=n.async,u=n.xpath,l=n.method,c=n.headers,f=n.scheduledAt;if(typeof a>"u")throw new Me('Missing required parameter: "functionId"');const h="/functions/{functionId}/executions".replace("{functionId}",a),m={};typeof s<"u"&&(m.body=s),typeof i<"u"&&(m.async=i),typeof u<"u"&&(m.path=u),typeof l<"u"&&(m.method=l),typeof c<"u"&&(m.headers=c),typeof f<"u"&&(m.scheduledAt=f);const g=new URL(this.client.config.endpoint+h),b={"content-type":"application/json"};return this.client.call("post",g,b,m)}getExecution(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={functionId:e,executionId:t[0]};const a=n.functionId,s=n.executionId;if(typeof a>"u")throw new Me('Missing required parameter: "functionId"');if(typeof s>"u")throw new Me('Missing required parameter: "executionId"');const i="/functions/{functionId}/executions/{executionId}".replace("{functionId}",a).replace("{executionId}",s),u={},l=new URL(this.client.config.endpoint+i),c={};return this.client.call("get",l,c,u)}}class Tk{constructor(e){this.client=e}listTransactions(e){let t;!e||e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={queries:e};const n=t.queries,a="/tablesdb/transactions",s={};typeof n<"u"&&(s.queries=n);const i=new URL(this.client.config.endpoint+a),u={};return this.client.call("get",i,u,s)}createTransaction(e){let t;!e||e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={ttl:e};const n=t.ttl,a="/tablesdb/transactions",s={};typeof n<"u"&&(s.ttl=n);const i=new URL(this.client.config.endpoint+a),u={"content-type":"application/json"};return this.client.call("post",i,u,s)}getTransaction(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={transactionId:e};const n=t.transactionId;if(typeof n>"u")throw new Me('Missing required parameter: "transactionId"');const a="/tablesdb/transactions/{transactionId}".replace("{transactionId}",n),s={},i=new URL(this.client.config.endpoint+a),u={};return this.client.call("get",i,u,s)}updateTransaction(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={transactionId:e,commit:t[0],rollback:t[1]};const a=n.transactionId,s=n.commit,i=n.rollback;if(typeof a>"u")throw new Me('Missing required parameter: "transactionId"');const u="/tablesdb/transactions/{transactionId}".replace("{transactionId}",a),l={};typeof s<"u"&&(l.commit=s),typeof i<"u"&&(l.rollback=i);const c=new URL(this.client.config.endpoint+u),f={"content-type":"application/json"};return this.client.call("patch",c,f,l)}deleteTransaction(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={transactionId:e};const n=t.transactionId;if(typeof n>"u")throw new Me('Missing required parameter: "transactionId"');const a="/tablesdb/transactions/{transactionId}".replace("{transactionId}",n),s={},i=new URL(this.client.config.endpoint+a),u={"content-type":"application/json"};return this.client.call("delete",i,u,s)}createOperations(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={transactionId:e,operations:t[0]};const a=n.transactionId,s=n.operations;if(typeof a>"u")throw new Me('Missing required parameter: "transactionId"');const i="/tablesdb/transactions/{transactionId}/operations".replace("{transactionId}",a),u={};typeof s<"u"&&(u.operations=s);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return this.client.call("post",l,c,u)}listRows(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={databaseId:e,tableId:t[0],queries:t[1],transactionId:t[2],total:t[3]};const a=n.databaseId,s=n.tableId,i=n.queries,u=n.transactionId,l=n.total;if(typeof a>"u")throw new Me('Missing required parameter: "databaseId"');if(typeof s>"u")throw new Me('Missing required parameter: "tableId"');const c="/tablesdb/{databaseId}/tables/{tableId}/rows".replace("{databaseId}",a).replace("{tableId}",s),f={};typeof i<"u"&&(f.queries=i),typeof u<"u"&&(f.transactionId=u),typeof l<"u"&&(f.total=l);const h=new URL(this.client.config.endpoint+c),m={};return this.client.call("get",h,m,f)}createRow(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={databaseId:e,tableId:t[0],rowId:t[1],data:t[2],permissions:t[3],transactionId:t[4]};const a=n.databaseId,s=n.tableId,i=n.rowId,u=n.data,l=n.permissions,c=n.transactionId;if(typeof a>"u")throw new Me('Missing required parameter: "databaseId"');if(typeof s>"u")throw new Me('Missing required parameter: "tableId"');if(typeof i>"u")throw new Me('Missing required parameter: "rowId"');if(typeof u>"u")throw new Me('Missing required parameter: "data"');const f="/tablesdb/{databaseId}/tables/{tableId}/rows".replace("{databaseId}",a).replace("{tableId}",s),h={};typeof i<"u"&&(h.rowId=i),typeof u<"u"&&(h.data=u),typeof l<"u"&&(h.permissions=l),typeof c<"u"&&(h.transactionId=c);const m=new URL(this.client.config.endpoint+f),g={"content-type":"application/json"};return this.client.call("post",m,g,h)}getRow(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={databaseId:e,tableId:t[0],rowId:t[1],queries:t[2],transactionId:t[3]};const a=n.databaseId,s=n.tableId,i=n.rowId,u=n.queries,l=n.transactionId;if(typeof a>"u")throw new Me('Missing required parameter: "databaseId"');if(typeof s>"u")throw new Me('Missing required parameter: "tableId"');if(typeof i>"u")throw new Me('Missing required parameter: "rowId"');const c="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",a).replace("{tableId}",s).replace("{rowId}",i),f={};typeof u<"u"&&(f.queries=u),typeof l<"u"&&(f.transactionId=l);const h=new URL(this.client.config.endpoint+c),m={};return this.client.call("get",h,m,f)}upsertRow(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={databaseId:e,tableId:t[0],rowId:t[1],data:t[2],permissions:t[3],transactionId:t[4]};const a=n.databaseId,s=n.tableId,i=n.rowId,u=n.data,l=n.permissions,c=n.transactionId;if(typeof a>"u")throw new Me('Missing required parameter: "databaseId"');if(typeof s>"u")throw new Me('Missing required parameter: "tableId"');if(typeof i>"u")throw new Me('Missing required parameter: "rowId"');const f="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",a).replace("{tableId}",s).replace("{rowId}",i),h={};typeof u<"u"&&(h.data=u),typeof l<"u"&&(h.permissions=l),typeof c<"u"&&(h.transactionId=c);const m=new URL(this.client.config.endpoint+f),g={"content-type":"application/json"};return this.client.call("put",m,g,h)}updateRow(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={databaseId:e,tableId:t[0],rowId:t[1],data:t[2],permissions:t[3],transactionId:t[4]};const a=n.databaseId,s=n.tableId,i=n.rowId,u=n.data,l=n.permissions,c=n.transactionId;if(typeof a>"u")throw new Me('Missing required parameter: "databaseId"');if(typeof s>"u")throw new Me('Missing required parameter: "tableId"');if(typeof i>"u")throw new Me('Missing required parameter: "rowId"');const f="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",a).replace("{tableId}",s).replace("{rowId}",i),h={};typeof u<"u"&&(h.data=u),typeof l<"u"&&(h.permissions=l),typeof c<"u"&&(h.transactionId=c);const m=new URL(this.client.config.endpoint+f),g={"content-type":"application/json"};return this.client.call("patch",m,g,h)}deleteRow(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={databaseId:e,tableId:t[0],rowId:t[1],transactionId:t[2]};const a=n.databaseId,s=n.tableId,i=n.rowId,u=n.transactionId;if(typeof a>"u")throw new Me('Missing required parameter: "databaseId"');if(typeof s>"u")throw new Me('Missing required parameter: "tableId"');if(typeof i>"u")throw new Me('Missing required parameter: "rowId"');const l="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",a).replace("{tableId}",s).replace("{rowId}",i),c={};typeof u<"u"&&(c.transactionId=u);const f=new URL(this.client.config.endpoint+l),h={"content-type":"application/json"};return this.client.call("delete",f,h,c)}decrementRowColumn(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={databaseId:e,tableId:t[0],rowId:t[1],column:t[2],value:t[3],min:t[4],transactionId:t[5]};const a=n.databaseId,s=n.tableId,i=n.rowId,u=n.column,l=n.value,c=n.min,f=n.transactionId;if(typeof a>"u")throw new Me('Missing required parameter: "databaseId"');if(typeof s>"u")throw new Me('Missing required parameter: "tableId"');if(typeof i>"u")throw new Me('Missing required parameter: "rowId"');if(typeof u>"u")throw new Me('Missing required parameter: "column"');const h="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}/{column}/decrement".replace("{databaseId}",a).replace("{tableId}",s).replace("{rowId}",i).replace("{column}",u),m={};typeof l<"u"&&(m.value=l),typeof c<"u"&&(m.min=c),typeof f<"u"&&(m.transactionId=f);const g=new URL(this.client.config.endpoint+h),b={"content-type":"application/json"};return this.client.call("patch",g,b,m)}incrementRowColumn(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={databaseId:e,tableId:t[0],rowId:t[1],column:t[2],value:t[3],max:t[4],transactionId:t[5]};const a=n.databaseId,s=n.tableId,i=n.rowId,u=n.column,l=n.value,c=n.max,f=n.transactionId;if(typeof a>"u")throw new Me('Missing required parameter: "databaseId"');if(typeof s>"u")throw new Me('Missing required parameter: "tableId"');if(typeof i>"u")throw new Me('Missing required parameter: "rowId"');if(typeof u>"u")throw new Me('Missing required parameter: "column"');const h="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}/{column}/increment".replace("{databaseId}",a).replace("{tableId}",s).replace("{rowId}",i).replace("{column}",u),m={};typeof l<"u"&&(m.value=l),typeof c<"u"&&(m.max=c),typeof f<"u"&&(m.transactionId=f);const g=new URL(this.client.config.endpoint+h),b={"content-type":"application/json"};return this.client.call("patch",g,b,m)}}class Mk{constructor(e){this.client=e}list(e,...t){let n;!e||e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={queries:e,search:t[0],total:t[1]};const a=n.queries,s=n.search,i=n.total,u="/teams",l={};typeof a<"u"&&(l.queries=a),typeof s<"u"&&(l.search=s),typeof i<"u"&&(l.total=i);const c=new URL(this.client.config.endpoint+u),f={};return this.client.call("get",c,f,l)}create(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={teamId:e,name:t[0],roles:t[1]};const a=n.teamId,s=n.name,i=n.roles;if(typeof a>"u")throw new Me('Missing required parameter: "teamId"');if(typeof s>"u")throw new Me('Missing required parameter: "name"');const u="/teams",l={};typeof a<"u"&&(l.teamId=a),typeof s<"u"&&(l.name=s),typeof i<"u"&&(l.roles=i);const c=new URL(this.client.config.endpoint+u),f={"content-type":"application/json"};return this.client.call("post",c,f,l)}get(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={teamId:e};const n=t.teamId;if(typeof n>"u")throw new Me('Missing required parameter: "teamId"');const a="/teams/{teamId}".replace("{teamId}",n),s={},i=new URL(this.client.config.endpoint+a),u={};return this.client.call("get",i,u,s)}updateName(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={teamId:e,name:t[0]};const a=n.teamId,s=n.name;if(typeof a>"u")throw new Me('Missing required parameter: "teamId"');if(typeof s>"u")throw new Me('Missing required parameter: "name"');const i="/teams/{teamId}".replace("{teamId}",a),u={};typeof s<"u"&&(u.name=s);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return this.client.call("put",l,c,u)}delete(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={teamId:e};const n=t.teamId;if(typeof n>"u")throw new Me('Missing required parameter: "teamId"');const a="/teams/{teamId}".replace("{teamId}",n),s={},i=new URL(this.client.config.endpoint+a),u={"content-type":"application/json"};return this.client.call("delete",i,u,s)}listMemberships(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={teamId:e,queries:t[0],search:t[1],total:t[2]};const a=n.teamId,s=n.queries,i=n.search,u=n.total;if(typeof a>"u")throw new Me('Missing required parameter: "teamId"');const l="/teams/{teamId}/memberships".replace("{teamId}",a),c={};typeof s<"u"&&(c.queries=s),typeof i<"u"&&(c.search=i),typeof u<"u"&&(c.total=u);const f=new URL(this.client.config.endpoint+l),h={};return this.client.call("get",f,h,c)}createMembership(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={teamId:e,roles:t[0],email:t[1],userId:t[2],phone:t[3],url:t[4],name:t[5]};const a=n.teamId,s=n.roles,i=n.email,u=n.userId,l=n.phone,c=n.url,f=n.name;if(typeof a>"u")throw new Me('Missing required parameter: "teamId"');if(typeof s>"u")throw new Me('Missing required parameter: "roles"');const h="/teams/{teamId}/memberships".replace("{teamId}",a),m={};typeof i<"u"&&(m.email=i),typeof u<"u"&&(m.userId=u),typeof l<"u"&&(m.phone=l),typeof s<"u"&&(m.roles=s),typeof c<"u"&&(m.url=c),typeof f<"u"&&(m.name=f);const g=new URL(this.client.config.endpoint+h),b={"content-type":"application/json"};return this.client.call("post",g,b,m)}getMembership(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={teamId:e,membershipId:t[0]};const a=n.teamId,s=n.membershipId;if(typeof a>"u")throw new Me('Missing required parameter: "teamId"');if(typeof s>"u")throw new Me('Missing required parameter: "membershipId"');const i="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",a).replace("{membershipId}",s),u={},l=new URL(this.client.config.endpoint+i),c={};return this.client.call("get",l,c,u)}updateMembership(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={teamId:e,membershipId:t[0],roles:t[1]};const a=n.teamId,s=n.membershipId,i=n.roles;if(typeof a>"u")throw new Me('Missing required parameter: "teamId"');if(typeof s>"u")throw new Me('Missing required parameter: "membershipId"');if(typeof i>"u")throw new Me('Missing required parameter: "roles"');const u="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",a).replace("{membershipId}",s),l={};typeof i<"u"&&(l.roles=i);const c=new URL(this.client.config.endpoint+u),f={"content-type":"application/json"};return this.client.call("patch",c,f,l)}deleteMembership(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={teamId:e,membershipId:t[0]};const a=n.teamId,s=n.membershipId;if(typeof a>"u")throw new Me('Missing required parameter: "teamId"');if(typeof s>"u")throw new Me('Missing required parameter: "membershipId"');const i="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",a).replace("{membershipId}",s),u={},l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return this.client.call("delete",l,c,u)}updateMembershipStatus(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={teamId:e,membershipId:t[0],userId:t[1],secret:t[2]};const a=n.teamId,s=n.membershipId,i=n.userId,u=n.secret;if(typeof a>"u")throw new Me('Missing required parameter: "teamId"');if(typeof s>"u")throw new Me('Missing required parameter: "membershipId"');if(typeof i>"u")throw new Me('Missing required parameter: "userId"');if(typeof u>"u")throw new Me('Missing required parameter: "secret"');const l="/teams/{teamId}/memberships/{membershipId}/status".replace("{teamId}",a).replace("{membershipId}",s),c={};typeof i<"u"&&(c.userId=i),typeof u<"u"&&(c.secret=u);const f=new URL(this.client.config.endpoint+l),h={"content-type":"application/json"};return this.client.call("patch",f,h,c)}getPrefs(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={teamId:e};const n=t.teamId;if(typeof n>"u")throw new Me('Missing required parameter: "teamId"');const a="/teams/{teamId}/prefs".replace("{teamId}",n),s={},i=new URL(this.client.config.endpoint+a),u={};return this.client.call("get",i,u,s)}updatePrefs(e,...t){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={teamId:e,prefs:t[0]};const a=n.teamId,s=n.prefs;if(typeof a>"u")throw new Me('Missing required parameter: "teamId"');if(typeof s>"u")throw new Me('Missing required parameter: "prefs"');const i="/teams/{teamId}/prefs".replace("{teamId}",a),u={};typeof s<"u"&&(u.prefs=s);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return this.client.call("put",l,c,u)}}var Ov;(function(r){r[r.NORMAL_CLOSURE=1e3]="NORMAL_CLOSURE",r[r.POLICY_VIOLATION=1008]="POLICY_VIOLATION",r[r.UNKNOWN_ERROR=-1]="UNKNOWN_ERROR"})(Ov||(Ov={}));class tr{}tr.read=r=>`read("${r}")`;tr.write=r=>`write("${r}")`;tr.create=r=>`create("${r}")`;tr.update=r=>`update("${r}")`;tr.delete=r=>`delete("${r}")`;class hr{static any(){return"any"}static user(e,t=""){return t===""?`user:${e}`:`user:${e}/${t}`}static users(e=""){return e===""?"users":`users/${e}`}static guests(){return"guests"}static team(e,t=""){return t===""?`team:${e}`:`team:${e}/${t}`}static member(e){return`member:${e}`}static label(e){return`label:${e}`}}var Jb,Zb;class Fn{static custom(e){return e}static unique(e=7){const t=Ak(Fn,Jb,"m",Zb).call(Fn);let n="";for(let a=0;a<e;a++){const s=Math.floor(Math.random()*16).toString(16);n+=s}return t+n}}Jb=Fn,Zb=function(){const e=new Date,t=Math.floor(e.getTime()/1e3),n=e.getMilliseconds();return t.toString(16)+n.toString(16).padStart(5,"0")};var Bv;(function(r){r.Equal="equal",r.NotEqual="notEqual",r.GreaterThan="greaterThan",r.GreaterThanEqual="greaterThanEqual",r.LessThan="lessThan",r.LessThanEqual="lessThanEqual",r.Contains="contains",r.IsNull="isNull",r.IsNotNull="isNotNull"})(Bv||(Bv={}));var Fv;(function(r){r.Totp="totp"})(Fv||(Fv={}));var zv;(function(r){r.Email="email",r.Phone="phone",r.Totp="totp",r.Recoverycode="recoverycode"})(zv||(zv={}));var qv;(function(r){r.Amazon="amazon",r.Apple="apple",r.Auth0="auth0",r.Authentik="authentik",r.Autodesk="autodesk",r.Bitbucket="bitbucket",r.Bitly="bitly",r.Box="box",r.Dailymotion="dailymotion",r.Discord="discord",r.Disqus="disqus",r.Dropbox="dropbox",r.Etsy="etsy",r.Facebook="facebook",r.Figma="figma",r.Github="github",r.Gitlab="gitlab",r.Google="google",r.Linkedin="linkedin",r.Microsoft="microsoft",r.Notion="notion",r.Oidc="oidc",r.Okta="okta",r.Paypal="paypal",r.PaypalSandbox="paypalSandbox",r.Podio="podio",r.Salesforce="salesforce",r.Slack="slack",r.Spotify="spotify",r.Stripe="stripe",r.Tradeshift="tradeshift",r.TradeshiftBox="tradeshiftBox",r.Twitch="twitch",r.Wordpress="wordpress",r.Yahoo="yahoo",r.Yammer="yammer",r.Yandex="yandex",r.Zoho="zoho",r.Zoom="zoom",r.Mock="mock"})(qv||(qv={}));var jv;(function(r){r.AvantBrowser="aa",r.AndroidWebViewBeta="an",r.GoogleChrome="ch",r.GoogleChromeIOS="ci",r.GoogleChromeMobile="cm",r.Chromium="cr",r.MozillaFirefox="ff",r.Safari="sf",r.MobileSafari="mf",r.MicrosoftEdge="ps",r.MicrosoftEdgeIOS="oi",r.OperaMini="om",r.Opera="op",r.OperaNext="on"})(jv||(jv={}));var Hv;(function(r){r.AmericanExpress="amex",r.Argencard="argencard",r.Cabal="cabal",r.Cencosud="cencosud",r.DinersClub="diners",r.Discover="discover",r.Elo="elo",r.Hipercard="hipercard",r.JCB="jcb",r.Mastercard="mastercard",r.Naranja="naranja",r.TarjetaShopping="targeta-shopping",r.UnionPay="unionpay",r.Visa="visa",r.MIR="mir",r.Maestro="maestro",r.Rupay="rupay"})(Hv||(Hv={}));var Uv;(function(r){r.Afghanistan="af",r.Angola="ao",r.Albania="al",r.Andorra="ad",r.UnitedArabEmirates="ae",r.Argentina="ar",r.Armenia="am",r.AntiguaAndBarbuda="ag",r.Australia="au",r.Austria="at",r.Azerbaijan="az",r.Burundi="bi",r.Belgium="be",r.Benin="bj",r.BurkinaFaso="bf",r.Bangladesh="bd",r.Bulgaria="bg",r.Bahrain="bh",r.Bahamas="bs",r.BosniaAndHerzegovina="ba",r.Belarus="by",r.Belize="bz",r.Bolivia="bo",r.Brazil="br",r.Barbados="bb",r.BruneiDarussalam="bn",r.Bhutan="bt",r.Botswana="bw",r.CentralAfricanRepublic="cf",r.Canada="ca",r.Switzerland="ch",r.Chile="cl",r.China="cn",r.CoteDIvoire="ci",r.Cameroon="cm",r.DemocraticRepublicOfTheCongo="cd",r.RepublicOfTheCongo="cg",r.Colombia="co",r.Comoros="km",r.CapeVerde="cv",r.CostaRica="cr",r.Cuba="cu",r.Cyprus="cy",r.CzechRepublic="cz",r.Germany="de",r.Djibouti="dj",r.Dominica="dm",r.Denmark="dk",r.DominicanRepublic="do",r.Algeria="dz",r.Ecuador="ec",r.Egypt="eg",r.Eritrea="er",r.Spain="es",r.Estonia="ee",r.Ethiopia="et",r.Finland="fi",r.Fiji="fj",r.France="fr",r.MicronesiaFederatedStatesOf="fm",r.Gabon="ga",r.UnitedKingdom="gb",r.Georgia="ge",r.Ghana="gh",r.Guinea="gn",r.Gambia="gm",r.GuineaBissau="gw",r.EquatorialGuinea="gq",r.Greece="gr",r.Grenada="gd",r.Guatemala="gt",r.Guyana="gy",r.Honduras="hn",r.Croatia="hr",r.Haiti="ht",r.Hungary="hu",r.Indonesia="id",r.India="in",r.Ireland="ie",r.IranIslamicRepublicOf="ir",r.Iraq="iq",r.Iceland="is",r.Israel="il",r.Italy="it",r.Jamaica="jm",r.Jordan="jo",r.Japan="jp",r.Kazakhstan="kz",r.Kenya="ke",r.Kyrgyzstan="kg",r.Cambodia="kh",r.Kiribati="ki",r.SaintKittsAndNevis="kn",r.SouthKorea="kr",r.Kuwait="kw",r.LaoPeopleSDemocraticRepublic="la",r.Lebanon="lb",r.Liberia="lr",r.Libya="ly",r.SaintLucia="lc",r.Liechtenstein="li",r.SriLanka="lk",r.Lesotho="ls",r.Lithuania="lt",r.Luxembourg="lu",r.Latvia="lv",r.Morocco="ma",r.Monaco="mc",r.Moldova="md",r.Madagascar="mg",r.Maldives="mv",r.Mexico="mx",r.MarshallIslands="mh",r.NorthMacedonia="mk",r.Mali="ml",r.Malta="mt",r.Myanmar="mm",r.Montenegro="me",r.Mongolia="mn",r.Mozambique="mz",r.Mauritania="mr",r.Mauritius="mu",r.Malawi="mw",r.Malaysia="my",r.Namibia="na",r.Niger="ne",r.Nigeria="ng",r.Nicaragua="ni",r.Netherlands="nl",r.Norway="no",r.Nepal="np",r.Nauru="nr",r.NewZealand="nz",r.Oman="om",r.Pakistan="pk",r.Panama="pa",r.Peru="pe",r.Philippines="ph",r.Palau="pw",r.PapuaNewGuinea="pg",r.Poland="pl",r.FrenchPolynesia="pf",r.NorthKorea="kp",r.Portugal="pt",r.Paraguay="py",r.Qatar="qa",r.Romania="ro",r.Russia="ru",r.Rwanda="rw",r.SaudiArabia="sa",r.Sudan="sd",r.Senegal="sn",r.Singapore="sg",r.SolomonIslands="sb",r.SierraLeone="sl",r.ElSalvador="sv",r.SanMarino="sm",r.Somalia="so",r.Serbia="rs",r.SouthSudan="ss",r.SaoTomeAndPrincipe="st",r.Suriname="sr",r.Slovakia="sk",r.Slovenia="si",r.Sweden="se",r.Eswatini="sz",r.Seychelles="sc",r.Syria="sy",r.Chad="td",r.Togo="tg",r.Thailand="th",r.Tajikistan="tj",r.Turkmenistan="tm",r.TimorLeste="tl",r.Tonga="to",r.TrinidadAndTobago="tt",r.Tunisia="tn",r.Turkey="tr",r.Tuvalu="tv",r.Tanzania="tz",r.Uganda="ug",r.Ukraine="ua",r.Uruguay="uy",r.UnitedStates="us",r.Uzbekistan="uz",r.VaticanCity="va",r.SaintVincentAndTheGrenadines="vc",r.Venezuela="ve",r.Vietnam="vn",r.Vanuatu="vu",r.Samoa="ws",r.Yemen="ye",r.SouthAfrica="za",r.Zambia="zm",r.Zimbabwe="zw"})(Uv||(Uv={}));var Iu;(function(r){r.GET="GET",r.POST="POST",r.PUT="PUT",r.PATCH="PATCH",r.DELETE="DELETE",r.OPTIONS="OPTIONS",r.HEAD="HEAD"})(Iu||(Iu={}));var Vv;(function(r){r.Center="center",r.Topleft="top-left",r.Top="top",r.Topright="top-right",r.Left="left",r.Right="right",r.Bottomleft="bottom-left",r.Bottom="bottom",r.Bottomright="bottom-right"})(Vv||(Vv={}));var Wv;(function(r){r.Jpg="jpg",r.Jpeg="jpeg",r.Png="png",r.Webp="webp",r.Heic="heic",r.Avif="avif",r.Gif="gif"})(Wv||(Wv={}));var Qv;(function(r){r.Http="http",r.Schedule="schedule",r.Event="event"})(Qv||(Qv={}));var Gv;(function(r){r.Waiting="waiting",r.Processing="processing",r.Completed="completed",r.Failed="failed",r.Scheduled="scheduled"})(Gv||(Gv={}));const Tn={endpoint:"https://aw.oupla.net/v1",projectId:"696b7acb0037bde79e3f",databaseId:"689d15b10003a5a13636",functions:{cmsAuth:"68976500002eb5c6ee4f",accessRequest:"689cdea5001a4d74549d",batchUpdate:"68f00487000c624533a3",usersTeamsManager:"692cb2cd000cbb24549c",enkaData:"68f00487000c624533a3"},collections:{events:"main",ingredients:"ingredients",main:"main",purchases:"purchases",products:"products",kteams:"kteams",locks:"locks",user_notifications:"user_notifications",materiel_loan:"materiel_loan",teamdocs:"teamdocs"}};let eu=null;async function vt(){if(eu)return eu;console.log("[appwrite] Initialisation des instances Appwrite...");const r=new es().setEndpoint(Tn.endpoint).setProject(Tn.projectId),e=new Dk(r),t=new Ck(r),n=new Tk(r),a=new Ik(r),s=new Mk(r);return eu={client:r,account:e,databases:t,tables:n,functions:a,teams:s,config:Tn},console.log("[appwrite] Instances initialisÃ©es avec succÃ¨s"),eu}function Rk(){console.log("[appwrite] Cache rÃ©initialisÃ©"),eu=null}function el(){return{APPWRITE_ENDPOINT:Tn.endpoint,APPWRITE_PROJECT_ID:Tn.projectId,APPWRITE_DATABASE_ID:Tn.databaseId,APPWRITE_FUNCTION_ID:Tn.functions.batchUpdate,ACCESS_REQUEST_FUNCTION_ID:Tn.functions.accessRequest,MANAGE_RECIPE_FUNCTION_ID:Tn.functions.enkaData,APPWRITE_CONFIG:Tn}}function Aa(){return Tn.databaseId}function ni(r){return Tn.collections[r]}function Ap(r){return Tn.functions[r]}function Yb(r,e){const{operationName:t,maxAutoRetries:n=1,autoRetryDelay:a=1e3}=e;let s=1;return new Promise((i,u)=>{const l=async()=>{try{console.log(`[RetryUtils] ${t} - Tentative ${s}/${n+1}`);const c=await r();console.log(`[RetryUtils] ${t} - SuccÃ¨s`),e.onSuccess?.(c),i(c)}catch(c){if(console.error(`[RetryUtils] Erreur ${t} (Tentative ${s}):`,c),c instanceof Error&&c.message,s<=n){s++,console.log(`[RetryUtils] Nouvelle tentative dans ${a/1e3}s...`),setTimeout(()=>l(),a);return}console.error(`[RetryUtils] ${t} - Ãchec aprÃ¨s ${s} tentatives`),e.onError?.(c),u(c)}};l()})}const Nk="modulepreload",Pk=function(r){return"/"+r},Kv={},Jl=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let l=function(c){return Promise.all(c.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),u=i?.nonce||i?.getAttribute("nonce");a=l(t.map(c=>{if(c=Pk(c),c in Kv)return;Kv[c]=!0;const f=c.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":Nk,f||(m.as="script"),m.crossOrigin="",m.href=c,u&&m.setAttribute("nonce",u),document.head.appendChild(m),f)return new Promise((g,b)=>{m.addEventListener("load",g),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=i,window.dispatchEvent(u),!u.defaultPrevented)throw i}return a.then(i=>{for(const u of i||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};async function To(r,e={}){const{maxAttempts:t=3,timeout:n=1e4,context:a="Operation",successMessage:s,errorMessage:i,retryDelay:u=1e3,silent:l=!1}=e;let c=null;for(let f=1;f<=t;f++)try{console.log(`[${a}] Tentative ${f}/${t}`);const h=await Promise.race([r(),$k(n)]);return f>1&&console.log(`[${a}] â SuccÃ¨s aprÃ¨s ${f} tentatives`),s&&!l&&rt.success(s),h}catch(h){if(c=h instanceof Error?h:new Error(String(h)),console.error(`[${a}] â Tentative ${f}/${t} Ã©chouÃ©e:`,c.message),f===t)throw console.error(`[${a}] â Ãchec aprÃ¨s ${t} tentatives`),i&&!l&&rt.error(i),c;const m=u*f;console.log(`[${a}] Nouvelle tentative dans ${m}ms...`),await Lk(m)}throw c||new Error(`${a}: Ãchec inconnu`)}function $k(r){return new Promise((e,t)=>{setTimeout(()=>{t(new Error(`Timeout aprÃ¨s ${r}ms`))},r)})}function Lk(r){return new Promise(e=>setTimeout(e,r))}function Ok(r,e={}){const{fallback:t=null,context:n="JSON.parse"}=e;try{return JSON.parse(r)}catch(a){return console.error(`[${n}] â JSON invalide:`,a instanceof Error?a.message:a),t}}function Dp(r,e={}){const{context:t="JSON.parseArray",itemFallback:n}=e;return!r||!Array.isArray(r)?(console.warn(`[${t}] Tableau vide ou invalide`),[]):r.map((a,s)=>{const i=Ok(a,{context:`${t}[${s}]`,fallback:void 0});return i===void 0&&n?n(a,s):i}).filter(a=>a!==null)}const{APPWRITE_CONFIG:fs}=el(),Oi="main";async function Jv(r,e=null){return To(async()=>{const{tables:t}=await vt(),n=[Qe.orderDesc("dateStart")];return e&&n.push(Qe.greaterThanEqual("dateEnd",e)),{events:(await t.listRows({databaseId:fs.databaseId,tableId:Oi,queries:n})).rows}},{context:"AppwriteEvents.listEvents",timeout:2e4,errorMessage:"Erreur lors du chargement des Ã©vÃ©nements"})}async function Bk(r){try{return await To(async()=>{const{tables:e}=await vt();return await e.getRow({databaseId:fs.databaseId,tableId:Oi,rowId:r})},{context:"AppwriteEvents.getEvent",timeout:1e4,errorMessage:"Erreur lors du chargement de l'Ã©vÃ©nement"})}catch(e){if(e.code===404)return null;throw e}}async function Fk(r,e){return To(async()=>{const{tables:t}=await vt(),n=Fn.unique(),a=await t.createRow({databaseId:fs.databaseId,tableId:Oi,rowId:n,data:{name:r.name,dateStart:r.dateStart,dateEnd:r.dateEnd,allDates:r.allDates,meals:r.meals?r.meals.map(i=>JSON.stringify(i)):[],createdBy:e,teams:r.teams??[],contributors:r.contributors?r.contributors.map(i=>JSON.stringify(i)):[],todos:r.todos?r.todos.map(i=>JSON.stringify(i)):[]}});console.log(`[appwrite-events] Event created: ${n}`);const{functions:s}=await vt();return await s.createExecution({functionId:fs.functions.usersTeamsManager,body:JSON.stringify({action:"add-label-to-user",mainId:n,userId:e}),async:!1}),console.log(`[appwrite-events] Label ${n} attribuÃ© au crÃ©ateur ${e}`),a},{context:"AppwriteEvents.createEvent",timeout:15e3,successMessage:"ÃvÃ©nement crÃ©Ã© avec succÃ¨s",errorMessage:"Erreur lors de la crÃ©ation de l'Ã©vÃ©nement"})}async function zk(r,e,t=[],n=!0){return To(async()=>{const{functions:a}=await vt(),s={name:r.name,description:r.description||"",dateStart:r.dateStart,dateEnd:r.dateEnd,allDates:r.allDates,meals:r.meals?r.meals.map(f=>JSON.stringify(f)):[],createdBy:e,teams:r.teams||[],teamsId:r.teamsId||[],contributors:r.contributors?r.contributors.map(f=>JSON.stringify(f)):[],todos:r.todos?r.todos.map(f=>JSON.stringify(f)):[],status:r.status||"proposition"};console.log(`[appwrite-events] CrÃ©ation Ã©vÃ©nement avec ${t.length} team(s)`);const i=await a.createExecution({functionId:fs.functions.usersTeamsManager,body:JSON.stringify({action:"create-event-with-teams",eventData:s,creatorId:e,teamIds:t,sendEmailToExistingMembers:n}),async:!1}),u=JSON.parse(i.responseBody);if(!u.success)throw new Error(u.error||"Erreur lors de la crÃ©ation");console.log(`[appwrite-events] ÃvÃ©nement crÃ©Ã© avec teams: ${u.eventId}`);const{tables:l}=await vt();return await l.getRow({databaseId:fs.databaseId,tableId:Oi,rowId:u.eventId})},{context:"AppwriteEvents.createEventWithTeams",timeout:3e4,successMessage:"ÃvÃ©nement crÃ©Ã© avec succÃ¨s",errorMessage:"Erreur lors de la crÃ©ation de l'Ã©vÃ©nement"})}async function Zv(r,e){return To(async()=>{const{tables:t}=await vt(),n={...e};e.meals&&(n.meals=e.meals.map(s=>JSON.stringify(s))),e.contributors&&(n.contributors=Array.isArray(e.contributors)?e.contributors.map(s=>JSON.stringify(s)):[]),e.todos&&(n.todos=e.todos.map(s=>JSON.stringify(s))),e.allDates&&(n.allDates=e.allDates);const a=await t.updateRow({databaseId:fs.databaseId,tableId:Oi,rowId:r,data:n});return console.log(`[appwrite-events] Event updated: ${r}`),a},{context:"AppwriteEvents.updateEvent",timeout:1e4,successMessage:"ÃvÃ©nement mis Ã  jour",errorMessage:"Erreur lors de la mise Ã  jour"})}async function qk(r){return To(async()=>{const{tables:e,functions:t}=await vt();await e.deleteRow({databaseId:fs.databaseId,tableId:Oi,rowId:r}),console.log(`[appwrite-events] Event deleted: ${r}`),await t.createExecution({functionId:fs.functions.usersTeamsManager,body:JSON.stringify({action:"delete-event-label",mainId:r}),async:!0}),console.log(`[appwrite-events] Label deletion initiated for event: ${r}`)},{context:"AppwriteEvents.deleteEvent",timeout:1e4,successMessage:"ÃvÃ©nement supprimÃ©",errorMessage:"Erreur lors de la suppression"})}async function jk(){const{teams:r}=await vt();return await r.list()}async function Hk(r){const{teams:e}=await vt();return await e.get({teamId:r})}async function Uk(r){const{teams:e}=await vt();return await e.create({teamId:Fn.unique(),name:r})}async function Vk(r,e){const{teams:t}=await vt();return await t.updateName({teamId:r,name:e})}async function Wk(r){const{teams:e}=await vt();await e.delete({teamId:r})}async function Qk(r){const{teams:e}=await vt();return await e.listMemberships({teamId:r})}async function Gk(r,e){const{teams:t}=await vt();await t.deleteMembership({teamId:r,membershipId:e})}async function Kk(r,e,t){const{functions:n}=await vt(),a=Ap("usersTeamsManager"),s={action:"native-invite",teamId:r,emails:e,message:t},i=await n.createExecution({functionId:a,body:JSON.stringify(s)});if(i.status!=="completed")throw new Error(`Erreur lors de l'invitation : ${i.errors}`);return JSON.parse(i.responseBody)}async function Yv(r,e){const{teams:t}=await vt();return await t.updatePrefs({teamId:r,prefs:e})}class Jk{#e=[];#t=null;#r=!1;register(e,t){this.#r&&console.warn("[RealtimeManager] Enregistrement aprÃ¨s initialisation. Utilisez registerDynamic() pour les inscriptions dynamiques."),this.#e.push({channels:e,callback:t}),console.log("[RealtimeManager] Channels enregistrÃ©s:",e)}registerDynamic(e,t){return this.#e.push({channels:e,callback:t}),console.log("[RealtimeManager] Channels dynamiques enregistrÃ©s:",e),this.#r&&this.#s(e,t),()=>{const n=this.#e.findIndex(a=>a.channels===e&&a.callback===t);n!==-1&&(this.#e.splice(n,1),console.log("[RealtimeManager] Channels dynamiques dÃ©senregistrÃ©s:",e))}}async initialize(){if(this.#r)return;const e=[...new Set(this.#e.flatMap(t=>t.channels))];if(e.length===0){console.log("[RealtimeManager] Aucun channel Ã  souscrire."),this.#r=!0;return}try{console.log(`[RealtimeManager] Initialisation de la connexion unique avec ${e.length} channels...`);const{client:t}=await vt();this.#t=t.subscribe(e,n=>{for(const a of this.#e)n.channels.some(i=>a.channels.includes(i))&&a.callback(n)}),this.#r=!0,console.log("[RealtimeManager] â Connexion Realtime Ã©tablie.")}catch(t){throw console.error("[RealtimeManager] Erreur lors de l'initialisation:",t),t}}async#s(e,t){try{console.log(`[RealtimeManager] Ajout de ${e.length} channels Ã  la connexion existante...`);const{client:n}=await vt();n.subscribe(e,a=>{t(a)}),console.log("[RealtimeManager] â Channels dynamiques ajoutÃ©s:",e)}catch(n){console.error("[RealtimeManager] Erreur lors de l'ajout de channels dynamiques:",n)}}destroy(){this.#t&&(this.#t(),this.#t=null),this.#e=[],this.#r=!1,console.log("[RealtimeManager] Connexion Realtime fermÃ©e.")}}const Pn=new Jk;class Zk{#e=new Kr;#t=ae(!1);#r=ae(null);#s=ae(!1);#n=!1;get loading(){return o(this.#t)}get error(){return o(this.#r)}get isInitialized(){return o(this.#s)}get count(){return this.#e.size}#a=V(()=>Array.from(this.#e.values()));get teams(){return o(this.#a)}isUserInAnyTeam(e){return Array.from(this.#e.values()).some(t=>t.members?.some(n=>n.id===e))}get myTeams(){return Ee.userId?o(this.#a):[]}async loadCache(){if(!o(this.#s)){if(!Ee.userId){w(this.#s,!0);return}w(this.#s,!0),console.log("[NativeTeamsStore] Cache chargÃ© : 0 Ã©quipes (pas de cache)")}}async syncFromRemote(){w(this.#t,!0),w(this.#r,null);try{if(!Ee.userId)return;await this.#i(),console.log(`[NativeTeamsStore] Sync terminÃ© : ${this.#e.size} Ã©quipes`)}catch(e){throw w(this.#r,e instanceof Error?e.message:"Erreur de synchronisation",!0),console.error("[NativeTeamsStore] SyncFromRemote error:",e),e}finally{w(this.#t,!1)}}async setupRealtime(){if(Ee.userId){if(this.#n){console.log("[NativeTeamsStore] Realtime dÃ©jÃ  configurÃ©");return}try{await this.#c(),this.#n=!0,console.log("[NativeTeamsStore] Realtime configurÃ©")}catch(e){throw w(this.#r,e instanceof Error?e.message:"Erreur de configuration realtime",!0),console.error("[NativeTeamsStore] SetupRealtime error:",e),e}}}async initialize(){await this.loadCache(),await this.syncFromRemote(),await this.setupRealtime()}async hardReset(){console.log("[NativeTeamsStore] Hard reset..."),this.#e.clear(),w(this.#s,!1),await this.initialize(),console.log("[NativeTeamsStore] Hard reset terminÃ©")}async#i(){const e=await jk();for(const t of e.teams)await this.fetchTeam(t.$id)}async#c(){Pn.register(["teams","memberships"],async e=>{console.log("[NativeTeamsStore] â¡ï¸ Realtime RECEIVED:",e.events),await this.#i()})}getTeamById(e){return this.#e.get(e)}getTeamMemberNames(e){const t=this.#e.get(e);return!t||!t.members?[]:t.members.map(n=>n.name?n.name:n.userEmail?n.userEmail.split("@")[0]:"Inconnu").filter(Boolean)}async fetchTeam(e){try{const t=await Hk(e),n=await Qk(e),a={$id:t.$id,name:t.name,total:t.total,$createdAt:t.$createdAt,$updatedAt:t.$updatedAt,prefs:t.prefs,members:n.memberships.map(s=>({$id:s.$id,id:s.userId,name:s.userName,userEmail:s.userEmail,roles:s.roles,joinedAt:s.joined,confirmed:s.confirm}))};return this.#e.set(e,a),a}catch(t){return console.error(`[NativeTeamsStore] Error fetching team ${e}:`,t),null}}async createTeam(e,t){const n=await Uk(e);t&&Object.keys(t).length>0&&await Yv(n.$id,t);const a=await this.fetchTeam(n.$id);if(!a)throw new Error("Erreur aprÃ¨s crÃ©ation d'Ã©quipe");return a}async updateTeam(e,t,n){t&&await Vk(e,t),n&&Object.keys(n).length>0&&await Yv(e,n),await this.fetchTeam(e)}async deleteTeam(e){await Wk(e),this.#e.delete(e)}async inviteTeamMember(e,t,n){await Kk(e,t,n),await this.fetchTeam(e)}async removeMember(e,t){await Gk(e,t),await this.fetchTeam(e)}async reload(){w(this.#t,!0);try{this.#e.clear(),await this.#i()}finally{w(this.#t,!1)}}destroy(){this.#e.clear(),w(this.#s,!1),this.#n=!1}}const At=new Zk;class Yk{routes=[];#e=ae("");get currentPath(){return o(this.#e)}set currentPath(e){w(this.#e,e,!0)}#t=ae(ot({}));get currentParams(){return o(this.#t)}set currentParams(e){w(this.#t,e,!0)}#r=ae(ot({}));get currentQuery(){return o(this.#r)}set currentQuery(e){w(this.#r,e,!0)}currentRouteMatch=null;isNavigating=!1;dynamicGuards=new Map;constructor(){this.currentPath=this.getHashPath(),this.updateQueryParams(),window.addEventListener("hashchange",()=>{const e=this.getHashPath();this.handleHashChange(e)})}addRoute(e,t,n){this.routes.push({path:e,component:t,guards:n})}registerRouteGuard(e,t){return this.dynamicGuards.set(e,t),()=>{this.dynamicGuards.delete(e)}}async handleHashChange(e){if(this.isNavigating)return;this.updateQueryParams();const t={path:this.currentPath,params:this.currentParams,query:this.currentQuery},n={path:e,params:{},query:this.currentQuery},a=this.dynamicGuards.get(t.path);if(a?.beforeLeave)try{if(!await a.beforeLeave(t,n)){console.log("[Router] Navigation annulÃ©e par beforeLeave (guard dynamique)"),window.location.hash=t.path;return}}catch(i){console.error("[Router] Erreur dans beforeLeave (guard dynamique):",i)}if(this.currentRouteMatch?.guards?.beforeLeave)try{if(!await this.currentRouteMatch.guards.beforeLeave(t,n)){console.log("[Router] Navigation annulÃ©e par beforeLeave (guard statique)"),window.location.hash=t.path;return}}catch(i){console.error("[Router] Erreur dans beforeLeave (guard statique):",i)}const s=this.findRouteMatch(e);if(!s){this.currentPath=e,this.currentParams={},this.currentRouteMatch=null;return}if(n.params=s.params,s.guards?.beforeEnter)try{if(!await s.guards.beforeEnter(n,t)){console.log("[Router] Navigation annulÃ©e par beforeEnter"),window.location.hash=t.path;return}}catch(i){console.error("[Router] Erreur dans beforeEnter:",i)}this.currentPath=e,this.currentParams=s.params,this.currentRouteMatch=s}async navigate(e,t){if(!this.isNavigating){this.isNavigating=!0;try{const n={path:this.currentPath,params:this.currentParams,query:this.currentQuery},a=this.findRouteMatch(e),s={path:e,params:a?.params||{},query:t||{}};if(this.currentRouteMatch?.guards?.beforeLeave&&!await this.currentRouteMatch.guards.beforeLeave(n,s)){console.log("[Router] Navigation annulÃ©e par beforeLeave");return}if(a?.guards?.beforeEnter&&!await a.guards.beforeEnter(s,n)){console.log("[Router] Navigation annulÃ©e par beforeEnter");return}const i=t?"?"+new URLSearchParams(t).toString():"",u="#"+(e.startsWith("/")?e:"/"+e)+i;window.location.hash=u}finally{this.isNavigating=!1}}}findRouteMatch(e){for(const t of this.routes){const n=this.matchRoute(t.path,e);if(n)return{component:t.component,params:n.params,query:this.currentQuery,guards:t.guards}}return null}async match(){const e=this.findRouteMatch(this.currentPath);return e&&(this.currentParams=e.params,this.currentRouteMatch=e),e}matchRoute(e,t){if(e instanceof RegExp){const u=t.match(e);return u?{params:u.groups||{}}:null}const n=[],a=e.replace(/:([^/]+)/g,(u,l)=>(n.push(l),"([^/]+)")),s=new RegExp(`^${a}$`),i=t.match(s);if(i){const u={};return n.forEach((l,c)=>{u[l]=i[c+1]}),{params:u}}return null}getHashPath(){return window.location.hash.slice(1).split("?")[0]||"/"}updateQueryParams(){const t=window.location.hash.slice(1).split("?")[1],n={};t&&new URLSearchParams(t).forEach((s,i)=>{n[i]=s}),this.currentQuery=n}get path(){return this.currentPath}get params(){return this.currentParams}get query(){return this.currentQuery}}const zt=new Yk;function ct(r,e){zt.navigate(r,e)}function xf(r){return zt.query[r]}class Xk{isMobileQuery=new Nv("max-width: 768px");isDesktopQuery=new Nv("min-width: 1024px");#e=ae(null);#t=ae(ot([]));#r=ae(!1);#s=ae(null);#n=ae(!1);get user(){return o(this.#e)}get userId(){return o(this.#e)?.$id??null}get userEmail(){return o(this.#e)?.email??null}get userTeams(){return o(this.#t)}get isAuthenticated(){return o(this.#e)!==null}get authLoading(){return o(this.#r)}get authError(){return o(this.#s)}get authInitialized(){return o(this.#n)}async initializeAuth(){if(o(this.#n)){console.log("[GlobalState] Authentification dÃ©jÃ  initialisÃ©e");return}console.log("[GlobalState] Initialisation de l'authentification..."),w(this.#r,!0),w(this.#s,null);try{const{account:e}=await vt();w(this.#e,await e.get(),!0),localStorage.setItem("appwrite-user-name",o(this.#e).name),localStorage.setItem("appwrite-user-email",o(this.#e).email),localStorage.setItem("appwrite-user-id",o(this.#e).$id),await At.initialize(),w(this.#t,At.myTeams.map(t=>t.$id),!0),console.log(`[GlobalState] AuthentifiÃ©: ${o(this.#e).name} (${o(this.#t).length} Ã©quipes)`)}catch(e){w(this.#e,null),w(this.#t,[],!0),w(this.#s,e instanceof Error?e.message:"Erreur d'authentification",!0),console.log("[GlobalState] Utilisateur non connectÃ©")}finally{w(this.#r,!1),w(this.#n,!0)}}async refreshAuthAfterLogin(){console.log("[GlobalState] RÃ©initialisation aprÃ¨s login..."),w(this.#r,!0),w(this.#s,null);try{const{account:e}=await vt();w(this.#e,await e.get(),!0),localStorage.setItem("appwrite-user-name",o(this.#e).name),localStorage.setItem("appwrite-user-email",o(this.#e).email),localStorage.setItem("appwrite-user-id",o(this.#e).$id),await At.initialize(),w(this.#t,At.myTeams.map(t=>t.$id),!0),console.log(`[GlobalState] RÃ©initialisÃ© aprÃ¨s login: ${o(this.#e).name} (${o(this.#t).length} Ã©quipes)`)}catch(e){console.error("[GlobalState] Erreur lors de la rÃ©initialisation:",e),w(this.#s,e instanceof Error?e.message:"Erreur de rÃ©initialisation",!0)}finally{w(this.#r,!1)}}async logout(){try{const{account:e}=await vt();await e.deleteSession({sessionId:"current"}),Rk(),localStorage.removeItem("appwrite-user-name"),localStorage.removeItem("appwrite-user-email"),localStorage.removeItem("appwrite-user-id"),w(this.#e,null),w(this.#t,[],!0),w(this.#n,!1),console.log("[GlobalState] DÃ©connexion rÃ©ussie")}catch(e){throw console.error("[GlobalState] Erreur lors de la dÃ©connexion:",e),e}}async refreshTeams(){if(!o(this.#e)){console.warn("[GlobalState] Impossible de rafraÃ®chir les Ã©quipes: utilisateur non connectÃ©");return}try{await At.syncFromRemote();const e=At.myTeams.map(t=>t.$id);(e.length>0||o(this.#t).length===0)&&(w(this.#t,e,!0),console.log(`[GlobalState] Ãquipes rafraÃ®chies: ${o(this.#t).length}`))}catch(e){console.error("[GlobalState] Erreur lors du rafraÃ®chissement des Ã©quipes:",e)}}isTeamOwner(e){if(!o(this.#e))return!1;const t=At.myTeams.find(a=>a.$id===e);return t?t.members.find(a=>a.id===o(this.#e).$id)?.roles?.includes("owner")??!1:!1}hasTeamRole(e,t){if(!o(this.#e))return!1;const n=At.myTeams.find(s=>s.$id===e);return n?n.members.find(s=>s.id===o(this.#e).$id)?.roles?.includes(t)??!1:!1}#a=V(()=>{const e=zt.path,t=zt.params.mainid||zt.params.mainId;return e.startsWith("/products/")&&t?t:null});get currentMainId(){return o(this.#a)}setCurrentMainId(e){w(this.#a,e),console.log(`[GlobalState] currentMainId mis Ã  jour: ${e}`)}get isMobile(){return this.isMobileQuery.current}get isDesktop(){return this.isDesktopQuery.current}get userName(){return o(this.#e)?.name||localStorage.getItem("appwrite-user-name")||""}get toasts(){return rt.toasts}get toast(){return rt}#i=ae(ot({isOpen:!1,conflicts:[]}));get modalOverride(){return o(this.#i)}set modalOverride(e){w(this.#i,e,!0)}#c=ae(ot({isOpen:!1}));get modal(){return o(this.#c)}set modal(e){w(this.#c,e,!0)}#d=ae(ot({isRunning:!1,name:"",progress:0}));get backgroundOperation(){return o(this.#d)}set backgroundOperation(e){w(this.#d,e,!0)}#u=ae(ot({isOpen:!1}));get authModal(){return o(this.#u)}set authModal(e){w(this.#u,e,!0)}}const Ee=new Xk;class e6{#e=ae("survolez des Ã©lÃ©ment pour obtenir de l'aide");get msg(){return o(this.#e)}set msg(e){w(this.#e,e,!0)}#t=ae(!0);get isExpanded(){return o(this.#t)}set isExpanded(e){w(this.#t,e,!0)}get help(){return this.msg}set help(e){this.msg=e}reset=()=>{this.msg="survolez des Ã©lÃ©ment pour obtenir de l'aide"};toggle=()=>{this.isExpanded=!this.isExpanded};expand=()=>{this.isExpanded=!0};collapse=()=>{this.isExpanded=!1}}const Vt=new e6;let Bi=(r=21)=>crypto.getRandomValues(new Uint8Array(r)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");function t6(r){return Dp(r,{context:"parseEventMeals",itemFallback:(e,t)=>(console.warn(`[parseEventMeals] Meal ${t} invalide, utilisation d'un fallback`,e),{id:`unknown-${t}`,name:"Repas inconnu",date:new Date().toISOString(),guests:1,recipes:[]})})}function r6(r){return Dp(r,{context:"parseEventContributors",itemFallback:(e,t)=>(console.warn(`[parseEventContributors] Contributor ${t} invalide, utilisation d'un fallback`,e),{id:typeof e=="string"?e:`unknown-${t}`,status:"accepted",invitedAt:new Date().toISOString()})})}function n6(r){return Dp(r,{context:"parseEventTodos",itemFallback:(e,t)=>(console.warn(`[parseEventTodos] Todo ${t} invalide, utilisation d'un fallback`,e),{id:`unknown-${t}`,taskName:"TÃ¢che invalide",taskDescription:null,dueDate:null,priority:null,status:null,taskOn:null,requiredPeopleNb:1,assignedTo:null})})}class a6{dbName="events-cache";db=null;version=2;EVENTS_STORE="events";METADATA_STORE="metadata";POSTER_CONFIGS_STORE="poster-configs";LAST_SYNC_KEY="lastSync";async open(){if(this.db)return;const e=()=>new Promise((i,u)=>{const l=indexedDB.open(this.dbName,this.version);l.onerror=()=>u(l.error),l.onsuccess=()=>i(l.result),l.onupgradeneeded=c=>{const f=c.target.result;f.objectStoreNames.contains(this.EVENTS_STORE)||(f.createObjectStore(this.EVENTS_STORE,{keyPath:"$id"}),console.log("[EventsIDBCache] Object store 'events' crÃ©Ã©")),f.objectStoreNames.contains(this.METADATA_STORE)||(f.createObjectStore(this.METADATA_STORE,{keyPath:"key"}),console.log("[EventsIDBCache] Object store 'metadata' crÃ©Ã©")),f.objectStoreNames.contains(this.POSTER_CONFIGS_STORE)||(f.createObjectStore(this.POSTER_CONFIGS_STORE,{keyPath:"eventId"}),console.log("[EventsIDBCache] Object store 'poster-configs' crÃ©Ã©"))}});let t=await e();const n=t.objectStoreNames.contains(this.EVENTS_STORE),a=t.objectStoreNames.contains(this.METADATA_STORE),s=t.objectStoreNames.contains(this.POSTER_CONFIGS_STORE);(!n||!a||!s)&&(console.warn(`[EventsIDBCache] Base incomplÃ¨te dÃ©tectÃ©e (events=${n}, metadata=${a}, posters=${s}), suppression et recrÃ©ation...`),t.close(),await new Promise((i,u)=>{const l=indexedDB.deleteDatabase(this.dbName);l.onsuccess=()=>i(),l.onerror=()=>u(l.error),l.onblocked=()=>{console.warn("[EventsIDBCache] Suppression bloquÃ©e, rÃ©essai...")}}),t=await e()),this.db=t,console.log(`[EventsIDBCache] Base ouverte: ${this.dbName}`)}async loadEvents(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.EVENTS_STORE,"readonly").objectStore(this.EVENTS_STORE).getAll();s.onsuccess=()=>{const i=new Map;s.result.forEach(u=>{i.set(u.$id,u)}),console.log(`[EventsIDBCache] ${i.size} Ã©vÃ©nements chargÃ©s`),e(i)},s.onerror=()=>t(s.error)})}async saveEvents(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const a=this.db.transaction(this.EVENTS_STORE,"readwrite"),s=a.objectStore(this.EVENTS_STORE);s.clear(),e.forEach(i=>{s.put(i)}),a.oncomplete=()=>{console.log(`[EventsIDBCache] ${e.size} Ã©vÃ©nements sauvegardÃ©s`),t()},a.onerror=()=>n(a.error)})}async saveEvent(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const i=this.db.transaction(this.EVENTS_STORE,"readwrite").objectStore(this.EVENTS_STORE).put(e);i.onsuccess=()=>{console.log(`[EventsIDBCache] ÃvÃ©nement ${e.$id} sauvegardÃ©`),t()},i.onerror=()=>n(i.error)})}async deleteEvent(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const i=this.db.transaction(this.EVENTS_STORE,"readwrite").objectStore(this.EVENTS_STORE).delete(e);i.onsuccess=()=>{console.log(`[EventsIDBCache] ÃvÃ©nement ${e} supprimÃ©`),t()},i.onerror=()=>n(i.error)})}async loadPosterConfig(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const s=this.db.transaction(this.POSTER_CONFIGS_STORE,"readwrite").objectStore(this.POSTER_CONFIGS_STORE),i=s.get(e);i.onsuccess=()=>{const u=i.result;if(!u){t(null);return}if(u.config&&!u.current){console.log(`[EventsIDBCache] Migration config affiche V1 -> V2 pour ${e}`);const l={current:u.config,versions:[]};s.put({eventId:e,...l,updatedAt:new Date().toISOString()}),t(l)}else u.current?t({current:u.current,versions:u.versions}):t(null)},i.onerror=()=>n(i.error)})}async savePosterConfig(e,t){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,a)=>{const u=this.db.transaction(this.POSTER_CONFIGS_STORE,"readwrite").objectStore(this.POSTER_CONFIGS_STORE).put({eventId:e,...t,updatedAt:new Date().toISOString()});u.onsuccess=()=>{console.log(`[EventsIDBCache] Config affiche (container) pour ${e} sauvegardÃ©e`),n()},u.onerror=()=>a(u.error)})}async loadMetadata(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.METADATA_STORE,"readonly").objectStore(this.METADATA_STORE).getAll();s.onsuccess=()=>{const i=s.result,u={lastSync:null};i.forEach(l=>{l.key===this.LAST_SYNC_KEY&&(u.lastSync=l.value)}),console.log(`[EventsIDBCache] Metadata chargÃ©es: lastSync=${u.lastSync}`),e(u)},s.onerror=()=>t(s.error)})}async saveMetadata(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite");a.objectStore(this.METADATA_STORE).put({key:this.LAST_SYNC_KEY,value:e.lastSync}),a.oncomplete=()=>{console.log("[EventsIDBCache] Metadata sauvegardÃ©es"),t()},a.onerror=()=>n(a.error)})}async clear(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const n=this.db.transaction([this.EVENTS_STORE,this.METADATA_STORE,this.POSTER_CONFIGS_STORE],"readwrite");n.objectStore(this.EVENTS_STORE).clear(),n.objectStore(this.METADATA_STORE).clear(),n.objectStore(this.POSTER_CONFIGS_STORE).clear(),n.oncomplete=()=>{console.log("[EventsIDBCache] Cache vidÃ©"),e()},n.onerror=()=>t(n.error)})}close(){this.db&&(this.db.close(),this.db=null,console.log("[EventsIDBCache] Connexion fermÃ©e"))}}async function s6(){const r=new a6;return await r.open(),r}class i6{#e=new Kr;#t=ae(!1);#r=ae(null);#s=ae(!1);#n=null;#a=null;#i=[];get loading(){return o(this.#t)}get error(){return o(this.#r)}get isInitialized(){return o(this.#s)}get events(){return Array.from(this.#e.values())}get count(){return this.#e.size}#c=V(()=>{const e=new Date;return e.setHours(0,0,0,0),Array.from(this.#e.values()).filter(t=>!t.dateStart||!t.dateEnd?!1:new Date(t.dateEnd)>=e)});#d=V(()=>{const e=new Date;return Array.from(this.#e.values()).filter(t=>t.dateEnd?new Date(t.dateEnd)<e:!1)});get currentEvents(){return o(this.#c)}get pastEvents(){return o(this.#d)}get pastEventsCount(){return o(this.#d).length}async loadCache(){if(o(this.#s)){console.log("[EventsStore] Cache dÃ©jÃ  chargÃ©");return}console.log("[EventsStore] Chargement du cache..."),w(this.#t,!0),w(this.#r,null);try{if(!Ee.isAuthenticated)throw new Error("Utilisateur non connectÃ©");this.#a=Ee.userId,this.#i=Ee.userTeams,this.#n=await s6();const e=await this.#n.loadEvents();if(e.size>0){console.log(`[EventsStore] ${e.size} Ã©vÃ©nements chargÃ©s depuis le cache`),this.#e.clear();for(const[t,n]of e)this.#e.set(t,n)}w(this.#s,!0),console.log(`[EventsStore] Cache chargÃ©: ${this.#e.size} Ã©vÃ©nements`)}catch(e){const t=e instanceof Error?e.message:"Erreur lors du chargement du cache";throw w(this.#r,t,!0),console.error("[EventsStore]",t,e),e}finally{w(this.#t,!1)}}async syncFromRemote(){if(!this.#n){console.warn("[EventsStore] Impossible de sync : cache non initialisÃ©");return}console.log("[EventsStore] Synchronisation depuis Appwrite..."),w(this.#t,!0);try{await this.#f(),await this.#n.saveEvents(this.#e),await this.#n.saveMetadata({lastSync:new Date().toISOString()}),console.log(`[EventsStore] Synchronisation terminÃ©e: ${this.#e.size} Ã©vÃ©nements`)}catch(e){const t=e instanceof Error?e.message:"Erreur lors de la synchronisation";throw w(this.#r,t,!0),console.error("[EventsStore]",t,e),e}finally{w(this.#t,!1)}}async setupRealtime(){if(!this.#n){console.warn("[EventsStore] Impossible de setup realtime : cache non initialisÃ©");return}if(this.#l){console.log("[EventsStore] Realtime dÃ©jÃ  configurÃ©");return}console.log("[EventsStore] Configuration du realtime..."),await this.#o(),this.#l=!0}#u=null;#l=!1;async initialize(){if(o(this.#s)){console.log("[EventsStore] DÃ©jÃ  initialisÃ©");return}return this.#u?(console.log("[EventsStore] Initialisation dÃ©jÃ  en cours, attente..."),this.#u):(console.log("[EventsStore] Initialisation complÃ¨te..."),w(this.#t,!0),w(this.#r,null),this.#u=(async()=>{try{await this.loadCache(),await this.syncFromRemote(),await this.setupRealtime(),console.log(`[EventsStore] Initialisation complÃ©tÃ©e: ${this.#e.size} Ã©vÃ©nements`)}catch(e){const t=e instanceof Error?e.message:"Erreur lors de l'initialisation";throw w(this.#r,t,!0),console.error("[EventsStore]",t,e),e}finally{w(this.#t,!1),this.#u=null}})(),this.#u)}async#f(e=null){try{if(console.log("[EventsStore] Chargement des Ã©vÃ©nements..."),!this.#a){console.warn("[EventsStore] userId non dÃ©fini, impossible de charger les Ã©vÃ©nements");return}if(!e){const n=new Date;n.setHours(0,0,0,0);const a=new Date(n);a.setDate(a.getDate()-15),e=a.toISOString()}const{events:t}=await Jv(this.#a,e);t.forEach(n=>{this.#e.set(n.$id,this.#h(n))}),console.log(`[EventsStore] ${t.length} Ã©vÃ©nements chargÃ©s (filtrÃ©s pour userId: ${this.#a}, date >= ${e})`)}catch(t){throw console.error("[EventsStore] Erreur lors du chargement:",t),t}}#h(e){return{...e,meals:t6(e.meals),contributors:r6(e.contributors),todos:n6(e.todos)}}async#o(){try{console.log("[EventsStore] Activation du Realtime...");const e=Aa();Pn.register([`databases.${e}.collections.${Oi}.documents`],async t=>{const n=t.events.some(s=>s.includes(".create"))?"create":t.events.some(s=>s.includes(".delete"))?"delete":"update",a=t.payload;if(console.log(`[EventsStore] â¡ï¸ Realtime RECEIVED: ${n} pour ${a.$id}`,{name:a.name,updatedAt:a.$updatedAt}),n==="create"||n==="update"){const s=this.#h(a);this.#e.set(a.$id,s),this.#n&&await this.#n.saveEvent(s)}else n==="delete"&&(this.#e.delete(a.$id),this.#n&&await this.#n.deleteEvent(a.$id))}),console.log("[EventsStore] Realtime enregistrÃ© auprÃ¨s du manager")}catch(e){console.error("[EventsStore] Erreur lors de la configuration du realtime:",e)}}getEventById(e){return this.#e.get(e)||null}async fetchEvent(e){try{const t=await Bk(e);if(t){const n=this.#h(t);return this.#e.set(e,n),n}return null}catch(t){return console.error(`[EventsStore] Erreur lors du fetch de ${e}:`,t),null}}getEventsByDateRange(e,t){return this.events.filter(n=>n.dateStart&&n.dateEnd&&n.dateStart>=e&&n.dateEnd<=t)}canEditEvent(e){if(!this.#a)return!1;const t=this.#e.get(e);return t?!!(t.createdBy===this.#a||t.teams?.some(n=>this.#i.includes(n))||t.contributors&&t.contributors.some(n=>n.id===this.#a&&n.status==="accepted")):!1}canUserEditEvent(e,t,n){if(!t)return!1;const a=this.#e.get(e);return a?!!(a.createdBy===t||a.teams?.length&&n?.length&&a.teams.some(s=>n.includes(s))||a.contributors&&a.contributors.some(s=>s.id===t&&s.status==="accepted")):!1}async createEvent(e){if(!Ee.userId)throw new Error("Utilisateur non connectÃ©");const t=await Fk(e,Ee.userId),n=this.#h(t);return this.#e.set(t.$id,n),this.#n&&await this.#n.saveEvent(n),console.log(`[EventsStore] ÃvÃ©nement crÃ©Ã©: ${t.$id}`),n}async createEventWithTeams(e,t=[],n=!0){if(!Ee.userId)throw new Error("Utilisateur non connectÃ©");const a=await zk(e,Ee.userId,t,n),s=this.#h(a);return this.#e.set(a.$id,s),this.#n&&await this.#n.saveEvent(s),console.log(`[EventsStore] ÃvÃ©nement crÃ©Ã© avec ${t.length} team(s): ${a.$id}`),s}async updateEvent(e,t){const n=await Zv(e,t),a=this.#h(n);return this.#e.set(e,a),this.#n&&await this.#n.saveEvent(a),console.log(`[EventsStore] ÃvÃ©nement mis Ã  jour: ${e}`),a}async updateEventStatus(e,t){try{await Zv(e,{status:t});const n=this.#e.get(e);n&&(n.status=t),console.log(`[EventsStore] Statut mis Ã  jour: ${e} -> ${t}`)}catch(n){throw console.error(`[EventsStore] Erreur mise Ã  jour statut ${e}:`,n),n}}async deleteEvent(e){await qk(e),this.#e.delete(e),this.#n&&await this.#n.deleteEvent(e),console.log(`[EventsStore] ÃvÃ©nement supprimÃ©: ${e}`)}getContributors(e){const t=this.#e.get(e);return t?t.contributors:[]}getContributorStatus(e){const t=this.#e.get(e);if(!t)return"";const n=t.contributors.filter(a=>a.id===this.#a);return n.length>0?n[0].status:""}async removeContributor(e,t){try{const n=this.#e.get(e);if(!n)throw new Error("ÃvÃ©nement introuvable");const{removeUserFromEvent:a}=await Jl(async()=>{const{removeUserFromEvent:i}=await import("./appwrite-functions.js");return{removeUserFromEvent:i}},[]);await a(e,t);const s=n.contributors.filter(i=>i.id!==t&&i.email!==t);return n.contributors.length===s.length?n:await this.updateEvent(e,{contributors:s})}catch(n){throw console.error("[EventsStore] Erreur suppression contributeur:",n),n}}async inviteParticipants(e,t){try{const n=this.#e.get(e);if(!n)throw new Error("ÃvÃ©nement introuvable");const{teamIds:a=[],emails:s=[],userIds:i=[],sendEmailToExistingMembers:u=!0}=t;if(a.length===0&&s.length===0&&i.length===0)return console.log("[EventsStore] Aucun participant Ã  inviter"),n;const{inviteParticipantsToEvent:l}=await Jl(async()=>{const{inviteParticipantsToEvent:m}=await import("./appwrite-functions.js");return{inviteParticipantsToEvent:m}},[]),c=await l(e,n.name,{teamIds:a,emails:s,userIds:i,sendEmailToExistingMembers:u});console.log(`[EventsStore] Invitation result: ${c.processed} traitÃ©s`);const f=a.length>0?2e3:500;await new Promise(m=>setTimeout(m,f));const h=await this.fetchEvent(e);if(!h)throw new Error("Impossible de recharger l'Ã©vÃ©nement");return h}catch(n){throw console.error("[EventsStore] Erreur invitation participants:",n),n}}async removeTeam(e,t){try{const{removeTeamFromEvent:n}=await Jl(async()=>{const{removeTeamFromEvent:s}=await import("./appwrite-functions.js");return{removeTeamFromEvent:s}},[]);await n(e,t),await new Promise(s=>setTimeout(s,1e3));const a=await this.fetchEvent(e);if(!a)throw new Error("Impossible de recharger l'Ã©vÃ©nement");return console.log(`[EventsStore] Team ${t} retirÃ©e de l'Ã©vÃ©nement ${e}`),a}catch(n){throw console.error("[EventsStore] Erreur retrait team:",n),n}}async updateContributorStatus(e,t,n){try{const a=this.#e.get(e);if(!a)throw new Error("ÃvÃ©nement introuvable");const s=[...a.contributors],i=s.findIndex(u=>u.id===t||u.email===t);if(i===-1)throw new Error("Contributeur introuvable");return s[i]={...s[i],status:n,respondedAt:new Date().toISOString()},await this.updateEvent(e,{contributors:s})}catch(a){throw console.error("[EventsStore] Erreur maj statut:",a),a}}getMeals(e){const t=this.#e.get(e);return t?t.meals:[]}async addMeal(e,t){try{const n=this.#e.get(e);if(!n)throw new Error("ÃvÃ©nement introuvable");const a=[...n.meals,t];return await this.updateEvent(e,{meals:a})}catch(n){throw console.error("[EventsStore] Erreur ajout meal:",n),n}}async updateMeal(e,t,n){try{const a=this.#e.get(e);if(!a)throw new Error("ÃvÃ©nement introuvable");const s=[...a.meals];if(t<0||t>=s.length)throw new Error("Index invalide");return s[t]=n,await this.updateEvent(e,{meals:s})}catch(a){throw console.error("[EventsStore] Erreur maj meal:",a),a}}async deleteMeal(e,t){try{const n=this.#e.get(e);if(!n)throw new Error("ÃvÃ©nement introuvable");const a=[...n.meals];if(t<0||t>=a.length)throw new Error("Index invalide");return a.splice(t,1),await this.updateEvent(e,{meals:a})}catch(n){throw console.error("[EventsStore] Erreur suppression meal:",n),n}}getTodos(e){const t=this.#e.get(e);return t?t.todos:[]}async addTodo(e,t){try{const n=this.#e.get(e);if(!n)throw new Error("ÃvÃ©nement introuvable");const a=[...n.todos,t];return await this.updateEvent(e,{todos:a})}catch(n){throw console.error("[EventsStore] Erreur ajout todo:",n),n}}async addTodos(e,t){try{const n=this.#e.get(e);if(!n)throw new Error("ÃvÃ©nement introuvable");const a=[...n.todos,...t];return await this.updateEvent(e,{todos:a})}catch(n){throw console.error("[EventsStore] Erreur ajout todos:",n),n}}async updateTodoStatus(e,t,n){try{const a=this.#e.get(e);a&&(a.todos=a.todos.map(u=>u.id===t?{...u,status:n,updatedAt:new Date().toISOString()}:u));const{functions:s,config:i}=await vt();await s.createExecution(i.functions.enkaData,JSON.stringify({action:"update_todo_status",data:{eventId:e,todoId:t,status:n}}),!1,"/",Iu.POST)}catch(a){throw console.error("[EventsStore] Erreur updateTodoStatus:",a),a}}async toggleTodoAssignment(e,t){try{const n=Ee.userId;if(!n)throw new Error("Utilisateur non connectÃ©");const a=this.#e.get(e);if(a){const u=a.todos.find(l=>l.id===t);if(u){let l=[];Array.isArray(u.assignedTo)?l=[...u.assignedTo]:u.assignedTo&&(l=[u.assignedTo]),l.includes(n)?l=l.filter(c=>c!==n):l.push(n),a.todos=a.todos.map(c=>c.id===t?{...c,assignedTo:l.length>0?l:null,updatedAt:new Date().toISOString()}:c)}}const{functions:s,config:i}=await vt();await s.createExecution(i.functions.enkaData,JSON.stringify({action:"toggle_todo_assignment",data:{eventId:e,todoId:t}}),!1,"/",Iu.POST)}catch(n){throw console.error("[EventsStore] Erreur toggleTodoAssignment:",n),n}}async updateTodo(e,t,n){try{const a=this.#e.get(e);if(!a)throw new Error("ÃvÃ©nement introuvable");const s=a.todos.map(i=>i.id===t?{...i,...n,updatedAt:new Date().toISOString()}:i);return await this.updateEvent(e,{todos:s})}catch(a){throw console.error("[EventsStore] Erreur maj todo:",a),a}}async deleteTodo(e,t){try{const n=this.#e.get(e);if(!n)throw new Error("ÃvÃ©nement introuvable");const a=n.todos.filter(s=>s.id!==t);return await this.updateEvent(e,{todos:a})}catch(n){throw console.error("[EventsStore] Erreur suppression todo:",n),n}}async loadAllPastEvents(){try{if(console.log("[EventsStore] Chargement de TOUS les Ã©vÃ©nements..."),!this.#a){console.warn("[EventsStore] userId non dÃ©fini");return}w(this.#t,!0);const{events:e}=await Jv(this.#a,null);e.forEach(t=>{this.#e.set(t.$id,this.#h(t))}),console.log(`[EventsStore] ${e.length} Ã©vÃ©nements chargÃ©s (sans filtre de date, total: ${this.#e.size})`)}catch(e){throw console.error("[EventsStore] Erreur lors du chargement:",e),e}finally{w(this.#t,!1)}}calculateScaleFactor(e,t){return e/t}async loadPosterConfig(e){return this.#n?await this.#n.loadPosterConfig(e):null}async savePosterConfig(e,t){if(!this.#n)return;const a=await this.#n.loadPosterConfig(e)||{versions:[]};a.current=t,await this.#n.savePosterConfig(e,a)}async createPosterVersion(e,t,n){if(!this.#n)return;const s=await this.#n.loadPosterConfig(e)||{current:t,versions:[]};if(s.versions||(s.versions=[]),s.versions.length>=3)throw new Error("Limite de 3 versions atteinte");const i={id:crypto.randomUUID(),name:n,config:JSON.parse(JSON.stringify(t)),createdAt:new Date().toISOString()};return s.versions.push(i),s.current=t,await this.#n.savePosterConfig(e,s),i}async deletePosterVersion(e,t){if(!this.#n)return;const n=await this.#n.loadPosterConfig(e);!n||!n.versions||(n.versions=n.versions.filter(a=>a.id!==t),await this.#n.savePosterConfig(e,n))}async reload(){console.log("[EventsStore] Rechargement..."),w(this.#t,!0),w(this.#r,null);try{this.#e.clear(),await this.#f(),console.log("[EventsStore] Rechargement complÃ©tÃ©")}catch(e){const t=e instanceof Error?e.message:"Erreur lors du rechargement";throw w(this.#r,t,!0),console.error("[EventsStore]",t,e),e}finally{w(this.#t,!1)}}async hardReset(){console.log("[EventsStore] ð HARD RESET - Vidage complet..."),w(this.#t,!0),w(this.#r,null);try{this.#e.clear(),this.#n&&(await this.#n.clear(),console.log("[EventsStore] Cache IDB vidÃ©")),await this.#f(),this.#n&&(await this.#n.saveEvents(this.#e),await this.#n.saveMetadata({lastSync:new Date().toISOString()}),console.log("[EventsStore] Cache IDB recrÃ©Ã©")),console.log("[EventsStore] â HARD RESET terminÃ©")}catch(e){const t=e instanceof Error?e.message:"Erreur lors du hard reset";throw w(this.#r,t,!0),console.error("[EventsStore]",t,e),e}finally{w(this.#t,!1)}}destroy(){this.#n&&(this.#n.close(),this.#n=null),this.#e.clear(),w(this.#s,!1),this.#l=!1,console.log("[EventsStore] Ressources nettoyÃ©es")}}const Nt=new i6;function tl(r){if(!r)return[];const e=[],t=r.$id;return e.push(tr.read(hr.label(t)),tr.update(hr.label(t))),e}function o6(r,e){switch(r){case"store":return{store:JSON.stringify(e)};case"who":return{who:e.names};default:throw new Error(`Unsupported update type: ${r}`)}}function u6(r,e,t){return{$id:r.$id,productHugoUuid:r.productHugoUuid,productName:r.productName,mainId:r.mainId,status:r.status||null,who:e.who!==void 0?e.who:r.who,store:e.store!==void 0?e.store:r.store,stockReel:r.stockReel||null,previousNames:r.previousNames||null,isMerged:r.isMerged||!1,mergedFrom:r.mergedFrom||null,mergeDate:r.mergeDate||null,mergeReason:r.mergeReason||null,mergedInto:r.mergedInto||null,totalNeededOverride:r.totalNeededOverride||null,$permissions:[tr.read(hr.label(t)),tr.update(hr.label(t))]}}function l6(r,e){return{$id:r.$id,mainId:r.mainId,productHugoUuid:r.productHugoUuid,productName:r.productName,...e}}async function c6(r){const{account:e}=await vt(),t=await e.get();return{...r,updatedBy:t.name}}function Cp(){return localStorage.getItem("appwrite-user-name")||""}async function d6(r,e,t=100){try{const{tables:n,config:a}=await vt(),s=await n.listRows({databaseId:a.databaseId,tableId:a.collections.purchases,queries:[Qe.greaterThan("$updatedAt",e),Qe.equal("mainId",r),Qe.limit(t)]});return console.log(`[Appwrite Interactions] ${s.rows.length} purchases modifiÃ©s chargÃ©s`),s.rows}catch(n){return console.error("[Appwrite Interactions] Erreur chargement purchases modifiÃ©s:",n),[]}}async function f6(r,e){const{lastSync:t,limit:n=1e3}=e;try{const{tables:a,config:s}=await vt();if(!t){console.log("[Appwrite Interactions] Chargement complet des produits et achats");const m=(await a.listRows({databaseId:s.databaseId,tableId:s.collections.products,queries:[Qe.equal("mainId",r),Qe.limit(n)]})).rows,b=(await a.listRows({databaseId:s.databaseId,tableId:s.collections.purchases,queries:[Qe.equal("mainId",r),Qe.limit(n*2)]})).rows,y=new Map;return m.forEach(x=>{y.set(x.$id,{...x,purchases:[]})}),b.forEach(x=>{x.products?.forEach(k=>{const S=y.get(k);S&&(S.purchases||(S.purchases=[]),S.purchases.push(x))})}),console.log(`[Appwrite Interactions] ${m.length} produits chargÃ©s avec ${b.length} achats`),Array.from(y.values())}const i=await a.listRows({databaseId:s.databaseId,tableId:s.collections.products,queries:[Qe.greaterThan("$updatedAt",t),Qe.equal("mainId",r),Qe.limit(n)]}),u=i.rows,c=(await a.listRows({databaseId:s.databaseId,tableId:s.collections.purchases,queries:[Qe.greaterThan("$updatedAt",t),Qe.equal("mainId",r),Qe.limit(n*2)]})).rows,f=new Map;return u.forEach(h=>{f.set(h.$id,{...h,purchases:[]})}),c.forEach(h=>{h.products?.forEach(m=>{const g=f.get(m);g&&(g.purchases||(g.purchases=[]),g.purchases.push(h))})}),i.rows.length>0&&console.log(`[Appwrite Interactions] ${i.rows.length} produits synchronisÃ©s (delta)`),Array.from(f.values())}catch(a){console.error(`[Appwrite Interactions] Erreur sync produits avec purchases pour mainId ${r}:`,a);const s=a instanceof Error?a.message:"Erreur lors de la synchronisation";throw new Error(`Ãchec de la synchronisation: ${s}`)}}async function Mo(r,e,t=!0){const{tables:n,config:a}=await vt();return t&&(e.updatedBy=Cp()),await n.updateRow({databaseId:a.databaseId,tableId:a.collections.products,rowId:r,data:e})}async function xs(r,e,t){try{const n=t(r);if(!n)throw new Error(`Produit ${r} non trouvÃ© localement pour crÃ©ation`);console.log(`[Appwrite Interactions] CrÃ©ation produit ${r} sur Appwrite...`);const a=l6(n,e),s=await c6(a),{tables:i,config:u}=await vt(),l=Nt.getEventById(s.mainId),c=tl(l),f=await i.createRow({databaseId:u.databaseId,tableId:u.collections.products,rowId:r,data:s,permissions:c});return console.log(`[Appwrite Interactions] Produit ${r} crÃ©Ã© avec permissions (labels + teams)`),f}catch(n){console.error(`[Appwrite Interactions] Erreur crÃ©ation produit ${r}:`,n);const a=n instanceof Error?n.message:"Erreur inconnue";throw new Error(`Ãchec de la crÃ©ation du produit: ${a}`)}}async function h6(r,e){try{const{tables:t,config:n}=await vt(),s=`${Gb(r.productName).substring(0,10)}_${Date.now().toString(36)}`,i={quantity:r.quantity,pF:r.pF||!1,pS:r.pS||!1},u={productHugoUuid:null,productName:r.productName,productType:r.productType||"Autre",store:r.store?JSON.stringify(r.store):null,who:r.who||[],isSynced:!0,mainId:e,status:"active",updatedBy:Cp(),stockReel:null,isMerged:!1,mergedFrom:null,mergeDate:null,mergeReason:null,mergedInto:null,totalNeededOverride:null,specs:JSON.stringify(i)};console.log(`[Appwrite Interactions] CrÃ©ation produit manuel ${s}...`,u);const l=Nt.getEventById(e),c=tl(l),f=await t.createRow({databaseId:n.databaseId,tableId:n.collections.products,rowId:s,data:u,permissions:c});return console.log(`[Appwrite Interactions] Produit manuel ${s} crÃ©Ã© avec permissions Label`),f}catch(t){throw console.error("[Appwrite Interactions] Erreur crÃ©ation produit manuel:",t),t}}async function p6(r,e){if(!r)throw new Error("ID du produit requis pour la mise Ã  jour du magasin");const t=e?JSON.stringify(e):null,n=await Mo(r,{store:t||void 0});return console.log(`[Appwrite Interactions] Magasin mis Ã  jour pour produit ${r}, nouvelle valeur:`,n.store),n}async function v6(r,e){return Mo(r,{who:e})}async function Xv(r,e){return Mo(r,{stockReel:e})}async function m6(r,e,t=!1){if(!r)throw new Error("ID du produit requis pour la mise Ã  jour de l'override");const n=JSON.stringify(e),a=await Mo(r,{totalNeededOverride:n},t);return console.log(`[Appwrite Interactions] Total override mis Ã  jour pour le produit ${r}:`,e),a}async function g6(r,e=!0){if(!r)throw new Error("ID du produit requis pour la suppression de l'override");const t=await Mo(r,{totalNeededOverride:""},e);return console.log(`[Appwrite Interactions] Total override supprimÃ© pour le produit ${r}`),t}async function b6(r,e,t){try{const n=t(r);if(!n)throw new Error(`Produit ${r} non trouvÃ© localement pour mise Ã  jour batch`);const a={};return e.stockReel!==void 0&&(a.stockReel=e.stockReel),e.who!==void 0&&(a.who=e.who),e.storeInfo!==void 0&&(a.store=JSON.stringify(e.storeInfo)),n.isSynced?(console.log(`[Appwrite Interactions] Produit ${r} dÃ©jÃ  sync, update batch normal...`),await Mo(r,a)):(console.log(`[Appwrite Interactions] Produit ${r} local, crÃ©ation batch avec upsert...`),await xs(r,a,t))}catch(n){throw console.error(`[Appwrite Interactions] Erreur lors de la mise Ã  jour batch du produit ${r}:`,n),n}}async function _6(r){const{tables:e,config:t}=await vt(),n={...r,createdBy:Cp()},a=Nt.getEventById(r.mainId),s=tl(a),i=await e.createRow(t.databaseId,t.collections.purchases,Fn.unique(),n,s);return console.log("[Appwrite Interactions] Achat crÃ©Ã© avec permissions Label:",i),i}async function Xb(r,e){try{const{tables:t,config:n}=await vt(),a=await t.updateRow(n.databaseId,n.collections.purchases,r,e);return console.log(`[Appwrite Interactions] Achat ${r} mis Ã  jour:`,e),a}catch(t){console.error(`[Appwrite Interactions] Erreur mise Ã  jour achat ${r}:`,t);const n=t instanceof Error?t.message:"Erreur inconnue";throw new Error(`Ãchec de la mise Ã  jour de l'achat: ${n}`)}}async function y6(r){try{const{tables:e,config:t}=await vt();await e.deleteRow(t.databaseId,t.collections.purchases,r),console.log(`[Appwrite Interactions] Achat ${r} supprimÃ©`)}catch(e){console.error(`[Appwrite Interactions] Erreur suppression achat ${r}:`,e);const t=e instanceof Error?e.message:"Erreur inconnue";throw new Error(`Ãchec de la suppression de l'achat: ${t}`)}}async function x6(r){if(!r?.length)return[];try{const{tables:e,config:t}=await vt(),n=await e.listRows(t.databaseId,t.collections.purchases,[Qe.equal("$id",r)]);return console.log(`[Appwrite Interactions] ${n.rows.length} purchases chargÃ©s avec relations products`),n.rows}catch(e){console.error("[Appwrite Interactions] Erreur chargement purchases avec relations:",e);const t=e instanceof Error?e.message:"Erreur inconnue";throw new Error(`Ãchec du chargement des purchases: ${t}`)}}async function e2(r,e,t,n){try{const{functions:a,config:s,account:i}=await vt(),u=Xe.currentMainId;if(!u)throw new Error("No current event - cannot determine mainId for permissions");const l=await i.get(),c=o6(t,n),f=r.map(b=>{const y=e.find(x=>x.$id===b);if(!y)throw new Error(`Product ${b} not found in products data`);return u6(y,c,u)});console.log(`[Appwrite Interactions] Lancement mise Ã  jour groupÃ©e OPTIMISÃE: ${f.length} produits, type: ${t}`);const h={operation:"batchUpdateProductsOptimized",data:{rows:f,fromUserId:l.$id}},m=await Yb(()=>a.createExecution(s.functions.batchUpdate,JSON.stringify(h),!1,"/",Iu.POST),{operationName:`batchUpdateProductsOptimized (${f.length} products, type: ${t})`,maxAutoRetries:1,autoRetryDelay:2e3});if(!m)throw new Error("OpÃ©ration annulÃ©e ou Ã©chouÃ©e aprÃ¨s tentatives de mise Ã  jour groupÃ©e optimisÃ©e");if(m.status!=="completed")throw new Error(`ExÃ©cution Ã©chouÃ©e avec statut: ${m.status}. Erreur: ${m.stderr||m.responseBody}`);const g=JSON.parse(m.responseBody);return g.success?console.log(`[Appwrite Interactions] Mise Ã  jour groupÃ©e optimisÃ©e rÃ©ussie: ${g.updatedCount} produits mis Ã  jour`):console.error("[Appwrite Interactions] Mise Ã  jour groupÃ©e optimisÃ©e Ã©chouÃ©e:",g.error),g}catch(a){console.error("[Appwrite Interactions] Erreur mise Ã  jour groupÃ©e optimisÃ©e:",a);const s=a instanceof Error?a.message:"Erreur inconnue";return{success:!1,updatedCount:r.length,updateType:t,error:s,timestamp:new Date().toISOString()}}}async function w6(r,e,t,n={}){try{const{tables:a,config:s,account:i}=await vt(),u=await i.get(),l=Nt.getEventById(r),c=tl(l),f=[];console.log("[Appwrite Interactions] Debug createQuickValidationPurchases:",{mainId:r,productId:e,productIdType:typeof e,quantities:t,options:n});for(const h of t){const m={products:[e],mainId:r,quantity:h.q,unit:h.u,status:"delivered",notes:n.notes||`Validation rapide ${new Date().toLocaleDateString("fr-FR")}`,store:n.store??null,who:u.name,price:null,orderDate:null,deliveryDate:null,createdBy:u.$id,invoiceId:n.invoiceId,invoiceTotal:null},g=await a.createRow(s.databaseId,s.collections.purchases,Fn.unique(),m,c);f.push(g)}return console.log(`[Appwrite Interactions] ${f.length} validations rapides crÃ©Ã©es avec permissions (labels + teams) pour produit ${e}`),f}catch(a){console.error("[Appwrite Interactions] Erreur crÃ©ation validation rapide:",a);const s=a instanceof Error?a.message:"Erreur inconnue";throw new Error(`Ãchec de la validation rapide: ${s}`)}}async function k6(r,e,t,n,a,s){try{const{tables:i,config:u,account:l}=await vt(),c=await l.get(),f=e||Fn.unique(),h=c.name;if(!t)throw new Error("invoiceTotal est requis pour une dÃ©pense");const m=Nt.getEventById(r),g=tl(m),b={products:[],mainId:r,quantity:1,unit:"global",status:"expense",notes:a||"",store:n??null,who:h||c.name,price:t,invoiceId:f,invoiceTotal:t,orderDate:null,deliveryDate:null,createdBy:c.$id},y=await i.createRow(u.databaseId,u.collections.purchases,Fn.unique(),b,g);return console.log("[Appwrite Interactions] DÃ©pense crÃ©Ã©e avec permissions (labels + teams):",y),y}catch(i){console.error("[Appwrite Interactions] Erreur crÃ©ation dÃ©pense:",i);const u=i instanceof Error?i.message:"Erreur inconnue";throw new Error(`Ãchec de la crÃ©ation de la dÃ©pense: ${u}`)}}async function E6(r){try{const{tables:e,config:t}=await vt(),n=await e.listRows(t.databaseId,t.collections.purchases,[Qe.equal("mainId",r),Qe.equal("status","expense"),Qe.limit(1e3)]);return console.log(`[Appwrite Interactions] ${n.rows.length} dÃ©penses globales chargÃ©es`),n.rows}catch(e){return console.error("[Appwrite Interactions] Erreur chargement dÃ©penses globales:",e),[]}}class S6{dbName;db=null;version=1;PRODUCTS_STORE="products";METADATA_STORE="metadata";LAST_SYNC_KEY="lastSync";ALL_DATES_KEY="allDates";HUGO_HASH_KEY="hugoContentHash";constructor(e){this.dbName=`products-cache-${e}`}async open(){if(!this.db)return new Promise((e,t)=>{const n=indexedDB.open(this.dbName,this.version);n.onerror=()=>t(n.error),n.onsuccess=()=>{this.db=n.result,console.log(`[IDBCache] Base ouverte: ${this.dbName}`),e()},n.onupgradeneeded=a=>{const s=a.target.result;s.objectStoreNames.contains(this.PRODUCTS_STORE)||(s.createObjectStore(this.PRODUCTS_STORE,{keyPath:"$id"}),console.log("[IDBCache] Object store 'products' crÃ©Ã©")),s.objectStoreNames.contains(this.METADATA_STORE)||(s.createObjectStore(this.METADATA_STORE,{keyPath:"key"}),console.log("[IDBCache] Object store 'metadata' crÃ©Ã© avec keyPath"))}})}async loadProducts(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.PRODUCTS_STORE,"readonly").objectStore(this.PRODUCTS_STORE).getAll();s.onsuccess=()=>{const i=new Map;s.result.forEach(u=>{i.set(u.$id,u)}),console.log(`[IDBCache] ${i.size} produits chargÃ©s`),e(i)},s.onerror=()=>t(s.error)})}async loadMetadata(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.METADATA_STORE,"readonly").objectStore(this.METADATA_STORE).getAll();s.onsuccess=()=>{const i=s.result,u={lastSync:null,allDates:[],hugoContentHash:null};i.forEach(l=>{l.key===this.LAST_SYNC_KEY?u.lastSync=l.value:l.key===this.ALL_DATES_KEY?u.allDates=l.value||[]:l.key===this.HUGO_HASH_KEY&&(u.hugoContentHash=l.value)}),console.log(`[IDBCache] Metadata chargÃ©es: lastSync=${u.lastSync}, dates=${u.allDates?.length||0}, hash=${u.hugoContentHash}`),e(u)},s.onerror=()=>t(s.error)})}async saveProducts(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const a=this.db.transaction(this.PRODUCTS_STORE,"readwrite"),s=a.objectStore(this.PRODUCTS_STORE);s.clear(),e.forEach(i=>{s.put(i)}),a.oncomplete=()=>{console.log(`[IDBCache] ${e.size} produits sauvegardÃ©s`),t()},a.onerror=()=>n(a.error)})}async saveMetadata(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite"),s=a.objectStore(this.METADATA_STORE);s.put({key:this.LAST_SYNC_KEY,value:e.lastSync}),s.put({key:this.ALL_DATES_KEY,value:e.allDates}),e.hugoContentHash!==void 0&&s.put({key:this.HUGO_HASH_KEY,value:e.hugoContentHash}),a.oncomplete=()=>{console.log("[IDBCache] Metadata sauvegardÃ©es (objets {key, value})"),t()},a.onerror=()=>n(a.error)})}async updateLastSync(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const i=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.LAST_SYNC_KEY,value:e});i.onsuccess=()=>{console.log(`[IDBCache] lastSync mis Ã  jour: ${e}`),t()},i.onerror=()=>n(i.error)})}async updateAllDates(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const i=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.ALL_DATES_KEY,value:e});i.onsuccess=()=>{console.log(`[IDBCache] allDates mis Ã  jour: ${e.length} dates`),t()},i.onerror=()=>n(i.error)})}async updateHugoContentHash(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const i=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.HUGO_HASH_KEY,value:e});i.onsuccess=()=>{console.log(`[IDBCache] hugoContentHash mis Ã  jour: ${e}`),t()},i.onerror=()=>n(i.error)})}async updateLastHugoMenuUpdate(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const i=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:"lastHugoMenuUpdate",value:e});i.onsuccess=()=>{console.log("[IDBCache] lastHugoMenuUpdate sauvegardÃ©"),t()},i.onerror=()=>n(i.error)})}async upsertProduct(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const i=this.db.transaction(this.PRODUCTS_STORE,"readwrite").objectStore(this.PRODUCTS_STORE).put(e);i.onsuccess=()=>t(),i.onerror=()=>n(i.error)})}async deleteProduct(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const i=this.db.transaction(this.PRODUCTS_STORE,"readwrite").objectStore(this.PRODUCTS_STORE).delete(e);i.onsuccess=()=>t(),i.onerror=()=>n(i.error)})}async clear(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const n=this.db.transaction([this.PRODUCTS_STORE,this.METADATA_STORE],"readwrite");n.objectStore(this.PRODUCTS_STORE).clear(),n.objectStore(this.METADATA_STORE).clear(),n.oncomplete=()=>{console.log("[IDBCache] Cache vidÃ©"),e()},n.onerror=()=>t(n.error)})}close(){this.db&&(this.db.close(),this.db=null,console.log("[IDBCache] Connexion fermÃ©e"))}}async function A6(r){const e=new S6(r);return await e.open(),e}class Uo{#e=ae(ot({}));get data(){return o(this.#e)}set data(e){w(this.#e,e,!0)}dateStore;constructor(e,t){this.data=e,this.dateStore=t}update(e){this.data=e}get $id(){return this.data.$id}get productName(){return this.data.productName}get productType(){return this.data.productType}get storeInfo(){return this.data.storeInfo}get who(){return this.data.who}get pF(){return this.data.pF}get pS(){return this.data.pS}get status(){return this.data.status}get previousNames(){return this.data.previousNames}get purchases(){return this.data.purchases}get totalNeededOverrideParsed(){return this.data.totalNeededOverrideParsed}get displayMissingQuantity(){return this.data.displayMissingQuantity}get missingQuantityArray(){return this.data.missingQuantityArray}get isSynced(){return this.data.isSynced}get byDate(){return this.data.byDate}#t=V(()=>{const e=this.dateStore.current;this.dateStore.dates;let t;if(e.start&&e.end)t=vk(this.data,e.start,e.end);else return{quantities:[],formattedQuantities:"",nbRecipes:0,totalAssiettes:0,stockResult:[],availableQuantities:[],missingQuantities:[],formattedMissingQuantities:"",formattedAvailableQuantities:"En attente",hasAvailable:!1,hasMissing:!1,concernedDates:[],recipesByDate:new Map};return{quantities:t.requiredQuantities,formattedQuantities:t.requiredQuantitiesFormatted,nbRecipes:t.totalRecipesInRange,totalAssiettes:t.totalPortionsInRange,stockResult:t.stockBalance,availableQuantities:t.availableStockQuantities,missingQuantities:t.missingStockQuantities,formattedMissingQuantities:t.missingStockFormatted,formattedAvailableQuantities:t.availableStockFormatted,hasAvailable:t.hasAvailableStock,hasMissing:t.hasMissingStock,concernedDates:t.datesInSelectedRange,recipesByDate:t.recipesByDate}});get stats(){return o(this.#t)}set stats(e){w(this.#t,e)}}class D6{#e=ae(ot([]));#t=ae(null);#r=ae(null);constructor(e=[]){w(this.#e,e,!0),this.initializeSmartRange()}get start(){return o(this.#t)}get end(){return o(this.#r)}get dates(){return o(this.#e)}#s=V(()=>[...o(this.#e)].sort()[0]);get firstAvailableDate(){return o(this.#s)}set firstAvailableDate(e){w(this.#s,e)}#n=V(()=>[...o(this.#e)].sort()[o(this.#e).length-1]);get lastAvailableDate(){return o(this.#n)}set lastAvailableDate(e){w(this.#n,e)}get current(){return{start:o(this.#t),end:o(this.#r)}}#a=V(()=>{if(o(this.#e).length===0)return!0;const e=this.lastAvailableDate?new Date(this.lastAvailableDate):new Date;return e.setHours(23,59,59,999),e<new Date});get isEventPassed(){return o(this.#a)}set isEventPassed(e){w(this.#a,e)}#i=V(()=>{if(o(this.#e).length===0)return!1;const e=new Date;return e.setHours(0,0,0,0),o(this.#e).some(t=>new Date(t)>=e)});get hasUpcomingDates(){return o(this.#i)}set hasUpcomingDates(e){w(this.#i,e)}#c=V(()=>o(this.#t)===this.firstAvailableDate&&o(this.#r)===this.lastAvailableDate);get isFullRange(){return o(this.#c)}set isFullRange(e){w(this.#c,e)}#d=V(()=>{if(o(this.#e).length===0)return!1;const e=[...o(this.#e)].sort(),t=new Date;t.setHours(0,0,0,0);const n=e.find(i=>new Date(i)>=t)||null;let a,s;if(n)a=n,s=e[e.length-1];else{const i=e[e.length-1];a=i,s=i}return o(this.#t)===a&&o(this.#r)===s});get isUpcomingRange(){return o(this.#d)}set isUpcomingRange(e){w(this.#d,e)}#u=V(()=>o(this.#e).length===1);get hasSingleDateEvent(){return o(this.#u)}set hasSingleDateEvent(e){w(this.#u,e)}#l=V(()=>!!(o(this.#t)&&o(this.#t)===o(this.#r)));get hasSingleDateInRange(){return o(this.#l)}set hasSingleDateInRange(e){w(this.#l,e)}#f=V(()=>{if(!o(this.#t)||!o(this.#r)||this.isEventPassed)return!1;const e=new Date(o(this.#t));return e.setHours(e.getHours()+Sp),e<new Date});get hasPastDatesInRange(){return o(this.#f)}set hasPastDatesInRange(e){w(this.#f,e)}setAvailableDates(e){w(this.#e,e,!0),this.initializeSmartRange()}setRange(e,t){if(!e&&!t){w(this.#t,null),w(this.#r,null);return}if(!e||!t){const s=e||t;w(this.#t,s,!0),w(this.#r,s,!0);return}const n=new Date(e)<=new Date(t)?e:t,a=new Date(e)>=new Date(t)?e:t;w(this.#t,n,!0),w(this.#r,a,!0)}selectAll(){o(this.#e).length!==0&&(w(this.#t,o(this.#e)[0],!0),w(this.#r,o(this.#e)[o(this.#e).length-1],!0))}selectUpcoming(){if(o(this.#e).length===0)return;const e=[...o(this.#e)].sort(),t=new Date;t.setHours(0,0,0,0);const n=e.find(a=>new Date(a)>=t)||null;if(n)w(this.#t,n,!0),w(this.#r,e[e.length-1],!0);else{const a=e[e.length-1];w(this.#t,a,!0),w(this.#r,a,!0)}}selectFutureDatesOnly(){const e=new Date;e.setDate(e.getDate()+1),e.setHours(0,0,0,0);const t=o(this.#e).filter(n=>new Date(n)>=e);t.length>0&&(w(this.#t,t[0],!0),w(this.#r,t[t.length-1],!0))}initializeSmartRange(){if(o(this.#e).length===0)return;const e=[...o(this.#e)].sort(),t=this.isEventPassed,n=new Date(e[0])<new Date,a=new Date;let s;t?s=e[0]:n?s=a.toISOString().slice(0,19)+"Z":s=e[0],w(this.#t,s,!0),w(this.#r,e[e.length-1],!0),console.log(`[DateRangeStore] Initialized: ${o(this.#t)} - ${o(this.#r)}`)}reset(){w(this.#e,[],!0),w(this.#t,null),w(this.#r,null),console.log("[DateRangeStore] Reset")}}class C6{dbName="recipes-cache";db=null;version=5;RECIPES_INDEX_STORE="recipes-index";RECIPES_DETAILS_STORE="recipes-details";METADATA_STORE="metadata";BUILD_TIMESTAMP_KEY="buildTimestamp";LAST_APPWRITE_SYNC_KEY="lastAppwriteSync";RECIPES_COUNT_KEY="recipesCount";async open(){if(this.db)return;const e=()=>new Promise((i,u)=>{const l=indexedDB.open(this.dbName,this.version);l.onerror=()=>u(l.error),l.onsuccess=()=>i(l.result),l.onupgradeneeded=c=>{const f=c.target.result;f.objectStoreNames.contains(this.RECIPES_INDEX_STORE)||(f.createObjectStore(this.RECIPES_INDEX_STORE,{keyPath:"$id"}),console.log("[RecipesIDBCache] Object store 'recipes-index' crÃ©Ã©")),f.objectStoreNames.contains(this.RECIPES_DETAILS_STORE)||(f.createObjectStore(this.RECIPES_DETAILS_STORE,{keyPath:"$id"}),console.log("[RecipesIDBCache] Object store 'recipes-details' crÃ©Ã©")),f.objectStoreNames.contains(this.METADATA_STORE)||(f.createObjectStore(this.METADATA_STORE,{keyPath:"key"}),console.log("[RecipesIDBCache] Object store 'metadata' crÃ©Ã©"))}});let t=await e();const n=t.objectStoreNames.contains(this.RECIPES_INDEX_STORE),a=t.objectStoreNames.contains(this.RECIPES_DETAILS_STORE),s=t.objectStoreNames.contains(this.METADATA_STORE);(!n||!a||!s)&&(console.warn(`[RecipesIDBCache] Base corrompue dÃ©tectÃ©e (index=${n}, details=${a}, metadata=${s}), suppression et recrÃ©ation...`),t.close(),await new Promise((i,u)=>{const l=indexedDB.deleteDatabase(this.dbName);l.onsuccess=()=>i(),l.onerror=()=>u(l.error),l.onblocked=()=>{console.warn("[RecipesIDBCache] Suppression bloquÃ©e, rÃ©essai...")}}),t=await e()),this.db=t,console.log(`[RecipesIDBCache] Base ouverte: ${this.dbName}`)}async loadRecipesIndex(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.RECIPES_INDEX_STORE,"readonly").objectStore(this.RECIPES_INDEX_STORE).getAll();s.onsuccess=()=>{const i=new Map;s.result.forEach(u=>{i.set(u.$id,u)}),console.log(`[RecipesIDBCache] ${i.size} recettes (index) chargÃ©es`),e(i)},s.onerror=()=>t(s.error)})}async saveRecipesIndex(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const a=this.db.transaction(this.RECIPES_INDEX_STORE,"readwrite"),s=a.objectStore(this.RECIPES_INDEX_STORE);s.clear(),e.forEach(i=>{s.put(i)}),a.oncomplete=()=>{console.log(`[RecipesIDBCache] ${e.size} recettes (index) sauvegardÃ©es`),t()},a.onerror=()=>n(a.error)})}async loadRecipeDetail(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const i=this.db.transaction(this.RECIPES_DETAILS_STORE,"readonly").objectStore(this.RECIPES_DETAILS_STORE).get(e);i.onsuccess=()=>{const u=i.result;u&&console.log(`[RecipesIDBCache] DÃ©tails de ${e} chargÃ©s depuis le cache`),t(u||null)},i.onerror=()=>n(i.error)})}async saveRecipeDetail(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const i=this.db.transaction(this.RECIPES_DETAILS_STORE,"readwrite").objectStore(this.RECIPES_DETAILS_STORE).put(e);i.onsuccess=()=>{console.log(`[RecipesIDBCache] DÃ©tails de ${e.$id} sauvegardÃ©s`),t()},i.onerror=()=>n(i.error)})}async loadAllRecipeDetails(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.RECIPES_DETAILS_STORE,"readonly").objectStore(this.RECIPES_DETAILS_STORE).getAll();s.onsuccess=()=>{const i=new Map;s.result.forEach(u=>{i.set(u.$id,u)}),console.log(`[RecipesIDBCache] ${i.size} dÃ©tails de recettes chargÃ©s`),e(i)},s.onerror=()=>t(s.error)})}async loadRecipeDetailsBulk(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const s=this.db.transaction(this.RECIPES_DETAILS_STORE,"readonly").objectStore(this.RECIPES_DETAILS_STORE),i=new Map;let u=0;const l=e.length;for(const c of e){const f=s.get(c);f.onsuccess=()=>{const h=f.result;h&&i.set(c,h),u++,u===l&&(console.log(`[RecipesIDBCache] ${i.size}/${l} recettes chargÃ©es en bulk`),t(i))},f.onerror=()=>{console.warn(`[RecipesIDBCache] Erreur chargement ${c} en bulk:`,f.error),u++,u===l&&(console.log(`[RecipesIDBCache] ${i.size}/${l} recettes chargÃ©es en bulk (avec erreurs)`),t(i))}}l===0&&(console.log("[RecipesIDBCache] 0 recettes Ã  charger en bulk"),t(i))})}async saveRecipeDetailsBulk(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const a=this.db.transaction(this.RECIPES_DETAILS_STORE,"readwrite"),s=a.objectStore(this.RECIPES_DETAILS_STORE);let i=0;const u=e.size;e.forEach(l=>{const c=s.put(l);c.onsuccess=()=>{i++,i===u&&(console.log(`[RecipesIDBCache] ${u} recettes sauvegardÃ©es en bulk`),t())},c.onerror=()=>{console.error(`[RecipesIDBCache] Erreur sauvegarde ${l.$id} en bulk:`,c.error),n(c.error)}}),u===0&&(console.log("[RecipesIDBCache] 0 recettes Ã  sauvegarder en bulk"),t()),a.onerror=()=>n(a.error)})}async deleteRecipeDetail(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const i=this.db.transaction(this.RECIPES_DETAILS_STORE,"readwrite").objectStore(this.RECIPES_DETAILS_STORE).delete(e);i.onsuccess=()=>t(),i.onerror=()=>n(i.error)})}async deleteRecipeFromIndex(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const a=this.db.transaction([this.RECIPES_INDEX_STORE,this.RECIPES_DETAILS_STORE],"readwrite"),s=a.objectStore(this.RECIPES_INDEX_STORE),i=a.objectStore(this.RECIPES_DETAILS_STORE);s.delete(e),i.delete(e),a.oncomplete=()=>{console.log(`[RecipesIDBCache] Recette ${e} supprimÃ©e de l'index et des dÃ©tails`),t()},a.onerror=()=>n(a.error)})}async loadMetadata(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.METADATA_STORE,"readonly").objectStore(this.METADATA_STORE).getAll();s.onsuccess=()=>{const i=s.result,u={buildTimestamp:null,lastAppwriteSync:null,recipesCount:0,cacheVersion:1};i.forEach(l=>{l.key===this.RECIPES_COUNT_KEY?u.recipesCount=l.value:l.key===this.BUILD_TIMESTAMP_KEY?u.buildTimestamp=l.value:l.key===this.LAST_APPWRITE_SYNC_KEY&&(u.lastAppwriteSync=l.value)}),console.log(`[RecipesIDBCache] Metadata chargÃ©es: count=${u.recipesCount}, build=${u.buildTimestamp}, sync=${u.lastAppwriteSync}`),e(u)},s.onerror=()=>t(s.error)})}async saveMetadata(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite"),s=a.objectStore(this.METADATA_STORE);s.put({key:this.BUILD_TIMESTAMP_KEY,value:e.buildTimestamp}),s.put({key:this.LAST_APPWRITE_SYNC_KEY,value:e.lastAppwriteSync}),s.put({key:this.RECIPES_COUNT_KEY,value:e.recipesCount}),a.oncomplete=()=>{console.log("[RecipesIDBCache] Metadata sauvegardÃ©es"),t()},a.onerror=()=>n(a.error)})}async clear(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const n=this.db.transaction([this.RECIPES_INDEX_STORE,this.RECIPES_DETAILS_STORE,this.METADATA_STORE],"readwrite");n.objectStore(this.RECIPES_INDEX_STORE).clear(),n.objectStore(this.RECIPES_DETAILS_STORE).clear(),n.objectStore(this.METADATA_STORE).clear(),n.oncomplete=()=>{console.log("[RecipesIDBCache] Cache vidÃ©"),e()},n.onerror=()=>t(n.error)})}close(){this.db&&(this.db.close(),this.db=null,console.log("[RecipesIDBCache] Connexion fermÃ©e"))}}async function I6(){const r=new C6;return await r.open(),r}function t2(r){return r.map(e=>JSON.stringify(e))}function Zl(r){return!r||!Array.isArray(r)?[]:r.map(e=>{try{return JSON.parse(e)}catch(t){return console.warn("[ingredientUtils] Failed to parse ingredient:",e,t),null}}).filter(e=>e!==null)}const em={"BouchÃ©es salÃ©es":"sandwich",Boisson:"cup-soda",Cake:"cake-slice","CrÃ¨mes dessert":"fast-food-pudding",Friture:"fryer",Gateau:"cake-slice",Pain:"bread","Plat au Four":"oven","Plat en Sauce":"pot",Salade:"lettuce",Sauce:"sauce",Snacking:"hamburger",Soupe:"soup","Tarte (salÃ©e)":"pizza","Tarte (sucrÃ©e)":"pie",Tartinade:"tartinade"},T6={entree:"salad",plat:"dish",dessert:"fast-food-pudding"};function Td(r,e){const t=Array.isArray(e)?e[0]:e;if(t&&em[t])return{label:t,iconId:em[t]};const n=M6(r),a=T6[r]||"no-cat";return{label:n,iconId:a}}function M6(r){switch(r){case"entree":return"EntrÃ©e";case"plat":return"Plat";case"dessert":return"Dessert";default:return r}}function wf(r){return!r||!Array.isArray(r)?[]:r.map(e=>{try{const t=JSON.parse(e);if(t&&typeof t.astuce=="string")return t;if(typeof e=="string")return{astuce:e}}catch(t){console.warn("[recipeUtils] Failed to parse astuce:",e,t)}return null}).filter(e=>e!==null)}function r2(r){return!r||!Array.isArray(r)||r.length===0?null:r.map(e=>JSON.stringify(typeof e=="string"?{astuce:e}:e))}function R6(r){if(!r||typeof r!="object"||Array.isArray(r))throw new Error(`Format d'ingrÃ©dient invalide: ${JSON.stringify(r)}`);return{uuid:r.uuid||"",name:r.name||"",originalQuantity:r.originalQuantity||0,originalUnit:r.originalUnit||"",normalizedQuantity:r.normalizedQuantity||0,normalizedUnit:r.normalizedUnit||"",comment:r.comment||"",allergens:Array.isArray(r.allergens)?r.allergens:[],type:r.type||"",pF:r.pF??!1,pS:r.pS??!1}}function tm(r){if(!r||typeof r!="object")throw new Error("DonnÃ©es de recette invalides");const e=[];return Array.isArray(r.ingredients)&&r.ingredients.forEach(t=>{try{e.push(R6(t))}catch(n){console.warn("[parseRecipeData] IngrÃ©dient invalide ignorÃ©:",n)}}),{...r,$id:r.$id||r.id||"",$createdAt:r.$createdAt||r.createdAt||"",$updatedAt:r.$updatedAt||r.updatedAt||"",ingredients:e}}function N6(r){if(!r||typeof r!="object")throw new Error("DonnÃ©es d'index de recette invalides");const e=[];return Array.isArray(r.ingredients)&&r.ingredients.forEach(t=>{typeof t=="string"?e.push(t):t&&typeof t.name=="string"&&e.push(t.name)}),{title:r.title||"",typeR:r.typeR||"",categories:Array.isArray(r.categories)?r.categories:[],regime:r.regime||null,draft:r.draft??!1,materiel:Array.isArray(r.materiel)?r.materiel:[],region:r.region||"",serveHot:r.serveHot??!1,cuisson:r.cuisson??!1,check:r.check??!1,saison:Array.isArray(r.saison)?r.saison:[],permissionWrite:Array.isArray(r.permissionWrite)?r.permissionWrite:[],lockedBy:r.lockedBy||null,plate:r.plate??100,ingredients:e,auteur:r.auteur||"",createdBy:r.createdBy||"",$id:r.$id||r.id||"",$createdAt:r.$createdAt||r.createdAt||"",$updatedAt:r.$updatedAt||r.updatedAt||""}}function Sl(r){let e=[];return r.ingredients&&(e=Zl(r.ingredients).map(n=>n.name)),{title:r.title,typeR:r.typeR,categories:r.categories,regime:r.regime,draft:r.draft||!1,saison:r.saison,ingredients:e,materiel:r.materiel,region:r.region||null,serveHot:r.serveHot,cuisson:r.cuisson,check:r.check,auteur:r.auteur||r.createdBy,permissionWrite:r.permissionWrite,lockedBy:r.lockedBy||null,$id:r.$id,$createdAt:r.$createdAt,$updatedAt:r.$updatedAt,createdBy:r.createdBy,plate:r.plate,rootRecipeId:r.rootRecipeId||null,versionLabel:r.versionLabel||null}}function n2(r,e){const t=r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),n=e?e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""):"";let a;if(n){const s=t.slice(0,16),i=n.slice(0,5);a=`${s}-${i}`}else a=t.slice(0,22);return`${a}_${Bi(12).toLowerCase()}`}async function Ip(r,e,t,n,a=!1){try{const{functions:s,config:i}=await vt(),u=i.functions.enkaData,l=JSON.stringify({action:r,recipeId:e,userId:t,data:n}),c=await s.createExecution({functionId:u,body:l,async:a});if(a){if(c.status==="failed")throw new Error(`Function execution failed to start: ${c.status}`);return{success:!0,executionId:c.$id}}if(c.status!=="completed")throw new Error(`Function execution failed: ${c.status} - ${c.responseBody}`);const f=JSON.parse(c.responseBody);if(!f.success)throw new Error(f.error||"Unknown error in manage_recipe");return f.data}catch(s){throw console.error(`[appwrite-recipes] Error executing manage_recipe (${r}):`,s),s}}const Fi="recettes";async function rm(){try{const{tables:r,config:e}=await vt();return(await r.listRows({databaseId:e.databaseId,tableId:Fi})).rows}catch(r){throw console.error("[appwrite-recipes] Error listing all recipes:",r),r}}async function P6(r){try{const{tables:e,config:t}=await vt(),n=[Qe.greaterThan("$updatedAt",r)];return(await e.listRows({databaseId:t.databaseId,tableId:Fi,queries:n})).rows}catch(e){throw console.error(`[appwrite-recipes] Error listing updated recipes since ${r}:`,e),e}}async function kf(r){try{const{tables:e,config:t}=await vt();return await e.getRow({databaseId:t.databaseId,tableId:Fi,rowId:r})}catch(e){if(e.code===404)return null;throw console.error(`[appwrite-recipes] Error getting recipe ${r}:`,e),e}}async function $6(r,e){try{const{tables:t,config:n,account:a}=await vt(),s=n2(r.title,r.versionLabel||void 0),i=[tr.read(hr.users()),tr.update(hr.user(e)),tr.delete(hr.user(e))],l=(await a.get()).name,c={title:r.title,plate:r.plate,ingredients:r.ingredients,preparation:r.preparation,draft:r.draft??!0,typeR:r.typeR,categories:r.categories??[],regime:r.regime??[],check:r.check??!1,description:r.description??null,quantite_desc:r.quantite_desc??null,region:r.region??null,saison:r.saison??[],cuisson:r.cuisson??[],serveHot:r.serveHot??!0,auteur:l,preparation24h:r.preparation24h??null,astuces:r.astuces??null,publishedAt:r.publishedAt||new Date().toISOString().split("T")[0]+"T00:00:00Z",$id:s,createdBy:e,permissionWrite:r.permissionWrite||[e],rootRecipeId:r.rootRecipeId??null,versionLabel:r.versionLabel??null},f=await t.createRow({databaseId:n.databaseId,tableId:Fi,rowId:s,data:c,permissions:i});return console.log(`[appwrite-recipes] Recipe created: ${s}`),f}catch(t){throw console.error("[appwrite-recipes] Error creating recipe:",t),t}}async function a2(r,e,t){try{const{tables:n,config:a}=await vt(),s={...e,check:e.check??!1,...e.publishedAt&&{publishedAt:e.publishedAt}},i=await n.updateRow({databaseId:a.databaseId,tableId:Fi,rowId:r,data:s});return console.log(`[appwrite-recipes] Recipe updated: ${r}`),i}catch(n){throw console.error(`[appwrite-recipes] Error updating recipe ${r}:`,n),n}}async function L6(r){try{const{tables:e,config:t}=await vt();await e.updateRow({databaseId:t.databaseId,tableId:Fi,rowId:r,data:{status:"deleted"}}),console.log(`[appwrite-recipes] Recipe soft deleted: ${r}`)}catch(e){throw console.error(`[appwrite-recipes] Error deleting recipe ${r}:`,e),e}}const O6="/api/data.json";class B6{#e=ae(ot(new Kr));#t=ae(!1);#r=ae(null);#s=ae(!1);#n=ae(null);#a=null;#i=new Set;#c=null;#d=!1;get loading(){return o(this.#t)}get error(){return o(this.#r)}get isInitialized(){return o(this.#s)}get recipesIndex(){return Array.from(o(this.#e).values())}get count(){return o(this.#e).size}getAllRecipes(){return Array.from(o(this.#e).values())}async loadCache(){if(o(this.#s)){console.log("[RecipesStore] Cache dÃ©jÃ  chargÃ©");return}console.log("[RecipesStore] Chargement du cache..."),w(this.#t,!0),w(this.#r,null);try{this.#a=await I6();const e=await this.#a.loadRecipesIndex(),t=await this.#a.loadMetadata();e.size>0&&(console.log(`[RecipesStore] ${e.size} recettes (index) chargÃ©es depuis le cache`),w(this.#e,new Kr(e),!0)),w(this.#s,!0),console.log(`[RecipesStore] Cache chargÃ©: ${o(this.#e).size} recettes`)}catch(e){const t=e instanceof Error?e.message:"Erreur lors du chargement du cache";throw w(this.#r,t,!0),console.error("[RecipesStore]",t,e),e}finally{w(this.#t,!1)}}async syncFromRemote(){if(!this.#a){console.warn("[RecipesStore] Impossible de sync : cache non initialisÃ©");return}console.log("[RecipesStore] Synchronisation depuis sources distantes..."),w(this.#t,!0);try{const e=await this.#a.loadMetadata();try{await this.#u(e)}catch(t){if(console.error("[RecipesStore] Erreur chargement data.json:",t),o(this.#e).size===0)throw new Error("Aucun cache disponible et data.json inaccessible");console.log("[RecipesStore] Continuation avec les donnÃ©es du cache")}if(Ee.userId)try{await this.#l(e)}catch(t){console.warn("[RecipesStore] Erreur sync Appwrite:",t)}console.log(`[RecipesStore] Synchronisation terminÃ©e: ${o(this.#e).size} recettes`)}catch(e){const t=e instanceof Error?e.message:"Erreur lors de la synchronisation";throw w(this.#r,t,!0),console.error("[RecipesStore]",t,e),e}finally{w(this.#t,!1)}}async setupRealtime(){if(!this.#a){console.warn("[RecipesStore] Impossible de setup realtime : cache non initialisÃ©");return}if(this.#d){console.log("[RecipesStore] Realtime dÃ©jÃ  configurÃ©");return}if(console.log("[RecipesStore] Configuration du realtime..."),Ee.userId)try{this.#f(),this.#d=!0}catch(e){console.warn("[RecipesStore] Erreur activation realtime:",e)}}async initialize(){if(o(this.#s)){console.log("[RecipesStore] DÃ©jÃ  initialisÃ©");return}return this.#c?(console.log("[RecipesStore] Initialisation dÃ©jÃ  en cours, attente..."),this.#c):(console.log("[RecipesStore] Initialisation..."),w(this.#t,!0),w(this.#r,null),this.#c=(async()=>{try{if(await this.loadCache(),await this.syncFromRemote(),await this.setupRealtime(),o(this.#e).size===0){const e="Aucune recette disponible aprÃ¨s initialisation";w(this.#r,e),console.warn("[RecipesStore]",e)}console.log(`[RecipesStore] Initialisation complÃ©tÃ©e: ${o(this.#e).size} recettes`)}catch(e){const t=e instanceof Error?e.message:"Erreur lors de l'initialisation";throw w(this.#r,t,!0),console.error("[RecipesStore] ECHEC Initialisation:",t,e),e}finally{w(this.#t,!1),this.#c=null}})(),this.#c)}async#u(e){try{console.log("[RecipesStore] Chargement data.json...");const t=await fetch(O6);if(!t.ok)throw new Error(`Erreur HTTP: ${t.status}`);const n=await t.json();if(!Array.isArray(n.recipes))throw new Error("Format invalide: recipes n'est pas un tableau");const a=n.meta?.timestamp;if(w(this.#n,a,!0),a&&e&&e.buildTimestamp&&e.buildTimestamp>=a){console.log(`[RecipesStore] Cache Ã  jour (Ts: ${e.buildTimestamp} >= ${a})`);return}console.log(`[RecipesStore] Nouvelle version dÃ©tectÃ©e ou cache manquant (Ts: ${a}), Traitement...`);const s=n.recipes.map(u=>N6(u));let i=0;s.forEach(u=>{const l=o(this.#e).get(u.$id);let c=!1;if(!l)c=!0;else{const f=new Date(u.$updatedAt).getTime(),h=new Date(l.$updatedAt).getTime();f>h&&(c=!0)}c&&(o(this.#e).set(u.$id,u),i++)}),console.log(`[RecipesStore] Smart Merge: ${i} recettes mises Ã  jour/ajoutÃ©es.`),this.#a&&(await this.#a.saveRecipesIndex(o(this.#e)),await this.#a.saveMetadata({...e,buildTimestamp:a||Date.now()/1e3,recipesCount:o(this.#e).size,cacheVersion:1}))}catch(t){throw console.error("[RecipesStore] Erreur loadIndexFromDataJson:",t),t}}async forceReloadAllRecipes(){if(!Ee.userId)throw new Error("Utilisateur non connectÃ©");w(this.#t,!0),w(this.#r,null);try{console.log("[RecipesStore] Rechargement forcÃ© des recettes Appwrite...");const e=await rm();let t=0,n=0;if(e.forEach(a=>{a.status==="deleted"?o(this.#e).has(a.$id)&&(o(this.#e).delete(a.$id),n++,console.log(`[RecipesStore] Recette ${a.$id} supprimÃ©e (status=deleted)`)):(o(this.#e).set(a.$id,Sl(a)),t++)}),console.log(`[RecipesStore] ${t} recettes Appwrite chargÃ©es, ${n} supprimÃ©es`),this.#a){const a=await this.#a.loadMetadata(),s=new Date().toISOString();await this.#a.saveRecipesIndex(o(this.#e)),await this.#a.saveMetadata({...a,lastAppwriteSync:s,recipesCount:o(this.#e).size,cacheVersion:1})}console.log("[RecipesStore] Rechargement forcÃ© terminÃ©")}catch(e){const t=e instanceof Error?e.message:"Erreur lors du rechargement";throw w(this.#r,t,!0),console.error("[RecipesStore] Erreur rechargement forcÃ©:",e),e}finally{w(this.#t,!1)}}async hardReset(){if(!Ee.userId)throw new Error("Utilisateur non connectÃ©");console.log("[RecipesStore] ð HARD RESET - Vidage complet..."),w(this.#t,!0),w(this.#r,null);try{o(this.#e).clear(),this.#a&&(await this.#a.clear(),console.log("[RecipesStore] Cache IDB vidÃ©")),await this.#u(null);const e=await rm();let t=0,n=0;if(e.forEach(a=>{a.status!=="deleted"?(o(this.#e).set(a.$id,Sl(a)),t++):n++}),console.log(`[RecipesStore] ${t} recettes Appwrite chargÃ©es, ${n} supprimÃ©es ignorÃ©es`),this.#a){const a=new Date().toISOString();await this.#a.saveRecipesIndex(o(this.#e)),await this.#a.saveMetadata({buildTimestamp:o(this.#n),lastAppwriteSync:a,recipesCount:o(this.#e).size,cacheVersion:1}),console.log("[RecipesStore] Cache IDB recrÃ©Ã©")}console.log("[RecipesStore] â HARD RESET terminÃ©")}catch(e){const t=e instanceof Error?e.message:"Erreur lors du hard reset";throw w(this.#r,t,!0),console.error("[RecipesStore] Erreur hard reset:",e),e}finally{w(this.#t,!1)}}async#l(e){console.log("[RecipesStore] Sync incrÃ©mentiel Appwrite...");const t=e?.lastAppwriteSync||"1970-01-01T00:00:00.000Z";e?.buildTimestamp&&new Date(e.buildTimestamp*1e3).toISOString(),console.log(`[RecipesStore] Sync Appwrite: depuis ${t}`);const n=await P6(t);if(n.length===0){console.log("[RecipesStore] Aucune mise Ã  jour Appwrite dÃ©tectÃ©e.");return}console.log(`[RecipesStore] ${n.length} recettes mises Ã  jour depuis Appwrite.`);let a=0,s=0;n.forEach(u=>{if(u.status==="deleted")o(this.#e).has(u.$id)&&(o(this.#e).delete(u.$id),s++,console.log(`[RecipesStore] Recette ${u.$id} supprimÃ©e (status=deleted)`));else{const l=Sl(u);o(this.#e).set(l.$id,l),a++}});const i=new Date().toISOString();this.#a&&(await this.#a.saveRecipesIndex(o(this.#e)),await this.#a.saveMetadata({...e,lastAppwriteSync:i})),console.log(`[RecipesStore] Sync incrÃ©mentiel terminÃ© (${a} mises Ã  jour, ${s} supprimÃ©es).`)}async#f(){try{console.log("[RecipesStore] Configuration du Realtime...");const e=Aa();Pn.register([`databases.${e}.collections.${Fi}.documents`],async t=>{const n=t.payload;let a="update";if(t.events.some(s=>s.includes(".create"))?a="create":t.events.some(s=>s.includes(".delete"))&&(a="delete"),console.log(`[RecipesStore] â¡ï¸ Realtime RECEIVED: ${a} pour ${n.$id}`),a==="create"||a==="update"){if(n.status==="deleted"){if(o(this.#e).delete(n.$id),this.#a)try{await this.#a.deleteRecipeFromIndex(n.$id),console.log(`[RecipesStore] Recette ${n.$id} supprimÃ©e de l'index (status=deleted)`)}catch(l){console.warn(`[RecipesStore] Erreur suppression index ${n.$id}:`,l)}return}const s=Sl(n);o(this.#e).set(n.$id,s);const i=Zl(n.ingredients),u={...n,ingredients:i,astuces:wf(n.astuces)};if(this.#a)try{await this.#a.saveRecipeDetail(u),console.log(`[RecipesStore] DÃ©tails de ${n.$id} mis Ã  jour dans le cache`)}catch(l){console.warn(`[RecipesStore] Erreur mise Ã  jour cache dÃ©tails ${n.$id}:`,l)}}else if(a==="delete"&&(o(this.#e).delete(n.$id),this.#a))try{await this.#a.deleteRecipeFromIndex(n.$id),console.log(`[RecipesStore] Recette ${n.$id} supprimÃ©e du cache`)}catch(s){console.warn(`[RecipesStore] Erreur suppression cache ${n.$id}:`,s)}}),console.log("[RecipesStore] Realtime enregistrÃ© auprÃ¨s du manager")}catch(e){console.error("[RecipesStore] Erreur lors de la configuration du realtime:",e)}}getRecipeIndexByUuid(e){return o(this.#e).get(e)||null}#h(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}searchRecipes(e){if(!e.trim())return this.recipesIndex;const t=this.#h(e.trim()).split(/\s+/);return this.recipesIndex.filter(n=>{const s=this.#h(n.title).split(/[\s\-_]+/);return t.every(i=>s.some(u=>u.startsWith(i)))})}get availableTypes(){const e=new Set;return this.recipesIndex.forEach(t=>e.add(t.typeR)),Array.from(e).sort()}async canEditRecipe(e){if(!Ee.userId)return!1;try{const t=await kf(e);return t?t.createdBy===Ee.userId||!!t.permissionWrite?.includes(Ee.userId)||!!t.teams?.some(n=>Ee.userTeams.includes(n)):!1}catch(t){return console.error(`[RecipesStore] Erreur lors de la vÃ©rification des permissions pour ${e}:`,t),!1}}getRecipeLockStatus(e){return o(this.#e).get(e)?.lockedBy||null}async updateRecipeLock(e,t){if(Ee.userId)try{await a2(e,{lockedBy:t},Ee.userId),console.log(`[RecipesStore] Verrou ${e} mis Ã  jour: ${t||"libÃ©rÃ©"}`);const n=o(this.#e).get(e);n&&o(this.#e).set(e,{...n,lockedBy:t})}catch(n){throw console.error(`[RecipesStore] Erreur verrouillage ${e}:`,n),n}}async getRecipeByUuid(e){if(this.#i.has(e)){for(console.log(`[RecipesStore] Chargement de ${e} dÃ©jÃ  en cours, attente...`);this.#i.has(e);)await new Promise(t=>setTimeout(t,50));return this.#a&&await this.#a.loadRecipeDetail(e)||null}this.#i.add(e);try{if(this.#a){const n=await this.#a.loadRecipeDetail(e);if(n)return n}let t=null;try{const n=`/recettes/${e}/recipe.json`,a=await fetch(n);if(a.ok){const s=await a.json();t=tm(s),console.log(`[RecipesStore] ${e} chargÃ©e depuis Hugo`)}}catch{console.log(`[RecipesStore] ${e} non trouvÃ©e dans Hugo`)}if(!t&&Ee.userId)try{const n=await kf(e);if(n){const a=Zl(n.ingredients||[]);t={...n,ingredients:a,astuces:wf(n.astuces),prepAlt:n.prepAlt||null,categories:n.categories,regime:n.regime,saison:n.saison,teams:n.teams,permissionWrite:n.permissionWrite},console.log(`[RecipesStore] ${e} chargÃ©e depuis Appwrite (fallback)`)}}catch{console.log(`[RecipesStore] ${e} non trouvÃ©e dans Appwrite`)}return t&&this.#a&&await this.#a.saveRecipeDetail(t),t||console.warn(`[RecipesStore] ${e} non trouvÃ©e (Hugo ni Appwrite)`),t}catch(t){return console.error(`[RecipesStore] Erreur lors du chargement de ${e}:`,t),null}finally{this.#i.delete(e)}}async getRecipesByUuidsBulk(e){const t=performance.now(),n=[...new Set(e.filter(Boolean))];if(n.length===0)return new Map;console.log(`[RecipesStore] Chargement bulk de ${n.length} recettes...`);const a=new Map;this.#a&&(await this.#a.loadRecipeDetailsBulk(n)).forEach((f,h)=>a.set(h,f));const s=n.filter(c=>!a.has(c));console.log(`[RecipesStore] Bulk: ${a.size} dans le cache, ${s.length} Ã  fetch`);const i=new Map;if(s.length>0){s.forEach(c=>this.#i.add(c));try{const c=s.map(async h=>{let m=null;try{const g=`/recettes/${h}/recipe.json`,b=await fetch(g);if(b.ok){const y=await b.json();m=tm(y)}}catch{}if(!m&&Ee.userId)try{const g=await kf(h);if(g){const b=Zl(g.ingredients||[]);m={...g,ingredients:b,astuces:wf(g.astuces),prepAlt:g.prepAlt||null,categories:g.categories,regime:g.regime,saison:g.saison,teams:g.teams,permissionWrite:g.permissionWrite}}}catch{}return m?{uuid:h,recipe:m}:null});(await Promise.all(c)).forEach(h=>{h&&i.set(h.uuid,h.recipe)}),i.size>0&&this.#a&&await this.#a.saveRecipeDetailsBulk(i),s.forEach(h=>this.#i.delete(h))}catch(c){console.error("[RecipesStore] Erreur lors du fetch bulk:",c),s.forEach(f=>this.#i.delete(f))}}const u=new Map([...a,...i]),l=performance.now()-t;return console.log(`[RecipesStore] Bulk terminÃ©: ${u.size}/${n.length} recettes en ${l.toFixed(0)}ms`),u}async preloadRecipes(e){console.log(`[RecipesStore] PrÃ©chargement de ${e.length} recettes...`);const t=e.map(n=>this.getRecipeByUuid(n));await Promise.all(t),console.log("[RecipesStore] PrÃ©chargement terminÃ©")}async getVariantGroup(e,t=2){const n=this.getRecipeIndexByUuid(e);if(!n)return{root:null,variants:[],isRoot:!1};const a=new Map,s=new Set;let i=n;for(;i.rootRecipeId&&!s.has(i.rootRecipeId);){s.add(i.$id);const l=this.getRecipeIndexByUuid(i.rootRecipeId);if(!l)break;i=l}const u=i;return a.set(u.$id,u),await this.#o(u.$id,a,new Set([u.$id]),0,t),{root:u,variants:Array.from(a.values()),isRoot:!n.rootRecipeId||n.rootRecipeId===n.$id}}async#o(e,t,n,a,s){if(!(a>s))for(const[i,u]of o(this.#e))t.has(i)||u.rootRecipeId===e&&(t.set(i,u),u.rootRecipeId&&u.rootRecipeId!==e&&!n.has(u.rootRecipeId)&&(n.add(u.rootRecipeId),await this.#o(u.rootRecipeId,t,n,a+1,s)))}findRootRecipe(e){const t=new Set;let n=e,a=10;for(let s=0;s<a;s++){const i=this.getRecipeIndexByUuid(n);if(!i||!i.rootRecipeId)return n;if(t.has(n))return console.error("[RecipesStore] Cycle dÃ©tectÃ© dans rootRecipeId, retour Ã ",e),e;t.add(n),n=i.rootRecipeId}return e}destroy(){this.#a&&(this.#a.close(),this.#a=null),o(this.#e).clear(),w(this.#s,!1),this.#d=!1,console.log("[RecipesStore] Ressources nettoyÃ©es")}}const jt=new B6,nm=1e3;class F6{#e=new Kr;#t=new Kr;#r=ae(null);#s=ae(null);#n=ae(!1);#a=ae(!1);#i=ae(null);#c=ae(!1);#d=ae(!1);#u=ae(null);get currentMainId(){return o(this.#r)}dateStore=new D6;get dateRange(){return this.dateStore.current}get availableDates(){return this.dateStore.dates}get isEventPassed(){return this.dateStore.isEventPassed}get hasSingleDateEvent(){return this.dateStore.hasSingleDateEvent}get hasSingleDateInRange(){return this.dateStore.hasSingleDateInRange}get hasPastDatesInRange(){return this.dateStore.hasPastDatesInRange}#l=null;#f=null;#h=ae(ot([]));get hasPendingConflicts(){return o(this.#h).length>0}get pendingConflicts(){return o(this.#h)}#o=ae(ot({searchQuery:"",selectedStores:[],selectedWho:[],selectedProductTypes:[],selectedTemperatures:[],temperatureFilter:"all",completionStatus:"all",groupBy:"productType",sortColumn:"",sortDirection:"asc"}));get filters(){return o(this.#o)}get hasFilters(){return this.filters.searchQuery!==""||this.filters.selectedStores.length>0||this.filters.selectedWho.length>0||this.filters.selectedProductTypes.length>0||this.filters.selectedTemperatures.length>0||this.filters.temperatureFilter!=="all"||this.filters.completionStatus!=="all"}get groupedFilteredProducts(){return o(this.#_)}get loading(){return o(this.#a)}get error(){return o(this.#i)}get lastSync(){return o(this.#u)}get syncing(){return o(this.#c)}setDateRange(e,t){this.dateStore.setRange(e,t)}isFullRange(){return this.dateStore.isFullRange}initializeDateRange(){this.dateStore.initializeSmartRange()}selectUpcomingDates(){this.dateStore.selectUpcoming()}isUpcomingRange(){return this.dateStore.isUpcomingRange}get firstAvailableDate(){return this.dateStore.firstAvailableDate}get lastAvailableDate(){return this.dateStore.lastAvailableDate}selectFutureDatesOnly(){this.dateStore.selectFutureDatesOnly()}get realtimeConnected(){return o(this.#d)}#v=V(()=>{const e=Array.from(this.#e.values()).map(t=>t.data);return console.log(`[ProductsStore] enrichedProducts recalculated: ${e.length} products`),e});get enrichedProducts(){return o(this.#v)}set enrichedProducts(e){w(this.#v,e)}#p=V(()=>{if(console.log("[Store] Filtering products by date range (Map)"),!this.dateRange.start||!this.dateRange.end)return new Map;const e=new Date(this.dateRange.start),t=new Date(this.dateRange.end),n=new Map;for(const[a,s]of this.#e){const i=s.data,u=!i.productHugoUuid;if(!i.byDate&&!u||!fk(i,o(this.#o)))continue;if(o(this.#o).completionStatus!=="all"){const f=s.stats.hasMissing;if(o(this.#o).completionStatus==="completed"&&f||o(this.#o).completionStatus==="incomplete"&&!f)continue}let c=!1;if(i.byDate){const f=new Date(e);f.setHours(0,0,0,0);const h=new Date(t);h.setHours(23,59,59,999),c=Object.keys(i.byDate).some(m=>{const g=new Date(m);return g>=f&&g<=h})}(c||u)&&n.set(a,s)}return n});get filteredProductsMap(){return o(this.#p)}set filteredProductsMap(e){w(this.#p,e)}#w=V(()=>({total:this.#e.size,frais:Array.from(this.#e.values()).filter(e=>e.pF).length,surgel:Array.from(this.#e.values()).filter(e=>e.pS).length,merged:Array.from(this.#e.values()).filter(e=>e.data.isMerged).length}));get stats(){return o(this.#w)}set stats(e){w(this.#w,e)}#k=V(()=>{const e=Array.from(this.#e.values()).map(t=>t.storeInfo?.storeName).filter(Boolean);return[...new Set(e)]});get uniqueStores(){return o(this.#k)}set uniqueStores(e){w(this.#k,e)}#m=V(()=>{if(!o(this.#s))return[];const e=Nt.getEventById(o(this.#s));return e?.contributors?e.contributors.filter(t=>t.status==="accepted"&&t.name?.trim()).map(t=>t.name.trim()).sort():[]});get eventContributors(){return o(this.#m)}set eventContributors(e){w(this.#m,e)}#g=V(()=>{const e=Array.from(this.#e.values()).flatMap(t=>t.who||[]);return[...new Set(e)].sort()});#b=V(()=>{const e=new Set([...this.eventContributors,...o(this.#g)]);return Array.from(e).sort()});get uniqueWho(){return o(this.#b)}set uniqueWho(e){w(this.#b,e)}#E=V(()=>{const e=Array.from(this.#e.values()).map(t=>t.productType).filter(Boolean);return[...new Set(e)]});get uniqueProductTypes(){return o(this.#E)}set uniqueProductTypes(e){w(this.#E,e)}#_=V(()=>{const t=Array.from(this.filteredProductsMap.values()).sort((i,u)=>i.$id.localeCompare(u.$id));if(o(this.#o).groupBy==="none")return{"":t};const n=Object.groupBy(t,i=>o(this.#o).groupBy==="store"?i.storeInfo?.storeName||"Non dÃ©fini":i.productType||"Non dÃ©fini"),a=Object.keys(n).sort((i,u)=>i===""?1:u===""?-1:i.localeCompare(u)),s={};return a.forEach(i=>{s[i]=n[i]}),s});async initialize(e){if(!e?.trim())throw new Error("eventId invalide fourni");if(o(this.#n)&&o(this.#s)===e){console.log(`[ProductsStore] DÃ©jÃ  initialisÃ© pour eventId: ${e}`);return}o(this.#n)&&o(this.#s)!==e&&(console.log(`[ProductsStore] Changement d'Ã©vÃ©nement: ${o(this.#s)} â ${e}, reset...`),this.reset()),console.log(`[ProductsStore] Initialisation avec eventId: ${e}`);const t=Nt.getEventById(e);if(!t)throw new Error(`ÃvÃ©nement ${e} introuvable dans EventsStore`);try{w(this.#s,t.$id,!0),w(this.#r,t.$id,!0),Ee.setCurrentMainId(o(this.#r)),console.log(`[ProductsStore] Initialisation du cache IDB pour mainId: ${o(this.#r)}`),this.#l=await A6(o(this.#r)),await this.#P(),this.#e.size===0&&(console.log("[ProductsStore] Cache vide, calcul depuis event.meals..."),await this.#N(t),await this.#D()),this.dateStore.setAvailableDates([...t.allDates||[]]),this.initializeDateRange(),await this.syncFromAppwrite(),await this.#H(),w(this.#n,!0);const n=this.#q();this.#j(n),this.#x&&this.#x(),this.#x=h4(()=>{st(()=>{const a=Nt.getEventById(e);a&&this.#y(a)})}),console.log(`[ProductsStore] Initialisation complÃ©tÃ©e: ${this.#e.size} produits`)}catch(n){const a=n instanceof Error?n.message:"Erreur lors de l'initialisation";throw w(this.#i,a,!0),console.error("[ProductsStore]",a,n),n}}async#y(e){if(!o(this.#n)){console.warn("[ProductsStore] Sync ignorÃ© car store non initialisÃ©");return}const t=JSON.stringify(e.meals);if(this.#A===t)return;console.log(`[ProductsStore] â¡ï¸ CHANGEMENT REPAS DÃTECTÃ pour ${e.$id} (Hash: ${t.substring(0,10)}...), recalcul...`),this.#A=t;const a=await Lv(e,async i=>await jt.getRecipeByUuid(i),e.$id);a.forEach(i=>{const u=this.#e.get(i.$id);if(u){const c={...u.data,byDate:i.byDate,totalNeededArray:i.totalNeededArray,totalNeededRaw:i.totalNeededRaw,nbRecipes:i.nbRecipes,totalAssiettes:i.totalAssiettes};_k(c),u.update(c)}else this.#e.set(i.$id,new Uo(i,this.dateStore))});const s=new Set(a.map(i=>i.$id));for(const[i,u]of this.#e)s.has(i)||!u.data.isSynced&&!u.data.purchases?.length&&this.#e.delete(i);this.dateStore.setAvailableDates([...e.allDates||[]]),this.#D()}#A="";#x=null;async#N(e){const n=await Lv(e,async a=>await jt.getRecipeByUuid(a),e.$id);n.forEach(a=>{this.#e.set(a.$id,new Uo(a,this.dateStore))}),console.log(`[ProductsStore] ${n.length} produits calculÃ©s depuis ${e.meals.length} repas`)}async#P(){if(this.#l)try{const e=await this.#l.loadProducts();e.forEach((n,a)=>{n.status==="isSyncing"&&(n.status="active"),this.#e.set(a,new Uo(n,this.dateStore))});const t=await this.#l.loadMetadata();w(this.#u,t.lastSync,!0),this.dateStore.setAvailableDates([...t.allDates]),console.log(`[ProductsStore] ${e.size} produits chargÃ©s du cache IDB, lastSync: ${t.lastSync}`)}catch(e){console.warn("[ProductsStore] Erreur lecture cache IDB, ignorÃ©:",e)}}async syncFromAppwrite(){if(o(this.#r)){w(this.#c,!0),console.log(`[ProductsStore] DÃ©but syncFromAppwrite pour mainId: ${o(this.#r)}`);try{console.log(`[ProductsStore] RÃ©cupÃ©ration des produits modifiÃ©s depuis lastSync: ${o(this.#u)}`);const e=await f6(o(this.#r),{lastSync:o(this.#u),limit:nm});if(console.log(`[ProductsStore] ${e.length} produits rÃ©cupÃ©rÃ©s depuis Appwrite`),e.forEach(t=>{const n=this.#e.get(t.$id);console.log(`[ProductsStore] Sync produit ${t.$id}: existing=${!!n}, who=${t.who}, store=${t.store}`);const a=this.#T(t,n?.data);a.isSynced=!0,a.status="active",n?n.update(a):this.#e.set(t.$id,new Uo(a,this.dateStore))}),o(this.#u)){console.log(`[ProductsStore] RÃ©cupÃ©ration des purchases modifiÃ©s depuis lastSync: ${o(this.#u)}`);const t=await d6(o(this.#r),o(this.#u),nm);console.log(`[ProductsStore] ${t.length} purchases modifiÃ©s rÃ©cupÃ©rÃ©s`),t.forEach(n=>{if(n.status==="expense")this.#t.set(n.$id,n);else if(n.products?.length){const a=n.products.map(s=>typeof s=="string"?s:s.$id);this.#I(a,n)}})}this.#$(),await this.#D(),console.log("[ProductsStore] SyncFromAppwrite terminÃ© avec succÃ¨s")}catch(e){throw console.error("[ProductsStore] Erreur lors du sync:",e),e}finally{w(this.#c,!1)}}}async#D(){if(this.#l)try{const e=new Map;this.#e.forEach((t,n)=>{const a=si(t.data);a.status==="isSyncing"&&(a.status="active"),e.set(n,a)}),await this.#l.saveProducts(e),await this.#l.saveMetadata({lastSync:o(this.#u),allDates:[...this.dateStore.dates]}),console.log("[ProductsStore] Cache IDB persistÃ©")}catch(e){console.error("[ProductsStore] Erreur persist cache IDB:",e)}}async#C(e){if(!(!this.#l||e.length===0))try{const t=e.map(n=>this.#e.get(n)?.data).filter(n=>n!=null).map(n=>{const a=si(n);return a.status==="isSyncing"&&(a.status="active"),this.#l.upsertProduct(a)});t.length>0&&(await Promise.all(t),console.log(`[ProductsStore] ${t.length} produits affectÃ©s persistÃ©s`))}catch(t){console.error("[ProductsStore] Erreur persistence produits affectÃ©s:",t)}}#$(){w(this.#u,new Date().toISOString(),!0)}#T(e,t){return t?El(e,t):bk(e)}#U(e){e.length&&(e.forEach(t=>this.#S(t)),console.log(`[ProductsStore] ${e.length} produits upserted`))}#S(e){const t=this.#e.get(e.$id),n=this.#T(e,t?.data);t?t.update(n):(this.dateStore.dates,this.#e.set(e.$id,new Uo(n,this.dateStore)))}#L(e){this.#e.delete(e)}async#O(e){if(!e.products?.length)return console.warn("[ProductsStore] Purchase crÃ©Ã© sans products:",e.$id),[];const t=e.products.map(n=>typeof n=="string"?n:n.$id).filter(Boolean);return this.#z(t,e),t}async#B(e){if(e.products?.length){const t=e.products.map(n=>typeof n=="string"?n:n.$id).filter(Boolean);return this.#I(t,e),t}console.log("[ProductsStore] Purchase update sans products[], rechargement...");try{const[t]=await x6([e.$id]);if(t?.products?.length){const n=t.products.map(a=>typeof a=="string"?a:a.$id).filter(Boolean);return this.#I(n,t),n}return[]}catch(t){return console.error("[ProductsStore] Erreur rechargement purchase:",t),[]}}async#F(e){const t=Array.from(this.#e.values()).map(n=>n.data).filter(n=>n.purchases?.some(a=>a.$id===e));return t.forEach(n=>{this.#S(n)}),t.map(n=>n.$id)}#z(e,t){const n=$v(t),a=[];e.forEach(s=>{const i=this.#e.get(s);if(i){const u=i.data,l=u.purchases||[];if(!l.some(c=>c.$id===n.$id)){const c=El({...u,purchases:[...l,n],status:"active"},u);a.push(c)}}}),a.forEach(s=>{const i=this.#e.get(s.$id);i&&i.update(s)})}#I(e,t){const n=$v(t),a=[];e.forEach(s=>{const i=this.#e.get(s);if(i){const u=i.data,l=u.purchases||[],c=l.findIndex(f=>f.$id===n.$id);if(c>=0){const f=[...l];f[c]=n;const h=El({...u,purchases:f,status:"active"},u);a.push(h)}else{const f=El({...u,purchases:[...l,t],status:"active"},u);a.push(f)}}}),a.forEach(s=>{const i=this.#e.get(s.$id);i&&i.update(s)})}#q(){return{onProductCreate:e=>{if(this.#S(e),this.#l){const t=this.#e.get(e.$id);t&&this.#l.upsertProduct(si(t.data)).catch(n=>console.error("[ProductsStore] Erreur persistence produit:",n))}},onProductUpdate:e=>{if(this.#S(e),this.#l){const t=this.#e.get(e.$id);t&&this.#l.upsertProduct(si(t.data)).catch(n=>console.error("[ProductsStore] Erreur persistence produit:",n))}},onProductDelete:e=>{this.#L(e),this.#l&&this.#l.deleteProduct(e).catch(t=>console.error("[ProductsStore] Erreur suppression produit:",t))},onPurchaseCreate:async e=>{if(e.status==="expense"){this.#t.set(e.$id,e);return}const t=await this.#O(e);await this.#C(t)},onPurchaseUpdate:async e=>{if(e.status==="expense"){this.#t.set(e.$id,e);return}this.#t.has(e.$id)&&this.#t.delete(e.$id);const t=await this.#B(e);await this.#C(t)},onPurchaseDelete:async e=>{if(this.#t.has(e)){this.#t.delete(e);return}const t=await this.#F(e);await this.#C(t)},onConnect:()=>{w(this.#d,!0)},onDisconnect:()=>{w(this.#d,!1)},onError:e=>{console.error("[ProductsStore] Erreur realtime:",e)}}}#j(e){const t=Aa(),n=ni("products"),a=ni("purchases"),s=[`databases.${t}.collections.${n}.documents`,`databases.${t}.collections.${a}.documents`],i=u=>{const{events:l,payload:c}=u;if(!c)return;if(u.event==="client.connected"){e.onConnect();return}const f=l.some(y=>y.includes("products.")),h=l.some(y=>y.includes("purchases.")),m=l.some(y=>y.includes(".create")),g=l.some(y=>y.includes(".update")),b=l.some(y=>y.includes(".delete"));if(f){const y=c;y.updatedBy&&y.updatedBy!==Ee.userName&&(m||g?rt.info(`${y.updatedBy} a modifiÃ© le produit "${y.productName}"`,{source:"realtime-other"}):b&&rt.info(`${y.updatedBy} a supprimÃ© un produit`,{source:"realtime-other"})),m&&e.onProductCreate?e.onProductCreate(y):g&&e.onProductUpdate?e.onProductUpdate(y):b&&e.onProductDelete&&e.onProductDelete(y.$id)}else if(h){const y=c;if(y.createdBy&&y.createdBy!==Ee.userName){const x="un produit";m&&y.who!==Ee.userName?rt.info(`${y.who} a ajoutÃ© un achat pour ${x}`,{source:"realtime-other"}):g&&y.who!==Ee.userName?rt.info(`${y.who} a modifiÃ© un achat pour ${x}`,{source:"realtime-other"}):b&&rt.info(`${y.who} a supprimÃ© un achat pour ${x}`,{source:"realtime-other"})}m&&e.onPurchaseCreate?e.onPurchaseCreate(y):g&&e.onPurchaseUpdate?e.onPurchaseUpdate(y):b&&e.onPurchaseDelete&&e.onPurchaseDelete(y.$id)}};this.#f=Pn.registerDynamic(s,i),console.log(`[ProductsStore] â Realtime configurÃ© via RealtimeManager (${s.length} channels)`)}setSearchQuery=ok(e=>{o(this.#o).searchQuery=e},()=>500);toggleProductType(e){const t=o(this.#o).selectedProductTypes.indexOf(e);t>-1?o(this.#o).selectedProductTypes.splice(t,1):o(this.#o).selectedProductTypes.push(e)}toggleTemperature(e){const t=o(this.#o).selectedTemperatures.indexOf(e);t>-1?o(this.#o).selectedTemperatures.splice(t,1):o(this.#o).selectedTemperatures.push(e)}setTemperatureFilter(e){o(this.#o).temperatureFilter=e}clearTypeAndTemperatureFilters(){o(this.#o).selectedProductTypes=[],o(this.#o).selectedTemperatures=[],o(this.#o).temperatureFilter="all"}setGroupBy(e){o(this.#o).groupBy=e}toggleStore(e){const t=o(this.#o).selectedStores.indexOf(e);t>-1?o(this.#o).selectedStores.splice(t,1):o(this.#o).selectedStores.push(e)}toggleWho(e){const t=o(this.#o).selectedWho.indexOf(e);t>-1?o(this.#o).selectedWho.splice(t,1):o(this.#o).selectedWho.push(e)}clearStoreFilters(){o(this.#o).selectedStores=[]}clearWhoFilters(){o(this.#o).selectedWho=[]}setCompletionStatus(e){o(this.#o).completionStatus=e}handleSort(e){o(this.#o).sortColumn===e?o(this.#o).sortDirection=o(this.#o).sortDirection==="asc"?"desc":"asc":(o(this.#o).sortColumn=e,o(this.#o).sortDirection="asc")}clearFilters(){w(this.#o,{searchQuery:"",selectedStores:[],selectedWho:[],selectedProductTypes:[],selectedTemperatures:[],temperatureFilter:"all",completionStatus:"all",groupBy:"productType",sortColumn:"",sortDirection:"asc"},!0)}sortProducts(e){return o(this.#o).sortColumn?[...e].sort((t,n)=>{let a=t[o(this.#o).sortColumn],s=n[o(this.#o).sortColumn];return o(this.#o).sortColumn==="totalNeededConsolidated"?(a=parseFloat(a)||0,s=parseFloat(s)||0):o(this.#o).sortColumn==="purchases"&&(a=t.purchases?.length||0,s=n.purchases?.length||0),a<s?o(this.#o).sortDirection==="asc"?-1:1:a>s?o(this.#o).sortDirection==="asc"?1:-1:0}):e}getEnrichedProductById(e){return this.#e.get(e)?.data??null}getProductModelById(e){return this.#e.get(e)??null}hasConversions(e){const t=this.#e.get(e)?.data;return t?.byDate?lk(t.byDate):!1}async forceReload(e){await this.clearCache(),await this.initialize(e)}async clearCache(){this.#e.clear(),w(this.#u,null),this.#l&&await this.#l.clear(),console.log("[ProductsStore] Cache vidÃ©")}setSyncStatus(e,t){const n=t?"isSyncing":"active";e.forEach(a=>{const s=this.#e.get(a);if(s){const i={...s.data,status:n};s.update(i)}}),console.log(`[ProductsStore] Statut de synchronisation mis Ã  jour: ${e.length} produits â ${n}`)}clearSyncStatus(){const e=[];for(const[t,n]of this.#e)n.status==="isSyncing"&&e.push(t);e.length>0&&(this.setSyncStatus(e,!1),console.log(`[ProductsStore] Nettoyage de ${e.length} produits en statut "isSyncing"`))}reset(){console.log(`[ProductsStore] Reset pour eventId: ${o(this.#s)}`),this.#f?.(),this.#f=null,this.#x&&(this.#x(),this.#x=null),this.#l&&(this.#l.close(),this.#l=null),this.#e.clear(),this.#t.clear(),w(this.#r,null),w(this.#s,null),w(this.#n,!1),w(this.#a,!1),w(this.#i,null),w(this.#c,!1),w(this.#d,!1),w(this.#u,null),this.#A="",this.dateStore.reset(),w(this.#o,{searchQuery:"",selectedStores:[],selectedWho:[],selectedProductTypes:[],selectedTemperatures:[],temperatureFilter:"all",completionStatus:"all",groupBy:"productType",sortColumn:"",sortDirection:"asc"},!0),console.log("[ProductsStore] Reset terminÃ©")}destroy(){this.#f?.(),this.#f=null,this.#l&&(this.#l.close(),this.#l=null),console.log("[ProductsStore] Ressources nettoyÃ©es")}async#H(){if(o(this.#r))try{const e=await E6(o(this.#r));e.forEach(t=>{this.#t.set(t.$id,t)}),console.log(`[ProductsStore] ${e.length} dÃ©penses globales chargÃ©es`)}catch(e){console.error("[ProductsStore] Erreur chargement dÃ©penses globales:",e)}}#M=V(()=>{let e=0,t=0;for(const n of this.#e.values())n.stats.hasMissing?t++:e++;return{completed:e,missing:t,total:e+t}});get completionStats(){return o(this.#M)}set completionStats(e){w(this.#M,e)}#R=V(()=>{let e=0;const t={},n={},a=[];for(const s of this.#t.values()){const i=s.invoiceTotal||s.price||0;e+=i;const u=s.store||"Non dÃ©fini";t[u]=(t[u]||0)+i;const l=s.who||"Non dÃ©fini";n[l]=(n[l]||0)+i,a.push(s)}for(const s of this.#e.values()){const i=s.data;if(i.purchases&&i.purchases.length>0){for(const u of i.purchases)if(u.price){e+=u.price;const l=u.store||"Non dÃ©fini";t[l]=(t[l]||0)+u.price;const c=u.who||"Non dÃ©fini";n[c]=(n[c]||0)+u.price;const f={...u,_productName:i.productName};a.push(f)}}}return a.sort((s,i)=>{const u=new Date(s.orderDate||s.$createdAt).getTime();return new Date(i.orderDate||i.$createdAt).getTime()-u}),{totalGlobal:e,byStore:t,byWho:n,allPurchases:a}});get financialStats(){return o(this.#R)}set financialStats(e){w(this.#R,e)}}const Xe=new F6;class z6{#e=ae(!1);#t=!1;async loadCache(){o(this.#e)||(w(this.#e,!0),console.log("[NotificationStore] Cache chargÃ© : 0 notifications (pas de cache)"))}async syncFromRemote(){console.log("[NotificationStore] Sync : pas de donnÃ©es Ã  charger")}async setupRealtime(){if(this.#t){console.log("[NotificationStore] DÃ©jÃ  configurÃ©, skip.");return}try{console.log("[NotificationStore] Configuration du realtime...");const e=Aa();Pn.register([`databases.${e}.collections.user_notifications.documents`],async t=>{const n=t.payload,a=Ee.currentMainId;if(!(n.userId!=="broadcast"&&n.userId!==Ee.userId)&&t.events.some(s=>s.includes(".create"))){if(n.notificationType==="event_access_granted"&&n.targetCollection==="main")console.log("[NotificationStore] ð Event access granted:",n.targetDocumentId),await Nt.reload(),await this.#r(n.$id);else if(n.notificationType==="team_access_granted")console.log("[NotificationStore] ð Team access granted:",n.targetDocumentId),await At.reload(),await this.#r(n.$id);else if(n.notificationType==="batch_products_update"){const s=n.targetDocumentId;a===s&&(console.log("[NotificationStore] ð Batch data update for current event:",s),await Xe.syncFromAppwrite(),Xe.clearSyncStatus(),console.log("[NotificationStore] â Sync status cleared for batch update"),n.from?n.from===Ee.userId?console.log("[NotificationStore] Batch update from current user - no toast"):n.from==="system"?rt.info("Produits mis a jour",{source:"system"}):rt.info("Les produits ont Ã©tÃ© modifiÃ©s par unÂ·e autre utilisateurÂ·ices",{source:"realtime-other"}):console.warn("[NotificationStore] Legacy notification without 'from' field - ignoring")),await this.#r(n.$id)}}}),w(this.#e,!0),this.#t=!0,console.log("[NotificationStore] â Notifications de dÃ©couverte configurÃ©es (RealtimeManager)")}catch(e){throw console.error("[NotificationStore] Erreur lors de la configuration du realtime:",e),e}}async initialize(){await this.loadCache(),await this.syncFromRemote(),await this.setupRealtime()}async#r(e){try{const t=await vt(),n=Aa();await t.tables.deleteRow({databaseId:n,tableId:"user_notifications",rowId:e}),console.log(`[NotificationStore] Notification supprimÃ©e: ${e}`)}catch(t){console.error("[NotificationStore] Erreur lors de la suppression de la notification:",t)}}destroy(){w(this.#e,!1),this.#t=!1,console.log("[NotificationStore] Store dÃ©truit")}}const Al=new z6,rl=el(),nl="materiel";async function am(r){try{const{tables:e}=await vt();return(await e.listRows({databaseId:rl.APPWRITE_CONFIG.databaseId,tableId:nl,queries:r||[]})).rows}catch(e){throw console.error("[appwrite-materiel] Error listing materiels:",e),e}}async function q6(r,e){try{const{tables:t}=await vt(),n=Fn.unique();let a;try{a=typeof r.owner=="string"?JSON.parse(r.owner):r.owner}catch(u){throw console.error("[appwrite-materiel] Error parsing owner:",r.owner,u),new Error("Invalid owner format")}const s=[tr.read(hr.user(e)),tr.update(hr.user(e))];a.teamId?s.push(tr.read(hr.team(a.teamId)),tr.update(hr.team(a.teamId))):a.userId&&s.push(tr.read(hr.user(a.userId)),tr.update(hr.user(a.userId)));const i=await t.createRow({databaseId:rl.APPWRITE_CONFIG.databaseId,tableId:nl,rowId:n,data:{name:r.name,description:r.description||null,type:r.type||null,quantity:r.quantity,status:r.status||"ok",location:r.location||null,shareableWith:r.shareableWith||null,owner:r.owner},permissions:s});return console.log(`[appwrite-materiel] Materiel created: ${n}`),i}catch(t){throw console.error("[appwrite-materiel] Error creating materiel:",t),t}}async function Dl(r,e){try{const{tables:t}=await vt(),n=await t.updateRow({databaseId:rl.APPWRITE_CONFIG.databaseId,tableId:nl,rowId:r,data:e});return console.log(`[appwrite-materiel] Materiel updated: ${r}`),n}catch(t){throw console.error(`[appwrite-materiel] Error updating materiel ${r}:`,t),t}}async function j6(r){try{const{tables:e}=await vt();await e.deleteRow({databaseId:rl.APPWRITE_CONFIG.databaseId,tableId:nl,rowId:r}),console.log(`[appwrite-materiel] Materiel deleted: ${r}`)}catch(e){throw console.error(`[appwrite-materiel] Error deleting materiel ${r}:`,e),e}}function H6(){return[`databases.${rl.APPWRITE_CONFIG.databaseId}.collections.${nl}.documents`]}const al=el(),sl="materiel_loan";async function sm(r){try{const{tables:e}=await vt();return(await e.listRows({databaseId:al.APPWRITE_CONFIG.databaseId,tableId:sl,queries:r||[]})).rows}catch(e){throw console.error("[appwrite-materiel-loan] Error listing loans:",e),e}}async function U6(r,e){try{const{tables:t}=await vt(),n=Fn.unique(),a=[tr.read(hr.user(e)),tr.update(hr.user(e)),tr.read(hr.team(r.ownerId)),tr.update(hr.team(r.ownerId))],s=await t.createRow({databaseId:al.APPWRITE_CONFIG.databaseId,tableId:sl,rowId:n,data:{startDate:r.startDate,endDate:r.endDate,responsibleId:r.responsibleId,responsibleName:r.responsibleName,ownerId:r.ownerId,ownerName:r.ownerName,materiels:r.materiels.map(i=>JSON.stringify(i)),notes:r.notes||null,status:r.status||"asked",completedAt:null,returnedAt:null,returnNotes:null},permissions:a});return console.log(`[appwrite-materiel-loan] Loan created: ${n}`),s}catch(t){throw console.error("[appwrite-materiel-loan] Error creating loan:",t),t}}async function V6(r,e){try{const{tables:t}=await vt(),n={};e.startDate!==void 0&&(n.startDate=e.startDate),e.endDate!==void 0&&(n.endDate=e.endDate),e.materiels!==void 0&&(n.materiels=e.materiels.map(s=>JSON.stringify(s))),e.status!==void 0&&(n.status=e.status),e.notes!==void 0&&(n.notes=e.notes),e.returnedAt!==void 0&&(n.returnedAt=e.returnedAt),e.returnNotes!==void 0&&(n.returnNotes=e.returnNotes);const a=await t.updateRow({databaseId:al.APPWRITE_CONFIG.databaseId,tableId:sl,rowId:r,data:n});return console.log(`[appwrite-materiel-loan] Loan updated: ${r}`),a}catch(t){throw console.error(`[appwrite-materiel-loan] Error updating loan ${r}:`,t),t}}async function W6(r){try{const{tables:e}=await vt();await e.deleteRow({databaseId:al.APPWRITE_CONFIG.databaseId,tableId:sl,rowId:r}),console.log(`[appwrite-materiel-loan] Loan deleted: ${r}`)}catch(e){throw console.error(`[appwrite-materiel-loan] Error deleting loan ${r}:`,e),e}}function Q6(){return[`databases.${al.APPWRITE_CONFIG.databaseId}.collections.${sl}.documents`]}class G6{dbName="materiel-cache";db=null;version=1;MATERIELS_STORE="materiels";LOANS_STORE="loans";METADATA_STORE="metadata";LAST_SYNC_MATERIEL_KEY="lastSyncMateriel";LAST_SYNC_LOANS_KEY="lastSyncLoans";async open(){if(this.db)return;const e=()=>new Promise((i,u)=>{const l=indexedDB.open(this.dbName,this.version);l.onerror=()=>u(l.error),l.onsuccess=()=>i(l.result),l.onupgradeneeded=c=>{const f=c.target.result;f.objectStoreNames.contains(this.MATERIELS_STORE)||(f.createObjectStore(this.MATERIELS_STORE,{keyPath:"$id"}),console.log("[MaterielIDBCache] Object store 'materiels' crÃ©Ã©")),f.objectStoreNames.contains(this.LOANS_STORE)||(f.createObjectStore(this.LOANS_STORE,{keyPath:"$id"}),console.log("[MaterielIDBCache] Object store 'loans' crÃ©Ã©")),f.objectStoreNames.contains(this.METADATA_STORE)||(f.createObjectStore(this.METADATA_STORE,{keyPath:"key"}),console.log("[MaterielIDBCache] Object store 'metadata' crÃ©Ã©"))}});let t=await e();const n=t.objectStoreNames.contains(this.MATERIELS_STORE),a=t.objectStoreNames.contains(this.LOANS_STORE),s=t.objectStoreNames.contains(this.METADATA_STORE);(!n||!a||!s)&&(console.warn(`[MaterielIDBCache] Base incomplÃ¨te dÃ©tectÃ©e (materiels=${n}, loans=${a}, metadata=${s}), suppression et recrÃ©ation...`),t.close(),await new Promise((i,u)=>{const l=indexedDB.deleteDatabase(this.dbName);l.onsuccess=()=>i(),l.onerror=()=>u(l.error),l.onblocked=()=>{console.warn("[MaterielIDBCache] Suppression bloquÃ©e, rÃ©essai...")}}),t=await e()),this.db=t,console.log(`[MaterielIDBCache] Base ouverte: ${this.dbName}`)}async loadMateriels(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.MATERIELS_STORE,"readonly").objectStore(this.MATERIELS_STORE).getAll();s.onsuccess=()=>{const i=new Map;s.result.forEach(u=>{i.set(u.$id,u)}),console.log(`[MaterielIDBCache] ${i.size} matÃ©riels chargÃ©s`),e(i)},s.onerror=()=>t(s.error)})}async saveMateriels(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const a=this.db.transaction(this.MATERIELS_STORE,"readwrite"),s=a.objectStore(this.MATERIELS_STORE);s.clear(),e.forEach(i=>{s.put(i)}),a.oncomplete=()=>{console.log(`[MaterielIDBCache] ${e.size} matÃ©riels sauvegardÃ©s`),t()},a.onerror=()=>n(a.error)})}async upsertMateriel(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const i=this.db.transaction(this.MATERIELS_STORE,"readwrite").objectStore(this.MATERIELS_STORE).put(e);i.onsuccess=()=>{console.log(`[MaterielIDBCache] MatÃ©riel ${e.$id} sauvegardÃ©`),t()},i.onerror=()=>n(i.error)})}async deleteMateriel(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const i=this.db.transaction(this.MATERIELS_STORE,"readwrite").objectStore(this.MATERIELS_STORE).delete(e);i.onsuccess=()=>{console.log(`[MaterielIDBCache] MatÃ©riel ${e} supprimÃ©`),t()},i.onerror=()=>n(i.error)})}async loadLoans(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.LOANS_STORE,"readonly").objectStore(this.LOANS_STORE).getAll();s.onsuccess=()=>{const i=new Map;s.result.forEach(u=>{i.set(u.$id,u)}),console.log(`[MaterielIDBCache] ${i.size} emprunts chargÃ©s`),e(i)},s.onerror=()=>t(s.error)})}async saveLoans(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const a=this.db.transaction(this.LOANS_STORE,"readwrite"),s=a.objectStore(this.LOANS_STORE);s.clear(),e.forEach(i=>{s.put(i)}),a.oncomplete=()=>{console.log(`[MaterielIDBCache] ${e.size} emprunts sauvegardÃ©s`),t()},a.onerror=()=>n(a.error)})}async upsertLoan(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const i=this.db.transaction(this.LOANS_STORE,"readwrite").objectStore(this.LOANS_STORE).put(e);i.onsuccess=()=>{console.log(`[MaterielIDBCache] Emprunt ${e.$id} sauvegardÃ©`),t()},i.onerror=()=>n(i.error)})}async deleteLoan(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const i=this.db.transaction(this.LOANS_STORE,"readwrite").objectStore(this.LOANS_STORE).delete(e);i.onsuccess=()=>{console.log(`[MaterielIDBCache] Emprunt ${e} supprimÃ©`),t()},i.onerror=()=>n(i.error)})}async loadMetadata(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.METADATA_STORE,"readonly").objectStore(this.METADATA_STORE).getAll();s.onsuccess=()=>{const i=s.result,u={lastSyncMateriel:null,lastSyncLoans:null};i.forEach(l=>{l.key===this.LAST_SYNC_MATERIEL_KEY&&(u.lastSyncMateriel=l.value),l.key===this.LAST_SYNC_LOANS_KEY&&(u.lastSyncLoans=l.value)}),console.log(`[MaterielIDBCache] Metadata chargÃ©es: lastSyncMateriel=${u.lastSyncMateriel}, lastSyncLoans=${u.lastSyncLoans}`),e(u)},s.onerror=()=>t(s.error)})}async saveMetadata(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite"),s=a.objectStore(this.METADATA_STORE);s.put({key:this.LAST_SYNC_MATERIEL_KEY,value:e.lastSyncMateriel}),s.put({key:this.LAST_SYNC_LOANS_KEY,value:e.lastSyncLoans}),a.oncomplete=()=>{console.log("[MaterielIDBCache] Metadata sauvegardÃ©es"),t()},a.onerror=()=>n(a.error)})}async clear(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const n=this.db.transaction([this.MATERIELS_STORE,this.LOANS_STORE,this.METADATA_STORE],"readwrite");n.objectStore(this.MATERIELS_STORE).clear(),n.objectStore(this.LOANS_STORE).clear(),n.objectStore(this.METADATA_STORE).clear(),n.oncomplete=()=>{console.log("[MaterielIDBCache] Cache vidÃ©"),e()},n.onerror=()=>t(n.error)})}close(){this.db&&(this.db.close(),this.db=null,console.log("[MaterielIDBCache] Connexion fermÃ©e"))}}async function K6(){const r=new G6;return await r.open(),r}function Md(r){const e={electronic:{label:"Ãlectronique",badgeClass:"badge-warning",textColor:"text-warning",bgColor:"bg-warning/10"},manual:{label:"Manuel",badgeClass:"badge-info",textColor:"text-info",bgColor:"bg-info/10"},tools:{label:"Outils",badgeClass:"badge-secondary",textColor:"text-secondary",bgColor:"bg-secondary/10"},dish:{label:"Vaisselle",badgeClass:"badge-primary",textColor:"text-primary",bgColor:"bg-primary/10"},cooking:{label:"Cuisine",badgeClass:"badge-success",textColor:"text-success",bgColor:"bg-success/10"},gaz:{label:"Gaz",badgeClass:"badge-error",textColor:"text-error",bgColor:"bg-error/10"},hygiene:{label:"HygiÃ¨ne",badgeClass:"badge-info",textColor:"text-info",bgColor:"bg-info/10"},other:{label:"Autre",badgeClass:"badge-neutral",textColor:"text-neutral",bgColor:"bg-neutral/10"}};return e[r||"other"]||e.other}function J6(r){return Md(r).badgeClass}function s2(r){return Md(r).textColor}function i2(r){return Md(r).bgColor}function Z6(r){return{ok:"OK",lost:"Perdu",torepair:"Ã rÃ©parer"}[r||"ok"]||r||"OK"}const im={userName:"",userId:"",teamName:"",teamId:""};function Y6(r){if(!r)return im;try{return typeof r=="string"?JSON.parse(r):r}catch(e){return console.error("[materiel.utils] Error parsing owner from Appwrite:",r,e),im}}function Tp(r){if(!r)return[];try{return Array.isArray(r)?r.map(e=>{try{return JSON.parse(e)}catch{return console.warn("[materiel.utils] Failed to parse loan item string:",e),null}}).filter(e=>e!==null):typeof r=="string"?JSON.parse(r):[]}catch(e){return console.error("[materiel.utils] Error parsing loan items from Appwrite:",r,e),[]}}function X6(r){return Tp(r)}function Vo(r){return{...r,materielItems:X6(r.materiels)}}function o2(r,e,t=new Date){const n=Y6(r.owner),a=[];let s=0;e.forEach(c=>{const h=Tp(c.materiels).filter(k=>k.materielId===r.$id);if(h.length===0)return;const m=new Date(c.startDate),g=new Date(c.endDate),b=m<=t&&g>=t,y=m>t,x=["accepted","asked"].includes(c.status);(b||y)&&x&&h.forEach(k=>{a.push({loanId:c.$id,responsibleName:c.responsibleName||"",startDate:c.startDate,endDate:c.endDate,quantity:k.quantity,status:c.status})}),b&&x&&h.forEach(k=>{s+=k.quantity})});const u=a.some(c=>{const f=new Date(c.startDate),h=new Date(c.endDate);return f<=t&&h>=t})?"loan":r.status,l=r.quantity-s;return{...r,status:u,ownerData:n,loanDetails:a,availableQuantity:l,totalLoanedQuantity:s,isAvailable:l>0,isFullyLoaned:l===0}}function eE(r,e){const t={...r};return o2(t,e)}function tE(r){return["asked","accepted"].includes(r.status)}function rE(r,e,t,n){return r<=n&&e>=t}function nE(r,e,t,n){let a=0;return e.forEach(s=>{if(!tE(s))return;const i=new Date(s.startDate),u=new Date(s.endDate);if(!rE(i,u,t,n))return;const c=Tp(s.materiels).filter(f=>f.materielId===r);a+=c.reduce((f,h)=>f+h.quantity,0)}),a}class aE{#e=new Kr;#t=new Kr;#r=null;#s=ae(!1);#n=ae(null);#a=ae(!1);#i=ae(!1);#c=!1;#d=ae(null);#u=ae(null);#l=null;get loading(){return o(this.#s)}get error(){return o(this.#n)}get isInitialized(){return o(this.#a)}get isRealtimeActive(){return o(this.#i)}get count(){return this.#e.size}#f=V(()=>Array.from(this.#e.values()));get materiels(){return o(this.#f)}#h=V(()=>Array.from(this.#t.values()));get loans(){return o(this.#h)}#o=V(()=>{if(!Ee.userId)return[];const e=At.myTeams.map(t=>t.$id);return o(this.#f).filter(t=>t.ownerData?.teamId&&e.includes(t.ownerData.teamId))});get teamMateriels(){return o(this.#o)}#v=V(()=>{if(!Ee.userId)return[];const e=At.myTeams.map(t=>t.$id);return o(this.#f).filter(t=>t.shareableWith?.some(a=>e.includes(a))&&!(t.ownerData?.teamId&&e.includes(t.ownerData.teamId)))});get shareableMateriels(){return o(this.#v)}#p=V(()=>o(this.#f).filter(e=>e.isAvailable));get availableMateriels(){return o(this.#p)}getAvailableMaterielsByOwner(e){return o(this.#p).filter(t=>t.ownerData?.teamId===e&&t.status!=="lost"&&t.status!=="torepair")}getMaterielsByOwner(e){return o(this.#f).filter(t=>t.ownerData?.teamId===e)}getAvailableMaterielsForPeriod(e,t,n){const a=new Date(t),s=new Date(n),i=Array.from(this.#t.values());return o(this.#f).filter(u=>u.ownerData?.teamId===e).filter(u=>u.status!=="lost"&&u.status!=="torepair").map(u=>{const l=nE(u.$id,i,a,s),c=u.quantity-l;return{...u,availableForPeriod:c}}).filter(u=>u.availableForPeriod>0)}async loadCache(){if(!o(this.#a)){w(this.#s,!0),w(this.#n,null);try{if(!Ee.userId){w(this.#a,!0);return}this.#r=await K6(),await this.#w(),w(this.#a,!0),console.log(`[MaterielStore] Cache chargÃ© : ${this.#e.size} matÃ©riels, ${this.#t.size} emprunts`)}catch(e){throw w(this.#n,e instanceof Error?e.message:"Erreur de chargement du cache",!0),console.error("[MaterielStore] LoadCache error:",e),e}finally{w(this.#s,!1)}}}async syncFromRemote(){w(this.#s,!0),w(this.#n,null);try{if(!Ee.userId)return;await this.#k(),console.log(`[MaterielStore] Sync terminÃ© : ${this.#e.size} matÃ©riels, ${this.#t.size} emprunts`)}catch(e){throw w(this.#n,e instanceof Error?e.message:"Erreur de synchronisation",!0),console.error("[MaterielStore] SyncFromRemote error:",e),e}finally{w(this.#s,!1)}}async setupRealtime(){if(Ee.userId){if(this.#c){console.log("[MaterielStore] Realtime dÃ©jÃ  configurÃ©");return}try{await this.#g(),w(this.#i,!0),this.#c=!0,console.log("[MaterielStore] Realtime configurÃ©")}catch(e){throw w(this.#n,e instanceof Error?e.message:"Erreur de configuration realtime",!0),console.error("[MaterielStore] SetupRealtime error:",e),e}}}async initialize(){await this.loadCache(),await this.syncFromRemote(),await this.setupRealtime()}async#w(){if(this.#r)try{(await this.#r.loadMateriels()).forEach(a=>{this.#e.set(a.$id,a)}),(await this.#r.loadLoans()).forEach(a=>{const s=Vo(a);this.#t.set(a.$id,s)});const n=await this.#r.loadMetadata();w(this.#d,n.lastSyncMateriel,!0),w(this.#u,n.lastSyncLoans,!0),console.log(`[MaterielStore] ${this.#e.size} matÃ©riels et ${this.#t.size} emprunts chargÃ©s du cache IDB`)}catch(e){console.warn("[MaterielStore] Erreur lecture cache IDB, ignorÃ©:",e)}}async#k(){try{const e=o(this.#d)?[Qe.greaterThan("$updatedAt",o(this.#d))]:[],t=await am(e);for(const s of t){const i=this.#_(s);this.#e.set(s.$id,i),this.#r?.upsertMateriel(i)}w(this.#d,new Date().toISOString(),!0);const n=o(this.#u)?[Qe.greaterThan("$updatedAt",o(this.#u)),Qe.limit(100)]:[],a=await sm(n);for(const s of a){const i=Vo(s);this.#t.set(s.$id,i),this.#r?.upsertLoan(s),this.#y(i)}w(this.#u,new Date().toISOString(),!0),await this.#r?.saveMetadata({lastSyncMateriel:o(this.#d),lastSyncLoans:o(this.#u)}),console.log("[MaterielStore] Sync terminÃ©")}catch(e){throw console.error("[MaterielStore] Erreur sync:",e),e}}async#m(){try{console.log("[MaterielStore] Chargement complet depuis Appwrite...");const e=await am([Qe.limit(1e3)]);for(const a of e){const s=this.#_(a);this.#e.set(a.$id,s)}const t=await sm([Qe.limit(1e3)]),n=[];for(const a of t){const s=Vo(a);this.#t.set(a.$id,s),n.push(s)}for(const a of n)this.#y(a);w(this.#d,new Date().toISOString(),!0),w(this.#u,new Date().toISOString(),!0),console.log(`[MaterielStore] ${e.length} matÃ©riels et ${t.length} emprunts chargÃ©s`)}catch(e){throw console.error("[MaterielStore] Erreur chargement complet:",e),e}}async#g(){Pn.register(H6(),async e=>{await this.#b(e)}),Pn.register(Q6(),async e=>{await this.#E(e)})}async#b(e){try{const t=e.events,n=e.payload;if(!n){console.warn("[MaterielStore] Realtime Materiel : pas de payload dans la rÃ©ponse");return}const a=t.some(s=>s.includes(".create"))?"create":t.some(s=>s.includes(".delete"))?"delete":"update";if(console.log(`[MaterielStore] â¡ï¸ Realtime Materiel RECEIVED: ${a} pour ${n.$id}`),a==="create"||a==="update"){const s=this.#_(n);this.#e.set(n.$id,s),this.#r?.upsertMateriel(s)}else a==="delete"&&(this.#e.delete(n.$id),this.#r?.deleteMateriel(n.$id))}catch(t){console.error("[MaterielStore] Erreur realtime Materiel:",t)}}async#E(e){try{const t=e.events,n=e.payload;if(!n){console.warn("[MaterielStore] Realtime Loan : pas de payload dans la rÃ©ponse");return}const a=t.some(s=>s.includes(".create"))?"create":t.some(s=>s.includes(".delete"))?"delete":"update";if(console.log(`[MaterielStore] â¡ï¸ Realtime Loan RECEIVED: ${a} pour ${n.$id}`),a==="create"||a==="update"){const s=Vo(n);this.#t.set(n.$id,s),this.#r?.upsertLoan(n),this.#y(s)}else if(a==="delete"){const s=this.#t.get(n.$id);s&&this.#y(s),this.#t.delete(n.$id),this.#r?.deleteLoan(n.$id)}}catch(t){console.error("[MaterielStore] Erreur realtime Loan:",t)}}#_(e){const t=Array.from(this.#t.values());return o2(e,t)}#y(e){const t=e.materielItems,n=Array.from(this.#t.values());for(const a of t){const s=this.#e.get(a.materielId);if(s){const i=eE(s,n);this.#e.set(a.materielId,i),this.#r?.upsertMateriel(i)}}}getMaterielById(e){return this.#e.get(e)}getLoanById(e){return this.#t.get(e)}async createMateriel(e){w(this.#s,!0),w(this.#n,null);try{if(!Ee.userId)throw new Error("Utilisateur non connectÃ©");const t=await q6(e,Ee.userId),n=this.#_(t);return this.#e.set(t.$id,n),this.#r?.upsertMateriel(n),n}catch(t){throw w(this.#n,t instanceof Error?t.message:"Erreur de crÃ©ation",!0),t}finally{w(this.#s,!1)}}async updateMateriel(e,t){w(this.#s,!0),w(this.#n,null);try{const n=await Dl(e,t),a=this.#_(n);this.#e.set(n.$id,a),this.#r?.upsertMateriel(a)}catch(n){throw w(this.#n,n instanceof Error?n.message:"Erreur de mise Ã  jour",!0),n}finally{w(this.#s,!1)}}async deleteMateriel(e){w(this.#s,!0),w(this.#n,null);try{await j6(e),this.#e.delete(e),this.#r?.deleteMateriel(e)}catch(t){throw w(this.#n,t instanceof Error?t.message:"Erreur de suppression",!0),t}finally{w(this.#s,!1)}}async createLoan(e){w(this.#s,!0),w(this.#n,null);try{if(!Ee.userId)throw new Error("Utilisateur non connectÃ©");const t=await U6(e,Ee.userId);return Vo(t)}catch(t){throw w(this.#n,t instanceof Error?t.message:"Erreur de crÃ©ation",!0),t}finally{w(this.#s,!1)}}async updateLoan(e,t){w(this.#s,!0),w(this.#n,null);try{await V6(e,t)}catch(n){throw w(this.#n,n instanceof Error?n.message:"Erreur de mise Ã  jour",!0),n}finally{w(this.#s,!1)}}async acceptLoan(e){await this.updateLoan(e,{status:"accepted"})}async refuseLoan(e){await this.updateLoan(e,{status:"refused"})}async cancelLoan(e){await this.updateLoan(e,{status:"canceled"})}async completeLoanWithReturn(e,t){for(const n of t.materiels){const a=n.lostQuantity||0,s=n.brokenQuantity||0;a+s>=n.quantity?await Dl(n.materielId,{status:"lost"}):s>0?await Dl(n.materielId,{status:"torepair"}):await Dl(n.materielId,{status:"ok"})}await this.updateLoan(e,{status:"completed",returnedAt:new Date().toISOString(),returnNotes:t.returnNotes,materiels:t.materiels})}async completeLoan(e){await this.updateLoan(e,{status:"completed",returnedAt:new Date().toISOString()})}async deleteLoan(e){w(this.#s,!0),w(this.#n,null);try{const t=this.#t.get(e);t&&this.#y(t),await W6(e)}catch(t){throw w(this.#n,t instanceof Error?t.message:"Erreur de suppression",!0),t}finally{w(this.#s,!1)}}async hardReset(){console.log("[MaterielStore] ð HARD RESET - Vidage complet..."),w(this.#s,!0),w(this.#n,null);try{if(this.#e.clear(),this.#t.clear(),this.#r&&(await this.#r.clear(),console.log("[MaterielStore] Cache IDB vidÃ©")),await this.#m(),this.#r){for(const[,e]of this.#e)await this.#r.upsertMateriel(e);for(const[,e]of this.#t)await this.#r.upsertLoan(e);await this.#r.saveMetadata({lastSyncMateriel:o(this.#d),lastSyncLoans:o(this.#u)}),console.log("[MaterielStore] Cache IDB recrÃ©Ã©")}console.log("[MaterielStore] â HARD RESET terminÃ©")}catch(e){const t=e instanceof Error?e.message:"Erreur lors du hard reset";throw w(this.#n,t,!0),console.error("[MaterielStore] Erreur hard reset:",e),e}finally{w(this.#s,!1)}}destroy(){this.#l?.(),this.#e.clear(),this.#t.clear(),this.#r=null,this.#c=!1}}const Yt=new aE,Rd="teamdocs";async function sE(){try{const{tables:r,config:e}=await vt();return(await r.listRows({databaseId:e.databaseId,tableId:Rd})).rows}catch(r){throw console.error("[appwrite-teamdocs] Error listing documents:",r),r}}async function iE(r,e,t,n){try{const{tables:a,config:s}=await vt(),i=[tr.read(hr.team(e)),tr.update(hr.team(e)),tr.delete(hr.team(e))],u=await a.createRow({databaseId:s.databaseId,tableId:Rd,rowId:Fn.unique(),data:{...r,teamId:e,createdBy:t},permissions:i});return console.log(`[appwrite-teamdocs] Document created: ${u.$id}`),u}catch(a){throw console.error("[appwrite-teamdocs] Error creating document:",a),a}}async function u2(r,e){try{const{tables:t,config:n}=await vt(),a=await t.updateRow({databaseId:n.databaseId,tableId:Rd,rowId:r,data:e});return console.log(`[appwrite-teamdocs] Document updated: ${r}`),a}catch(t){throw console.error(`[appwrite-teamdocs] Error updating document ${r}:`,t),t}}async function oE(r){try{const{tables:e,config:t}=await vt();await e.deleteRow({databaseId:t.databaseId,tableId:Rd,rowId:r}),console.log(`[appwrite-teamdocs] Document deleted: ${r}`)}catch(e){throw console.error(`[appwrite-teamdocs] Error deleting document ${r}:`,e),e}}async function uE(r,e){try{await u2(r,{lockedBy:e}),console.log(`[appwrite-teamdocs] Lock ${r} mis Ã  jour: ${e||"libÃ©rÃ©"}`)}catch(t){throw console.error(`[appwrite-teamdocs] Erreur verrouillage ${r}:`,t),t}}class lE{#e=new Kr;#t=new Kr;#r=ae(!1);#s=ae(null);#n=ae(!1);#a=ae(!1);#i=!1;#c=ae(null);#d=null;get loading(){return o(this.#r)}get error(){return o(this.#s)}get isInitialized(){return o(this.#n)}get isRealtimeActive(){return o(this.#a)}get count(){return this.#e.size}#u=V(()=>Array.from(this.#e.values()));get documents(){return o(this.#u)}getTeamDocuments(e){return o(this.#u).filter(t=>t.teamId===e)}getTeamTags(e){return this.#t.get(e)||[]}async loadCache(){if(!o(this.#n)){w(this.#r,!0),w(this.#s,null);try{if(!Ee.userId){w(this.#n,!0);return}w(this.#n,!0),console.log("[TeamdocsStore] Cache chargÃ© (sans IDB)")}catch(e){throw w(this.#s,e instanceof Error?e.message:"Erreur de chargement du cache",!0),console.error("[TeamdocsStore] LoadCache error:",e),e}finally{w(this.#r,!1)}}}async syncFromRemote(){w(this.#r,!0),w(this.#s,null);try{if(!Ee.userId)return;const e=await sE();for(const t of e)this.#e.set(t.$id,t);await this.#h(),w(this.#c,new Date().toISOString(),!0),console.log(`[TeamdocsStore] Sync terminÃ© : ${this.#e.size} documents`)}catch(e){throw w(this.#s,e instanceof Error?e.message:"Erreur de synchronisation",!0),console.error("[TeamdocsStore] SyncFromRemote error:",e),e}finally{w(this.#r,!1)}}async setupRealtime(){if(Ee.userId){if(this.#i){console.log("[TeamdocsStore] Realtime dÃ©jÃ  configurÃ©");return}try{await this.#l(),w(this.#a,!0),this.#i=!0,console.log("[TeamdocsStore] Realtime configurÃ©")}catch(e){throw w(this.#s,e instanceof Error?e.message:"Erreur de configuration realtime",!0),console.error("[TeamdocsStore] SetupRealtime error:",e),e}}}async initialize(){await this.loadCache(),await this.syncFromRemote(),await this.setupRealtime()}async#l(){const e=["databases.*.collections.undefined"];Pn.register(e,async t=>{await this.#f(t)}),this.#d=()=>{}}async#f(e){const{events:t,payload:n}=e,a=t?.[0];if(!a)return;const s=n;switch(a){case"databases.*.collections.*.documents.create":case"databases.*.collections.*.documents.update":s&&(this.#e.set(s.$id,s),await this.#h(),console.log(`[TeamdocsStore] Document mis Ã  jour : ${s.$id}`));break;case"databases.*.collections.*.documents.delete":s?.$id&&(this.#e.delete(s.$id),await this.#h(),console.log(`[TeamdocsStore] Document supprimÃ© : ${s.$id}`));break}}async createDocument(e,t){if(!Ee.userId||!Ee.userName)throw new Error("Utilisateur non connectÃ©");const n=await iE(e,t,Ee.userId,Ee.userName);return this.#e.set(n.$id,n),await this.#h(),console.log(`[TeamdocsStore] Document crÃ©Ã© : ${n.$id}`),n}async updateDocument(e,t){const n=await u2(e,t);return this.#e.set(e,n),t.tags&&await this.#h(),console.log(`[TeamdocsStore] Document mis Ã  jour : ${e}`),n}async deleteDocument(e){await oE(e),this.#e.delete(e),await this.#h(),console.log(`[TeamdocsStore] Document supprimÃ© : ${e}`)}getDocumentById(e){return this.#e.get(e)}async updateDocumentLock(e,t){if(Ee.userId)try{await uE(e,t);const n=this.#e.get(e);n&&this.#e.set(e,{...n,lockedBy:t}),console.log(`[TeamdocsStore] Verrou ${e} mis Ã  jour: ${t||"libÃ©rÃ©"}`)}catch(n){throw console.error(`[TeamdocsStore] Erreur verrouillage ${e}:`,n),n}}async#h(){const e=new Map;for(const t of o(this.#u)){const n=t.teamId;e.has(n)||e.set(n,new Set),t.tags&&t.tags.forEach(a=>{e.get(n).add(a)})}e.forEach((t,n)=>{this.#t.set(n,Array.from(t).sort())}),console.log(`[TeamdocsStore] Tags mis Ã  jour pour ${e.size} Ã©quipes`)}destroy(){this.#d&&(this.#d(),this.#d=null),this.#e.clear(),this.#t.clear(),w(this.#n,!1),w(this.#a,!1),this.#i=!1,console.log("[TeamdocsStore] Store dÃ©truit")}async hardReset(){this.destroy(),w(this.#c,null),console.log("[TeamdocsStore] Hard reset effectuÃ©")}}const ar=new lE;var cE=_('<div class="alert alert-error shadow-lg"><svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l-2-2m0 0l-2-2m2 2l2-2m-2 2l-2 2m8-8l2 2m0 0l2 2m-2-2l-2-2m2 2l2 2"></path></svg> <div><h3 class="font-bold">Erreur</h3> <div class="text-sm"> </div></div></div>');function om(r,e){var t=cE(),n=p(d(t),2),a=p(d(n),2),s=d(a);P(()=>O(s,e.message)),v(r,t)}class dE{#e=ae(ot({title:""}));get title(){return o(this.#e).title||"ENKA Cookbook"}get backAction(){return o(this.#e).backAction}get actions(){return o(this.#e).actions}get tabs(){return o(this.#e).tabs}get eventId(){return o(this.#e).eventId}get activeTab(){return o(this.#e).activeTab||0}get isLockedByOthers(){return o(this.#e).isLockedByOthers||!1}get lockedByUserName(){return o(this.#e).lockedByUserName||""}get hasUnsavedChanges(){return o(this.#e).hasUnsavedChanges||!1}get materielContext(){return o(this.#e).materielContext||null}get teamId(){return o(this.#e).teamId}setConfig(e){w(this.#e,{...e},!0)}reset(){w(this.#e,{title:""},!0)}}const St=new dE;var fE=_("<button> </button>"),hE=_('<div class="rounded-box bg-secondary/10 px-4 py-1"><div class="tabs tabs-border justify-center"></div></div>');function um(r,e){pe(e,!0);const t=[{label:"Ãditer l'Ã©vÃ©nement",path:"/dashboard/eventEdit"},{label:"Voir les recettes",path:"/dashboard/eventEdit/recipes"},{label:"Listes des produits",path:"/dashboard/eventEdit/products"},{label:"Affiches",path:"/dashboard/eventPosters"}],n=V(()=>{const u=zt.path;return u.includes("/eventEdit/recipes/")?1:u.includes("/eventEdit/products/")?2:u.includes("/eventPosters/")?3:(u.includes("/eventEdit/")&&e.eventId&&new RegExp(`/dashboard/eventEdit/${e.eventId}(/?$)`).test(u),0)});function a(u){e.eventId&&ct(u===1?`/dashboard/eventEdit/recipes/${e.eventId}`:u===2?`/dashboard/eventEdit/products/${e.eventId}`:u===3?`/dashboard/eventPosters/${e.eventId}`:`/dashboard/eventEdit/${e.eventId}`)}var s=hE(),i=d(s);ze(i,21,()=>t,bt,(u,l,c)=>{var f=fE();f.__click=()=>a(c);var h=d(f);P(()=>{_e(f,1,`tab font-semibold ${c===o(n)?"tab-active":""}`),O(h,o(l).label)}),v(u,f)}),v(r,s),ve()}tt(["click"]);var pE=_("<button> </button>"),vE=_('<div class="tabs tabs-lg tabs-border justify-center"></div>');function lm(r,e){pe(e,!0);const t=[{label:"MatÃ©riel",getPath:()=>a()},{label:"Reservations",getPath:()=>s()}],n=V(()=>zt.path.includes("/loans")?1:0);function a(){if(e.currentTeamId)return`/dashboard/materiel/${e.currentTeamId}`;const l=At.myTeams;return l.length>0?`/dashboard/materiel/${l[0].$id}`:"/dashboard/materiel"}function s(){if(e.currentTeamId)return`/dashboard/loans/${e.currentTeamId}`;const l=At.myTeams;return l.length>0?`/dashboard/loans/${l[0].$id}`:"/dashboard/loans"}function i(l){const c=t[l].getPath();ct(c)}var u=vE();ze(u,21,()=>t,bt,(l,c,f)=>{var h=pE();h.__click=()=>i(f);var m=d(h);P(()=>{_e(h,1,`tab font-medium ${f===o(n)?"tab-active":""}`),O(m,o(c).label)}),v(l,h)}),v(r,u),ve()}tt(["click"]);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2023 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const mE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var gE=Dd("<svg><!><!></svg>");function je(r,e){pe(e,!0);const t=ke(e,"color",3,"currentColor"),n=ke(e,"size",3,24),a=ke(e,"strokeWidth",3,2),s=ke(e,"absoluteStrokeWidth",3,!1),i=ke(e,"iconNode",19,()=>[]),u=Fe(e,["$$slots","$$events","$$legacy","name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","children"]);var l=gE();ut(l,h=>({...mE,...u,width:n(),height:n(),stroke:t(),"stroke-width":h,class:["lucide-icon lucide",e.name&&`lucide-${e.name}`,e.class]}),[()=>s()?Number(a())*24/Number(n()):a()]);var c=d(l);ze(c,17,i,bt,(h,m)=>{var g=V(()=>ha(o(m),2));let b=()=>o(g)[0],y=()=>o(g)[1];var x=ce(),k=z(x);$4(k,b,!0,(S,A)=>{ut(S,()=>({...y()}))}),v(h,x)});var f=p(c);ge(f,()=>e.children??me),v(r,l),ve()}function Mp(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8"}],["path",{d:"M10 12h4"}]];je(r,Ne({name:"archive"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function bE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M13 9a1 1 0 0 1-1-1V5.061a1 1 0 0 0-1.811-.75l-6.835 6.836a1.207 1.207 0 0 0 0 1.707l6.835 6.835a1 1 0 0 0 1.811-.75V16a1 1 0 0 1 1-1h6a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1z"}]];je(r,Ne({name:"arrow-big-left"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function l2(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M11 9a1 1 0 0 0 1-1V5.061a1 1 0 0 1 1.811-.75l6.836 6.836a1.207 1.207 0 0 1 0 1.707l-6.836 6.835a1 1 0 0 1-1.811-.75V16a1 1 0 0 0-1-1H5a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1z"}]];je(r,Ne({name:"arrow-big-right"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function c2(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"m3 16 4 4 4-4"}],["path",{d:"M7 20V4"}],["path",{d:"M11 4h4"}],["path",{d:"M11 8h7"}],["path",{d:"M11 12h10"}]];je(r,Ne({name:"arrow-down-narrow-wide"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function d2(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]];je(r,Ne({name:"arrow-down"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function Rp(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];je(r,Ne({name:"arrow-left"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function Ei(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]];je(r,Ne({name:"arrow-right"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function Np(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]];je(r,Ne({name:"arrow-up"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function f2(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}],["path",{d:"M7 12h5"}],["path",{d:"M15 9.4a4 4 0 1 0 0 5.2"}]];je(r,Ne({name:"badge-euro"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function _E(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M10.165 6.598C9.954 7.478 9.64 8.36 9 9c-.64.64-1.521.954-2.402 1.165A6 6 0 0 0 8 22c7.732 0 14-6.268 14-14a6 6 0 0 0-11.835-1.402Z"}],["path",{d:"M5.341 10.62a4 4 0 1 0 5.279-5.28"}]];je(r,Ne({name:"bean"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function yE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M16.4 13.7A6.5 6.5 0 1 0 6.28 6.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1-2.29 7.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5"}],["circle",{cx:"12.5",cy:"8.5",r:"2.5"}]];je(r,Ne({name:"beef"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function Pp(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8"}]];je(r,Ne({name:"bold"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function oo(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M12 7v14"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"}]];je(r,Ne({name:"book-open"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function vo(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}],["path",{d:"m3.3 7 8.7 5 8.7-5"}],["path",{d:"M12 22V12"}]];je(r,Ne({name:"box"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function xE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M10 12h4"}],["path",{d:"M10 8h4"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16"}]];je(r,Ne({name:"building-2"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function wE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}],["path",{d:"M8 14h.01"}],["path",{d:"M12 14h.01"}],["path",{d:"M16 14h.01"}],["path",{d:"M8 18h.01"}],["path",{d:"M12 18h.01"}],["path",{d:"M16 18h.01"}]];je(r,Ne({name:"calendar-days"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function kE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}],["path",{d:"M10 16h4"}],["path",{d:"M12 14v4"}]];je(r,Ne({name:"calendar-plus-2"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function fr(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]];je(r,Ne({name:"calendar"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function EE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M5.7 21a2 2 0 0 1-3.5-2l8.6-14a6 6 0 0 1 10.4 6 2 2 0 1 1-3.464-2 2 2 0 1 0-3.464-2Z"}],["path",{d:"M17.75 7 15 2.1"}],["path",{d:"M10.9 4.8 13 9"}],["path",{d:"m7.9 9.7 2 4.4"}],["path",{d:"M4.9 14.7 7 18.9"}]];je(r,Ne({name:"candy-cane"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function SE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M2.27 21.7s9.87-3.5 12.73-6.36a4.5 4.5 0 0 0-6.36-6.37C5.77 11.84 2.27 21.7 2.27 21.7zM8.64 14l-2.05-2.04M15.34 15l-2.46-2.46"}],["path",{d:"M22 9s-1.33-2-3.5-2C16.86 7 15 9 15 9s1.33 2 3.5 2S22 9 22 9z"}],["path",{d:"M15 2s-2 1.33-2 3.5S15 9 15 9s2-1.84 2-3.5C17 3.33 15 2 15 2z"}]];je(r,Ne({name:"carrot"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function wr(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M20 6 9 17l-5-5"}]];je(r,Ne({name:"check"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function Jr(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z"}],["path",{d:"M6 17h12"}]];je(r,Ne({name:"chef-hat"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function il(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"m6 9 6 6 6-6"}]];je(r,Ne({name:"chevron-down"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function AE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"m15 18-6-6 6-6"}]];je(r,Ne({name:"chevron-left"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function DE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"m9 18 6-6-6-6"}]];je(r,Ne({name:"chevron-right"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function Ln(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]];je(r,Ne({name:"circle-alert"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function xh(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}],["path",{d:"m9 11 3 3L22 4"}]];je(r,Ne({name:"circle-check-big"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function h2(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m9 12 2 2 4-4"}]];je(r,Ne({name:"circle-check"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function p2(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m15 9-6 6"}],["path",{d:"m9 9 6 6"}]];je(r,Ne({name:"circle-x"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function CE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}],["path",{d:"m9 14 2 2 4-4"}]];je(r,Ne({name:"clipboard-check"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function IE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}],["path",{d:"M12 11h4"}],["path",{d:"M12 16h4"}],["path",{d:"M8 11h.01"}],["path",{d:"M8 16h.01"}]];je(r,Ne({name:"clipboard-list"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function cm(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-.5"}],["path",{d:"M16 4h2a2 2 0 0 1 1.73 1"}],["path",{d:"M8 18h1"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"}]];je(r,Ne({name:"clipboard-pen-line"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function TE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-5.5"}],["path",{d:"M4 13.5V6a2 2 0 0 1 2-2h2"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"}]];je(r,Ne({name:"clipboard-pen"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function ME(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M12 6v6l2 1"}],["path",{d:"M12.337 21.994a10 10 0 1 1 9.588-8.767"}],["path",{d:"m14 18 4 4 4-4"}],["path",{d:"M18 14v8"}]];je(r,Ne({name:"clock-arrow-down"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function wh(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M12 6v6l1.56.78"}],["path",{d:"M13.227 21.925a10 10 0 1 1 8.767-9.588"}],["path",{d:"m14 18 4-4 4 4"}],["path",{d:"M18 22v-8"}]];je(r,Ne({name:"clock-arrow-up"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function dm(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M12 2a10 10 0 0 1 7.38 16.75"}],["path",{d:"M12 6v6l4 2"}],["path",{d:"M2.5 8.875a10 10 0 0 0-.5 3"}],["path",{d:"M2.83 16a10 10 0 0 0 2.43 3.4"}],["path",{d:"M4.636 5.235a10 10 0 0 1 .891-.857"}],["path",{d:"M8.644 21.42a10 10 0 0 0 7.631-.38"}]];je(r,Ne({name:"clock-fading"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function Oa(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M12 6v6l4 2"}],["circle",{cx:"12",cy:"12",r:"10"}]];je(r,Ne({name:"clock"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function RE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M12 2v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"M20 12h2"}],["path",{d:"m19.07 4.93-1.41 1.41"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z"}]];je(r,Ne({name:"cloud-sun"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function Nd(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"}]];je(r,Ne({name:"cloud"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function NE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5"}],["path",{d:"M8.5 8.5v.01"}],["path",{d:"M16 15.5v.01"}],["path",{d:"M12 12v.01"}],["path",{d:"M11 17v.01"}],["path",{d:"M7 14v.01"}]];je(r,Ne({name:"cookie"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function hs(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M2 12h20"}],["path",{d:"M20 12v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-8"}],["path",{d:"m4 8 16-4"}],["path",{d:"m8.86 6.78-.45-1.81a2 2 0 0 1 1.45-2.43l1.94-.48a2 2 0 0 1 2.43 1.46l.45 1.8"}]];je(r,Ne({name:"cooking-pot"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function v2(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]];je(r,Ne({name:"copy"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function PE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"}],["path",{d:"M5 21h14"}]];je(r,Ne({name:"crown"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function $E(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M12 2C8 2 4 8 4 14a8 8 0 0 0 16 0c0-6-4-12-8-12"}]];je(r,Ne({name:"egg"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function m2(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21"}],["path",{d:"m5.082 11.09 8.828 8.828"}]];je(r,Ne({name:"eraser"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function LE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M4 10h12"}],["path",{d:"M4 14h9"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2"}]];je(r,Ne({name:"euro"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function fm(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"}],["path",{d:"m2 2 20 20"}]];je(r,Ne({name:"eye-off"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function du(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["circle",{cx:"12",cy:"12",r:"3"}]];je(r,Ne({name:"eye"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function OE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M9 15h6"}],["path",{d:"M12 18v-6"}]];je(r,Ne({name:"file-plus"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function Ro(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M10 9H8"}],["path",{d:"M16 13H8"}],["path",{d:"M16 17H8"}]];je(r,Ne({name:"file-text"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function zi(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4"}]];je(r,Ne({name:"flame"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function oi(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M12.531 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14v6a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341l.427-.473"}],["path",{d:"m16.5 3.5 5 5"}],["path",{d:"m21.5 3.5-5 5"}]];je(r,Ne({name:"funnel-x"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function ol(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z"}]];je(r,Ne({name:"funnel"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function g2(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["line",{x1:"4",x2:"20",y1:"9",y2:"9"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21"}]];je(r,Ne({name:"hash"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function hm(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M4 12h8"}],["path",{d:"M4 18V6"}],["path",{d:"M12 18V6"}],["path",{d:"m17 12 3-2v8"}]];je(r,Ne({name:"heading-1"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function pm(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M4 12h8"}],["path",{d:"M4 18V6"}],["path",{d:"M12 18V6"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1"}]];je(r,Ne({name:"heading-2"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function vm(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M4 12h8"}],["path",{d:"M4 18V6"}],["path",{d:"M12 18V6"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2"}]];je(r,Ne({name:"heading-3"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function BE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"m9 11-6 6v3h9l3-3"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4"}]];je(r,Ne({name:"highlighter"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function b2(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}],["path",{d:"M12 7v5l4 2"}]];je(r,Ne({name:"history"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function _2(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["circle",{cx:"9",cy:"9",r:"2"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"}]];je(r,Ne({name:"image"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function ra(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 16v-4"}],["path",{d:"M12 8h.01"}]];je(r,Ne({name:"info"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function $p(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["line",{x1:"19",x2:"10",y1:"4",y2:"4"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20"}]];je(r,Ne({name:"italic"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function FE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"}]];je(r,Ne({name:"key-round"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function mm(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"}]];je(r,Ne({name:"layout-dashboard"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function zE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"}]];je(r,Ne({name:"leaf"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function y2(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"}],["path",{d:"M9 18h6"}],["path",{d:"M10 22h4"}]];je(r,Ne({name:"lightbulb"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function x2(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M11 5h10"}],["path",{d:"M11 12h10"}],["path",{d:"M11 19h10"}],["path",{d:"M4 4h1v5"}],["path",{d:"M4 9h2"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02"}]];je(r,Ne({name:"list-ordered"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function qE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M13 5h8"}],["path",{d:"M13 12h8"}],["path",{d:"M13 19h8"}],["path",{d:"m3 17 2 2 4-4"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1"}]];je(r,Ne({name:"list-todo"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function cc(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M3 5h.01"}],["path",{d:"M3 12h.01"}],["path",{d:"M3 19h.01"}],["path",{d:"M8 5h13"}],["path",{d:"M8 12h13"}],["path",{d:"M8 19h13"}]];je(r,Ne({name:"list"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function mo(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];je(r,Ne({name:"loader-circle"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function No(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}]];je(r,Ne({name:"lock"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function jE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"m10 17 5-5-5-5"}],["path",{d:"M15 12H3"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}]];je(r,Ne({name:"log-in"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function Lp(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"m16 17 5-5-5-5"}],["path",{d:"M21 12H9"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}]];je(r,Ne({name:"log-out"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function Tu(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}]];je(r,Ne({name:"mail"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function qi(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"}],["circle",{cx:"12",cy:"10",r:"3"}]];je(r,Ne({name:"map-pin"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function HE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"}],["path",{d:"M8 12h.01"}],["path",{d:"M12 12h.01"}],["path",{d:"M16 12h.01"}]];je(r,Ne({name:"message-circle-more"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function UE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}],["path",{d:"M12 17h.01"}]];je(r,Ne({name:"message-circle-question-mark"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function VE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"}]];je(r,Ne({name:"message-circle"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function WE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z"}]];je(r,Ne({name:"message-square"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function w2(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M5 12h14"}]];je(r,Ne({name:"minus"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function Mu(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"}]];je(r,Ne({name:"moon"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function QE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4"}],["path",{d:"M2 6h4"}],["path",{d:"M2 10h4"}],["path",{d:"M2 14h4"}],["path",{d:"M2 18h4"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"}]];je(r,Ne({name:"notebook-pen"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function k2(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"m16 16 2 2 4-4"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14"}],["path",{d:"m7.5 4.27 9 5.15"}],["polyline",{points:"3.29 7 12 12 20.71 7"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12"}]];je(r,Ne({name:"package-check"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function E2(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M16 16h6"}],["path",{d:"M19 13v6"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14"}],["path",{d:"m7.5 4.27 9 5.15"}],["polyline",{points:"3.29 7 12 12 20.71 7"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12"}]];je(r,Ne({name:"package-plus"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function va(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z"}],["path",{d:"M12 22V12"}],["polyline",{points:"3.29 7 12 12 20.71 7"}],["path",{d:"m7.5 4.27 9 5.15"}]];je(r,Ne({name:"package"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function S2(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M13 21h8"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}]];je(r,Ne({name:"pen-line"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function js(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M13 21h8"}],["path",{d:"m15 5 4 4"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}]];je(r,Ne({name:"pencil-line"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function GE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]];je(r,Ne({name:"pencil"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function Zt(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];je(r,Ne({name:"plus"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function A2(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1"}]];je(r,Ne({name:"printer"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function KE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"}],["path",{d:"M16 16h5v5"}]];je(r,Ne({name:"refresh-ccw"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function JE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}],["path",{d:"M8 16H3v5"}]];je(r,Ne({name:"refresh-cw"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function D2(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M5 6a4 4 0 0 1 4-4h6a4 4 0 0 1 4 4v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6Z"}],["path",{d:"M5 10h14"}],["path",{d:"M15 7v6"}]];je(r,Ne({name:"refrigerator"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function ZE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"}]];je(r,Ne({name:"rocket"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function Pd(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}]];je(r,Ne({name:"rotate-ccw"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function C2(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}]];je(r,Ne({name:"rotate-cw"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function YE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M7 21h10"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1"}],["path",{d:"m13 12 4-4"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2"}]];je(r,Ne({name:"salad"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function Ba(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]];je(r,Ne({name:"save"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function XE(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M15 12h-5"}],["path",{d:"M15 8h-5"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3"}]];je(r,Ne({name:"scroll-text"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function Po(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]];je(r,Ne({name:"search"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function Op(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}],["circle",{cx:"12",cy:"12",r:"3"}]];je(r,Ne({name:"settings"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function eS(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}],["path",{d:"M12 8v4"}],["path",{d:"M12 16h.01"}]];je(r,Ne({name:"shield-alert"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function tS(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}]];je(r,Ne({name:"shield"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function kh(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"m15 11-1 9"}],["path",{d:"m19 11-4-7"}],["path",{d:"M2 11h20"}],["path",{d:"m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4"}],["path",{d:"M4.5 15.5h15"}],["path",{d:"m5 11 4-7"}],["path",{d:"m9 11 1 9"}]];je(r,Ne({name:"shopping-basket"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function us(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["circle",{cx:"8",cy:"21",r:"1"}],["circle",{cx:"19",cy:"21",r:"1"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"}]];je(r,Ne({name:"shopping-cart"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function dc(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"m10 20-1.25-2.5L6 18"}],["path",{d:"M10 4 8.75 6.5 6 6"}],["path",{d:"m14 20 1.25-2.5L18 18"}],["path",{d:"m14 4 1.25 2.5L18 6"}],["path",{d:"m17 21-3-6h-4"}],["path",{d:"m17 3-3 6 1.5 3"}],["path",{d:"M2 12h6.5L10 9"}],["path",{d:"m20 10-1.5 2 1.5 2"}],["path",{d:"M22 12h-6.5L14 15"}],["path",{d:"m4 10 1.5 2L4 14"}],["path",{d:"m7 21 3-6-1.5-3"}],["path",{d:"m7 3 3 6h4"}]];je(r,Ne({name:"snowflake"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function ul(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M10.5 2v4"}],["path",{d:"M14 2H7a2 2 0 0 0-2 2"}],["path",{d:"M19.29 14.76A6.67 6.67 0 0 1 17 11a6.6 6.6 0 0 1-2.29 3.76c-1.15.92-1.71 2.04-1.71 3.19 0 2.22 1.8 4.05 4 4.05s4-1.83 4-4.05c0-1.16-.57-2.26-1.71-3.19"}],["path",{d:"M9.607 21H6a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h7V7a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3"}]];je(r,Ne({name:"soap-dispenser-droplet"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function gm(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"}],["path",{d:"M20 2v4"}],["path",{d:"M22 4h-4"}],["circle",{cx:"4",cy:"20",r:"2"}]];je(r,Ne({name:"sparkles"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function na(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"}]];je(r,Ne({name:"square-pen"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function Ma(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05"}]];je(r,Ne({name:"store"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function rS(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12"}]];je(r,Ne({name:"strikethrough"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function $d(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];je(r,Ne({name:"sun"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function nS(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor"}]];je(r,Ne({name:"tag"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function bm(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M21 5H3"}],["path",{d:"M15 12H3"}],["path",{d:"M17 19H3"}]];je(r,Ne({name:"text-align-start"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function I2(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"}]];je(r,Ne({name:"thermometer"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function ji(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];je(r,Ne({name:"trash-2"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function Cr(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}],["path",{d:"M12 9v4"}],["path",{d:"M12 17h.01"}]];je(r,Ne({name:"triangle-alert"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function _m(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M12 4v16"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2"}],["path",{d:"M9 20h6"}]];je(r,Ne({name:"type"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function aS(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["circle",{cx:"9",cy:"7",r:"4"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11"}]];je(r,Ne({name:"user-minus"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function ll(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["circle",{cx:"9",cy:"7",r:"4"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11"}]];je(r,Ne({name:"user-plus"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function Hi(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}],["circle",{cx:"12",cy:"7",r:"4"}]];je(r,Ne({name:"user"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function Ut(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}],["circle",{cx:"9",cy:"7",r:"4"}]];je(r,Ne({name:"users"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function sS(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7"}],["path",{d:"m2.1 21.8 6.4-6.3"}],["path",{d:"m19 5-7 7"}]];je(r,Ne({name:"utensils-crossed"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function nn(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"}],["path",{d:"M7 2v20"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"}]];je(r,Ne({name:"utensils"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function iS(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z"}],["path",{d:"M6 13h12"}],["path",{d:"M6 17h12"}]];je(r,Ne({name:"warehouse"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function oS(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["circle",{cx:"12",cy:"5",r:"3"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z"}]];je(r,Ne({name:"weight"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function go(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z"}]];je(r,Ne({name:"wrench"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function ir(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];je(r,Ne({name:"x"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function cl(r,e){pe(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=Fe(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"}]];je(r,Ne({name:"zap"},()=>t,{get iconNode(){return n},children:(a,s)=>{var i=ce(),u=z(i);ge(u,()=>e.children??me),v(a,i)},$$slots:{default:!0}})),ve()}function uS(r,e,t){w(e,!1),t.onClose()}function lS(r,e){w(e,!1)}var cS=_('<div role="dialog" aria-modal="true"><!></div>'),dS=_('<div class="modal modal-open" style="z-index: 1100"><div class="modal-box max-w-md"><h3 class="text-lg font-bold">Confirmer la fermeture</h3> <p class="py-4"> </p> <div class="modal-action"><button class="btn btn-ghost">Annuler</button> <button class="btn btn-error">Fermer sans sauvegarder</button></div></div></div>'),fS=_("<div><!></div> <!>",1);function on(r,e){pe(e,!0);let t=ke(e,"fullscreenOnMobile",3,!0);ke(e,"closeOnBackdropClick",3,!1);let n=ke(e,"hasUnsavedChanges",3,!1),a=ke(e,"confirmCloseMessage",3,"Vous avez des modifications non sauvegardÃ©es. Voulez-vous vraiment fermer ?"),s=ke(e,"maxWidth",3,"lg"),i=ke(e,"maxHeight",3,"xl"),u=ke(e,"modalClass",3,"");function l(k,S){return{sm:{"max-w":"max-w-[28rem]","max-h":"max-h-[85vh]"},lg:{"max-w":"max-w-[64rem]","max-h":"max-h-[85vh]"},xl:{"max-w":"max-w-[90vw]","max-h":"max-h-[90vh]"}}[k][S]}let c=ae(!1);function f(){n()?w(c,!0):e.onClose()}st(()=>{if(!e.isOpen)return;const k=S=>{S.key==="Escape"&&!o(c)&&f()};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)}),st(()=>{if(e.isOpen)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}});var h=fS(),m=z(h),g=d(m);{var b=k=>{var S=cS(),A=d(S);ge(A,()=>e.children),P((C,E)=>_e(S,1,`modal-box flex flex-col p-0 ${u()??""} ${t()&&Ee.isMobile?"fixed inset-0 m-0 h-lvh w-lvw rounded-none":"fixed top-10 m-auto"} ${C??""} ${E??""}`),[()=>Ee.isDesktop&&l(s(),"max-w"),()=>Ee.isDesktop&&!u()&&l(i(),"max-h")]),v(k,S)};D(g,k=>{e.isOpen&&k(b)})}var y=p(m,2);{var x=k=>{var S=dS(),A=d(S),C=p(d(A),2),E=d(C),I=p(C,2),T=d(I);T.__click=[lS,c];var j=p(T,2);j.__click=[uS,c,e],P(()=>O(E,a())),v(k,S)};D(y,k=>{o(c)&&k(x)})}P(()=>_e(m,1,`modal ${(e.isOpen&&"modal-open")??""} `)),v(r,h),ve()}tt(["click"]);var hS=_('<button class="btn btn-circle btn-ghost btn-sm flex-none" aria-label="Retour"><!></button>'),pS=_('<button class="btn btn-circle btn-ghost btn-sm flex-none" aria-label="Retour"><!></button>'),vS=_('<p class="text-base-content/70 truncate text-sm"> </p>'),mS=_('<div class="flex items-center gap-2 sm:me-10"><!></div>'),gS=_('<div class="border-base-300 flex-none border-b px-4 py-3"><div class="absolute top-2 right-2"><!></div> <div class="flex flex-wrap items-center gap-2"><div class="flex min-w-0 flex-1 items-center gap-2"><!> <div class="max-w-11/12 min-w-0 flex-1 items-baseline"><h3 class="truncate text-lg font-bold"> </h3> <!></div></div> <!></div></div>');function Hr(r,e){pe(e,!0);let t=ke(e,"showBackButton",3,!0);var n=gS(),a=d(n),s=d(a);{var i=S=>{var A=hS();A.__click=function(...E){e.onClose?.apply(this,E)};var C=d(A);ir(C,{class:"h-5 w-5"}),v(S,A)};D(s,S=>{Ee.isMobile||S(i)})}var u=p(a,2),l=d(u),c=d(l);{var f=S=>{var A=pS();A.__click=function(...E){e.onClose?.apply(this,E)};var C=d(A);AE(C,{class:"h-5 w-5"}),v(S,A)};D(c,S=>{t()&&Ee.isMobile&&S(f)})}var h=p(c,2),m=d(h),g=d(m),b=p(m,2);{var y=S=>{var A=vS(),C=d(A);P(()=>O(C,e.subtitle)),v(S,A)};D(b,S=>{e.subtitle&&S(y)})}var x=p(l,2);{var k=S=>{var A=mS(),C=d(A);ge(C,()=>e.children),v(S,A)};D(x,S=>{e.children&&S(k)})}P(()=>O(g,e.title)),v(r,n),ve()}tt(["click"]);var bS=_('<div class="flex-1 overflow-y-auto p-4 sm:p-6 sm:pt-2"><!></div>');function Zr(r,e){var t=bS(),n=d(t);ge(n,()=>e.children),v(r,t)}var _S=_('<div class="border-base-300 flex-none border-t px-4 py-3"><div class="flex flex-wrap items-center justify-end gap-2"><!></div></div>');function Sn(r,e){var t=_S(),n=d(t),a=d(n);ge(a,()=>e.children),v(r,t)}var yS=_('<div role="alert" class="alert alert-error svelte-o861tn"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0 stroke-current" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span> </span></div>'),xS=_('<div role="alert" class="alert alert-success svelte-o861tn"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0 stroke-current" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span> </span></div>'),wS=(r,e)=>w(e,!1),kS=_(`<form class="space-y-4 svelte-o861tn"><div class="form-control svelte-o861tn"><label for="forgot-email" class="label"><span class="label-text">Email</span></label> <input id="forgot-email" type="email" class="input input-bordered w-full" placeholder="votre@email.com"/></div> <div class="alert alert-info alert-soft svelte-o861tn">Un email avec un lien vous sera envoyÃ© par "noreply@appwrite.io".
            Pensez Ã  vÃ©rifier s'il n'a pas attÃ©ri dans votre dossier spam.</div></form> <div class="text-center svelte-o861tn"><button class="btn btn-ghost btn-sm">â Retour Ã  la connexion</button></div>`,1),ES=(r,e)=>w(e,!0),SS=(r,e)=>w(e,!1),AS=_(`<form class="space-y-4 svelte-o861tn"><div class="form-control svelte-o861tn"><label for="login-email" class="label"><span class="label-text">Email</span></label> <input id="login-email" type="email" class="input input-bordered w-full" placeholder="votre@email.com" required/></div> <div class="form-control svelte-o861tn"><label for="login-password" class="label"><span class="label-text">Mot de passe</span></label> <input id="login-password" type="password" class="input input-bordered w-full" placeholder="â¢â¢â¢â¢â¢â¢â¢" required/></div></form> <div class="space-y-2 text-center svelte-o861tn"><button class="btn btn-link btn-sm btn-primary svelte-o861tn">Mot de passe oubliÃ© ?</button> <div class="text-base-content/70 text-sm svelte-o861tn">Pas encore de compte ? <button class="btn btn-primary btn-sm btn-soft ms-1">S'inscrire</button></div></div>`,1),DS=(r,e)=>w(e,!0),CS=_(`<form class="space-y-4 svelte-o861tn"><div class="form-control svelte-o861tn"><label for="register-name" class="label"><span class="label-text">Nom</span></label> <input id="register-name" type="text" class="input input-bordered w-full" placeholder="Votre nom" required/></div> <div class="form-control svelte-o861tn"><label for="register-email" class="label"><span class="label-text">Email</span></label> <input id="register-email" type="email" class="input input-bordered w-full" placeholder="votre@email.com" required/></div> <div class="form-control svelte-o861tn"><label for="register-password" class="label"><span class="label-text">Mot de passe</span></label> <input id="register-password" type="password" class="input input-bordered w-full" placeholder="â¢â¢â¢â¢â¢â¢â¢" required/></div> <div class="alert alert-info alert-soft svelte-o861tn">Un email avec un lien vous sera envoyÃ© par "noreply@appwrite.io".
            Pensez Ã  vÃ©rifier s'il n'a pas attÃ©ri dans votre dossier spam.</div></form> <div class="text-base-content/70 text-center text-sm svelte-o861tn">DÃ©jÃ  un compte ? <button class="btn btn-ghost btn-sm text-primary ms-1">Se connecter</button></div>`,1),IS=_('<div class="space-y-4 svelte-o861tn"><!> <!> <!></div>'),TS=_('<span class="loading loading-spinner"></span>'),MS=_('<button type="submit" class="btn btn-primary btn-block"><!></button>'),RS=_('<span class="loading loading-spinner"></span>'),NS=_('<button type="submit" class="btn btn-primary btn-block"><!></button>'),PS=_('<span class="loading loading-spinner"></span>'),$S=_('<button type="submit" class="btn btn-success btn-block"><!></button>'),LS=_("<!> <!> <!>",1);function OS(r,e){pe(e,!0);let t=ke(e,"isOpen",15),n=ke(e,"onAuth_success",3,async()=>{}),a=ae(!0),s=ae(!1),i=ae(""),u=ae(""),l=ae(""),c=ae(""),f=ae(""),h=ae(""),m=ae(""),g=ae(""),b=ae(!1);async function y(C){if(C.preventDefault(),!o(l)||!o(c)){w(i,"Veuillez remplir tous les champs");return}w(s,!0),w(i,"");try{const{account:E}=await vt();await E.createEmailPasswordSession({email:o(l),password:o(c)}),w(u,"Connexion rÃ©ussie !"),setTimeout(()=>{n()()},1e3)}catch(E){console.error("Erreur de connexion:",E),w(i,E.message||"Erreur lors de la connexion",!0)}finally{w(s,!1)}}async function x(C){if(C.preventDefault(),!o(f)||!o(h)||!o(m)){w(i,"Veuillez remplir tous les champs");return}w(s,!0),w(i,"");try{const{account:E}=await vt();await E.create({userId:"unique()",email:o(h),password:o(m),name:o(f)}),await E.createEmailPasswordSession({email:o(h),password:o(m)}),w(u,"Compte crÃ©Ã© et connectÃ© !"),setTimeout(()=>{n()()},1e3)}catch(E){console.error("Erreur d'inscription:",E),w(i,E.message||"Erreur lors de la crÃ©ation du compte",!0)}finally{w(s,!1)}}async function k(C){if(C.preventDefault(),!o(g)){w(i,"Veuillez entrer votre email");return}w(s,!0),w(i,"");try{const{account:E}=await vt();await E.createRecovery({email:o(g),url:`${window.location.origin}/#/reset-password`}),w(u,"Email de rÃ©initialisation envoyÃ© !"),setTimeout(()=>{w(b,!1),w(g,"")},2e3)}catch(E){console.error("Erreur mot de passe oubliÃ©:",E),w(i,E.message||"Erreur lors de l'envoi de l'email",!0)}finally{w(s,!1)}}function S(){o(s)||t(!1)}st(()=>{(o(a)||o(b))&&(w(i,""),w(u,""))});function A(){return o(b)?"Mot de passe oubliÃ©":o(a)?"Connexion":"Inscription"}on(r,{get isOpen(){return t()},onClose:S,maxWidth:"sm",children:(C,E)=>{var I=LS(),T=z(I);{let G=V(A);Hr(T,{get title(){return o(G)},onClose:S})}var j=p(T,2);Zr(j,{children:(G,Q)=>{var ee=IS(),oe=d(ee);{var H=F=>{var M=yS(),B=p(d(M),2),q=d(B);P(()=>O(q,o(i))),v(F,M)};D(oe,F=>{o(i)&&F(H)})}var J=p(oe,2);{var K=F=>{var M=xS(),B=p(d(M),2),q=d(B);P(()=>O(q,o(u))),v(F,M)};D(J,F=>{o(u)&&F(K)})}var te=p(J,2);{var Z=F=>{var M=kS(),B=z(M),q=d(B),$=p(d(q),2),L=p(B,2),ne=d(L);ne.__click=[wS,b],P(()=>{$.disabled=o(s),ne.disabled=o(s)}),_t("submit",B,k),ft($,()=>o(g),Y=>w(g,Y)),v(F,M)},R=F=>{var M=ce(),B=z(M);{var q=L=>{var ne=AS(),Y=z(ne),W=d(Y),X=p(d(W),2),N=p(W,2),ie=p(d(N),2),re=p(Y,2),le=d(re);le.__click=[ES,b];var ue=p(le,2),se=p(d(ue));se.__click=[SS,a],P(()=>{X.disabled=o(s),ie.disabled=o(s),le.disabled=o(s),se.disabled=o(s)}),_t("submit",Y,y),ft(X,()=>o(l),de=>w(l,de)),ft(ie,()=>o(c),de=>w(c,de)),v(L,ne)},$=L=>{var ne=CS(),Y=z(ne),W=d(Y),X=p(d(W),2),N=p(W,2),ie=p(d(N),2),re=p(N,2),le=p(d(re),2),ue=p(Y,2),se=p(d(ue));se.__click=[DS,a],P(()=>{X.disabled=o(s),ie.disabled=o(s),le.disabled=o(s),se.disabled=o(s)}),_t("submit",Y,x),ft(X,()=>o(f),de=>w(f,de)),ft(ie,()=>o(h),de=>w(h,de)),ft(le,()=>o(m),de=>w(m,de)),v(L,ne)};D(B,L=>{o(a)?L(q):L($,!1)},!0)}v(F,M)};D(te,F=>{o(b)?F(Z):F(R,!1)})}v(G,ee)}});var U=p(j,2);Sn(U,{children:(G,Q)=>{var ee=ce(),oe=z(ee);{var H=K=>{var te=MS();te.__click=k;var Z=d(te);{var R=M=>{var B=TS();v(M,B)},F=M=>{var B=Pt("Envoyer l'email de rÃ©initialisation");v(M,B)};D(Z,M=>{o(s)?M(R):M(F,!1)})}P(()=>te.disabled=o(s)),v(K,te)},J=K=>{var te=ce(),Z=z(te);{var R=M=>{var B=NS();B.__click=y;var q=d(B);{var $=ne=>{var Y=RS();v(ne,Y)},L=ne=>{var Y=Pt("Se connecter");v(ne,Y)};D(q,ne=>{o(s)?ne($):ne(L,!1)})}P(()=>B.disabled=o(s)),v(M,B)},F=M=>{var B=$S();B.__click=x;var q=d(B);{var $=ne=>{var Y=PS();v(ne,Y)},L=ne=>{var Y=Pt("CrÃ©er un compte");v(ne,Y)};D(q,ne=>{o(s)?ne($):ne(L,!1)})}P(()=>B.disabled=o(s)),v(M,B)};D(Z,M=>{o(a)?M(R):M(F,!1)},!0)}v(K,te)};D(oe,K=>{o(b)?K(H):K(J,!1)})}v(G,ee)}}),v(C,I)},$$slots:{default:!0}}),ve()}tt(["click"]);async function BS(){try{await Ee.logout(),window.location.href="/"}catch(r){console.error("Erreur lors de la dÃ©connexion:",r)}}function FS(r,e){w(e,!0),console.log("showAuthModal",o(e))}async function zS(r,e,t){if(Ee.userId){w(e,!0);try{await jt.forceReloadAllRecipes(),t()}catch(n){console.error("Erreur lors du rechargement des recettes:",n),alert("Erreur lors du rechargement des recettes")}finally{w(e,!1)}}}var qS=(()=>ct("/")),jS=()=>ct("/dashboard"),HS=_('<button class="btn btn-ghost not-md:btn-square md:gap-2"><!> <span class="hidden md:inline">Tableau de bord</span></button>'),US=()=>ct("/recipe"),VS=_('<h1 class="truncate text-sm font-bold tracking-wider uppercase opacity-70"> </h1>'),WS=_('<div class="navbar-center absolute left-1/2 -translate-x-1/2 transform"><!></div>'),QS=_('<div class="badge badge-warning flex items-center gap-1 py-3 font-medium"><!> <span class="text-xs"> </span></div>'),GS=()=>ct("/dashboard"),KS=()=>ct("/dashboard/teams"),JS=()=>ct("/dashboard/eventCreate"),ZS=()=>ct("/recipe"),YS=_('<div class="dropdown dropdown-end"><div tabindex="0" role="button" class="btn btn-ghost btn-circle avatar bg-primary/10 text-primary border-primary/20 border"><div class="flex w-10 items-center justify-center rounded-full text-lg font-bold"> </div></div> <ul class="menu menu-sm dropdown-content bg-base-100 border-base-200 z-[1] mt-3 w-56 rounded-xl border p-2 shadow-xl"><li class="border-base-100 mb-1 border-b px-4 py-2"><span class="block truncate p-0 text-xs font-medium italic opacity-60"> </span></li> <li><button><!> Dashboard</button></li> <li><button><!> Ãquipes</button></li> <li><button><!> Nouvel Ã©vÃ©nement</button></li> <li><button><!> Recettes</button></li> <li><button class="disabled:opacity-50"><!> </button></li> <!> <li class="border-base-100 my-1 border-t"></li> <li><button class="text-error hover:bg-error/10"><!> Se dÃ©connecter</button></li></ul></div>'),XS=_('<button class="btn btn-primary btn-sm shadow-md"><!> Connexion</button>'),e5=_('<h1 class="text-center text-sm font-bold tracking-wider uppercase opacity-70"> </h1>'),t5=_('<div class="border-base-300 bg-base-100 border-b px-4 py-3"><!></div>'),r5=_('<!> <div><div class="navbar-start w-fit flex-shrink-0 gap-1"><button class="btn btn-ghost px-2"><img src="data/favicon-96x96.png" alt="logo" class="h-8 w-8"/></button> <div class="flex items-center gap-1"><!> <button class="btn btn-ghost not-md:btn-square md:gap-2"><!> <span class="hidden md:inline">Recettes</span></button></div></div> <!> <div class="navbar-end ms-auto w-fit flex-shrink-0 gap-4"><!> <div class="flex items-center gap-2"><!></div> <!></div></div> <!>',1);function n5(r,e){pe(e,!0);let t=ae(!1),n=ae(!1),a=ae(!1);function s(){w(t,!1)}function i(J){J.target.closest(".svelte-user-dropdown")||s()}async function u(){w(n,!1),await Ee.refreshAuthAfterLogin()}st(()=>{if(o(t))return document.addEventListener("click",i),()=>document.removeEventListener("click",i)});var l=r5(),c=z(l);OS(c,{onAuth_success:u,get isOpen(){return o(n)},set isOpen(J){w(n,J,!0)}});var f=p(c,2),h=d(f),m=d(h);m.__click=[qS];var g=p(m,2),b=d(g);{var y=J=>{var K=HS();K.__click=[jS];var te=d(K);mm(te,{size:18}),v(J,K)};D(b,J=>{Ee.isAuthenticated&&J(y)})}var x=p(b,2);x.__click=[US];var k=d(x);hs(k,{size:18});var S=p(h,2);{var A=J=>{var K=WS(),te=d(K);{var Z=F=>{lm(F,{get currentTeamId(){return St.teamId}})},R=F=>{var M=ce(),B=z(M);{var q=L=>{var ne=ce(),Y=z(ne);ge(Y,()=>St.tabs),v(L,ne)},$=L=>{var ne=ce(),Y=z(ne);{var W=N=>{um(N,{get eventId(){return St.eventId}})},X=N=>{var ie=VS(),re=d(ie);P(()=>{dt(ie,"title",St.title),O(re,St.title)}),v(N,ie)};D(Y,N=>{St.eventId!==void 0?N(W):N(X,!1)},!0)}v(L,ne)};D(B,L=>{St.tabs?L(q):L($,!1)},!0)}v(F,M)};D(te,F=>{St.materielContext?F(Z):F(R,!1)})}v(J,K)};D(S,J=>{Ee.isDesktop&&J(A)})}var C=p(S,2),E=d(C);{var I=J=>{var K=QS(),te=d(K);No(te,{size:14});var Z=p(te,2),R=d(Z);P(()=>O(R,`Ãdition par ${St.lockedByUserName??""}`)),v(J,K)};D(E,J=>{St.isLockedByOthers&&J(I)})}var T=p(E,2),j=d(T);{var U=J=>{var K=ce(),te=z(K);ge(te,()=>St.actions),v(J,K)};D(j,J=>{St.actions&&J(U)})}var G=p(T,2);{var Q=J=>{var K=YS(),te=d(K),Z=d(te),R=d(Z),F=p(te,2),M=d(F),B=d(M),q=d(B),$=p(M,2),L=d($);L.__click=[GS];var ne=d(L);mm(ne,{size:16});var Y=p($,2),W=d(Y);W.__click=[KS];var X=d(W);Ut(X,{size:16});var N=p(Y,2),ie=d(N);ie.__click=[JS];var re=d(ie);Zt(re,{size:16});var le=p(N,2),ue=d(le);ue.__click=[ZS];var se=d(ue);oo(se,{size:16});var de=p(le,2),fe=d(de);fe.__click=[zS,a,s];var be=d(fe);{let Pe=V(()=>o(a)?"animate-spin":"");JE(be,{size:16,get class(){return o(Pe)}})}var ye=p(be),De=p(de,2);D(De,Pe=>{});var xe=p(De,4),Ce=d(xe);Ce.__click=[BS];var Ie=d(Ce);Lp(Ie,{size:16}),P(Pe=>{O(R,Pe),O(q,Ee.user?.email),fe.disabled=o(a),O(ye,` ${o(a)?"Chargement...":"Recharger les recettes"}`)},[()=>Ee.user?.name?.charAt(0).toUpperCase()||"U"]),v(J,K)},ee=J=>{var K=XS();K.__click=[FS,n];var te=d(K);jE(te,{size:16}),v(J,K)};D(G,J=>{Ee.isAuthenticated?J(Q):J(ee,!1)})}var oe=p(f,2);{var H=J=>{var K=t5(),te=d(K);{var Z=F=>{lm(F,{get currentTeamId(){return St.teamId}})},R=F=>{var M=ce(),B=z(M);{var q=L=>{um(L,{get eventId(){return St.eventId}})},$=L=>{var ne=ce(),Y=z(ne);{var W=N=>{var ie=ce(),re=z(ie);ge(re,()=>St.tabs),v(N,ie)},X=N=>{var ie=ce(),re=z(ie);{var le=ue=>{var se=e5(),de=d(se);P(()=>O(de,St.title)),v(ue,se)};D(re,ue=>{St.title&&ue(le)},!0)}v(N,ie)};D(Y,N=>{St.tabs?N(W):N(X,!1)},!0)}v(L,ne)};D(B,L=>{St.eventId!==void 0?L(q):L($,!1)},!0)}v(F,M)};D(te,F=>{St.materielContext?F(Z):F(R,!1)})}v(J,K)};D(oe,J=>{Ee.isDesktop||J(H)})}P(()=>_e(f,1,`navbar bg-base-100 border-base-300 sticky top-0 z-[1000] border-b px-4 py-0 shadow-sm print:hidden ${(Ee.isMobile&&"min-h-11")??""} relative`)),v(r,l),ve()}tt(["click"]);var a5=(r,e,t,n)=>e(o(t),o(n)),s5=_('<button class="btn btn-sm btn-primary"> </button>'),i5=(r,e,t)=>e(o(t)),o5=_('<button class="btn btn-ghost btn-xs btn-square" title="Voir les dÃ©tails" aria-label="Voir les dÃ©tails"><!></button>'),u5=(r,e,t)=>e(o(t)),l5=_('<button class="btn btn-ghost btn-xs btn-circle" title="Fermer" aria-label="Fermer la notification"><!></button>'),c5=_('<div><div class="flex items-center justify-between gap-4"><div class="flex flex-1 items-center gap-2"><!> <span class="text-xs"> </span></div> <!> <!> <!></div></div>'),d5=_("<div></div>");function f5(r,e){pe(e,!0);let t=ke(e,"position",3,"toast-center toast-bottom"),n=ke(e,"padding",3,"sm");const a=V(()=>n()==="sm"?" py-0.5":""),s=V(()=>rt.toasts),i=V(()=>()=>{const m=new Map;for(const g of o(s)){const b=g.position||t();m.has(b)||m.set(b,[]),m.get(b).push(g)}return m});function u(m){rt.dismiss(m.id)}function l(m){e.onShowDetails?.({id:m.id,message:m.message,details:m.details})}function c(m,g){g.onClick()}var f=ce(),h=z(f);ze(h,17,()=>Array.from(o(i)().entries()),([m,g])=>m,(m,g)=>{var b=V(()=>ha(o(g),2));let y=()=>o(b)[0],x=()=>o(b)[1];var k=d5();ze(k,21,x,S=>S.id,(S,A)=>{var C=c5(),E=d(C),I=d(E),T=d(I);{var j=te=>{mo(te,{class:"h-5 w-5 animate-spin"})};D(T,te=>{o(A).state==="loading"&&te(j)})}var U=p(T,2),G=d(U),Q=p(I,2);{var ee=te=>{var Z=ce(),R=z(Z);ze(R,17,()=>o(A).actions,bt,(F,M)=>{var B=s5();B.__click=[a5,c,A,M];var q=d(B);P(()=>O(q,o(M).label)),v(F,B)}),v(te,Z)};D(Q,te=>{o(A).actions&&o(A).actions.length>0&&te(ee)})}var oe=p(Q,2);{var H=te=>{var Z=o5();Z.__click=[i5,l,A];var R=d(Z);il(R,{class:"h-3 w-3"}),v(te,Z)};D(oe,te=>{o(A).details&&te(H)})}var J=p(oe,2);{var K=te=>{var Z=l5();Z.__click=[u5,u,A];var R=d(Z);ir(R,{class:"h-4 w-4"}),v(te,Z)};D(J,te=>{(o(A).state==="error"||o(A).state==="warning"||o(A).state==="loading")&&te(K)})}P(()=>{_e(C,1,`alert alert-${o(A).state??""}  ${o(a)??""} shadow-lg`),O(G,o(A).message)}),v(S,C)}),P(()=>_e(k,1,`toast ${y()??""} z-1050`)),v(m,k)}),v(r,f),ve()}tt(["click"]);const h5=new Qb(()=>window.scrollY,r=>ic(window,"scroll",r)),p5=r=>r;function v5(r){const e=r-1;return e*e*e+1}function Bp(r,{delay:e=0,duration:t=400,easing:n=p5}={}){const a=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:n,css:s=>`opacity: ${s*a}`}}function Ld(r,{delay:e=0,duration:t=400,easing:n=v5,axis:a="y"}={}){const s=getComputedStyle(r),i=+s.opacity,u=a==="y"?"height":"width",l=parseFloat(s[u]),c=a==="y"?["top","bottom"]:["left","right"],f=c.map(k=>`${k[0].toUpperCase()}${k.slice(1)}`),h=parseFloat(s[`padding${f[0]}`]),m=parseFloat(s[`padding${f[1]}`]),g=parseFloat(s[`margin${f[0]}`]),b=parseFloat(s[`margin${f[1]}`]),y=parseFloat(s[`border${f[0]}Width`]),x=parseFloat(s[`border${f[1]}Width`]);return{delay:e,duration:t,easing:n,css:k=>`overflow: hidden;opacity: ${Math.min(k*20,1)*i};${u}: ${k*l}px;padding-${c[0]}: ${k*h}px;padding-${c[1]}: ${k*m}px;margin-${c[0]}: ${k*g}px;margin-${c[1]}: ${k*b}px;border-${c[0]}-width: ${k*y}px;border-${c[1]}-width: ${k*x}px;min-${u}: 0`}}function m5(){window.scrollTo({top:0,behavior:"smooth"})}var g5=_('<button class="btn btn-primary btn-circle fixed right-6 bottom-6 z-50 rounded-full shadow-lg" aria-label="Retour en haut de page"><!></button>');function b5(r,e){pe(e,!0);let t=V(()=>(h5.current||0)>300);var n=ce(),a=z(n);{var s=i=>{var u=g5();u.__click=[m5];var l=d(u);Np(l,{class:"h-6 w-6"}),Li(3,u,()=>Bp),v(i,u)};D(a,i=>{o(t)&&i(s)})}v(r,n),ve()}tt(["click"]);function _5(r,e){pe(e,!0),ve()}const y5=600*1e3,T2={usersTeamsManager:"appwrite_warmup_usersTeamsManager",enkaData:"appwrite_warmup_enkaData"};function M2(r){const e=localStorage.getItem(T2[r]);return e?Date.now()-parseInt(e,10)>y5:!0}function R2(r){localStorage.setItem(T2[r],Date.now().toString())}async function N2(r,e){try{const{functions:t}=await vt(),n=await t.createExecution({functionId:r,body:JSON.stringify(e)});return n.responseStatusCode===200?(console.log(`[warmup] â Ping rÃ©ussi pour ${r}`),!0):(console.warn(`[warmup] â ï¸ Ping Ã©chouÃ© pour ${r}: ${n.responseStatusCode}`),!1)}catch(t){return console.error(`[warmup] â Erreur ping ${r}:`,t),!1}}async function Fp(){if(!M2("usersTeamsManager")){console.log("[warmup] â­ï¸ usersTeamsManager encore chaud (< 10 min)");return}console.log("[warmup] ð¥ RÃ©veil de usersTeamsManager..."),await N2(Ap("usersTeamsManager"),{action:"ping"}),R2("usersTeamsManager")}async function Od(){if(!M2("enkaData")){console.log("[warmup] â­ï¸ enkaData encore chaud (< 10 min)");return}console.log("[warmup] ð¥ RÃ©veil d'enkaData..."),await N2(Ap("enkaData"),{operation:"ping"}),R2("enkaData")}var x5=_("<div><!> <span> </span></div>"),w5=_('<button class="btn btn-ghost"> </button> <button> </button>',1),k5=_("<!> <!> <!>",1);function Si(r,e){let t=ke(e,"variant",3,"warning"),n=ke(e,"confirmLabel",3,"Confirmer"),a=ke(e,"cancelLabel",3,"Annuler");const s=V(()=>t()==="danger"?"alert-error":t()==="info"?"alert-info":"alert-warning"),i=V(()=>t()==="danger"?"btn-error":t()==="info"?"btn-info":"btn-warning"),u=V(()=>t()==="danger"?Ln:t()==="info"?ra:Cr);on(r,{get isOpen(){return e.isOpen},get onClose(){return e.onCancel},children:(l,c)=>{var f=k5(),h=z(f);Hr(h,{get title(){return e.title},get onClose(){return e.onCancel}});var m=p(h,2);Zr(m,{children:(b,y)=>{var x=x5(),k=d(x);qt(k,()=>o(u),(C,E)=>{E(C,{class:"h-5 w-5"})});var S=p(k,2),A=d(S);P(()=>{_e(x,1,`alert alert-soft ${o(s)??""}`),O(A,e.message)}),v(b,x)}});var g=p(m,2);Sn(g,{children:(b,y)=>{var x=w5(),k=z(x);k.__click=function(...E){e.onCancel?.apply(this,E)};var S=d(k),A=p(k,2);A.__click=function(...E){e.onConfirm?.apply(this,E)};var C=d(A);P(()=>{O(S,a()),_e(A,1,`btn ${o(i)??""}`),O(C,n())}),v(b,x)}}),v(l,f)},$$slots:{default:!0}})}tt(["click"]);var E5=_('<div class="py-8 text-center opacity-50"><!> <p class="text-sm">Aucun membre</p></div>'),S5=_('<span class="text-xs opacity-50">(vous)</span>'),A5=(r,e)=>w(e,!0),D5=_(`<button class="btn btn-error btn-sm" title="Quitter l'Ã©quipe"><!></button>`),C5=(r,e,t)=>e(o(t).$id,o(t).name),I5=_('<button class="btn btn-error btn-sm" title="Retirer ce membre"><!></button>'),T5=_('<div class="card bg-base-100 border-base-200 border p-4 transition-shadow hover:shadow-md"><div class="flex items-center justify-between gap-4"><div class="flex flex-1 items-center gap-3"><div class="avatar avatar-placeholder"><div><span class="text-lg"> </span></div></div> <div class="flex-1"><div class="font-medium"> <!></div> <div class="text-sm opacity-70"> </div></div></div> <div><!> </div> <div class="flex gap-2"><!></div></div></div>'),M5=_(`<div class="alert"><!> Seul les admins peuvent modifier les parametre
      de l'Ã©quipe</div> <div class="space-y-2"></div>`,1),R5=_('<div class="space-y-4"><!></div> <!> <!>',1);function N5(r,e){pe(e,!0);let t=ae(ot({isOpen:!1,memberId:null,memberName:null})),n=ae(!1),a=ae(!1);const s=V(()=>Ee.userId),i=V(()=>()=>o(s)&&e.team.members.find(T=>T.id===o(s))?.roles?.[0]||null),u=V(()=>o(i)()==="owner");function l(I){return new Date(I).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})}function c(I,T){w(t,{isOpen:!0,memberId:I,memberName:T},!0)}async function f(){if(o(t).memberId){w(a,!0);try{await At.removeMember(e.team.$id,o(t).memberId),w(t,{isOpen:!1,memberId:null,memberName:null},!0),e.onMemberRemoved?.()}catch(I){console.error("[TeamMembersList] Erreur suppression:",I),alert("Erreur lors de la suppression du membre")}finally{w(a,!1)}}}async function h(){if(!o(s))return;const I=e.team.members.find(T=>T.id===o(s));if(I){w(a,!0);try{await At.removeMember(e.team.$id,I.$id),w(n,!1),e.onMemberRemoved?.()}catch(T){console.error("[TeamMembersList] Erreur dÃ©sinscription:",T),alert("Erreur lors de la dÃ©sinscription")}finally{w(a,!1)}}}function m(I){return I==="owner"?PE:Ut}function g(I){return I==="owner"?"badge-primary badge-soft":"badge-ghost"}function b(I){return I==="owner"?"Admin":"Membre"}var y=R5(),x=z(y),k=d(x);{var S=I=>{var T=E5(),j=d(T);Ut(j,{class:"mx-auto mb-2 h-8 w-8"}),v(I,T)},A=I=>{var T=M5(),j=z(T),U=d(j);ra(U,{class:"size-4 shrink-0"});var G=p(j,2);ze(G,21,()=>e.team.members.filter(Q=>Q.confirmed),Q=>Q.id,(Q,ee)=>{const oe=V(()=>o(ee).roles[0]),H=V(()=>m(o(oe))),J=V(()=>o(ee).id===o(s)),K=V(()=>o(u)&&!o(J));var te=T5(),Z=d(te),R=d(Z),F=d(R),M=d(F),B=d(M),q=d(B),$=p(F,2),L=d($),ne=d(L),Y=p(ne);{var W=be=>{var ye=S5();v(be,ye)};D(Y,be=>{o(J)&&be(W)})}var X=p(L,2),N=d(X),ie=p(R,2),re=d(ie);qt(re,()=>o(H),(be,ye)=>{ye(be,{class:"h-3 w-3"})});var le=p(re),ue=p(ie,2),se=d(ue);{var de=be=>{var ye=D5();ye.__click=[A5,n];var De=d(ye);Lp(De,{class:"h-4 w-4"}),P(()=>ye.disabled=o(a)),v(be,ye)},fe=be=>{var ye=ce(),De=z(ye);{var xe=Ce=>{var Ie=I5();Ie.__click=[C5,c,ee];var Pe=d(Ie);aS(Pe,{class:"h-4 w-4"}),P(()=>Ie.disabled=o(a)),v(Ce,Ie)};D(De,Ce=>{o(K)&&Ce(xe)},!0)}v(be,ye)};D(se,be=>{o(J)&&o(ee).roles?.[0]!=="owner"?be(de):be(fe,!1)})}P((be,ye,De,xe)=>{_e(M,1,`${o(ee).name===Ee.userName?"bg-accent":"bg-neutral"} text-neutral-content w-12 rounded-full`),O(q,be),O(ne,`${o(ee).name??""} `),O(N,`Membre depuis ${ye??""}`),_e(ie,1,`badge ${De??""} gap-1`),O(le,` ${xe??""}`)},[()=>o(ee).name.split(" ").map(be=>be[0]).join("").toUpperCase().slice(0,2),()=>l(o(ee).joinedAt),()=>g(o(oe)),()=>b(o(oe))]),v(Q,te)}),v(I,T)};D(k,I=>{e.team.members.length===0?I(S):I(A,!1)})}var C=p(x,2);Si(C,{get isOpen(){return o(t).isOpen},title:"Retirer un membre",get message(){return`Ãtes-vous sÃ»r de vouloir retirer ${o(t).memberName??""} de l'Ã©quipe ? Cette action est irrÃ©versible.`},variant:"warning",confirmLabel:"Retirer",cancelLabel:"Annuler",onConfirm:f,onCancel:()=>w(t,{isOpen:!1,memberId:null,memberName:null},!0)});var E=p(C,2);Si(E,{get isOpen(){return o(n)},title:"Quitter l'Ã©quipe",message:"Ãtes-vous sÃ»r de vouloir quitter cette Ã©quipe ? Vous devrez Ãªtre rÃ©invitÃ© pour y revenir.",variant:"warning",confirmLabel:"Quitter",cancelLabel:"Annuler",onConfirm:h,onCancel:()=>w(n,!1)}),v(r,y),ve()}tt(["click"]);var P5=_(`<div class="alert"><!> SeulÂ·es les admins peuvent modifier les paramÃ¨tres
      de l'Ã©quipe.</div>`),$5=(r,e)=>e.onNameKeydown?.(r),L5=_('<div class="grid grid-cols-2 gap-4"><fieldset class="fieldset"><legend class="fieldset-legend flex items-center gap-1"><!> DÃ©partement</legend> <label class="input"><input type="text" placeholder="Ex: Ãle-de-France" maxlength="50"/></label></fieldset> <fieldset class="fieldset"><legend class="fieldset-legend flex items-center gap-1"><!> Ville</legend> <label class="input"><input type="text" placeholder="Ex: Paris" maxlength="50"/></label></fieldset></div>'),O5=_(`<div class="space-y-4"><!> <fieldset class="fieldset"><legend class="fieldset-legend">Nom de l'Ã©quipe *</legend> <label class="input"><input type="text" placeholder="Ex: Ãquipe Marketing"/></label> <span class="fieldset-label text-xs"> </span></fieldset> <fieldset class="fieldset"><legend class="fieldset-legend">Description</legend> <textarea class="textarea w-full" rows="3"></textarea> <span class="fieldset-label text-xs"> </span></fieldset> <!></div>`);function P2(r,e){pe(e,!0);let t=ke(e,"name",15),n=ke(e,"description",15),a=ke(e,"location",15,""),s=ke(e,"city",15,""),i=ke(e,"showLocation",3,!1),u=ke(e,"disabled",3,!1),l=ke(e,"nameMaxLength",3,50),c=ke(e,"descriptionMaxLength",3,350),f=t()!=="";var h=O5(),m=d(h);{var g=U=>{var G=P5(),Q=d(G);ra(Q,{class:"size-4 shrink-0"}),v(U,G)};D(m,U=>{f&&U(g)})}var b=p(m,2),y=p(d(b),2),x=d(y);x.__keydown=[$5,e];var k=p(y,2),S=d(k),A=p(b,2),C=p(d(A),2),E=p(C,2),I=d(E),T=p(A,2);{var j=U=>{var G=L5(),Q=d(G),ee=d(Q),oe=d(ee);qi(oe,{class:"h-4 w-4"});var H=p(ee,2),J=d(H),K=p(Q,2),te=d(K),Z=d(te);xE(Z,{class:"h-4 w-4"});var R=p(te,2),F=d(R);P(()=>{J.disabled=u(),F.disabled=u()}),ft(J,a),ft(F,s),v(U,G)};D(T,U=>{i()&&U(j)})}P(()=>{dt(x,"maxlength",l()),x.disabled=u(),O(S,`${t().length??""}/${l()??""} caractÃ¨res`),dt(C,"maxlength",c()),C.disabled=u(),O(I,`${n().length??""}/${c()??""} caractÃ¨res`)}),ft(x,t),ft(C,n),v(r,h),ve()}tt(["keydown"]);var B5=_('<div class="mb-1 text-xs opacity-70"> </div>'),F5=(r,e,t)=>e(o(t)),z5=_("<button><!> </button>"),q5=_('<div><!> <div class="ms-1 flex flex-wrap items-center gap-1"><!> <!></div></div>');function zp(r,e){pe(e,!0);let t=ke(e,"maxSuggestions",3,8),n=ke(e,"buttonSize",3,"btn-xs"),a=ke(e,"buttonVariant",3,"btn-soft"),s=ke(e,"disabled",3,!1);const i=V(()=>e.suggestions.slice(0,t()));function u(h){!s()&&!h.disabled&&e.onSuggestionClick(h)}var l=ce(),c=z(l);{var f=h=>{var m=q5(),g=d(m);{var b=S=>{var A=B5(),C=d(A);P(()=>O(C,e.title)),v(S,A)};D(g,S=>{e.title&&S(b)})}var y=p(g,2),x=d(y);js(x,{class:"text-base-content/70 mr-1",size:14});var k=p(x,2);ze(k,17,()=>o(i),S=>S.id,(S,A)=>{var C=z5();C.__click=[F5,u,A];var E=d(C);{var I=j=>{var U=ce(),G=z(U);qt(G,()=>o(A).icon,(Q,ee)=>{ee(Q,{class:"h-3 w-3"})}),v(j,U)};D(E,j=>{o(A).icon&&j(I)})}var T=p(E);P(()=>{_e(C,1,`btn btn-primary ${n()??""} ${a()??""} `),C.disabled=s()||o(A).disabled,dt(C,"title",o(A).disabled?"DÃ©jÃ  sÃ©lectionnÃ©":o(A).label),O(T,` ${o(A).label??""}`)}),v(S,C)}),v(h,m)};D(c,h=>{o(i).length>0&&h(f)})}v(r,l),ve()}tt(["click"]);function j5(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)}function H5(r,e){w(e,!o(e))}var U5=_('<span class="text-base-content font-semibold"> </span>'),V5=_('<div class="text-base-content/80 flex-1"> </div>'),W5=_('<div class="flex items-center gap-1"><div class="text-base-content/70 text-sm italic"><!></div> <!></div>'),Q5=_('<div id="collapse-content"><div class="text-base-content p-4 pt-0 text-sm"><!></div></div>'),G5=_('<div><button type="button" aria-controls="collapse-content"><div class="flex items-center gap-3"><!> <!></div> <!> <!></button> <!></div>');function $2(r,e){let t=ke(e,"icon",3,ra),n=ke(e,"class",3,""),a=ke(e,"initiallyOpen",3,!1),s=t(),i=ae(ot(a())),u=ot(e.children);var l=G5(),c=d(l);c.__click=[H5,i];var f=d(c),h=d(f);s(h,{size:24,class:"text-base-content me-4 flex-shrink-0"});var m=p(h,2);{var g=C=>{var E=U5(),I=d(E);P(()=>O(I,e.title)),v(C,E)};D(m,C=>{e.title&&C(g)})}var b=p(f,2);{var y=C=>{var E=V5(),I=d(E);P(()=>O(I,e.contentVisible)),v(C,E)};D(b,C=>{e.contentVisible&&C(y)})}var x=p(b,2);{var k=C=>{var E=W5(),I=d(E),T=d(I);{var j=Q=>{var ee=Pt("en savoir plus");v(Q,ee)},U=Q=>{var ee=Pt("masquer");v(Q,ee)};D(T,Q=>{o(i)?Q(U,!1):Q(j)})}var G=p(I,2);{let Q=V(()=>`text-base-content h-4 w-4 flex-shrink-0 transition-transform duration-200 ${o(i)?"rotate-180":""}`);il(G,{get class(){return o(Q)}})}v(C,E)};D(x,C=>{u&&C(k)})}var S=p(c,2);{var A=C=>{var E=Q5(),I=d(E),T=d(I);ge(T,()=>e.children??me),P(()=>_e(E,1,`overflow-hidden transition-all duration-200 ${o(i)?"max-h-96 opacity-100":"max-h-0 opacity-0"}`)),v(C,E)};D(S,C=>{u&&C(A)})}P(()=>{_e(l,1,`bg-base-100 border-base-200 overflow-hidden rounded-lg border ${n()}`),_n(l,e.style),_e(c,1,`flex w-full items-center justify-between p-4 text-left transition-colors duration-200 focus:outline-none ${(u&&"hover:cursor-pointer")??""}`),dt(c,"aria-expanded",o(i))}),v(r,l)}tt(["click"]);function K5(r,e){r.key==="Enter"&&(r.preventDefault(),e())}var J5=_('<div class="alert alert-error"><!> <span> </span></div>'),Z5=_('<label for="" class="select"><span class="label">RÃ´le</span> <select class="select"><option class="flex" selected>Membre</option><option>Administrateur</option></select></label>'),Y5=(r,e,t)=>e(t),X5=_('<div class="badge badge-primary badge-lg gap-2"><!> <button class="btn btn-circle btn-ghost btn-xs" title="Retirer"><!></button></div>'),e8=_('<div><div class="mb-2 text-sm font-medium opacity-70"> </div> <div class="flex flex-wrap gap-2"></div></div>'),t8=_(`<div class="space-y-4"><div class="alert alert-soft alert-info"><!> <div><p>Envoyez des invitations aux personnes qui font partie de votre cantine.
        Si elles possÃ¨dent dÃ©jÃ  un compte enka-cookbook, elles pourront
        directement acceder aux Ã©vÃ©nements de l'Ã©quipe, sinon, elles recevrons
        un lien pour crÃ©er leur compte.</p> <p>Il est aussi possible d'inviter des personnes individuellement Ã 
        participer aux Ã©venements (depuis les pages d'Ã©venements), mÃªme si elles
        ne font pas partie de vos Ã©quipes.</p></div></div> <!> <!> <div class="rounded-box bg-base-200 flex flex-col gap-2 p-4"><div class="flex flex-wrap gap-2"><label class="input min-w-56 flex-1 gap-2"><!> <input type="email" placeholder="email@example.com"/></label> <!></div> <div>Les administrateurÂ·ices sont seulÂ·es autorisÃ©Â·es Ã  modifier les
      informations concernant l'Ã©quipe et Ã  supprimer des membres.</div> <button class="btn btn-primary btn-sm ml-auto w-fit" title="Ajouter Ã  la liste"><!> Ajouter</button></div> <!> <div><label class="label" for="invite-message"><span class="label-text">Message personnalisÃ© (optionnel)</span></label> <textarea id="invite-message" class="textarea textarea-bordered w-full" placeholder="Ajoutez un message pour les personnes invitÃ©es..." rows="3" maxlength="200"></textarea> <span class="label label-text-alt opacity-50"> </span></div></div>`);function L2(r,e){pe(e,!0);let t=ke(e,"invitedEmails",31,()=>ot([])),n=ke(e,"customMessage",15,""),a=ke(e,"loading",3,!1),s=ke(e,"role",15,"member"),i=ae(""),u=ae(null);const l=V(()=>Ee.isTeamOwner(e.team.$id));function c(){const te=o(i).trim().toLowerCase();if(!te){w(u,"Veuillez entrer une adresse email");return}if(!j5(te)){w(u,"Adresse email invalide");return}if(t().includes(te)){w(u,"Cet email est dÃ©jÃ  dans la liste");return}if(e.team.members.some(R=>R.name.toLowerCase()===te||R.userEmail.toLowerCase()===te)){w(u,"Cette personne est dÃ©jÃ  membre ou invitÃ©e dans l'Ã©quipe");return}t().push(te),w(i,""),w(u,null)}function f(te){t(t().filter(Z=>Z!==te))}var h=t8(),m=d(h),g=d(m);ra(g,{class:"h-6 w-6 shrink-0"});var b=p(m,2);D(b,te=>{});var y=p(b,2);{var x=te=>{var Z=J5(),R=d(Z);p2(R,{class:"h-6 w-6 shrink-0"});var F=p(R,2),M=d(F);P(()=>O(M,o(u))),v(te,Z)};D(y,te=>{o(u)&&te(x)})}var k=p(y,2),S=d(k),A=d(S),C=d(A);Tu(C,{class:"h-4 w-4 opacity-50"});var E=p(C,2);E.__keydown=[K5,c];var I=p(A,2);{var T=te=>{var Z=Z5(),R=p(d(Z),2),F=d(R);F.value=F.__value="member";var M=p(F);M.value=M.__value="owner",$n(R,s),v(te,Z)};D(I,te=>{o(l)&&te(T)})}var j=p(S,2),U=p(j,2);U.__click=c;var G=d(U);ll(G,{class:" h-5 w-5"});var Q=p(k,2);{var ee=te=>{var Z=e8(),R=d(Z),F=d(R),M=p(R,2);ze(M,20,t,B=>B,(B,q)=>{var $=X5(),L=d($);Tu(L,{class:"h-3 w-3"});var ne=p(L),Y=p(ne);Y.__click=[Y5,f,q];var W=d(Y);ir(W,{class:"h-3 w-3"}),P(()=>{O(ne,` ${q??""} `),Y.disabled=a()}),v(B,$)}),P(()=>O(F,`Personnes Ã  inviter (${t().length??""})`)),v(te,Z)};D(Q,te=>{t().length>0&&te(ee)})}var oe=p(Q,2),H=p(d(oe),2),J=p(H,2),K=d(J);P(te=>{E.disabled=a(),_e(j,1,`fieldset-label text-xs ${!o(l)&&"hidden"}`),U.disabled=te,H.disabled=a(),O(K,`${n().length??""}/200 caractÃ¨res`)},[()=>a()||!o(i).trim()]),ft(E,()=>o(i),te=>w(i,te)),ft(H,n),v(r,h),ve()}tt(["keydown","click"]);async function r8(r,e,t,n,a,s,i,u){if(!(!o(e)||!o(t))){w(n,!0);try{await At.updateTeam(o(e).$id,o(a).trim()||void 0,{description:o(s).trim()||void 0,location:o(i).trim()||void 0,city:o(u).trim()||void 0}),w(t,!1)}catch(l){console.error("[TeamDetailModal] Erreur sauvegarde:",l),alert("Erreur lors de la sauvegarde")}finally{w(n,!1)}}}async function n8(r,e,t,n,a,s){if(!(!o(e)||o(t).length===0)){w(n,!0);try{await rt.track(At.inviteTeamMember(o(e).$id,o(t),o(a)||void 0),{loading:"Envoi des invitations en cours...",success:`${o(t).length} invitation${o(t).length>1?"s":""} envoyÃ©e${o(t).length>1?"s":""} avec succÃ¨s`,error:"Erreur lors de l'envoi des invitations"}),w(t,[],!0),w(a,""),s.teamId&&await At.fetchTeam(s.teamId)}catch(i){console.error("[TeamDetailModal] Erreur envoi invitations:",i)}finally{w(n,!1)}}}var a8=(r,e)=>w(e,"members"),s8=(r,e)=>w(e,"invitations"),i8=(r,e)=>w(e,"settings"),o8=_('<div class="bg-warning ml-1 h-2 w-2 rounded-full"></div>'),u8=_('<div><h4 class=" text-sm font-medium opacity-70">Inviter de nouveaux membres</h4> <!></div>'),l8=_('<div class="tabs tabs-border mb-6 flex-none" role="tablist"><button role="tab"><!> Membres <span class="badge badge-sm badge-secondary ml-1"> </span></button> <button role="tab"><!> Invitations</button> <button role="tab"><!> ParamÃ¨tres <!></button></div> <!>',1),c8=_('<span class="loading loading-spinner loading-sm"></span>'),d8=_('<button class="btn btn-ghost">Annuler</button> <button class="btn btn-primary"><!></button>',1),f8=_('<span class="loading loading-spinner loading-sm"></span>'),h8=_('<button class="btn btn-ghost">Fermer</button> <button class="btn btn-primary"><!></button>',1),p8=_('<button class="btn btn-ghost">Fermer</button>'),v8=_("<!> <!> <!>",1),m8=_("<!> <!>",1);function O2(r,e){pe(e,!0);let t=ke(e,"initialTab",3,"members"),n=ae(ot(t())),a=ae(!1),s=ae(!1),i=ae(ot([])),u=ae(""),l=ae(!1);const c=V(()=>e.teamId?At.getTeamById(e.teamId):null),f=V(()=>!o(c)||!Ee.userId?null:o(c).members.find(T=>T.id===Ee.userId)?.roles?.[0]||null),h=V(()=>o(f)==="owner");let m=ae(""),g=ae(""),b=ae(""),y=ae(""),x=ae(!1);st(()=>{o(c)&&(w(m,o(c).name,!0),w(g,o(c).prefs?.description||"",!0),w(b,o(c).prefs?.location||"",!0),w(y,o(c).prefs?.city||"",!0),w(x,!1))}),st(()=>{o(c)&&w(x,o(m)!==o(c).name||o(g)!==(o(c).prefs?.description||"")||o(b)!==(o(c).prefs?.location||"")||o(y)!==(o(c).prefs?.city||""),!0)});async function k(){if(o(c)){w(s,!0);try{await At.deleteTeam(o(c).$id),w(a,!1),e.onClose()}catch(I){console.error("[TeamDetailModal] Erreur suppression:",I),alert("Erreur lors de la suppression de l'Ã©quipe")}finally{w(s,!1)}}}async function S(){e.teamId&&await At.fetchTeam(e.teamId)}var A=m8(),C=z(A);{let I=V(()=>e.teamId!==null);on(C,{get isOpen(){return o(I)},get onClose(){return e.onClose},children:(T,j)=>{var U=ce(),G=z(U);{var Q=ee=>{var oe=v8(),H=z(oe);Hr(H,{get title(){return o(c).name},get subtitle(){return o(c).description},get onClose(){return e.onClose}});var J=p(H,2);Zr(J,{children:(te,Z)=>{var R=l8(),F=z(R),M=d(F);M.__click=[a8,n];var B=d(M);Ut(B,{class:"mr-1 h-5 w-5"});var q=p(B,2),$=d(q),L=p(M,2);L.__click=[s8,n];var ne=d(L);Tu(ne,{class:"mr-1 h-5 w-5"});var Y=p(L,2);Y.__click=[i8,n];var W=d(Y);Op(W,{class:"mr-1 h-5 w-5"});var X=p(W,2);{var N=re=>{var le=o8();v(re,le)};D(X,re=>{o(x)&&re(N)})}var ie=p(F,2);Bb(ie,()=>o(n),re=>{var le=ce(),ue=z(le);{var se=fe=>{N5(fe,{get team(){return o(c)},onMemberRemoved:S})},de=fe=>{var be=ce(),ye=z(be);{var De=Ce=>{var Ie=u8(),Pe=p(d(Ie),2);L2(Pe,{get team(){return o(c)},get loading(){return o(l)},get invitedEmails(){return o(i)},set invitedEmails(Be){w(i,Be,!0)},get customMessage(){return o(u)},set customMessage(Be){w(u,Be,!0)}}),v(Ce,Ie)},xe=Ce=>{var Ie=ce(),Pe=z(Ie);{var Be=He=>{{let Te=V(()=>o(s)||!o(h));P2(He,{showLocation:!0,get disabled(){return o(Te)},get name(){return o(m)},set name(he){w(m,he,!0)},get description(){return o(g)},set description(he){w(g,he,!0)},get location(){return o(b)},set location(he){w(b,he,!0)},get city(){return o(y)},set city(he){w(y,he,!0)}})}};D(Pe,He=>{o(n)==="settings"&&He(Be)},!0)}v(Ce,Ie)};D(ye,Ce=>{o(n)==="invitations"?Ce(De):Ce(xe,!1)},!0)}v(fe,be)};D(ue,fe=>{o(n)==="members"?fe(se):fe(de,!1)})}v(re,le)}),P(()=>{_e(M,1,`tab ${o(n)==="members"?"tab-active":""}`),O($,o(c).members.length),_e(L,1,`tab ${o(n)==="invitations"?"tab-active":""}`),_e(Y,1,`tab ${o(n)==="settings"?"tab-active":""}`)}),v(te,R)}});var K=p(J,2);Sn(K,{children:(te,Z)=>{var R=ce(),F=z(R);{var M=q=>{var $=d8(),L=z($);L.__click=function(...N){e.onClose?.apply(this,N)};var ne=p(L,2);ne.__click=[r8,c,x,s,m,g,b,y];var Y=d(ne);{var W=N=>{var ie=c8();v(N,ie)},X=N=>{var ie=Pt("Enregistrer");v(N,ie)};D(Y,N=>{o(s)?N(W):N(X,!1)})}P(()=>ne.disabled=o(s)||!o(x)),v(q,$)},B=q=>{var $=ce(),L=z($);{var ne=W=>{var X=h8(),N=z(X);N.__click=function(...se){e.onClose?.apply(this,se)};var ie=p(N,2);ie.__click=[n8,c,i,l,u,e];var re=d(ie);{var le=se=>{var de=f8();v(se,de)},ue=se=>{var de=Pt();P(()=>O(de,`Envoyer ${o(i).length??""} invitation${o(i).length>1?"s":""}`)),v(se,de)};D(re,se=>{o(l)?se(le):se(ue,!1)})}P(()=>ie.disabled=o(l)||o(i).length===0),v(W,X)},Y=W=>{var X=p8();X.__click=function(...N){e.onClose?.apply(this,N)},v(W,X)};D(L,W=>{o(n)==="invitations"?W(ne):W(Y,!1)},!0)}v(q,$)};D(F,q=>{o(n)==="settings"?q(M):q(B,!1)})}v(te,R)}}),v(ee,oe)};D(G,ee=>{o(c)&&ee(Q)})}v(T,U)},$$slots:{default:!0}})}var E=p(C,2);Si(E,{get isOpen(){return o(a)},title:"Supprimer l'Ã©quipe",message:"Ãtes-vous sÃ»r de vouloir supprimer dÃ©finitivement cette Ã©quipe ? Tous les membres seront retirÃ©s et cette action est irrÃ©versible.",variant:"danger",confirmLabel:"Supprimer dÃ©finitivement",cancelLabel:"Annuler",onConfirm:k,onCancel:()=>w(a,!1)}),v(r,A),ve()}tt(["click"]);async function g8(r,e,t,n,a){if(!(!o(e)||o(t).length===0)){w(n,!0);try{await rt.track(At.inviteTeamMember(o(e),o(t),o(a)||void 0),{loading:"Envoi des invitations en cours...",success:`${o(t).length} invitation${o(t).length>1?"s":""} envoyÃ©e${o(t).length>1?"s":""} avec succÃ¨s`,error:"Erreur lors de l'envoi des invitations"}),w(t,[],!0),w(a,""),o(e)&&await At.fetchTeam(o(e))}catch(s){console.error("[TeamDetailModal] Erreur envoi invitations:",s)}finally{w(n,!1)}}}function b8(r,e,t,n){o(e)&&t.onSuccess?.(o(e)),n(),t.onClose()}var _8=_('<div class="alert alert-error"><span class="text-sm"> </span></div>'),y8=_('<form class="space-y-4"><!> <!></form>'),x8=_('<span class="loading loading-spinner loading-sm"></span>'),w8=_(`<button class="btn btn-ghost">Annuler</button> <button class="btn btn-primary"><!> CrÃ©er l'Ã©quipe</button>`,1),k8=_("<!> <!> <!>",1),E8=_('<div class="mb-4"><div class="alert alert-success alert-soft flex flex-col"><p> </p> <p>Ajoutez les email des personnes que vous souhaitez inviter</p></div></div> <!>',1),S8=_('<span class="loading loading-spinner loading-sm"></span>'),A8=_('<button class="btn btn-ghost">Passer cette Ã©tape</button> <button class="btn btn-primary"><!></button>',1),D8=_("<!> <!> <!>",1);function B2(r,e){pe(e,!0);let t=ae(""),n=ae(""),a=ae(""),s=ae(""),i=ae(!1),u=ae(!1),l=ae(null),c=ae("create"),f=ae(null),h=ae(ot([])),m=ae(""),g=ae(!1);function b(){w(t,""),w(n,""),w(a,""),w(s,""),w(i,!1),w(l,null),w(c,"create"),w(f,null)}async function y(){if(!o(t).trim()){w(l,"Le nom de l'Ã©quipe est requis");return}w(u,!0),w(l,null);try{const S={description:o(n).trim()||void 0,location:o(a).trim()||void 0,city:o(s).trim()||void 0,isPublic:o(i)},A=await At.createTeam(o(t).trim(),S);w(f,A.$id,!0),w(c,"invite")}catch(S){w(l,S.message||"Erreur lors de la crÃ©ation de l'Ã©quipe",!0),console.error("[CreateTeamModal] Erreur:",S)}finally{w(u,!1)}}function x(){b(),e.onClose()}function k(S){S.key==="Enter"&&o(c)==="create"&&(S.preventDefault(),y())}on(r,{get isOpen(){return e.isOpen},onClose:x,children:(S,A)=>{var C=ce(),E=z(C);{var I=j=>{var U=k8(),G=z(U);Hr(G,{title:"CrÃ©er une Ã©quipe",onClose:x});var Q=p(G,2);Zr(Q,{children:(oe,H)=>{var J=y8(),K=d(J);P2(K,{showLocation:!0,get disabled(){return o(u)},onNameKeydown:k,get name(){return o(t)},set name(R){w(t,R,!0)},get description(){return o(n)},set description(R){w(n,R,!0)},get location(){return o(a)},set location(R){w(a,R,!0)},get city(){return o(s)},set city(R){w(s,R,!0)}});var te=p(K,2);{var Z=R=>{var F=_8(),M=d(F),B=d(M);P(()=>O(B,o(l))),v(R,F)};D(te,R=>{o(l)&&R(Z)})}_t("submit",J,R=>R.preventDefault()),v(oe,J)}});var ee=p(Q,2);Sn(ee,{children:(oe,H)=>{var J=w8(),K=z(J);K.__click=x;var te=p(K,2);te.__click=y;var Z=d(te);{var R=M=>{var B=x8();v(M,B)},F=M=>{Zt(M,{class:"h-5 w-5"})};D(Z,M=>{o(u)?M(R):M(F,!1)})}P(M=>{K.disabled=o(u),te.disabled=M},[()=>o(u)||!o(t).trim()]),v(oe,J)}}),v(j,U)},T=j=>{var U=ce(),G=z(U);{var Q=ee=>{const oe=V(()=>At.getTeamById(o(f)));var H=ce(),J=z(H);{var K=te=>{var Z=D8(),R=z(Z);Hr(R,{title:"Inviter des membres",onClose:x});var F=p(R,2);Zr(F,{children:(B,q)=>{var $=E8(),L=z($),ne=d(L),Y=d(ne),W=d(Y),X=p(L,2);L2(X,{get team(){return o(oe)},get loading(){return o(g)},get invitedEmails(){return o(h)},set invitedEmails(N){w(h,N,!0)},get customMessage(){return o(m)},set customMessage(N){w(m,N,!0)}}),P(()=>O(W,`Ãquipe "${o(oe).name??""}" crÃ©Ã©e avec succÃ¨s !`)),v(B,$)}});var M=p(F,2);Sn(M,{children:(B,q)=>{var $=A8(),L=z($);L.__click=[b8,f,e,b];var ne=p(L,2);ne.__click=[g8,f,h,g,m];var Y=d(ne);{var W=N=>{var ie=S8();v(N,ie)},X=N=>{var ie=Pt();P(()=>O(ie,`Envoyer ${o(h).length??""} invitation${o(h).length>1?"s":""}`)),v(N,ie)};D(Y,N=>{o(g)?N(W):N(X,!1)})}P(()=>ne.disabled=o(g)||o(h).length===0),v(B,$)}}),v(te,Z)};D(J,te=>{o(oe)&&te(K)})}v(ee,H)};D(G,ee=>{o(c)==="invite"&&o(f)&&ee(Q)},!0)}v(j,U)};D(E,j=>{o(c)==="create"?j(I):j(T,!1)})}v(S,C)},$$slots:{default:!0}}),ve()}tt(["click"]);tt(["click","keydown"]);function C8(r,e){return`${r}T${{matin:"08:00:00",midi:"12:00:00",soir:"20:00:00"}[e]}`}function F2(r){return r.split("T")[0]}function rs(r){if(!r)return"";const e=parseInt(r.split("T")[1]?.split(":")[0]||"12");return e<10?"matin":e<17?"midi":"soir"}function Ki(r,e=!1){if(!r)return"";const t=e?I8(r):Da(r),n=rs(r);return`${t} ${n}`}function Eh(r){const e=new Date(r),n=Math.abs(new Date().getTime()-e.getTime()),a=Math.ceil(n/(1e3*60*60*24));if(a===0)return"Aujourd'hui";if(a===1)return"Hier";if(a<7)return`Il y a ${a} jours`;if(a<30){const s=Math.floor(a/7);return`Il y a ${s} semaine${s>1?"s":""}`}return e.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}function Zn(r){return new Date(r).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}function Da(r){return r?new Date(r).toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short"}):""}function I8(r){return r?new Date(r).toLocaleDateString("fr-FR",{day:"numeric",month:"short"}):""}function ym(r){return r?new Date(r).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"short"}):""}function bo(r){switch(r.toLowerCase()){case"sec":return{displayName:"Produits Sec",icon:_E};case"animaux":return{displayName:"Viandes et Poissons",icon:yE};case"legumes":return{displayName:"Fruits et LÃ©gumes",icon:SE};case"sucres":return{displayName:"SucrÃ©es",icon:EE};case"lof":return{displayName:"L.O.F",icon:$E};case"autres":return{displayName:"Autres",icon:Jr};case"epices":return{displayName:"Assaisonnements",icon:zE};case"frais":return{displayName:"Produits Frais",icon:D2};default:return{displayName:r,icon:va}}}function z2(r){if(!r)return"-";try{return new Date(r).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return r}}function rn(r){if(!r)return"";try{return new Date(r).toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short"})}catch{return r}}function tu(r){switch(r){case"requested":return{text:"DemandÃ©",class:"text-amber-600"};case"ordered":return{text:"CommandÃ©",class:"badge-info"};case"pending":return{text:"En attente",class:"badge-accent"};case"delivered":return{text:"LivrÃ©",class:"badge-success"};case"cancelled":return{text:"AnnulÃ©",class:"badge-error"};default:return{text:"LivrÃ©",class:"badge-success"}}}function Cl(r){return r?z2(r):"-"}function T8(r){if(!r?.length)return[];const e=r.reduce((t,n)=>{const a=n.status||"direct",s=n.unit||"unit",i=`${a}_${s}`;if(!t[i]){const u=tu(a);t[i]={status:a,unit:s,quantity:0,badgeClass:u.class,badgeText:u.text,icon:M8(a),deliveryDate:a==="ordered"&&n.deliveryDate?rn(n.deliveryDate):void 0}}return t[i].quantity+=n.quantity||0,t},{});return Object.values(e).map(t=>{const{value:n,unit:a}=vi(t.quantity,t.unit);let s;return a==="kg"||a==="l."?s=n.toFixed(2).replace(/\.?0+$/,""):s=n.toString(),{...t,quantity:s,unit:a}})}function M8(r){switch(r){case"requested":return"MessageCircleQuestionMark";case"ordered":return"ClipboardCheck";case"pending":return"Clock";case"delivered":return"Check";case"cancelled":return"CircleX";case"inStock":return"PackageCheck";default:return"Package"}}function qp(r){return r?.meals?.length||0}function q2(r){return r?.meals?r.meals.reduce((e,t)=>e+(t.guests||0),0):0}function jp(r){if(!r?.meals)return 0;const e=new Set;return r.meals.forEach(t=>{t.recipes?.forEach(n=>{n.recipeUuid&&e.add(n.recipeUuid)})}),e.size}function j2(r){return r?.todos?.length||0}function R8(r){if(!r?.meals)return 0;const e=new Set;return r.meals.forEach(t=>{t.recipes&&t.recipes.forEach(n=>{const a=jt.getRecipeIndexByUuid(n.recipeUuid);a?.ingredients&&a.ingredients.forEach(s=>e.add(s))})}),e.size}function Hp(r){return r?.contributors||[]}function N8(r){const e=Hp(r);return{total:e.length,accepted:e.filter(t=>t.status==="accepted").length,declined:e.filter(t=>t.status==="declined").length,pending:e.filter(t=>t.status==="invited").length}}function P8(r){if(!r?.meals)return new Set;const e=new Set;return r.meals.forEach(t=>{t.recipes&&t.recipes.forEach(n=>{jt.getRecipeIndexByUuid(n.recipeUuid)||e.add(n.recipeUuid)})}),e}function $8(r){const e=Hp(r),t=P8(r);return{mealsCount:qp(r),totalGuests:q2(r),totalRecipes:jp(r),totalIngredients:R8(r),contributors:e,contributorsStats:N8(r),eventName:r?.name||"",startDate:r?.dateStart||null,endDate:r?.dateEnd||null,missingRecipes:t}}var L8=_('<div class="flex items-center justify-center py-8"><span class="loading loading-spinner loading-md"></span></div>'),O8=_('<div class="py-6 text-center"><!> <p class="text-base-content/60 mb-4 text-sm">Aucun Ã©vÃ©nement prÃ©vu</p></div>'),B8=(r,e)=>ct(`/dashboard/eventEdit/${o(e).$id}`),F8=(r,e)=>{r.key==="Enter"||r.key},z8=_("<!> ",1),q8=_("<!> ",1),j8=_('<div class="badge badge-info badge-lg ms-auto"><!> Vous Ãªtes invitÃ© Ã  participer</div>'),H8=_('<div class="text-primary flex items-center gap-1 font-semibold"><!> <span> </span></div>'),U8=_('<div class="flex items-center gap-1"><!> <span> </span></div>'),V8=(r,e)=>{r.stopPropagation(),ct(`/dashboard/eventEdit/${o(e).$id}`)},W8=(r,e)=>{r.stopPropagation(),ct(`/dashboard/eventEdit/recipes/${o(e).$id}`)},Q8=(r,e)=>{r.stopPropagation(),ct(`/dashboard/eventEdit/products/${o(e).$id}`)},G8=(r,e)=>{r.stopPropagation(),ct(`/dashboard/eventPosters/${o(e).$id}`)},K8=_('<div role="button" tabindex="0"><div class="min-w-0 flex-1"><div class="flex flex-wrap items-center gap-4"><div class="text-primary truncate text-lg font-semibold"> </div> <div class="badge badge-soft badge-secondary font-medium"><!></div> <div> </div> <!></div> <div class="text-base-content/60 mt-2 flex flex-wrap items-center gap-3 text-xs"><!> <!> <div class="flex items-center gap-1"><!> <span> </span></div> <div class="flex items-center gap-1"><!> <span> </span></div> <div class="flex items-center gap-1"><!> <span> </span></div></div> <div class="mt-3 flex flex-wrap justify-around gap-2"><button class="btn btn-outline btn-secondary btn-xs"><!> Ãditer</button> <button class="btn btn-outline btn-secondary btn-xs"><!> Recettes</button> <button class="btn btn-outline btn-secondary btn-xs"><!> Produits</button> <button class="btn btn-outline btn-secondary btn-xs"><!> Affiches</button></div></div> <!></div>'),J8=_('<div class="my-4"><div class="space-y-3"></div></div>');function xm(r,e){pe(e,!0);let t=ke(e,"events",19,()=>[]),n=ke(e,"loading",3,!1),a=ke(e,"cardClass",3,"");function s(f){return Nt.getContributorStatus(f)==="invited"}var i=ce(),u=z(i);{var l=f=>{var h=L8();v(f,h)},c=f=>{var h=ce(),m=z(h);{var g=y=>{var x=O8(),k=d(x);fr(k,{size:32,class:"text-base-content/20 mx-auto mb-3"}),v(y,x)},b=y=>{var x=ce(),k=z(x);{var S=A=>{var C=J8(),E=d(C);ze(E,21,t,I=>I.$id,(I,T)=>{var j=K8();j.__click=[B8,T],j.__keydown=[F8,T];var U=d(j),G=d(U),Q=d(G),ee=d(Q),oe=p(Q,2),H=d(oe);{var J=he=>{var Se=z8(),Ae=z(Se);fr(Ae,{class:"h-4 w-4"});var $e=p(Ae);P((we,Oe)=>O($e,` ${we??""} au ${Oe??""}`),[()=>rn(o(T).dateStart),()=>rn(o(T).dateEnd)]),v(he,Se)},K=he=>{var Se=ce(),Ae=z(Se);{var $e=we=>{var Oe=q8(),Le=z(Oe);fr(Le,{class:"h-4 w-4"});var Ke=p(Le);P(Re=>O(Ke,` ${Re??""}`),[()=>rn(o(T).dateStart)]),v(we,Oe)};D(Ae,we=>{o(T).dateStart&&we($e)},!0)}v(he,Se)};D(H,he=>{o(T).allDates&&o(T).allDates.length>1&&o(T).dateStart&&o(T).dateEnd?he(J):he(K,!1)})}var te=p(oe,2),Z=d(te),R=p(te,2);{var F=he=>{var Se=j8(),Ae=d(Se);ZE(Ae,{class:"size-4"}),v(he,Se)};D(R,he=>{s(o(T).$id)&&he(F)})}var M=p(G,2),B=d(M);{var q=he=>{var Se=H8(),Ae=d(Se);Ut(Ae,{class:"h-3 w-3"});var $e=p(Ae,2),we=d($e);P(Oe=>O(we,Oe),[()=>o(T).teams.join(", ")]),v(he,Se)};D(B,he=>{o(T).teams&&o(T).teams.length>0&&he(q)})}var $=p(B,2);{var L=he=>{var Se=U8(),Ae=d(Se);Ut(Ae,{class:"h-3 w-3"});var $e=p(Ae,2),we=d($e);P(()=>O(we,`${o(T).contributors.length??""} participant${o(T).contributors.length>1?"s":""}`)),v(he,Se)};D($,he=>{o(T).contributors&&o(T).contributors.length>0&&he(L)})}var ne=p($,2),Y=d(ne);Jr(Y,{class:"h-3 w-3"});var W=p(Y,2),X=d(W),N=p(ne,2),ie=d(N);Jr(ie,{class:"h-3 w-3"});var re=p(ie,2),le=d(re),ue=p(N,2),se=d(ue);Oa(se,{class:"h-3 w-3"});var de=p(se,2),fe=d(de),be=p(M,2),ye=d(be);ye.__click=[V8,T];var De=d(ye);na(De,{class:"h-3 w-3"});var xe=p(ye,2);xe.__click=[W8,T];var Ce=d(xe);Ro(Ce,{class:"h-3 w-3"});var Ie=p(xe,2);Ie.__click=[Q8,T];var Pe=d(Ie);us(Pe,{class:"h-3 w-3"});var Be=p(Ie,2);Be.__click=[G8,T];var He=d(Be);_2(He,{class:"h-3 w-3"});var Te=p(U,2);Ei(Te,{class:"mt-1 h-4 w-4 flex-shrink-0 opacity-40"}),P((he,Se,Ae)=>{_e(j,1,`bg-base-200/60 hover:bg-base-200 flex cursor-pointer items-start gap-3 rounded-lg p-3 transition-colors ${a()??""}`),dt(j,"title",`Voir les dÃ©tails de ${o(T).name??""}`),O(ee,o(T).name),_e(te,1,`badge badge-outline badge-sm font-medium ${o(T).status==="proposition"?"badge-accent":"badge-success"}`),O(Z,o(T).status==="proposition"?"proposition":"confirmÃ©"),O(X,`${he??""} repas`),O(le,`${Se??""} recettes`),O(fe,`${Ae??""} tÃ¢ches`)},[()=>qp(o(T)),()=>jp(o(T)),()=>j2(o(T))]),v(I,j)}),v(A,C)};D(k,A=>{t().length>0&&A(S)})}v(y,x)};D(m,y=>{t().length===0?y(g):y(b,!1)},!0)}v(f,h)};D(u,f=>{n()?f(l):f(c,!1)})}v(r,i),ve()}tt(["click","keydown"]);function Z8(){ct("/recipe")}function wm(){ct("/recipe/new")}var Y8=()=>window.location.reload(),X8=_('<div class="py-6 text-center"><div class="text-error mb-2"><svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg></div> <p class="text-base-content/60 text-sm">Erreur de chargement des recettes</p> <button class="btn btn-ghost btn-xs mt-2">RÃ©essayer</button></div>'),eA=_('<div class="py-6 text-center"><!> <p class="text-base-content/60 mb-4 text-sm">Aucune recette publiÃ©e</p> <button class="btn btn-primary btn-sm"><!> CrÃ©er une recette</button></div>'),tA=(r,e,t)=>e(o(t).$id),rA=(r,e,t)=>{(r.key==="Enter"||r.key===" ")&&e(o(t).$id)},nA=_('<span class="tfont-medium"> </span>'),aA=_('<div class="flex items-center gap-1"><!> <span> </span></div>'),sA=_('<div class="badge badge-accent badge-outline badge-xs">brouillon</div>'),iA=_('<div class="border-accent/60 bg-base-200 hover:bg-base-300 flex cursor-pointer items-start gap-3 rounded-lg border-l-2 p-3 transition-colors" role="button" tabindex="0"><div class="min-w-0 flex-1"><div class="flex flex-wrap items-center gap-x-10 gap-y-2"><div class="text-primary flex items-center gap-2"><svg class="text-primary h-4 w-4 flex-shrink-0"><use></use></svg> <div class="truncate text-sm font-medium"> </div> <!></div> <div class="text-base-content/50 flex items-center gap-3 text-xs"><!> <div class="flex items-center gap-1"><span> </span></div></div> <!></div></div> <!></div>'),oA=_('<div class="mb-4"><h3 class="text-base-content/80 mb-2 text-xs font-semibold tracking-wider uppercase">Mes derniÃ¨res recettes</h3> <div class="space-y-2"></div></div>'),uA=_('<h3 class="text-base-content/80 mb-2 text-xs font-semibold tracking-wider uppercase">DerniÃ¨res recettes ajoutÃ©es</h3>'),lA=(r,e,t)=>e(o(t).$id),cA=(r,e,t)=>{(r.key==="Enter"||r.key===" ")&&e(o(t).$id)},dA=_('<span class="font-medium"> </span>'),fA=_('<div class="flex items-center gap-1"><!> <span> </span></div>'),hA=_('<div class="badge badge-accent badge-outline badge-xs">brouillon</div>'),pA=_('<div class="bg-base-200 hover:bg-base-300 flex cursor-pointer items-start gap-3 rounded-lg p-3 transition-colors" role="button" tabindex="0"><div class="min-w-0 flex-1"><div class="flex flex-wrap items-center gap-x-10 gap-y-2"><div class="text-primary flex items-center gap-2"><svg class="text-primary h-4 w-4 flex-shrink-0"><use></use></svg> <div class="truncate text-sm font-medium"> </div> <!></div> <div class="text-base-content/50 flex items-center gap-3 text-xs"><!> <div class="flex items-center gap-1"><span> </span></div></div> <!></div></div> <!></div>'),vA=_('<!> <!> <div class="space-y-3"></div> <div class="card-actions border-base-200 mt-4 justify-end border-t pt-4"><button class="btn btn-primary btn-sm btn-soft"><!> CrÃ©er une recette</button></div>',1),mA=_('<div class="flex items-center justify-between"><h2 class="card-title flex items-center gap-2"><!> DerniÃ¨res Recettes</h2> <button class="btn" title="Voir toutes les recettes">Voir tout <!></button></div> <!>',1);function gA(r,e){pe(e,!0);const t=V(()=>jt.isInitialized?jt.recipesIndex.filter(x=>x.auteur===Ee.userName).sort((x,k)=>{const S=x.$createdAt?new Date(x.$createdAt).getTime():0;return(k.$createdAt?new Date(k.$createdAt).getTime():0)-S}).slice(0,5):[]),n=V(()=>jt.isInitialized?jt.recipesIndex.filter(x=>x.auteur!==Ee.userName).sort((x,k)=>{const S=x.$createdAt?new Date(x.$createdAt).getTime():0;return(k.$createdAt?new Date(k.$createdAt).getTime():0)-S}).slice(0,5):[]);function a(x){return x.$createdAt?Eh(x.$createdAt):"Date inconnue"}function s(x){return Td(x.typeR,x.categories)}function i(x){ct(`/recipe/${x}`)}var u=mA(),l=z(u),c=d(l),f=d(c);oo(f,{class:"text-primary h-5 w-5"});var h=p(c,2);h.__click=[Z8];var m=p(d(h));l2(m,{size:16});var g=p(l,2);{var b=x=>{var k=X8(),S=p(d(k),4);S.__click=[Y8],v(x,k)},y=x=>{var k=ce(),S=z(k);{var A=E=>{var I=eA(),T=d(I);Jr(T,{class:"mx-auto mb-3 h-12 w-12 opacity-20"});var j=p(T,4);j.__click=[wm];var U=d(j);oo(U,{class:"mr-2 h-4 w-4"}),v(E,I)},C=E=>{var I=vA(),T=z(I);{var j=J=>{var K=oA(),te=p(d(K),2);ze(te,21,()=>o(t),Z=>Z.$id,(Z,R)=>{const F=V(()=>s(o(R)));var M=iA();M.__click=[tA,i,R],M.__keydown=[rA,i,R];var B=d(M),q=d(B),$=d(q),L=d($),ne=d(L),Y=p(L,2),W=d(Y),X=p(Y,2);{var N=De=>{var xe=nA(),Ce=d(xe);P(()=>O(Ce,`- ${o(R).versionLabel??""}`)),v(De,xe)};D(X,De=>{o(R).versionLabel&&De(N)})}var ie=p($,2),re=d(ie);{var le=De=>{var xe=aA(),Ce=d(xe);Ut(Ce,{class:"h-3 w-3"});var Ie=p(Ce,2),Pe=d(Ie);P(()=>O(Pe,`${o(R).plate??""} pers`)),v(De,xe)};D(re,De=>{o(R).plate&&De(le)})}var ue=p(re,2),se=d(ue),de=d(se),fe=p(ie,2);{var be=De=>{var xe=sA();v(De,xe)};D(fe,De=>{o(R).draft&&De(be)})}var ye=p(B,2);Ei(ye,{class:"mt-1 h-4 w-4 flex-shrink-0 opacity-40"}),P(De=>{dt(ne,"href",`/icons/sprite.svg#${o(F).iconId}`),O(W,o(R).title),O(de,`AjoutÃ© ${De??""}`)},[()=>a(o(R))]),v(Z,M)}),v(J,K)};D(T,J=>{o(t).length>0&&J(j)})}var U=p(T,2);{var G=J=>{var K=uA();v(J,K)};D(U,J=>{o(t).length>0&&J(G)})}var Q=p(U,2);ze(Q,21,()=>o(n),J=>J.$id,(J,K)=>{const te=V(()=>s(o(K)));var Z=pA();Z.__click=[lA,i,K],Z.__keydown=[cA,i,K];var R=d(Z),F=d(R),M=d(F),B=d(M),q=d(B),$=p(B,2),L=d($),ne=p($,2);{var Y=fe=>{var be=dA(),ye=d(be);P(()=>O(ye,`- ${o(K).versionLabel??""}`)),v(fe,be)};D(ne,fe=>{o(K).versionLabel&&fe(Y)})}var W=p(M,2),X=d(W);{var N=fe=>{var be=fA(),ye=d(be);Ut(ye,{class:"h-3 w-3"});var De=p(ye,2),xe=d(De);P(()=>O(xe,`${o(K).plate??""} pers`)),v(fe,be)};D(X,fe=>{o(K).plate&&fe(N)})}var ie=p(X,2),re=d(ie),le=d(re),ue=p(W,2);{var se=fe=>{var be=hA();v(fe,be)};D(ue,fe=>{o(K).draft&&fe(se)})}var de=p(R,2);Ei(de,{class:"mt-1 h-4 w-4 flex-shrink-0 opacity-40"}),P(fe=>{dt(q,"href",`/icons/sprite.svg#${o(te).iconId}`),O(L,o(K).title),O(le,`AjoutÃ© ${fe??""}`)},[()=>a(o(K))]),v(J,Z)});var ee=p(Q,2),oe=d(ee);oe.__click=[wm];var H=d(oe);oo(H,{class:"mr-2 h-4 w-4"}),v(E,I)};D(S,E=>{o(n).length===0?E(A):E(C,!1)},!0)}v(x,k)};D(g,x=>{jt.error?x(b):x(y,!1)})}v(r,u),ve()}tt(["click","keydown"]);tt(["click"]);var bA=(r,e)=>{(r.key==="Enter"||r.key===" ")&&e()},_A=_("<span> </span>"),yA=_('<div class="flex flex-wrap gap-1"></div>'),xA=_('<div class="flex items-center gap-1"><!> <span> </span></div>'),wA=_('<div class="badge badge-warning badge-xs">VerrouillÃ©</div>'),kA=_('<div role="button" tabindex="0"><div class="min-w-0 flex-1"><div class="flex flex-wrap items-center gap-x-10 gap-y-2"><div class="text-primary flex items-center gap-2"><!> <div class="truncate text-sm font-medium"> </div></div>  <!> <div class="text-base-content/50 me-4 flex items-center gap-3 text-xs"><div class="flex items-center gap-1"><!> <span> </span></div> <!></div> <!></div></div> <!></div>');function H2(r,e){pe(e,!0);let t=ke(e,"highlightedTags",19,()=>[]),n=ke(e,"bgClass",3,"bg-base-200/60");function a(){ct(`/editdocument/${e.teamId}/${e.doc.$id}`)}var s=kA();s.__click=a,s.__keydown=[bA,a];var i=d(s),u=d(i),l=d(u),c=d(l);Ro(c,{class:"h-4 w-4 flex-shrink-0"});var f=p(c,2),h=d(f),m=p(l,2);{var g=j=>{var U=yA();ze(U,21,()=>e.doc.tags,bt,(G,Q)=>{var ee=_A();let oe;var H=d(ee);P(J=>{oe=_e(ee,1,"badge badge-outline badge-xs",null,oe,J),O(H,`#${o(Q)??""}`)},[()=>({"badge-primary":t().includes(o(Q))})]),v(G,ee)}),v(j,U)};D(m,j=>{e.doc.tags&&e.doc.tags.length>0&&j(g)})}var b=p(m,2),y=d(b),x=d(y);fr(x,{class:"h-3 w-3"});var k=p(x,2),S=d(k),A=p(y,2);{var C=j=>{var U=xA(),G=d(U);Oa(G,{class:"h-3 w-3"});var Q=p(G,2),ee=d(Q);P(oe=>O(ee,`ModifiÃ© ${oe??""}`),[()=>Eh(e.doc.$updatedAt)]),v(j,U)};D(A,j=>{e.doc.$updatedAt&&e.doc.$updatedAt!==e.doc.$createdAt&&j(C)})}var E=p(b,2);{var I=j=>{var U=wA();v(j,U)};D(E,j=>{e.doc.lockedBy&&j(I)})}var T=p(i,2);Ei(T,{class:"mt-1 h-4 w-4 flex-shrink-0 opacity-40"}),P(j=>{_e(s,1,`${n()??""} hover:bg-base-200 flex cursor-pointer items-start gap-3 rounded-lg p-4 transition-colors hover:shadow-sm`),O(h,e.doc.title),O(S,`CrÃ©e le ${j??""}`)},[()=>Eh(e.doc.$createdAt)]),v(r,s),ve()}tt(["click","keydown"]);function EA(r,e){ct(`/documents/${e.teamId}`)}function SA(r,e){ct(`/createdocument/${e.teamId}/new`)}var AA=_('<div class="py-6 text-center"><span class="loading loading-spinner loading-md text-primary"></span> <p class="text-base-content/60 mt-2 text-sm">Chargement...</p></div>'),DA=_('<div class="py-6 text-center"><div class="text-error mb-2"><svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg></div> <p class="text-base-content/60 text-sm">Erreur de chargement des documents</p></div>'),CA=_('<div class="py-6 text-center"><!> <p class="text-base-content/60 mb-4 text-sm">Aucun document</p></div>'),IA=_('<div class="space-y-2"></div>'),TA=_('<div class="card bg-base-100 card-sm border-neutral/20 border shadow-sm"><div class="card-body"><div class="flex flex-wrap items-center justify-between"><h2 class="card-title flex items-center gap-2"><!> Documents rÃ©cents</h2> <button class="btn btn-sm" title="Voir tous les documents">Voir tout <!></button></div> <!> <div class="card-actions mt-4 justify-end pt-4"><button class="btn btn-primary btn-soft btn-sm"><!> CrÃ©er un document</button></div></div></div>');function MA(r,e){pe(e,!0);const t=V(()=>ar.isInitialized?ar.getTeamDocuments(e.teamId).sort((x,k)=>{const S=x.$updatedAt?new Date(x.$updatedAt).getTime():0;return(k.$updatedAt?new Date(k.$updatedAt).getTime():0)-S}).slice(0,5):[]);var n=TA(),a=d(n),s=d(a),i=d(s),u=d(i);Ro(u,{class:"text-primary h-5 w-5"});var l=p(i,2);l.__click=[EA,e];var c=p(d(l));l2(c,{size:16});var f=p(s,2);{var h=x=>{var k=AA();v(x,k)},m=x=>{var k=ce(),S=z(k);{var A=E=>{var I=DA();v(E,I)},C=E=>{var I=ce(),T=z(I);{var j=G=>{var Q=CA(),ee=d(Q);OE(ee,{size:32,class:"text-base-content/20 mx-auto mb-3"}),v(G,Q)},U=G=>{var Q=IA();ze(Q,21,()=>o(t),ee=>ee.$id,(ee,oe)=>{H2(ee,{get doc(){return o(oe)},get teamId(){return e.teamId}})}),v(G,Q)};D(T,G=>{o(t).length===0?G(j):G(U,!1)},!0)}v(E,I)};D(S,E=>{ar.error?E(A):E(C,!1)},!0)}v(x,k)};D(f,x=>{ar.loading?x(h):x(m,!1)})}var g=p(f,2),b=d(g);b.__click=[SA,e];var y=d(b);Zt(y,{class:"h-4 w-4"}),v(r,n),ve()}tt(["click"]);function RA(r,e,t){w(e,"members"),w(t,!0)}function NA(r,e,t){w(e,"invitations"),w(t,!0)}function PA(r,e){ct(`/dashboard/eventCreate?teamId=${e.team.$id}`)}function $A(r,e){ct(`/dashboard/materiel/${e.team.$id}`)}function LA(r,e){ct(`/dashboard/loans/${e.team.$id}`)}function OA(){ct("/eventList")}var BA=_('<div class="badge badge-soft badge-secondary gap-1"><!> </div>'),FA=_('<div class="fieldset-legend">RÃ©cents</div> <!>',1),zA=_(`<div class="card bg-base-100 border-base-200 border shadow-xl"><div class="card-body gap-4"><div class="flex items-start justify-between gap-2"><div class="flex items-center gap-2"><!> <h2 class="text-xl font-bold"> </h2> <!></div> <button class="btn btn-circle btn-ghost" title="ParamÃ¨tres de l'Ã©quipe"><!></button></div> <div class="grid grid-cols-1 gap-4 md:grid-cols-2"><div class="card card-sm border-neutral/20 shoadow-sm self-start border"><div class="card-body"><div class="flex flex-wrap items-center justify-between gap-2 text-sm"><div class=" flex items-center gap-2"><!> <span class="text-base-content/70"> </span></div> <div class="ms-auto flex items-center gap-4"><div class="badge badge-primary badge-lg badge-outline ml-auto"> </div> <button class="btn btn-sm btn-accent"><!> Inviter</button></div></div></div></div> <div class="card border-neutral/20 card-sm flex w-full justify-center border shadow-sm"><div class="card-body"><div class="card card-sm bg-base-300"><div class="card-body text-center"><p class="font-semibold">GÃ©rez le matÃ©riel collectif de cantine :</p> <p>inventaire, gestion des emprunt, partage, etc.</p></div></div> <fieldset class="fieldset w-48"><div class="flex justify-around gap-2"><button class="btn btn-primary btn-soft btn-wide"><!> Inventaire</button> <button class="btn btn-primary btn-soft btn-wide"><!> RÃ©servations</button></div></fieldset></div></div></div> <div class="card grid grid-cols-1 gap-6 text-sm md:grid-cols-2"><div class="card card-sm border-neutral/20 border shadow-sm"><div class="card-body"><div class="flex flex-wrap justify-between gap-2"><div class="card-title items-center"><!> ÃvÃ©nements</div> <button class="btn btn-sm">Voir les Ã©vÃ©nements passÃ©s <!></button></div> <!> <!> <div class="card-actions mt-auto items-center justify-end"><button class="btn btn-primary btn-soft btn-sm ml-auto"><!> CrÃ©er un Ã©vÃ©nement</button></div></div></div> <div><!></div></div> <div class="flex justify-center"></div></div></div> <!>`,1);function qA(r,e){pe(e,!0);let t=ke(e,"loading",3,!1),n=ae(!1),a=ae("");const s=V(()=>{const Te=e.team.prefs||{};return Te.city||Te.location||Te.region||null}),i=V(()=>e.team.members||[]),u=V(()=>At.getTeamMemberNames(e.team.$id)),l=V(()=>o(u).length<=20?o(u).join(", "):`${o(u).slice(0,20).join(", ")} +${o(u).length-20}`),c=V(()=>e.allEvents.filter(Te=>Te.teamsId?.includes(e.team.$id)||Te.teams?.includes(e.team.name))),f=V(()=>{const Te=new Date;return Te.setHours(0,0,0,0),o(c).filter(he=>(he.dateEnd?new Date(he.dateEnd):new Date(he.dateStart))>=Te)}),h=V(()=>{const Te=new Date;return Te.setHours(0,0,0,0),o(c).filter(he=>(he.dateEnd?new Date(he.dateEnd):new Date(he.dateStart))<Te).slice(0,3)});var m=zA(),g=z(m),b=d(g),y=d(b),x=d(y),k=d(x);Ut(k,{class:"text-primary h-5 w-5 flex-shrink-0"});var S=p(k,2),A=d(S),C=p(S,2);{var E=Te=>{var he=BA(),Se=d(he);qi(Se,{class:"h-3 w-3"});var Ae=p(Se);P(()=>O(Ae,` ${o(s)??""}`)),v(Te,he)};D(C,Te=>{o(s)&&Te(E)})}var I=p(x,2);I.__click=[RA,a,n];var T=d(I);Op(T,{});var j=p(y,2),U=d(j),G=d(U),Q=d(G),ee=d(Q),oe=d(ee);Ut(oe,{class:"inline size-5 shrink-0 opacity-70"});var H=p(oe,2),J=d(H),K=p(ee,2),te=d(K),Z=d(te),R=p(te,2);R.__click=[NA,a,n];var F=d(R);Zt(F,{class:"h-4 w-4"});var M=p(U,2),B=d(M),q=p(d(B),2),$=d(q),L=d($);L.__click=[$A,e];var ne=d(L);QE(ne,{class:"size-4"});var Y=p(L,2);Y.__click=[LA,e];var W=d(Y);XE(W,{class:"size-4"});var X=p(j,2),N=d(X),ie=d(N),re=d(ie),le=d(re),ue=d(le);fr(ue,{class:"text-primary inline size-5"});var se=p(le,2);se.__click=[OA];var de=p(d(se));Ei(de,{class:"ml-2 h-4 w-4"});var fe=p(re,2);xm(fe,{get events(){return o(f)},get loading(){return t()},cardClass:"border-l-4 border-accent"});var be=p(fe,2);{var ye=Te=>{var he=FA(),Se=p(z(he),2);xm(Se,{get events(){return o(h)},get loading(){return t()}}),v(Te,he)};D(be,Te=>{o(h).length>0&&Te(ye)})}var De=p(be,2),xe=d(De);xe.__click=[PA,e];var Ce=d(xe);Zt(Ce,{class:"h-4 w-4"});var Ie=p(N,2),Pe=d(Ie);MA(Pe,{get teamId(){return e.team.$id}});var Be=p(g,2);{var He=Te=>{O2(Te,{get teamId(){return e.team.$id},onClose:()=>w(n,!1),get initialTab(){return o(a)}})};D(Be,Te=>{o(n)&&Te(He)})}P(()=>{O(A,e.team.name),O(J,o(l)),O(Z,`${o(i).length??""} membre${o(i).length>1?"s":""}`)}),v(r,m),ve()}tt(["click"]);const jA=r=>{var e=VA(),t=d(e);t.__click=[HA];var n=d(t);Zt(n,{class:"h-4 w-4"});var a=p(t,2);a.__click=[UA];var s=d(a);Zt(s,{class:"h-4 w-4"}),v(r,e)};var HA=()=>ct("/dashboard/eventCreate"),UA=()=>ct("/recipe/new"),VA=_('<div class="flex gap-2"><button class="btn btn-primary"><!> CrÃ©er un ÃvÃ©nement</button> <button class="btn btn-primary"><!> CrÃ©er une Recette</button></div>'),WA=()=>{},QA=_('<div class="bg-base-100 border-base-200 rounded-xl border p-8 text-center shadow-sm"><!> <h2 class="mb-2 text-xl font-semibold">Connectez-vous pour accÃ©der Ã  votre tableau de bord</h2> <p class="text-base-content/60 mb-6">Connectez-vous pour voir vos Ã©quipes, Ã©vÃ©nements et recettes.</p> <button class="btn btn-primary">Se connecter</button></div>'),GA=_('<div class="alert alert-error shadow-lg"><span> </span></div>'),KA=(r,e)=>w(e,!0),JA=_('<section class="bg-base-200 py-8"><div class="container mx-auto px-4"><div class="tiems-center mb-4 flex justify-between gap-4"><div class="mb-6 text-2xl font-bold">Vos Ãquipes</div> <div class="card-actions mt-4"><button class="btn btn-primary btn-sm ms-auto"><!> CrÃ©er une Ã©quipe</button></div></div> <div class="grid grid-cols-1 gap-6"></div></div></section>'),ZA=_('<!> <div class="card bg-base-100 border-base-200 border shadow-xl"><div class="card-body"><!></div></div>',1),YA=_('<div class="bg-base-200 min-h-screen"><div class="mx-auto max-w-7xl px-4 pt-8 sm:px-6 lg:px-8"><div class="flex flex-col"><h2 class="text-base-content text-xl font-bold"> </h2></div></div> <div class="mx-auto max-w-7xl px-4 py-8"><!></div></div> <!>',1);function XA(r,e){pe(e,!0);let t=ae(!1);st(()=>{Fp(),Od()});function n(y){w(t,!1)}st(()=>{St.setConfig({title:"Dashboard",actions:jA})}),Ir(()=>{St.reset()});var a=YA(),s=z(a),i=d(s),u=d(i),l=d(u),c=d(l),f=p(i,2),h=d(f);{var m=y=>{var x=QA(),k=d(x);Op(k,{class:"mx-auto mb-4 h-16 w-16 opacity-20"});var S=p(k,6);S.__click=[WA],v(y,x)},g=y=>{var x=ce(),k=z(x);{var S=C=>{var E=GA(),I=d(E),T=d(I);P(()=>O(T,Nt.error||At.error||"Une erreur est survenue")),v(C,E)},A=C=>{var E=ZA(),I=z(E);{var T=Q=>{var ee=JA(),oe=d(ee),H=d(oe),J=p(d(H),2),K=d(J);K.__click=[KA,t];var te=d(K);Zt(te,{class:"size-4"});var Z=p(H,2);ze(Z,20,()=>Ee.userTeams,R=>R,(R,F)=>{const M=V(()=>At.getTeamById(F));var B=ce(),q=z(B);{var $=L=>{qA(L,{get team(){return o(M)},get allEvents(){return Nt.events},get loading(){return Nt.loading}})};D(q,L=>{o(M)&&L($)})}v(R,B)}),v(Q,ee)};D(I,Q=>{Ee.userTeams.length>0&&Q(T)})}var j=p(I,2),U=d(j),G=d(U);gA(G,{}),v(C,E)};D(k,C=>{Nt.error||At.error?C(S):C(A,!1)},!0)}v(y,x)};D(h,y=>{Ee.isAuthenticated?y(g,!1):y(m)})}var b=p(s,2);B2(b,{get isOpen(){return o(t)},onClose:()=>w(t,!1),onSuccess:n}),P(()=>O(c,`Bienvenue, ${(Ee.user?.name||"")??""}`)),v(r,a),ve()}tt(["click"]);function U2(r){return e=>{const t=e;r.shouldFocus&&requestAnimationFrame(()=>{t.focus()});const n=a=>{(a.key==="Enter"||a.key==="Tab")&&t instanceof HTMLInputElement&&t.value.trim()===""&&(a.preventDefault(),r.onEmptySubmit?.())};return t.addEventListener("keydown",n),()=>{t.removeEventListener("keydown",n)}}}function eD(r,e,t,n){o(e)?t():n()}function tD(r,e,t,n,a,s,i,u,l,c,f){if(r.key==="Escape"){r.preventDefault(),e();return}if(!o(t)||!o(n).length){r.key==="Enter"&&o(a).trim().length>1&&!o(s)&&(r.preventDefault(),i());return}r.key==="ArrowDown"?(r.preventDefault(),w(u,o(u)+1),l()):r.key==="ArrowUp"?(r.preventDefault(),w(u,o(u)-1),l()):r.key==="Enter"&&o(c)>=0&&(r.preventDefault(),f(o(n)[o(c)]))}var rD=(r,e,t)=>e(o(t)),nD=_('<span class="text-base-content/70 text-xs font-normal"> </span>'),aD=_('<span class="badge badge-ghost badge-sm text-xs opacity-70">brouillon</span>'),sD=_('<button type="button" role="option"><div class="bg-base-200 rounded p-1"><!></div> <div class="flex min-w-0 flex-1 flex-wrap items-center gap-2"><span class="truncate text-sm font-medium"> </span> <!> <!></div></button>'),iD=_('<div id="recipes-list" class="border-base-300 bg-base-100 absolute z-50 mt-1 max-h-60 w-full overflow-auto rounded-lg border shadow-lg" role="listbox"></div>'),oD=_('<div class="mt-2"><div class="relative"><div class="input flex w-full items-center gap-2 pr-10"><!> <input type="text" placeholder="Rechercher une recette..." class="w-full bg-transparent outline-none" autocomplete="off" role="combobox" aria-controls="recipes-list"/> <!></div> <button type="button" class="btn btn-ghost btn-sm absolute top-1/2 right-1 -translate-y-1/2"><!></button> <!></div></div>'),uD=_('<div class="card bg-base-100 border-base-300 border shadow-sm"><div class="card-body gap-3 p-3"><div class="flex items-center justify-between"><h4 class="flex items-center gap-2 font-bold"><!> Ajouter une recette</h4></div> <!></div></div>');function lD(r,e){pe(e,!0);let t=ke(e,"defaultPlates",3,4),n=ke(e,"autoFocus",3,!1),a=ke(e,"disabled",3,!1),s=ae(""),i=ae(void 0),u=ae(ot(t())),l=ae(null),c=!1,f=ae(0),h=ae(!1),m=ae(void 0),g=ae(void 0),b=V(()=>o(h)&&!o(s).trim()?jt.getAllRecipes():o(s).trim().length<2?[]:jt.searchRecipes(o(s))),y=V(()=>o(b).length>0),x=V(()=>o(y)||o(h)),k=V(()=>o(b).length>0?o(f)===-1?0:o(f)%o(b).length:-1);st(()=>{if(o(x)){const H=J=>{o(m)&&!o(m).contains(J.target)&&C()};return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}}});function S(){w(l,null),w(s,""),w(u,t()),w(f,0),w(h,!1)}function A(){w(h,!0),w(s,""),w(f,0)}function C(){w(h,!1),w(s,""),w(f,0)}function E(H){w(l,H,!0);const J=H.typeR;w(i,o(i)?o(i):J,!0),e.onSelect(H,o(i),o(u)),S()}function I(){if(o(k)>=0&&o(g)){const H=o(g).querySelector(`#recipe-${o(k)}`);H&&H.scrollIntoView({block:"nearest"})}}var T=uD(),j=d(T),U=d(j),G=d(U),Q=d(G);Zt(Q,{class:"text-primary h-4 w-4"});var ee=p(U,2);{var oe=H=>{var J=oD(),K=d(J),te=d(K),Z=d(te);Po(Z,{class:"h-4 w-4 opacity-50"});var R=p(Z,2);R.__keydown=[tD,C,x,b,s,h,A,f,I,k,E],_p(R,()=>U2({shouldFocus:n(),onEmptySubmit:e.onEmptySubmit}));var F=p(R,2);D(F,L=>{});var M=p(te,2);M.__click=[eD,x,C,A];var B=d(M);{let L=V(()=>o(x)?"rotate-180":"");il(B,{get class(){return`h-4 w-4 transition-transform ${o(L)??""}`}})}var q=p(M,2);{var $=L=>{var ne=iD();ze(ne,23,()=>o(b),Y=>Y.$id,(Y,W,X)=>{var N=sD();N.__click=[rD,E,W],N.disabled=c;var ie=d(N),re=d(ie);Jr(re,{class:"h-4 w-4 opacity-70"});var le=p(ie,2),ue=d(le),se=d(ue),de=p(ue,2);{var fe=De=>{var xe=nD(),Ce=d(xe);P(()=>O(Ce,`(${o(W).versionLabel??""})`)),v(De,xe)};D(de,De=>{o(W).versionLabel&&De(fe)})}var be=p(de,2);{var ye=De=>{var xe=aD();v(De,xe)};D(be,De=>{o(W).draft&&De(ye)})}P(()=>{dt(N,"id",`recipe-${o(X)??""}`),_e(N,1,`hover:bg-base-200 flex w-full items-center gap-2 px-4 py-3 text-left hover:cursor-pointer ${o(X)===o(k)?"bg-base-200":""}`),dt(N,"aria-selected",o(X)===o(k)),O(se,o(W).title)}),_t("mouseenter",N,()=>w(f,o(X),!0)),v(Y,N)}),xn(ne,Y=>w(g,Y),()=>o(g)),v(L,ne)};D(q,L=>{o(x)&&o(b).length>0&&L($)})}xn(J,L=>w(m,L),()=>o(m)),P(()=>{R.disabled=a(),dt(R,"aria-expanded",o(x)),dt(R,"aria-activedescendant",o(x)?`recipe-${o(k)}`:void 0),M.disabled=a(),dt(M,"aria-label",o(x)?"Fermer le menu":"Ouvrir le menu")}),ft(R,()=>o(s),L=>w(s,L)),v(H,J)};D(ee,H=>{o(l)||H(oe)})}v(r,T),ve()}tt(["keydown","click"]);var cD=_("<fieldset><legend><!> </legend> <!></fieldset>");function Gt(r,e){let t=ke(e,"bgClass",3,"bg-base-100"),n=ke(e,"legendSize",3,"text-base"),a=ke(e,"iconSize",3,16);var s=cD(),i=d(s),u=d(i);{var l=h=>{const m=V(()=>e.iconComponent);var g=ce(),b=z(g);qt(b,()=>o(m),(y,x)=>{x(y,{get size(){return a()},class:"mr-1"})}),v(h,g)};D(u,h=>{e.iconComponent&&h(l)})}var c=p(u),f=p(i,2);ge(f,()=>e.children??me),P(()=>{_e(s,1,`fieldset ${t()??""} border-base-300 rounded-box border p-4`),_e(i,1,`fieldset-legend ${t()??""} rounded-box text-base-content/80 px-4 py-1 print:text-sm ${n()??""}`),O(c,` ${e.legend??""}`)}),v(r,s)}function dD(r){const e=r-1;return e*e*e+1}function Up(r,{from:e,to:t},n={}){var{delay:a=0,duration:s=I=>Math.sqrt(I)*120,easing:i=dD}=n,u=getComputedStyle(r),l=u.transform==="none"?"":u.transform,[c,f]=u.transformOrigin.split(" ").map(parseFloat);c/=r.clientWidth,f/=r.clientHeight;var h=fD(r),m=r.clientWidth/t.width/h,g=r.clientHeight/t.height/h,b=e.left+e.width*c,y=e.top+e.height*f,x=t.left+t.width*c,k=t.top+t.height*f,S=(b-x)*m,A=(y-k)*g,C=e.width/t.width,E=e.height/t.height;return{delay:a,duration:typeof s=="function"?s(Math.sqrt(S*S+A*A)):s,easing:i,css:(I,T)=>{var j=T*S,U=T*A,G=I+T*C,Q=I+T*E;return`transform: ${l} translate(${j}px, ${U}px) scale(${G}, ${Q});`}}}function fD(r){if("currentCSSZoom"in r)return r.currentCSSZoom;for(var e=r,t=1;e!==null;)t*=+getComputedStyle(e).zoom,e=e.parentElement;return t}var hD=(r,e,t)=>{(r.key==="Enter"||r.key===" ")&&!e()&&t()},pD=(r,e)=>{e(!1)},vD=_(`<button class="btn btn-ghost text-primary" title="Terminer l'Ã©dition">valider</button> <button class="btn btn-ghost btn-square text-error" title="Supprimer"><!></button>`,1),mD=(r,e,t)=>{e(!0),t.onEditToggle&&t.onEditToggle()},gD=_('<button class="btn btn-ghost" title="Ãditer"><!></button>'),bD=(r,e,t)=>e({newDate:o(t)}),_D=_('<p class="text-error mt-1 text-xs">Cette date/heure est dÃ©jÃ  utilisÃ©e</p>'),yD=(r,e,t)=>e({newMoment:o(t)}),xD=_('<span class="text-error ms-2 text-sm font-normal">(Recette introuvable)</span>'),wD=(r,e,t,n)=>{e[t(o(n).recipeUuid)]=!1},kD=(r,e,t,n,a)=>{e[t(o(n).recipeUuid)]=!1,o(n).hasOwnPlatesNb=!1,o(n).plates=a().guests},ED=_('<div class="ring-base-300 flex items-center gap-1 rounded-xl p-1 ring-1"><div class="input w-28"><!> <input type="number" class="w-full text-center" min="1"/></div> <button class="btn btn-sm btn-circle me-1" title="Valider"><!></button> <button class="btn btn-sm btn-circle"><!></button></div>'),SD=(r,e,t,n)=>{const a=e(o(t).recipeUuid);n[a]=!0,o(t).hasOwnPlatesNb=!0},AD=_('<button title="Ãditer les couverts"><span class="font-normal"> </span> <!></button>'),DD=(r,e,t)=>e(o(t).recipeUuid),CD=_('<div><div class="flex flex-1 items-center gap-2"><div><!></div> <div class="min-w-56 flex-1"><div class="font-medium"> <!></div></div></div> <div class="me-10 flex items-center gap-2"><select class="select w-24"><option>EntrÃ©e</option><option>Plat</option><option>Dessert</option><option>Autre</option></select> <!></div> <div class="ms-auto"><button class="btn btn-ghost btn-sm btn-square text-error" title="Retirer la recette"><!></button></div></div>'),ID=_('<div class="mb-4 space-y-2"></div>'),TD=_('<div class="mt-2 space-y-4"><div class="grid grid-cols-1 gap-4 md:grid-cols-3"><fieldset><label><span class="label">Date</span> <input type="date" class="w-full"/></label> <!></fieldset> <label class="select"><span class="label">Moment</span> <select><option disabled selected>Choisir un moment</option><option>Matin</option><option>Midi</option><option>Soir</option></select></label> <div><label class="input"><span class="label"><!> Couverts</span> <input type="number" class="w-full" min="1"/></label> <p class="text-base-content/60 pl-2 text-xs">Peut etre modifiÃ© individuellement pour chaque recette</p></div></div> <div class="space-y-2"><div class="flex items-center justify-between"><h4 class="flex items-center gap-2 font-semibold"><!> Recettes</h4></div> <!> <!></div></div>'),MD=_('<div><!> <span> </span> <span class="badge badge-sm badge-outline font-normal"> <!></span></div>'),RD=_('<div class="flex flex-wrap gap-2"></div>'),ND=_('<p class="text-base-content/60 text-sm italic">Aucune recette</p>'),PD=_('<div class="space-y-2"><!></div>'),$D=_('<div role="button"><div class="card-body p-4"><div class="mb-2 flex items-start justify-between"><div class="flex flex-wrap items-center gap-2"><span> </span> <div><!> <div> </div></div> <div class="text-base-content/80 flex items-center gap-1 font-bold"><!> </div></div> <div class="flex gap-1"><!></div></div> <!></div></div>');function V2(r,e){pe(e,!0);let t=ke(e,"meal",15),n=ke(e,"defaultGuests",3,100),a=ke(e,"isEditing",15,!1),s=ke(e,"allDates",19,()=>[]),i=ke(e,"disabled",3,!1);st(()=>{i()&&a()&&a(!1)});let u=!1;t().guests||t(t().guests=n(),!0),t().recipes||t(t().recipes=[],!0);let l=V(()=>rs(t().date||"")),c=ae(ot(F2(t().date||""))),f=ae(ot(rs(t().date||""))),h=V(()=>o(f)?C8(o(c),o(f)):""),m=V(()=>t().date?s().filter(ie=>ie===t().date).length>1:!1);function g({newDate:N="",newMoment:ie=""}){t().date,(N||ie)&&t(t().date=o(h),!0)}const b=V(()=>{const N=o(l)||"";return N==="matin"?RE:N==="midi"?$d:Mu}),y={entree:1,plat:2,dessert:3,autre:4};function x(N){return[...N].sort((ie,re)=>{const le=y[ie.typeR],ue=y[re.typeR];return le-ue})}st(()=>{const N=x(t().recipes);t().recipes.some((re,le)=>re.recipeUuid!==N[le]?.recipeUuid)&&ta(()=>{t(t().recipes=N,!0)})});let k=ot({});function S(N){return`${t().id}-${N}`}st(()=>{t().recipes.forEach(N=>{const ie=S(N.recipeUuid);k[ie]===void 0&&(k[ie]=!1)})}),st(()=>{const N=t().guests;t().recipes.forEach(ie=>{!ie.hasOwnPlatesNb&&!k[S(ie.recipeUuid)]&&ie.plates!==N&&ta(()=>{ie.plates=N})})});function A(N){if(t().recipes.some(le=>le.recipeUuid===N.$id))return;const re={recipeUuid:N.$id,plates:t().guests,typeR:N.typeR,hasOwnPlatesNb:!1};t(t().recipes=[...t().recipes,{...re}],!0)}function C(N){t(t().recipes=t().recipes.filter(ie=>ie.recipeUuid!==N),!0)}function E(N){return jt.getRecipeIndexByUuid(N)}function I(N){return N.split("_")[0]}function T(N){return!E(N)}function j(){i()||a()&&e.onEditToggle||!a()&&e.onEditToggle&&e.onEditToggle()}function U(N,ie=!1){return ie?"badge-error":N==="entree"?"bg-lime-100 border-lime-200":N==="plat"?"bg-orange-100 border-orange-200":N==="dessert"?"bg-pink-100 border-pink-200":N==="autre"?"bg-purple-100 border-purple-200":"bg-base-200"}var G=$D();G.__click=j,G.__keydown=[hD,a,j];var Q=d(G),ee=d(Q),oe=d(ee),H=d(oe),J=d(H),K=p(H,2),te=d(K);qt(te,()=>o(b),(N,ie)=>{ie(N,{size:16})});var Z=p(te,2),R=d(Z),F=p(K,2),M=d(F);Ut(M,{class:"h-3 w-3"});var B=p(M),q=p(oe,2),$=d(q);{var L=N=>{var ie=vD(),re=z(ie);re.__click=[pD,a];var le=p(re,2);le.__click=function(...se){e.onDelete?.apply(this,se)};var ue=d(le);ji(ue,{class:"h-4 w-4"}),P(()=>{re.disabled=i(),le.disabled=i()}),v(N,ie)},ne=N=>{var ie=gD();ie.__click=[mD,a,e];var re=d(ie);js(re,{class:"h-4 w-4"}),P(()=>ie.disabled=i()),v(N,ie)};D($,N=>{a()?N(L):N(ne,!1)})}var Y=p(ee,2);{var W=N=>{var ie=TD(),re=d(ie),le=d(re),ue=d(le),se=p(d(ue),2);se.__change=[bD,g,c];var de=p(ue,2);{var fe=Re=>{var Je=_D();v(Re,Je)};D(de,Re=>{o(m)&&Re(fe)})}var be=p(le,2),ye=p(d(be),2);ye.__change=[yD,g,f];var De=d(ye);De.value=De.__value="";var xe=p(De);xe.value=xe.__value="matin";var Ce=p(xe);Ce.value=Ce.__value="midi";var Ie=p(Ce);Ie.value=Ie.__value="soir";var Pe=p(be,2),Be=d(Pe),He=d(Be),Te=d(He);nn(Te,{class:"text-base-content/50 me-1 h-4 w-4"});var he=p(He,2),Se=p(re,2),Ae=d(Se),$e=d(Ae),we=d($e);Jr(we,{class:"h-4 w-4"});var Oe=p(Ae,2);{var Le=Re=>{var Je=ID();ze(Je,31,()=>t().recipes,Ve=>Ve.recipeUuid,(Ve,Ge,We)=>{const qe=V(()=>E(o(Ge).recipeUuid)),et=V(()=>T(o(Ge).recipeUuid));var lt=CD(),pt=d(lt),Et=d(pt),kt=d(Et);Jr(kt,{class:"h-5 w-5"});var Ue=p(Et,2),Ye=d(Ue),at=d(Ye),gt=p(at);{var Ct=Qt=>{var mr=xD();v(Qt,mr)};D(gt,Qt=>{o(et)&&Qt(Ct)})}var $t=p(pt,2),Mt=d($t),Ot=d(Mt);Ot.value=Ot.__value="entree";var It=p(Ot);It.value=It.__value="plat";var Ft=p(It);Ft.value=Ft.__value="dessert";var pr=p(Ft);pr.value=pr.__value="autre";var vr=p(Mt,2);{var Wt=Qt=>{var mr=ED(),Yr=d(mr),mn=d(Yr);nn(mn,{class:"h-4 w-4 opacity-50"});var sa=p(mn,2),$r=p(Yr,2);$r.__click=[wD,k,S,Ge];var Xs=d($r);wr(Xs,{class:"text-success h-4 w-4"});var ei=p($r,2);ei.__click=[kD,k,S,Ge,t];var df=d(ei);KE(df,{class:"text-secondary h-4 w-4"}),P(()=>dt(ei,"title",`Revenir au nombre de couvert du repas (${t().guests??""})`)),ft(sa,()=>o(Ge).plates,zo=>o(Ge).plates=zo),v(Qt,mr)},Pr=Qt=>{var mr=AD();mr.__click=[SD,S,Ge,k];var Yr=d(mr),mn=d(Yr),sa=p(Yr,2);js(sa,{size:14,class:"text-base-content/70  ms-1"}),P(()=>{_e(mr,1,`btn ${o(Ge).hasOwnPlatesNb?"btn-soft btn-warning":"btn-ghost"}`),O(mn,`${o(Ge).plates??""}
                          pers.`)}),v(Qt,mr)};D(vr,Qt=>{k[S(o(Ge).recipeUuid)]?Qt(Wt):Qt(Pr,!1)})}var Ur=p($t,2),aa=d(Ur);aa.__click=[DD,C,Ge];var _a=d(aa);ir(_a,{class:"h-4 w-4"}),P((Qt,mr)=>{_e(lt,1,`bg-base-200 flex flex-wrap items-center gap-3 rounded-lg p-3 ${(o(et)&&"border-error border-2")??""}`),_e(Et,1,`${Qt??""} rounded-md border-2 p-2`),O(at,`${mr??""} `),aa.disabled=i()},[()=>U(o(Ge).typeR,o(et)),()=>o(qe)?.title||I(o(Ge).recipeUuid)]),$n(Mt,()=>o(Ge).typeR,Qt=>o(Ge).typeR=Qt),yp(lt,()=>Up,()=>({duration:200})),v(Ve,lt)}),v(Re,Je)};D(Oe,Re=>{t().recipes.length>=1&&Re(Le)})}var Ke=p(Oe,2);lD(Ke,{onSelect:A,get defaultPlates(){return t().guests},autoFocus:u,get onEmptySubmit(){return e.onEmptySearchSubmit},get disabled(){return i()}}),P(()=>{_e(ue,1,`input ${o(m)?"input-error":""}`),_e(ye,1,`w-full ${o(m)?"select-error":""}`)}),ft(se,()=>o(c),Re=>w(c,Re)),$n(ye,()=>o(f),Re=>w(f,Re)),ft(he,()=>t().guests,Re=>t(t().guests=Re,!0)),v(N,ie)},X=N=>{var ie=PD(),re=d(ie);{var le=se=>{var de=RD();ze(de,21,()=>t().recipes,fe=>fe.recipeUuid,(fe,be)=>{const ye=V(()=>E(o(be).recipeUuid)),De=V(()=>T(o(be).recipeUuid));var xe=MD(),Ce=d(xe);Jr(Ce,{class:"h-4 w-4"});var Ie=p(Ce,2),Pe=d(Ie),Be=p(Ie,2),He=d(Be),Te=p(He);nn(Te,{size:12}),P((he,Se)=>{_e(xe,1,`badge badge-lg ${he??""} h-auto gap-2 py-1 font-medium ${o(De)?"ring-error ring-1":""}`),O(Pe,Se),O(He,`${o(be).plates??""} `)},[()=>U(o(be).typeR,o(De)),()=>o(ye)?.title||I(o(be).recipeUuid)]),v(fe,xe)}),v(se,de)},ue=se=>{var de=ND();v(se,de)};D(re,se=>{t().recipes.length>0?se(le):se(ue,!1)})}v(N,ie)};D(Y,N=>{a()?N(W):N(X,!1)})}P((N,ie)=>{_e(G,1,`card bg-base-100 border-base-200 border shadow-sm transition-all hover:shadow-md ${a()?"ring-accent/40 ring-2":""} ${a()||i()?"":"hover:ring-accent/60 cursor-pointer hover:ring-2"} ${i()?"opacity-75":""}`),dt(G,"tabindex",a()||i()?-1:0),_e(H,1,`text-primary text-lg font-medium ${(o(m)&&"text-error")??""}`),O(J,N),_e(K,1,`font-base flex items-center gap-1 ${(o(m)&&"text-error")??""}`),O(R,ie),O(B,` ${t().guests??""} pers.`)},[()=>t().date?rn(t().date):"Date non dÃ©finie",()=>o(l)?o(l).toUpperCase():"REPAS"]),v(r,G),ve()}tt(["click","keydown","change"]);async function LD(r,e,t,n,a,s,i){if(!e()){rt.error("ID d'Ã©vÃ©nement manquant");return}const u=t.eventsStore.getEventById(e());if(!u)throw new Error("ÃvÃ©nement introuvable");const l=o(n).filter(f=>{const h=t.nativeTeamsStore.teams.find(m=>m.$id===f);return h?!u.teams?.includes(h.name):!1}),c=o(a).map(f=>f.email).filter(Boolean);if(l.length===0&&c.length===0){rt.warning("SÃ©lectionnez au moins une Ã©quipe ou entrez un email");return}try{await rt.track(t.eventsStore.inviteParticipants(e(),{teamIds:l,emails:c,sendEmailToExistingMembers:o(s)}),{loading:"Envoi des invitations en cours...",success:"invitation envoyÃ© avec succÃ¨s",error:"Erreur lors de l'envoi des invitations"}),w(i,!1),w(a,[],!0)}catch(f){console.error("Erreur lors de l'envoi des invitations:",f)}}var OD=_('<label class="input w-56"><span class="label">Minimum</span> <input type="number" min="1" class="grow" id="min-contrib-input"/></label>'),BD=(r,e)=>{w(e,!0),setTimeout(()=>{document.getElementById("min-contrib-input")?.focus()},50)},FD=_('<button class="btn justify-start"><div class="flex items-center gap-4"><span class="label">minimum</span> <span class="text-lg"> </span> <!></div></button>'),zD=_('<div class="badge badge-primary badge-soft badge-lg gap-2 p-3"><!> <span class="font-medium"> </span></div>'),qD=_('<fieldset class="fieldset"><legend class="legend">Ãquipes invitÃ©es</legend> <div class="flex flex-wrap gap-2"></div></fieldset>'),jD=_('<div class="badge badge-soft badge-success gap-2 p-3"><span class="font-medium"> </span></div>'),HD=_('<fieldset class="fieldset"><legend class="legend">Participant confirmÃ©</legend> <div class="flex flex-wrap gap-2"></div></fieldset>'),UD=_('<div class="badge badge-warning badge-soft gap-2 p-3"><span class="font-medium"> </span></div>'),VD=_('<fieldset class="fieldset"><legend class="text-base-content/70 text-sm font-medium">InvitÃ©Â·es</legend> <div class="flex flex-wrap gap-2"></div></fieldset>'),WD=(r,e)=>w(e,!0),QD=_('<div class="my-2"><button class="btn btn-primary btn-outline btn-block gap-1"><!> Inviter des participantÂ·es</button></div>'),GD=_('<fieldset class="fieldset mb-4"><!> <div class="fieldset-label ms-1">Combien faudrait-il Ãªtre pour tout gÃ©rer ?</div></fieldset> <div class="mb-6"><div class="space-y-4"><!> <!> <!></div></div> <!>',1),KD=(r,e)=>r.key==="Enter"&&e(),JD=_('<p class="text-error mt-1 text-xs"> </p>'),ZD=_("<p> </p>"),YD=_('<div class="badge badge-primary badge-soft badge-lg"><!> </div>'),XD=_('<div class="mb-4"><p class="mb-2 text-sm font-medium opacity-70">Ãquipes dÃ©jÃ  invitÃ©es :</p> <div class="flex flex-wrap gap-2"></div></div>'),eC=(r,e,t)=>e(o(t).$id),tC=_('<label class="hover:bg-secondary/20 bg-secondary/10 flex cursor-pointer items-center gap-3 rounded-lg px-4 py-2 transition-colors"><input type="checkbox" class="checkbox bg-base-100 checkbox-sm"/> <div class="flex flex-col"><span class="text-sm font-medium"> <span class="text-xs opacity-60"> </span></span> <div class="text-xs opacity-70"> </div></div></label>'),rC=_(`<label class="mt-4 cursor-pointer justify-center gap-4"><input type="checkbox" class="checkbox checkbox-sm"/> <span class="font-base ms-1">Envoyer un email de notification</span></label> <p class="text-base-content/60 mt-1 text-xs">Si dÃ©sactivÃ©, les membres auront accÃ¨s Ã  l'Ã©vÃ©nement mais ne
                recevront pas d'email. Les personnes invitÃ© n'ayant pas de
                compte recevront toujours un email de crÃ©ation de compte.</p>`,1),nC=_('<div class="flex flex-wrap gap-4"></div> <!>',1),aC=_('<p class="text-sm italic opacity-60">Toutes vos Ã©quipes sont dÃ©jÃ  invitÃ©es.</p>'),sC=_(`<p class="text-sm italic opacity-60">Vous ne faites partie d'aucune Ã©quipe. CrÃ©ez une Ã©quipe pour inviter
            plusieurs personnes.</p>`),iC=_(`<div class="space-y-6"><fieldset class="fieldset"><legend class="legend">Par email</legend> <div class="flex gap-2"><label class="input flex items-center gap-2"><!> <input type="email" class="grow" placeholder="email@exemple.com"/></label> <button class="btn btn-primary"><!> Ajouter</button></div> <!> <div></div></fieldset> <div class="divider">OU</div> <fieldset class="fieldset"><legend class="fieldset-legend"><!> Inviter des Ã©quipes
          entiÃ¨res</legend> <!> <!></fieldset></div>`),oC=_('<button class="btn">Annuler</button> <button class="btn btn-primary"><!> Inviter <!></button>',1),uC=_("<!> <!> <!>",1),lC=_("<!> <!>",1);function cC(r,e){pe(e,!0);let t=ke(e,"minContrib",15);ke(e,"userId",3,"");let n=ke(e,"eventId",3,""),a=ke(e,"onStartEdit",3,()=>{}),s=ae(ot([])),i=ae(ot([])),u=ae(!1),l=ae(!1),c=ae(!1);st(()=>{if(n()){const E=e.eventsStore.getEventById(n());if(E&&E.teams){const I=E.teams||[],T=[];for(const j of I){const U=e.nativeTeamsStore.teams.find(G=>G.name===j);U&&T.push(U.$id)}w(s,T,!0)}}}),st(()=>{o(l)?a()():w(i,[],!0)});let f=ae(""),h=ae(null),m=V(()=>e.contributors.filter(E=>E.status==="accepted")),g=V(()=>e.contributors.filter(E=>E.status==="invited"));function b(E){o(s).includes(E)?w(s,o(s).filter(I=>I!==E),!0):w(s,[...o(s),E],!0)}function y(){if(!o(f))return;const E=o(f).trim();if(e.contributors.some(T=>T.email===E)||o(i).some(T=>T.email===E)){w(h,"Cet email est dÃ©jÃ  invitÃ©.");return}w(h,null);const I={id:Bi(),email:E,status:"invited",invitedAt:new Date().toISOString()};w(i,[...o(i),I],!0),w(f,"")}function x(){w(l,!1),w(f,""),w(h,null)}let k=V(()=>()=>{if(!n())return[];const E=e.eventsStore.getEventById(n());return E?o(s).filter(I=>{const T=e.nativeTeamsStore.teams.find(j=>j.$id===I);return T?!E.teams?.includes(T.name):!1}):[]});var S=lC(),A=z(S);Gt(A,{legend:"Participants",children:(E,I)=>{var T=GD(),j=z(T),U=d(j);{var G=B=>{var q=OD(),$=p(d(q),2);$.defaultValue=1,P(()=>$.disabled=!e.canEdit),_t("focus",$,function(...L){a()?.apply(this,L)}),_t("blur",$,()=>w(c,!1)),ft($,t),v(B,q)},Q=B=>{var q=FD();q.__click=[BD,c];var $=d(q),L=p(d($),2),ne=d(L),Y=p(L,2);js(Y,{class:"h-4 w-4"}),P(()=>{q.disabled=!e.canEdit,O(ne,t()||1)}),v(B,q)};D(U,B=>{o(c)?B(G):B(Q,!1)})}var ee=p(j,2),oe=d(ee),H=d(oe);{var J=B=>{const q=V(()=>e.eventsStore.getEventById(n()));var $=ce(),L=z($);{var ne=Y=>{var W=qD(),X=p(d(W),2);ze(X,21,()=>o(q).teams,bt,(N,ie)=>{var re=zD(),le=d(re);Ut(le,{class:"inline size-4"});var ue=p(le,2),se=d(ue);P(()=>O(se,o(ie))),v(N,re)}),v(Y,W)};D(L,Y=>{o(q)&&o(q).teams&&o(q).teams.length>0&&Y(ne)})}v(B,$)};D(H,B=>{n()&&B(J)})}var K=p(H,2);{var te=B=>{var q=HD(),$=p(d(q),2);ze($,21,()=>o(m),L=>L.id,(L,ne)=>{var Y=jD(),W=d(Y),X=d(W);P(()=>O(X,o(ne).name||o(ne).email)),v(L,Y)}),v(B,q)};D(K,B=>{o(m).length>0&&B(te)})}var Z=p(K,2);{var R=B=>{var q=VD(),$=p(d(q),2);ze($,21,()=>o(g),L=>L.id,(L,ne)=>{var Y=UD(),W=d(Y),X=d(W);P(()=>O(X,o(ne).name||o(ne).email)),v(L,Y)}),v(B,q)};D(Z,B=>{o(g).length>0&&B(R)})}var F=p(ee,2);{var M=B=>{var q=QD(),$=d(q);$.__click=[WD,l];var L=d($);ll(L,{class:"mr-2 h-4 w-4"}),v(B,q)};D(F,B=>{n()&&B(M)})}v(E,T)},$$slots:{default:!0}});var C=p(A,2);on(C,{get isOpen(){return o(l)},onClose:x,children:(E,I)=>{var T=uC(),j=z(T);Hr(j,{title:"Inviter des participants",onClose:x});var U=p(j,2);Zr(U,{children:(Q,ee)=>{var oe=iC(),H=d(oe),J=p(d(H),2),K=d(J),te=d(K);Tu(te,{class:"h-4 w-4 opacity-70"});var Z=p(te,2);Z.__keydown=[KD,y];var R=p(K,2);R.__click=y;var F=d(R);Zt(F,{class:"h-4 w-4 opacity-70"});var M=p(J,2);{var B=re=>{var le=JD(),ue=d(le);P(()=>O(ue,o(h))),v(re,le)};D(M,re=>{o(h)&&re(B)})}var q=p(M,2);ze(q,21,()=>o(i),bt,(re,le)=>{var ue=ZD(),se=d(ue);P(()=>O(se,o(le).email)),v(re,ue)});var $=p(H,4),L=d($),ne=d(L);Ut(ne,{size:16,class:"inline shrink-0 opacity-60"});var Y=p(L,2);{var W=re=>{const le=V(()=>e.eventsStore.getEventById(n()));var ue=ce(),se=z(ue);{var de=fe=>{var be=XD(),ye=p(d(be),2);ze(ye,21,()=>o(le).teams,bt,(De,xe)=>{var Ce=YD(),Ie=d(Ce);Ut(Ie,{class:"inline size-4"});var Pe=p(Ie,1,!0);P(()=>O(Pe,o(xe))),v(De,Ce)}),v(fe,be)};D(se,fe=>{o(le)&&o(le).teams&&o(le).teams.length>0&&fe(de)})}v(re,ue)};D(Y,re=>{n()&&re(W)})}var X=p(Y,2);{var N=re=>{const le=V(()=>e.nativeTeamsStore.myTeams.filter(be=>{if(!n())return!0;const ye=e.eventsStore.getEventById(n());return!ye||!ye.teams?!0:!ye.teams.includes(be.name)}));var ue=ce(),se=z(ue);{var de=be=>{var ye=nC(),De=z(ye);ze(De,21,()=>o(le),bt,(Ie,Pe)=>{var Be=tC(),He=d(Be);He.__change=[eC,b,Pe];var Te=p(He,2),he=d(Te),Se=d(he),Ae=p(Se),$e=d(Ae),we=p(he,2),Oe=d(we);P((Le,Ke)=>{fa(He,Le),O(Se,`${o(Pe).name??""} `),O($e,`${o(Pe).total??""} membre${o(Pe).total>1?"s":""}`),O(Oe,Ke)},[()=>o(s).includes(o(Pe).$id),()=>e.nativeTeamsStore.getTeamMemberNames(o(Pe).$id).join(", ")]),v(Ie,Be)});var xe=p(De,2);{var Ce=Ie=>{var Pe=rC(),Be=z(Pe),He=d(Be);Xr(He,()=>o(u),Te=>w(u,Te)),v(Ie,Pe)};D(xe,Ie=>{o(s).length>0&&Ie(Ce)})}v(be,ye)},fe=be=>{var ye=aC();v(be,ye)};D(se,be=>{o(le).length>0?be(de):be(fe,!1)})}v(re,ue)},ie=re=>{var le=sC();v(re,le)};D(X,re=>{e.nativeTeamsStore.myTeams.length>0?re(N):re(ie,!1)})}P(()=>R.disabled=!o(f)),ft(Z,()=>o(f),re=>w(f,re)),v(Q,oe)}});var G=p(U,2);Sn(G,{children:(Q,ee)=>{var oe=oC(),H=z(oe);H.__click=x;var J=p(H,2);J.__click=[LD,n,e,s,i,u,l];var K=d(J);wr(K,{class:"mr-2 h-4 w-4"});var te=p(K,2);{var Z=R=>{var F=Pt();P(M=>O(F,`(${M??""})`),[()=>o(k)().length+o(i).length]),v(R,F)};D(te,R=>{(o(k)().length>0||o(i).length>0)&&R(Z)})}P(R=>J.disabled=R,[()=>o(i).length===0&&o(k)().length===0]),v(Q,oe)}}),v(E,T)},$$slots:{default:!0}}),v(r,S),ve()}tt(["click","keydown","change"]);var dC=(r,e)=>e.onRespond(!0),fC=_(`<div class="alert alert-info"><!> <div><h3 class="font-bold">Invitation Ã  participer</h3> <div class="text-xs">Vous avez Ã©tÃ© invitÃ© Ã  participer Ã  cet Ã©vÃ©nement. Acceptez pour
        pouvoir modifier le menu et les repas.</div></div> <div class="flex gap-2"><button class="btn">Accepter</button></div></div>`);function W2(r,e){pe(e,!0);const t=V(()=>{if(!e.currentEvent)return null;const u=Ee.userId||"";return e.currentEvent.contributors?.find(c=>c.id===u)?.status||null}),n=V(()=>o(t)==="invited");var a=ce(),s=z(a);{var i=u=>{var l=fC(),c=d(l);Ln(c,{class:"h-6 w-6 shrink-0"});var f=p(c,4),h=d(f);h.__click=[dC,e],P(()=>h.disabled=e.isBusy),v(u,l)};D(s,u=>{o(n)&&u(i)})}v(r,a),ve()}tt(["click"]);var hC=_('<div class="badge badge-error badge-lg flex cursor-help items-center gap-2"><!> <span> </span></div>'),pC=_('<div class="flex flex-wrap justify-end gap-2 font-medium"><div class="badge badge-soft badge-primary badge-lg flex items-center gap-2"><!> <span> </span></div> <div class="badge badge-soft badge-primary badge-lg flex items-center gap-2"><!> <span> </span></div> <div class="badge badge-soft badge-primary badge-lg flex items-center gap-2"><!> <span> </span></div> <div class="badge badge-soft badge-primary badge-lg flex items-center gap-2"><!> <span> </span></div> <div class="badge badge-soft badge-primary badge-lg flex items-center gap-2"><!> <span> </span></div> <!></div>');function Vp(r,e){pe(e,!0);const t=V(()=>$8(e.currentEvent));var n=pC(),a=d(n),s=d(a);wE(s,{class:"h-4 w-4"});var i=p(s,2),u=d(i),l=p(a,2),c=d(l);nn(c,{class:"h-4 w-4"});var f=p(c,2),h=d(f),m=p(l,2),g=d(m);hs(g,{class:"h-4 w-4"});var b=p(g,2),y=d(b),x=p(m,2),k=d(x);us(k,{class:"h-4 w-4"});var S=p(k,2),A=d(S),C=p(x,2),E=d(C);Ut(E,{class:"h-4 w-4"});var I=p(E,2),T=d(I),j=p(C,2);{var U=G=>{var Q=hC(),ee=d(Q);Cr(ee,{class:"h-4 w-4"});var oe=p(ee,2),H=d(oe);P(J=>{dt(Q,"title",`Recettes non disponibles : ${J??""}`),O(H,`${o(t).missingRecipes.size??""} Recette${o(t).missingRecipes.size>1?"s":""} manquante${o(t).missingRecipes.size>1?"s":""}`)},[()=>Array.from(o(t).missingRecipes).map(J=>J.split("_")[0]).join(", ")]),v(G,Q)};D(j,G=>{o(t).missingRecipes.size>0&&G(U)})}P(()=>{O(u,`${o(t).mealsCount??""} Repas`),O(h,`${o(t).totalGuests??""} Couverts`),O(y,`${o(t).totalRecipes??""} Recettes`),O(A,`${o(t).totalIngredients??""} IngrÃ©dients`),O(T,`${o(t).contributorsStats.total??""} ParticipantÂ·es`)}),v(r,n),ve()}var vC=_("<span> </span>"),mC=_('<label><input type="checkbox"/> <span class="label-text flex-1"> </span> <!></label>');function Bs(r,e){let t=ke(e,"color",3,"secondary"),n=ke(e,"rounded",3,"rounded-lg"),a=ke(e,"padding",3,"ps-2 py-1 pe-3"),s=ke(e,"disabled",3,!1),i=ke(e,"badge",3,null),u=ke(e,"size",3,"sm");function l(E,I){const T={primary:{unchecked:"bg-primary/10 hover:bg-primary/5",checked:"bg-primary/30 hover:bg-primary/20"},secondary:{unchecked:"bg-secondary/10 hover:bg-secondary/5",checked:"bg-secondary/30 hover:bg-secondary/20"},accent:{unchecked:"bg-accent/10 hover:bg-accent/5",checked:"bg-accent/30 hover:bg-accent/20"},success:{unchecked:"bg-success/10 hover:bg-success/5",checked:"bg-success/30 hover:bg-success/20"},warning:{unchecked:"bg-warning/10 hover:bg-warning/5",checked:"bg-warning/30 hover:bg-warning/20"},error:{unchecked:"bg-error/10 hover:bg-error/5",checked:"bg-error/30 hover:bg-error/20"},info:{unchecked:"bg-info/10 hover:bg-info/5",checked:"bg-info/30 hover:bg-info/20"}},j=T[E]||T.secondary;return I?j.checked:j.unchecked}function c(E){return{primary:"badge-primary",secondary:"badge-secondary",accent:"badge-accent",success:"badge-success",warning:"badge-warning",error:"badge-error",info:"badge-info"}[E]||"badge-secondary"}function f(E){return{xs:"checkbox-xs",sm:"checkbox-sm",md:"checkbox-md",lg:"checkbox-lg"}[E]||"checkbox-sm"}const h=V(()=>l(t(),e.checked)),m=V(()=>c(t())),g=V(()=>f(u()));var b=mC();let y;var x=d(b);x.__change=function(...E){e.onchange?.apply(this,E)};var k=p(x,2),S=d(k),A=p(k,2);{var C=E=>{var I=vC(),T=d(I);P(()=>{_e(I,1,`badge badge-sm ${o(m)??""}`),O(T,i())}),v(E,I)};D(A,E=>{i()&&E(C)})}P(E=>{y=_e(b,1,`text-base-content/80 label ${o(h)??""} cursor-pointer justify-start ${n()??""} ${a()??""}`,null,y,E),_e(x,1,`checkbox ${o(g)??""} bg-base-100`),fa(x,e.checked),x.disabled=s(),O(S,e.label)},[()=>({"opacity-50":s()})]),v(r,b)}tt(["change"]);async function gC(r,e,t,n){if(o(e)||t())return;const s=n.todo.status==="done"?"todo":"done";w(e,!0);try{await Nt.updateTodo(n.eventId,n.todo.id,{status:s})}catch{rt.error("Erreur mÃ j statut")}finally{w(e,!1)}}async function km(r,e,t,n,a,s){if(!Ee.userId||o(e)||t())return;const i=o(n)?o(a).filter(u=>u!==Ee.userId):[...o(a),Ee.userId];w(e,!0);try{await Nt.updateTodo(s.eventId,s.todo.id,{assignedTo:i.length>0?i:null}),rt.success(o(n)?"Vous avez rejoint la tÃ¢che":"Vous avez quittÃ© la tÃ¢che")}catch{rt.error("Erreur assignation")}finally{w(e,!1)}}var bC=_('<div class="flex items-center gap-2"><!> <span> </span></div>'),_C=_('<div class="flex items-center gap-2"><!> <span>A rÃ©aliser avant le :</span> <span class="font-medium"> </span></div>'),yC=_("<div><div><span> </span></div></div>"),xC=_('<div><div class="bg-base-300 text-base-content w-7 rounded-full"><span class="text-base"> </span></div></div>'),wC=_('<span class="text-warning mx-1 text-base italic">Non assignÃ©</span>'),kC=_('<p class="text-base-content/60 mt-1 line-clamp-2 text-sm"> </p>'),EC=_("<button><!> Fait <!></button>"),SC=_(`<button class="btn btn-primary btn-outline btn-sm gap-1" title="Me porter volontaire pour cette tÃ¢che"><!> <span>M'inscrire</span></button>`),AC=_('<button class="btn btn-error btn-sm btn-outline gap-1" title="Quitter cette tÃ¢che"><!> <span>me dÃ©sinscrire</span></button>'),DC=(r,e)=>e.onEdit(e.todo),CC=_('<div><div class="flex flex-col gap-3"><div class="flex min-w-0 items-start gap-3"><div class="flex min-w-0 grow flex-col gap-4"><div class="flex flex-wrap items-start justify-between gap-x-4 gap-y-2"><div> </div> <div><!> <!> <!></div></div>  <div class="flex items-center gap-2"><!> <div class="flex min-w-0 items-center gap-1"><div class="flex flex-wrap gap-2"><!> <!> <!></div> <span> </span></div></div> <!></div></div></div> <div class="mt-4 flex items-center justify-between gap-2"><div class="flex gap-2"><!></div> <div class="ms-auto flex gap-2"><!> <button class="btn btn-sm btn-square" title="Modifier la tÃ¢che"><!></button></div></div></div>');function IC(r,e){pe(e,!0);let t=ke(e,"disabled",3,!1),n=ke(e,"contributors",19,()=>[]),a=ae(!1);const s=V(()=>Array.isArray(e.todo.assignedTo)?e.todo.assignedTo:[]),i=V(()=>Ee.userId&&o(s).includes(Ee.userId)),u=V(()=>e.todo.assignedTo?e.todo.assignedTo.map(re=>{const le=n().find(de=>de.id===re),ue=re===Ee.userId,se=le?.name||(ue?"Moi":re.substring(0,5));return{userId:re,name:se,isCurrentUser:ue}}):[]),l=V(()=>o(u).length>=(e.todo.requiredPeopleNb||1)),c=V(()=>{switch(e.todo.taskOn){case"beforeEvent":return{bg:"bg-accent/30",icon:wh,label:"Avant l'Ã©vÃ©nement"};case"afterEvent":return{bg:"bg-secondary/10",icon:ME,label:"AprÃ¨s l'Ã©vÃ©nement"};case"onEvent":default:return{bg:"bg-secondary/20",icon:Oa,label:"Pendant l'Ã©vÃ©nement"}}});var f=CC();let h;var m=d(f),g=d(m),b=d(g),y=d(b),x=d(y),k=d(x),S=p(x,2),A=d(S);{var C=re=>{};D(A,re=>{e.todo.priority&&e.todo.priority!=="low"&&re(C)})}var E=p(A,2);{var I=re=>{var le=bC(),ue=d(le);qt(ue,()=>o(c).icon,(fe,be)=>{be(fe,{class:"size-4 shrink-0 opacity-70"})});var se=p(ue,2),de=d(se);P(()=>O(de,o(c).label)),v(re,le)};D(E,re=>{e.todo.taskOn&&re(I)})}var T=p(E,2);{var j=re=>{var le=_C(),ue=d(le);fr(ue,{class:"size-4 shrink-0 opacity-70"});var se=p(ue,4),de=d(se);P(fe=>O(de,fe),[()=>new Date(e.todo.dueDate).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})]),v(re,le)};D(T,re=>{e.todo.dueDate&&re(j)})}var U=p(y,2),G=d(U);Ut(G,{class:"mt-1 mb-auto size-4 shrink-0 opacity-60"});var Q=p(G,2),ee=d(Q),oe=d(ee);ze(oe,19,()=>o(u).slice(0,3),re=>re.userId,(re,le)=>{var ue=yC(),se=d(ue),de=d(se),fe=d(de);P(()=>{dt(ue,"title",o(le).name+(o(le).isCurrentUser?" (vous)":"")),_e(se,1,`badge badge-soft badge-info ${(o(le).isCurrentUser&&"ring-info font-semibold ring-1")??""}`),O(fe,o(le).name)}),v(re,ue)});var H=p(oe,2);{var J=re=>{var le=xC(),ue=d(le),se=d(ue),de=d(se);P(()=>{dt(le,"title",`+${o(u).length-3} autres`),O(de,`+${o(u).length-3}`)}),v(re,le)};D(H,re=>{o(u).length>3&&re(J)})}var K=p(H,2);{var te=re=>{var le=wC();v(re,le)};D(K,re=>{o(u).length===0&&re(te)})}var Z=p(ee,2),R=d(Z),F=p(U,2);{var M=re=>{var le=kC(),ue=d(le);P(()=>O(ue,e.todo.taskDescription)),v(re,le)};D(F,re=>{e.todo.taskDescription&&re(M)})}var B=p(m,2),q=d(B),$=d(q);{var L=re=>{var le=EC();le.__click=[gC,a,t,e];var ue=d(le);{let fe=V(()=>e.todo.status!=="done"&&"opacity-60");wr(ue,{get class(){return`size-4 ${o(fe)??""}`}})}var se=p(ue,2);{var de=fe=>{var be=Pt("?");v(fe,be)};D(se,fe=>{e.todo.status!=="done"&&fe(de)})}P(()=>{_e(le,1,`btn btn-sm ${e.todo.status!=="done"?"btn-dash":"btn-success"}`),dt(le,"title",e.todo.status==="done"?"Marquer Ã  faire":"Marquer fait"),le.disabled=t()}),v(re,le)};D($,re=>{e.todo.taskOn==="beforeEvent"&&re(L)})}var ne=p(q,2),Y=d(ne);{var W=re=>{var le=SC();le.__click=[km,a,t,i,s,e];var ue=d(le);wr(ue,{class:"size-4"}),P(()=>le.disabled=t()),v(re,le)},X=re=>{var le=ce(),ue=z(le);{var se=de=>{var fe=AC();fe.__click=[km,a,t,i,s,e];var be=d(fe);w2(be,{class:"size-4"}),P(()=>fe.disabled=t()),v(de,fe)};D(ue,de=>{o(i)&&de(se)},!0)}v(re,le)};D(Y,re=>{!o(i)&&o(u).length<(e.todo.requiredPeopleNb||1)?re(W):re(X,!1)})}var N=p(Y,2);N.__click=[DC,e];var ie=d(N);js(ie,{class:"size-4"}),P(re=>{h=_e(f,1,`group bg-base-200/50 relative rounded-xl p-4 shadow transition-all ${o(l)?"shadow-success/40 ":"shadow-warning/40 "}`,null,h,re),_e(x,1,`text-base font-medium ${e.todo.status==="done"?"line-through opacity-50":""}`),O(k,e.todo.taskName),_e(S,1,`card card-sm ${o(c).bg??""} ms-auto flex flex-col justify-end px-4 py-1`),_e(Z,1,`mx-1 ${o(u).length<(e.todo.requiredPeopleNb||1)?"text-warning":"text-success"} font-bold`),O(R,`${o(u).length??""}/${(e.todo.requiredPeopleNb||1)??""} pers. requise`),N.disabled=t()},[()=>({"opacity-50":o(a)})]),v(r,f),ve()}tt(["click"]);var TC=_('<span class="flex items-center gap-1"><!> </span>'),MC=_('<div class="mt-4 flex items-center justify-between text-sm opacity-70"><div class="flex items-center gap-4"><span class="flex items-center gap-1"><!> </span> <!></div> <span> </span></div>'),RC=_('<div class="flex flex-wrap gap-2"></div> <!>',1);function Fa(r,e){pe(e,!0);let t=ke(e,"size",3,"lg"),n=ke(e,"color",3,"primary"),a=ke(e,"onToggleItem",3,()=>{}),s=ke(e,"showStats",3,!1),i=ae(ot({}));st(()=>{const b={};e.items.forEach(y=>{b[y.id]=y.selected??!1}),w(i,b,!0)});function u(b){o(i)[b]=!o(i)[b],a()(b)}const l=V(()=>Object.values(o(i)).filter(Boolean).length),c=V(()=>Object.values(o(i)).filter(b=>!b).length);var f=RC(),h=z(f);ze(h,21,()=>e.items,b=>b.id,(b,y)=>{const x=V(()=>o(i)[o(y).id]);Bs(b,{get checked(){return o(x)},get label(){return o(y).label},get color(){return n()},get badge(){return o(y).badge},get size(){return t()},onchange:()=>u(o(y).id)})});var m=p(h,2);{var g=b=>{var y=MC(),x=d(y),k=d(x),S=d(k);wr(S,{class:"text-success h-3 w-3"});var A=p(S),C=p(k,2);{var E=j=>{var U=TC(),G=d(U);ir(G,{class:"text-error h-3 w-3"});var Q=p(G);P(()=>O(Q,` ${o(c)??""} retirÃ©s`)),v(j,U)};D(C,j=>{o(c)>0&&j(E)})}var I=p(x,2),T=d(I);P(()=>{O(A,` ${o(l)??""} actifs`),O(T,`Total: ${e.items.length??""} items`)}),v(b,y)};D(m,b=>{s()&&b(g)})}v(r,f),ve()}async function NC(r,e,t,n,a){const s=o(e).filter(i=>i.enabled);if(s.length===0){rt.warning("SÃ©lectionnez au moins une tÃ¢che");return}w(t,!0);try{const i=new Date().toISOString(),u=s.map(l=>({id:Bi(10),taskName:l.taskName,taskDescription:null,priority:"medium",taskOn:l.taskOn,requiredPeopleNb:l.requiredPeopleNb,dueDate:null,assignedTo:null,status:"todo"}));await Nt.addTodos(n.eventId,u),rt.success(`${u.length} tÃ¢che(s) crÃ©Ã©e(s)`),a()}catch(i){rt.error("Erreur lors de la crÃ©ation"),console.error(i)}finally{w(t,!1)}}var PC=(r,e)=>w(e,"individual"),$C=(r,e)=>w(e,"bulk"),LC=_('<div role="tablist" class="tabs tabs-border tabs-lg mb-4"><button role="tab"><!> TÃ¢che individuelle</button> <button role="tab"><!> TÃ¢ches prÃ©dÃ©finies</button></div>'),OC=_('<span class="badge badge-warning badge-sm"> </span>'),BC=_('<span class="badge badge-success badge-sm flex items-center gap-1"><!> ok</span>'),FC=_(`<div class="space-y-4"><fieldset class="fieldset"><legend class="fieldset-legend">Titre</legend> <label class="input w-full"><input type="text" placeholder="Ex: Acheter du pain, PrÃ©parer la salle..." class="grow"/></label></fieldset> <fieldset class="fieldset"><legend class="fieldset-legend flex items-center gap-2"><!> Description</legend> <textarea class="textarea h-24 w-full" placeholder="DÃ©tails supplÃ©mentaires..."></textarea></fieldset> <div class="flex flex-wrap gap-4"><fieldset class="fieldset w-80"><legend class="fieldset-legend flex items-center gap-2"><!> Moment</legend> <select class="select w-full"><option>Avant l'Ã©vÃ©nement</option><option>Pendant l'Ã©vÃ©nement</option><option>AprÃ¨s l'Ã©vÃ©nement</option></select></fieldset> <fieldset class="fieldset w-80"><legend class="fieldset-legend flex items-center gap-2"><!> ÃchÃ©ance</legend> <label class="input w-full"><input type="date" class="grow"/></label></fieldset> <fieldset class="fieldset"><legend class="fieldset-legend flex items-center gap-2"><!> Personnes requises</legend> <label class="input w-full"><input type="number" min="1" class="grow"/></label></fieldset></div> <fieldset class="fieldset"><legend class="fieldset-legend flex items-center gap-2"><!> <!></legend> <!></fieldset></div>`),zC=(r,e,t)=>e(o(t)),qC=_('<div class="bg-base-100 flex items-center gap-4 rounded-lg p-3"><input type="checkbox" class="checkbox checkbox-primary"/> <input type="text" class="input flex-1"/> <div class="flex items-center gap-2"><!> <input type="number" class="input w-20" min="1"/></div></div>'),jC=_('<div class="collapse-arrow bg-base-200 collapse"><input type="checkbox" checked/> <div class="collapse-title flex items-center gap-2 font-medium"><!> </div> <div class="collapse-content"><div class="mt-4 space-y-3"></div></div></div>'),HC=_('<div class="space-y-6"></div>'),UC=_("<!> <!>",1),VC=_('<span class="loading loading-spinner loading-sm"></span>'),WC=_('<button type="button" class="btn btn-primary"><!> CrÃ©er les tÃ¢ches sÃ©lectionnÃ©es</button>'),QC=(r,e)=>e(!0),GC=_('<button type="button" class="btn btn-ghost"><!> Sauvegarder & CrÃ©er</button>'),KC=(r,e)=>e(!1),JC=_('<span class="loading loading-spinner loading-sm"></span>'),ZC=_('<!> <button type="button" class="btn btn-primary"><!> </button>',1),YC=_("<!> <!> <!>",1);function XC(r,e){pe(e,!0);let t=ke(e,"contributors",19,()=>[]);ke(e,"currentTodos",19,()=>[]);let n=ae(""),a=ae(""),s=ae("medium"),i=ae("onEvent"),u=ae(1),l=ae(""),c=ae(ot([])),f=ae(!1),h=ae("individual");const m={beforeEvent:["Gestion de l'approvisionnement / courses","Choix des recettes/menus","Coordination","Communication (mail, texto, affiches)","Gestion matos"],onEvent:["PrÃ©parations des recettes","Service","Rangement","Vaisselle","Gestion des restes"],afterEvent:["Retour matos","DÃ©montage cuisine"]},g=V(()=>e.todoToEdit?{taskName:e.todoToEdit.taskName,taskDescription:e.todoToEdit.taskDescription||"",priority:e.todoToEdit.priority||"medium",taskOn:e.todoToEdit.taskOn||"onEvent",requiredPeopleNb:e.todoToEdit.requiredPeopleNb||1,dueDate:e.todoToEdit.dueDate?e.todoToEdit.dueDate.split("T")[0]:"",assignedTo:e.todoToEdit.assignedTo?[...e.todoToEdit.assignedTo]:[]}:{taskName:"",taskDescription:"",priority:"medium",taskOn:"onEvent",requiredPeopleNb:1,dueDate:"",assignedTo:[]});st(()=>{if(e.open){e.todoToEdit,w(h,"individual");const E=o(g);w(n,E.taskName,!0),w(a,E.taskDescription,!0),w(s,E.priority,!0),w(i,E.taskOn,!0),w(u,E.requiredPeopleNb,!0),w(l,E.dueDate,!0),w(c,E.assignedTo,!0)}});function b(){w(n,""),w(a,""),w(s,"medium"),w(i,"onEvent"),w(u,1),w(l,""),w(c,[],!0)}async function y(E=!1){if(!o(n).trim()){rt.warning("Le titre de la tÃ¢che est requis");return}w(f,!0);try{const I=new Date().toISOString();if(e.todoToEdit){const T={taskName:o(n),taskDescription:o(a)||null,priority:o(s),taskOn:o(i),requiredPeopleNb:o(u),dueDate:o(l)?new Date(o(l)).toISOString():null,assignedTo:o(c).length>0?o(c):null};await Nt.updateTodo(e.eventId,e.todoToEdit.id,T),rt.success("TÃ¢che mise Ã  jour"),x()}else{const T={id:Bi(10),taskName:o(n),taskDescription:o(a)||null,priority:o(s),taskOn:o(i),requiredPeopleNb:o(u),dueDate:o(l)?new Date(o(l)).toISOString():null,assignedTo:o(c).length>0?o(c):null,status:"todo"};await Nt.addTodo(e.eventId,T),rt.success("TÃ¢che crÃ©Ã©e"),E?b():x()}}catch(I){rt.error("Erreur lors de la sauvegarde"),console.error(I)}finally{w(f,!1)}}function x(){b(),e.onClose()}function k(E){o(c).includes(E)?w(c,o(c).filter(I=>I!==E),!0):w(c,[...o(c),E],!0)}let S=ae(ot([]));st(()=>{e.open&&o(h)==="bulk"&&w(S,[...m.beforeEvent.map(E=>({taskName:E,taskOn:"beforeEvent",enabled:!0,requiredPeopleNb:1})),...m.onEvent.map(E=>({taskName:E,taskOn:"onEvent",enabled:!0,requiredPeopleNb:1})),...m.afterEvent.map(E=>({taskName:E,taskOn:"afterEvent",enabled:!1,requiredPeopleNb:1}))],!0)});function A(E){o(S)[E].enabled=!o(S)[E].enabled}const C=V(()=>{const E=[{id:Ee.userId||"",label:"Moi",selected:o(c).includes(Ee.userId||"")}];return t().forEach(I=>{I.id!==Ee.userId&&E.push({id:I.id,label:I.name||I.email||I.id.substring(0,5),selected:o(c).includes(I.id)})}),E});on(r,{get isOpen(){return e.open},onClose:x,maxWidth:"lg",maxHeight:"xl",children:(E,I)=>{var T=YC(),j=z(T);{let Q=V(()=>e.todoToEdit?"Modifier la TÃ¢che":"Nouvelle TÃ¢che");Hr(j,{get title(){return o(Q)},onClose:x})}var U=p(j,2);Zr(U,{children:(Q,ee)=>{var oe=UC(),H=z(oe);{var J=R=>{var F=LC(),M=d(F);M.__click=[PC,h];var B=d(M);bm(B,{class:"me-2 size-4"});var q=p(M,2);q.__click=[$C,h];var $=d(q);cc($,{class:"me-2 size-4"}),P(()=>{_e(M,1,`tab ${o(h)==="individual"?"tab-active":""}`),_e(q,1,`tab ${o(h)==="bulk"?"tab-active":""}`)}),v(R,F)};D(H,R=>{e.todoToEdit||R(J)})}var K=p(H,2);{var te=R=>{var F=FC(),M=d(F),B=p(d(M),2),q=d(B),$=p(M,2),L=d($),ne=d(L);bm(ne,{class:"size-4 opacity-50"});var Y=p(L,2),W=p($,2),X=d(W),N=d(X),ie=d(N);Oa(ie,{class:"size-4 opacity-50"});var re=p(N,2),le=d(re);le.value=le.__value="beforeEvent";var ue=p(le);ue.value=ue.__value="onEvent";var se=p(ue);se.value=se.__value="afterEvent";var de=p(X,2),fe=d(de),be=d(fe);fr(be,{class:"size-4 opacity-50"});var ye=p(fe,2),De=d(ye),xe=p(de,2),Ce=d(xe),Ie=d(Ce);Ut(Ie,{class:"size-4 opacity-50"});var Pe=p(Ce,2),Be=d(Pe),He=p(W,2),Te=d(He),he=d(Te);Ut(he,{class:"size-4 opacity-50"});var Se=p(he),Ae=p(Se);{var $e=Le=>{var Ke=OC(),Re=d(Ke);P(()=>O(Re,`Manque ${o(u)-o(c).length} pers.`)),v(Le,Ke)},we=Le=>{var Ke=BC(),Re=d(Ke);wr(Re,{class:"size-3"}),v(Le,Ke)};D(Ae,Le=>{o(c).length<o(u)?Le($e):Le(we,!1)})}var Oe=p(Te,2);Fa(Oe,{get items(){return o(C)},size:"lg",color:"primary",onToggleItem:k}),P(()=>O(Se,` Assignation (${o(c).length??""}/${o(u)??""}) `)),ft(q,()=>o(n),Le=>w(n,Le)),ft(Y,()=>o(a),Le=>w(a,Le)),$n(re,()=>o(i),Le=>w(i,Le)),ft(De,()=>o(l),Le=>w(l,Le)),ft(Be,()=>o(u),Le=>w(u,Le)),v(R,F)},Z=R=>{var F=HC();ze(F,20,()=>["beforeEvent","onEvent","afterEvent"],bt,(M,B)=>{const q=V(()=>B==="beforeEvent"?"Avant l'Ã©vÃ©nement":B==="onEvent"?"Pendant l'Ã©vÃ©nement":"AprÃ¨s l'Ã©vÃ©nement"),$=V(()=>o(S).filter(W=>W.taskOn===B));var L=ce(),ne=z(L);{var Y=W=>{var X=jC(),N=d(X),ie=p(N,2),re=d(ie);Oa(re,{class:"size-4 opacity-50"});var le=p(re),ue=p(ie,2),se=d(ue);ze(se,21,()=>o($),bt,(de,fe,be)=>{const ye=V(()=>o(S).indexOf(o(fe)));var De=qC(),xe=d(De);xe.__change=[zC,A,ye];var Ce=p(xe,2),Ie=p(Ce,2),Pe=d(Ie);Ut(Pe,{class:"size-4 opacity-50"});var Be=p(Pe,2);P(()=>{fa(xe,o(fe).enabled),$i(Ce,o(fe).taskName),Ce.disabled=!o(fe).enabled,Be.disabled=!o(fe).enabled}),ft(Be,()=>o(fe).requiredPeopleNb,He=>o(fe).requiredPeopleNb=He),v(de,De)}),P(de=>O(le,` ${o(q)??""} (${de??""}/${o($).length??""})`),[()=>o($).filter(de=>de.enabled).length]),v(W,X)};D(ne,W=>{o($).length>0&&W(Y)})}v(M,L)}),v(R,F)};D(K,R=>{e.todoToEdit||o(h)==="individual"?R(te):R(Z,!1)})}v(Q,oe)}});var G=p(U,2);Sn(G,{children:(Q,ee)=>{var oe=ce(),H=z(oe);{var J=te=>{var Z=WC();Z.__click=[NC,S,f,e,x];var R=d(Z);{var F=B=>{var q=VC();v(B,q)},M=B=>{cc(B,{class:"size-4"})};D(R,B=>{o(f)?B(F):B(M,!1)})}P(()=>Z.disabled=o(f)),v(te,Z)},K=te=>{var Z=ZC(),R=z(Z);{var F=ne=>{var Y=GC();Y.__click=[QC,y];var W=d(Y);Zt(W,{class:"size-4"}),P(()=>Y.disabled=o(f)),v(ne,Y)};D(R,ne=>{e.todoToEdit||ne(F)})}var M=p(R,2);M.__click=[KC,y];var B=d(M);{var q=ne=>{var Y=JC();v(ne,Y)},$=ne=>{Ba(ne,{class:"size-4"})};D(B,ne=>{o(f)?ne(q):ne($,!1)})}var L=p(B);P(()=>{M.disabled=o(f),O(L,` ${e.todoToEdit?"Mettre Ã  jour":"CrÃ©er la tÃ¢che"}`)}),v(te,Z)};D(H,te=>{o(h)==="bulk"?te(J):te(K,!1)})}v(Q,oe)}}),v(E,T)},$$slots:{default:!0}}),ve()}tt(["click","change"]);var eI=(r,e)=>r.key==="Enter"&&e(),tI=_('<div class="text-base-content/50 border-base-200 hover:border-primary/50 cursor-pointer rounded-lg border-2 border-dashed py-8 text-center text-sm italic transition-colors" role="button" tabindex="0">Aucune tÃ¢che pour le moment. <br/> <span class="text-primary mt-1 inline-block font-medium">CrÃ©er la premiÃ¨re tÃ¢che +</span></div>'),rI=_('<div class="mb-4 flex items-center justify-between"><div class="flex items-center gap-2 text-sm opacity-60"><!> <span> </span></div> <button class="btn btn-sm btn-primary gap-2"><!> Nouvelle tÃ¢che</button></div> <div class=" space-y-4"><!></div> <!>',1);function nI(r,e){pe(e,!0);let t=ke(e,"contributors",19,()=>[]),n=ke(e,"disabled",3,!1);const a=V(()=>e.event.todos??[]);function s(m){return{beforeEvent:1,onEvent:2,afterEvent:3}[m]??0}const i=V(()=>[...o(a)].sort((g,b)=>{const y=s(g.taskOn??""),x=s(b.taskOn??""),k=y-x;if(k!==0)return k;const S=g.dueDate?new Date(g.dueDate).getTime():1/0,A=b.dueDate?new Date(b.dueDate).getTime():1/0;return S-A}));let u=ae(!1),l=ae(null);function c(){w(l,null),w(u,!0)}function f(m){w(l,m,!0),w(u,!0)}function h(m){e.onTodosChange?.(m)}Gt(r,{legend:"TÃ¢ches & Organisation",legendSize:"text-lg",children:(m,g)=>{var b=rI(),y=z(b),x=d(y),k=d(x);qE(k,{class:"size-4"});var S=p(k,2),A=d(S),C=p(x,2);C.__click=c;var E=d(C);Zt(E,{class:"size-4"});var I=p(y,2),T=d(I);{var j=Q=>{var ee=tI();ee.__click=c,ee.__keydown=[eI,c],v(Q,ee)},U=Q=>{var ee=ce(),oe=z(ee);ze(oe,17,()=>o(i),H=>H.id,(H,J)=>{IC(H,{get todo(){return o(J)},get eventId(){return e.event.$id},onEdit:f,get disabled(){return n()},get contributors(){return t()}})}),v(Q,ee)};D(T,Q=>{o(i).length===0?Q(j):Q(U,!1)})}var G=p(I,2);XC(G,{get open(){return o(u)},get eventId(){return e.event.$id},get todoToEdit(){return o(l)},get contributors(){return t()},get currentTodos(){return o(a)},onClose:()=>w(u,!1),onSave:h}),P(()=>{O(A,`${o(a).length??""} tÃ¢ches`),C.disabled=n()}),v(m,b)},$$slots:{default:!0}}),ve()}tt(["click","keydown"]);const aI=7,Wo={async getLock(r){const{tables:e}=await vt();try{const t=await e.getRow({databaseId:Aa(),tableId:ni("locks"),rowId:r});return!t.userId||new Date(t.expiresAt)<new Date?null:t}catch(t){if(t.code===404)return null;throw t}},async acquireLock(r,e,t){const{tables:n}=await vt(),a=new Date(Date.now()+aI*60*1e3).toISOString(),s={userId:e,userName:t,expiresAt:a},i=[tr.read(hr.any()),tr.update(hr.user(e))];try{return await n.updateRow({databaseId:Aa(),tableId:ni("locks"),rowId:r,data:s,permissions:i}),!0}catch(u){if(u.code===404)try{return await n.createRow({databaseId:Aa(),tableId:ni("locks"),rowId:r,data:s,permissions:i}),!0}catch(l){return console.error("[locksService] Erreur crÃ©ation verrou:",l),!1}return console.warn("[locksService] Acquisition refusÃ©e (peut-Ãªtre dÃ©jÃ  verrouillÃ©):",u.message),!1}},async releaseLock(r,e){const{tables:t}=await vt();try{await t.updateRow({databaseId:Aa(),tableId:ni("locks"),rowId:r,data:{userId:"",userName:"",expiresAt:new Date(0).toISOString()},permissions:[tr.read(hr.any()),tr.update(hr.any())]}),console.log(`[locksService] Verrou libÃ©rÃ© (rÃ©initialisÃ©) pour ${r}`)}catch(n){if(n.code===404){console.log(`[locksService] Verrou dÃ©jÃ  libÃ©rÃ© pour ${r}`);return}console.warn("[locksService] Impossible de libÃ©rer le verrou sur le serveur:",n.message)}},subscribeToLock(r,e){const t=Aa(),n=ni("locks"),a=`databases.${t}.collections.${n}.documents.${r}`;return console.log("[locksService] Enregistrement du channel de lock:",a),Pn.registerDynamic([a],s=>{if(s.events?.some(u=>u.endsWith(".delete"))){e(null);return}if(!s.payload)return;const i=s.payload;!i.userId||new Date(i.expiresAt)<new Date?e(null):e(i)})}};var sI=_('<div class="alert alert-warning alert-soft text-base"><!> <span> </span></div>'),iI=_('<span class="loading loading-spinner loading-xs"></span> Enregistrement...',1),oI=_("<!> Enregistrer et quitter",1),uI=_('<button class="btn btn-ghost">Rester</button> <button class="btn btn-error">Quitter sans sauvegarder</button> <button class="btn btn-primary"><!></button>',1),lI=_("<!> <!> <!>",1);function cI(r,e){let t=ke(e,"isSaving",3,!1),n=ke(e,"message",3,"Vous avez des modifications non sauvegardÃ©es. Voulez-vous quitter sans enregistrer ?");on(r,{get isOpen(){return e.isOpen},get onClose(){return e.onCancel},children:(a,s)=>{var i=lI(),u=z(i);Hr(u,{title:"Modifications non sauvegardÃ©es",get onClose(){return e.onCancel}});var l=p(u,2);Zr(l,{children:(f,h)=>{var m=sI(),g=d(m);Cr(g,{class:"h-5 w-5"});var b=p(g,2),y=d(b);P(()=>O(y,n())),v(f,m)}});var c=p(l,2);Sn(c,{children:(f,h)=>{var m=uI(),g=z(m);g.__click=function(...A){e.onCancel?.apply(this,A)};var b=p(g,2);b.__click=function(...A){e.onLeaveWithoutSave?.apply(this,A)};var y=p(b,2);y.__click=function(...A){e.onSaveAndLeave?.apply(this,A)};var x=d(y);{var k=A=>{var C=iI();v(A,C)},S=A=>{var C=oI(),E=z(C);Ba(E,{class:"mr-1 h-4 w-4"}),v(A,C)};D(x,A=>{t()?A(k):A(S,!1)})}P(()=>{g.disabled=t(),b.disabled=t(),y.disabled=t()}),v(f,m)}}),v(a,i)},$$slots:{default:!0}})}tt(["click"]);function Bd(r,e){pe(e,!0);let t=ke(e,"message",3,"Vous avez des modifications non sauvegardÃ©es. Voulez-vous quitter sans enregistrer ?"),n=ae(!1),a=ae(!1),s=null;async function i(f,h){return e.shouldProtect()?(console.log(`[UnsavedChangesGuard] Navigation protÃ©gÃ©e pour ${e.routeKey}`),w(n,!0),new Promise(m=>{s=m})):!0}async function u(){w(n,!1),await e.onLeaveWithoutSave(),s&&(s(!0),s=null)}async function l(){w(a,!0);try{if(await e.onSaveAndLeave()===!1){console.log("[UnsavedChangesGuard] Sauvegarde Ã©chouÃ©e, navigation annulÃ©e");return}w(n,!1),s&&(s(!0),s=null)}catch(f){console.error("[UnsavedChangesGuard] Erreur lors de la sauvegarde:",f)}finally{w(a,!1)}}function c(){w(n,!1),s&&(s(!1),s=null)}st(()=>{const f={beforeLeave:i};return zt.registerRouteGuard(e.routeKey,f)}),cI(r,{get isOpen(){return o(n)},get isSaving(){return o(a)},get message(){return t()},onLeaveWithoutSave:u,onSaveAndLeave:l,onCancel:c}),ve()}async function dI(r,e,t,n){w(e,!0),await t()&&(await n(),rt.success("ÃvÃ©nement mis Ã  jour")),w(e,!1)}async function fI(r,e,t){await e()&&w(t,r.target.value,!0)}var hI=_('<span class="loading loading-spinner loading-xs text-primary"></span>'),pI=_('<div class="flex items-center gap-2"><button class="btn btn-accent"><!> <span class="font-bold">Enregistrer</span></button></div>'),vI=_(`<input type="text" class="input input-lg min-w-full shadow-md" placeholder="Nom de l'Ã©vÃ©nement"/>`),mI=(r,e)=>w(e,!o(e)),gI=_('<button class="btn btn-ghost"><div class="flex items-baseline gap-4"><div class="text-4xl font-bold"> </div> <!></div></button>'),bI=_(`<textarea class="textarea w-full" placeholder="DÃ©crivez l'Ã©vÃ©nement..." maxlength="3000" rows="9"></textarea> <p class="label"> </p>`,1),_I=(r,e)=>w(e,!0),yI=_('<p class="whitespace-pre-wrap"> </p>'),xI=_('<p class="text-base-content/40 italic">Ajoutez une description...</p>'),wI=_('<button class="btn btn-ghost bg-base-100 h-auto justify-start py-4 text-left font-normal"><div class="flex w-full items-start justify-between gap-4"><div class="flex-1"><!></div> <!></div></button>'),kI=_('<div class="badge badge-lg badge-success gap-1"><!> ConfirmÃ©</div>'),EI=_('<div class="badge badge-lg badge-info gap-1"><!> Proposition</div>'),SI=_('<div class="badge badge-lg badge-warning gap-1"><!> </div>'),AI=(r,e)=>w(e,!0),DI=_(`<button class="btn btn-success btn-link btn-md">Confirmez l'Ã©vÃ©nement</button>`),CI=(r,e)=>w(e,!0),II=_(`<button class="btn btn-link btn-error btn-sm">Annuler l'Ã©vÃ©nement</button>`),TI=async(r,e,t)=>{await e()&&w(t,"proposition")},MI=_('<button class="btn btn-link btn-sm">RÃ©activer</button>'),RI=_('<div class="flex flex-wrap items-center justify-between gap-2"><div class="flex items-center gap-2"><!></div> <!></div>'),NI=_('<div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:col-span-2 lg:grid-cols-3"><div class="col-span-2"><!></div> <div class="flex flex-col justify-start gap-4"><!></div></div>'),PI=_(`<div class="alert alert-warning"><!> <div><h3 class="font-bold">ÃvÃ©nement en cours de modification</h3> <div class="text-xs">Un autre utilisateur est en train de modifier cet Ã©vÃ©nement. Les
          contrÃ´les sont temporairement dÃ©sactivÃ©s.</div></div></div>`),$I=_(`<div class="flex items-center justify-center py-20"><div class="flex flex-col items-center gap-4"><span class="loading loading-spinner loading-lg text-primary"></span> <p class="text-base-content/60">Chargement de l'Ã©vÃ©nement...</p></div></div>`),LI=_('<div class="text-base-content/60 bg-base-200 rounded-box border-base-200 flex flex-col items-center justify-center border-2 border-dashed py-12"><div class="bg-base-200 mb-4 rounded-full p-4"><!></div> <p class="font-medium">Aucun repas planifiÃ©</p> <p class="mt-1 text-sm">Commencez par ajouter un repas Ã  votre Ã©vÃ©nement</p></div>'),OI=_("<div><!></div>"),BI=_('<div class="space-y-4"></div>'),FI=_('<div class="grid grid-cols-1 gap-6 pb-20 lg:grid-cols-3"><div class="space-y-6 lg:col-span-1"><!> <!></div> <div class="space-y-6 md:px-4 lg:col-span-2"><div class="mb-6 flex items-center justify-between"><h3 class="card-title text-lg"> </h3> <button class="btn btn-primary"><!> Ajouter un repas</button></div> <!> <div class="flex"><button class="btn btn-outline btn-primary btn-block mt-4"><!> Ajouter un repas</button></div></div></div>'),zI=_('<div class="bg-base-200 min-h-lvh space-y-6 px-2 pt-4 pb-20 md:px-20"><div class="flex flex-wrap items-center justify-between gap-x-6 gap-y-3"><div class="min-w-80 flex-1 gap-2"><!></div> <!></div> <!> <!> <!> <!></div> <!> <!> <!>',1);function qI(r,e){pe(e,!0);const t=he=>{var Se=pI(),Ae=d(Se);Ae.__click=[dI,h,Z,H];var $e=d(Ae);{var we=Le=>{var Ke=hI();v(Le,Ke)},Oe=Le=>{Ba(Le,{size:18,class:"mr-1"})};D($e,Le=>{o(h)?Le(we):Le(Oe,!1)})}P(()=>Ae.disabled=o(h)||!o(C)||!o(Q)),v(he,Se)};let n=V(()=>e.params.id),a=ae(ot([])),s=ae(""),i=ae(""),u=ae("proposition"),l=ae(1);const c=V(()=>[...o(a)].sort((he,Se)=>new Date(he.date).getTime()-new Date(Se.date).getTime()));let f=ae(!1),h=ae(!1),m=ae(!1),g=ae(null),b=ae(!1),y=ae(!1),x=ae(!1),k=ae(!1),S=ae(null),A=null;const C=V(()=>{if(!o(G)||!o(I))return!1;const he=JSON.stringify({name:o(I).name,meals:o(I).meals||[],description:o(I).description||"",status:o(I).status||"proposition",minContrib:o(I).minContrib||1}),Se=JSON.stringify({name:o(s),meals:o(a),description:o(i),status:o(u),minContrib:o(l)});return he!==Se});async function E(){return console.log("startEditing"),o(G)?!0:o(U)?(rt.warning(`Cet Ã©vÃ©nement est verrouillÃ© par ${o(ee)}`),!1):await oe()}const I=V(()=>Nt.getEventById(o(n))),T=V(()=>Hp(o(I))),j=V(()=>o(I)?.teamsId??[]),U=V(()=>o(S)?o(S).userId!==Ee.userId:!1),G=V(()=>o(S)?o(S).userId===Ee.userId:!1),Q=V(()=>Nt.canUserEditEvent(o(n),Ee.userId||"")&&!o(U)&&!o(h)),ee=V(()=>o(S)?.userName||"un autre utilisateur");st(()=>{o(I)&&o(f)&&(w(a,si(o(I).meals||[]),!0),w(s,o(I).name||"",!0),w(i,o(I).description||"",!0),w(u,o(I).status||"proposition",!0),w(l,o(I).minContrib||1,!0),console.log("ð Shadow draft synchronisÃ© depuis currentEvent (Preview)"))}),st(()=>{St.setConfig({eventId:o(n),actions:t,isLockedByOthers:o(U),lockedByUserName:o(ee),hasUnsavedChanges:o(C)&&!o(U)})}),st(()=>{!o(f)&&!o(h)&&ta(async()=>{w(h,!0);try{w(S,await Wo.getLock(o(n)),!0),A=Wo.subscribeToLock(o(n),he=>{console.log("[EventEditPage] ð Verrou mis Ã  jour (Realtime):",{lockedBy:he?.userName,userId:he?.userId,expiresAt:he?.expiresAt}),w(S,he,!0)}),w(f,!0)}finally{w(h,!1)}})}),Ir(()=>{F&&(clearTimeout(F),F=null),A&&(A(),A=null),o(n)&&o(G)&&(console.log("ðª DÃ©montage du composant, libÃ©ration du lock..."),H()),St.reset()});async function oe(){if(!o(n)||!Ee.userId||o(h)||o(m))return!1;w(m,!0);try{return await Wo.acquireLock(o(n),Ee.userId,Ee.userName)?(M(),!0):(rt.warning(`Cet Ã©vÃ©nement est en cours de modification par ${o(ee)}`),!1)}catch(he){return console.error("â Erreur acquisition verrou:",he),rt.error("Impossible de verrouiller l'Ã©vÃ©nement"),!1}finally{w(m,!1)}}async function H(){if(!(!o(n)||!Ee.userId))try{await Wo.releaseLock(o(n),Ee.userId),console.log("ð Verrou libÃ©rÃ©")}catch(he){console.error("â Erreur libÃ©ration verrou:",he)}}async function J(){o(G)&&await H()}async function K(){const he=await Z();return he&&await H(),he}function te(){if(!o(s).trim())return{isValid:!1,errorMessage:"Veuillez renseigner le nom de l'Ã©vÃ©nement"};if(o(a).length===0)return{isValid:!1,errorMessage:"Veuillez ajouter au moins un repas"};const Se=o(a).map(Ae=>Ae.date).filter((Ae,$e,we)=>we.indexOf(Ae)!==$e);return Se.length>0?{isValid:!1,errorMessage:`Certaines dates sont en double: ${Se.map($e=>{try{return new Date($e).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return $e}}).join(", ")}`}:{isValid:!0}}async function Z(){const he=te();if(!he.isValid)return rt.error(he.errorMessage||"Erreur de validation"),!1;const Se=o(T),Ae=Array.from(new Set(o(c).map(Re=>Re.date))).sort(),$e=o(I)?.teams||[],we=o(I)?.teamsId||[],Oe=new Map(we.map((Re,Je)=>[Re,$e[Je]])),Le=o(j).map(Re=>At.getTeamById(Re)?.name||Oe.get(Re)||Re),Ke={name:o(s),description:o(i),status:o(u),minContrib:o(l),allDates:Ae,dateStart:Ae.length>0?Ae[0]:"",dateEnd:Ae.length>0?Ae[Ae.length-1]:"",teams:Le,teamsId:o(j),contributors:Se,meals:o(c)};try{return await Nt.updateEvent(o(n),Ke),!0}catch(Re){return console.error("Erreur sauvegarde:",Re),rt.error("Erreur lors de la sauvegarde"),!1}}async function R(){if(!o(n)||o(h)||!o(G))return;w(h,!0);const he=rt.loading("Sauvegarde automatique...");if(await Z())await H(),rt.update(he,{state:"success",message:"Modifications sauvegardÃ©es automatiquement"});else{if(o(n)&&Ee.userId)try{await Wo.acquireLock(o(n),Ee.userId,Ee.userName)}catch(Ae){console.error("Erreur heartbeat lock:",Ae)}rt.update(he,{state:"warning",message:"Impossible de sauvegarder : modifications invalides"})}w(h,!1),setTimeout(()=>rt.dismiss(he),3e3)}let F=null;function M(){F&&clearTimeout(F),F=setTimeout(()=>{R()},120*1e3),console.log("â° Auto-save programmÃ© dans 30 secondes")}st(()=>{const he=o(G),Se=o(C),Ae=$e=>{(he||Se)&&($e.preventDefault(),$e.returnValue="Vous avez des modifications non sauvegardÃ©es. Voulez-vous vraiment quitter ?")};return window.addEventListener("beforeunload",Ae),()=>{window.removeEventListener("beforeunload",Ae)}});async function B(){if(!await E())return;const he=Bi(6);let Se;if(o(c).length===0){const $e=new Date;$e.setHours(12,0,0,0),Se=$e.toISOString()}else{const $e=o(c)[o(c).length-1],we=new Date($e.date);we.getHours()<14?we.setHours(20,0,0,0):(we.setDate(we.getDate()+1),we.setHours(12,0,0,0)),Se=we.toISOString()}const Ae={id:he,date:Se,guests:100,recipes:[]};w(a,[...o(a),Ae],!0),w(g,he,!0)}function q(he){w(a,o(a).filter(Se=>Se.id!==he),!0)}function $(he){w(g,o(g)===he?null:he,!0)}async function L(he){if(!(!o(n)||!Ee.userId))try{w(h,!0);const Se=he?"accepted":"declined";await Nt.updateContributorStatus(o(n),Ee.userId,Se),rt.success(he?"Invitation acceptÃ©e":"Invitation dÃ©clinÃ©e")}catch(Se){console.error("Erreur rÃ©ponse invitation:",Se),rt.error("Erreur lors de la rÃ©ponse")}finally{w(h,!1)}}async function ne(){await E()&&(w(u,"confirmed"),w(x,!1))}async function Y(){await E()&&(w(u,"canceled"),w(k,!1))}var W=zI(),X=z(W),N=d(X),ie=d(N),re=d(ie);{var le=he=>{var Se=vI();Se.__input=[fI,E,s],P(()=>{$i(Se,o(s)),Se.disabled=!o(Q)}),_t("focus",Se,E),_t("blur",Se,()=>w(b,!1)),v(he,Se)},ue=he=>{var Se=gI();Se.__click=[mI,b];var Ae=d(Se),$e=d(Ae),we=d($e),Oe=p($e,2);js(Oe,{class:"h-4 w-4"}),P(()=>{Se.disabled=!o(Q),O(we,o(s)||"Nom de l'Ã©vÃ©nement")}),v(he,Se)};D(re,he=>{o(b)?he(le):he(ue,!1)})}var se=p(ie,2);{var de=he=>{Vp(he,{get currentEvent(){return o(I)}})};D(se,he=>{o(I)&&he(de)})}var fe=p(N,2);{var be=he=>{var Se=NI(),Ae=d(Se),$e=d(Ae);Gt($e,{legend:"Description",children:(Le,Ke)=>{var Re=ce(),Je=z(Re);{var Ve=We=>{var qe=bI(),et=z(qe),lt=p(et,2),pt=d(lt);P(()=>{et.disabled=!o(Q),O(pt,`${o(i).length??""}/3000 caractÃ¨res`)}),_t("focus",et,E),_t("blur",et,()=>w(y,!1)),ft(et,()=>o(i),Et=>w(i,Et)),v(We,qe)},Ge=We=>{var qe=wI();qe.__click=[_I,y];var et=d(qe),lt=d(et),pt=d(lt);{var Et=Ye=>{var at=yI(),gt=d(at);P(()=>O(gt,o(i))),v(Ye,at)},kt=Ye=>{var at=xI();v(Ye,at)};D(pt,Ye=>{o(i)?Ye(Et):Ye(kt,!1)})}var Ue=p(lt,2);js(Ue,{class:"h-4 w-4 shrink-0"}),P(()=>qe.disabled=!o(Q)),v(We,qe)};D(Je,We=>{o(y)?We(Ve):We(Ge,!1)})}v(Le,Re)},$$slots:{default:!0}});var we=p(Ae,2),Oe=d(we);Gt(Oe,{legend:"Statut de l'Ã©vÃ©nement",children:(Le,Ke)=>{var Re=RI(),Je=d(Re),Ve=d(Je);{var Ge=pt=>{var Et=kI(),kt=d(Et);h2(kt,{class:"h-3 w-3"}),v(pt,Et)},We=pt=>{var Et=ce(),kt=z(Et);{var Ue=at=>{var gt=EI(),Ct=d(gt);Oa(Ct,{class:"h-3 w-3"}),v(at,gt)},Ye=at=>{var gt=SI(),Ct=d(gt);Cr(Ct,{class:"h-3 w-3"});var $t=p(Ct);P(()=>O($t,` ${o(u)??""}`)),v(at,gt)};D(kt,at=>{o(u)==="proposition"?at(Ue):at(Ye,!1)},!0)}v(pt,Et)};D(Ve,pt=>{o(u)==="confirmed"?pt(Ge):pt(We,!1)})}var qe=p(Je,2);{var et=pt=>{var Et=DI();Et.__click=[AI,x],P(()=>Et.disabled=!o(Q)),v(pt,Et)},lt=pt=>{var Et=ce(),kt=z(Et);{var Ue=at=>{var gt=II();gt.__click=[CI,k],P(()=>gt.disabled=!o(Q)),v(at,gt)},Ye=at=>{var gt=MI();gt.__click=[TI,E,u],P(()=>gt.disabled=!o(Q)),v(at,gt)};D(kt,at=>{o(u)==="confirmed"?at(Ue):at(Ye,!1)},!0)}v(pt,Et)};D(qe,pt=>{o(u)==="proposition"?pt(et):pt(lt,!1)})}v(Le,Re)},$$slots:{default:!0}}),v(he,Se)};D(fe,he=>{o(f)&&he(be)})}var ye=p(fe,2);{var De=he=>{var Se=PI(),Ae=d(Se);No(Ae,{class:"h-6 w-6 shrink-0"}),v(he,Se)};D(ye,he=>{o(U)&&he(De)})}var xe=p(ye,2);W2(xe,{get currentEvent(){return o(I)},get isBusy(){return o(h)},onRespond:L});var Ce=p(xe,2);{var Ie=he=>{var Se=$I();v(he,Se)},Pe=he=>{var Se=FI(),Ae=d(Se),$e=d(Ae);{let kt=V(()=>Ee.userId||"");cC($e,{get canEdit(){return o(Q)},get contributors(){return o(T)},get nativeTeamsStore(){return At},get eventsStore(){return Nt},get userId(){return o(kt)},get eventId(){return o(n)},onStartEdit:E,get minContrib(){return o(l)},set minContrib(Ue){w(l,Ue,!0)}})}var we=p($e,2);{var Oe=kt=>{{let Ue=V(()=>!o(Q)||o(U));nI(kt,{get event(){return o(I)},get contributors(){return o(T)},get disabled(){return o(Ue)}})}};D(we,kt=>{o(I)&&kt(Oe)})}var Le=p(Ae,2),Ke=d(Le),Re=d(Ke),Je=d(Re),Ve=p(Re,2);Ve.__click=B;var Ge=d(Ve);Zt(Ge,{class:"mr-1 h-4 w-4"});var We=p(Ke,2);{var qe=kt=>{var Ue=LI(),Ye=d(Ue),at=d(Ye);fr(at,{class:"h-8 w-8 opacity-50"}),v(kt,Ue)},et=kt=>{var Ue=BI();ze(Ue,29,()=>o(c),Ye=>Ye.id+"-"+o(I)?.$updatedAt,(Ye,at)=>{var gt=OI(),Ct=d(gt);{let $t=V(()=>o(g)===o(at).id),Mt=V(()=>o(a).map(It=>It.date)),Ot=V(()=>!o(Q)||o(U));V2(Ct,{get isEditing(){return o($t)},onEditToggle:async()=>{await E()&&$(o(at).id||"")},onDelete:()=>q(o(at).id||""),get allDates(){return o(Mt)},get disabled(){return o(Ot)},get meal(){return o(a)[o(a).findIndex(It=>It.id===o(at).id)]},set meal(It){o(a)[o(a).findIndex(Ft=>Ft.id===o(at).id)]=It}})}yp(gt,()=>Up,()=>({delay:100,duration:400})),v(Ye,gt)}),v(kt,Ue)};D(We,kt=>{o(c).length===0?kt(qe):kt(et,!1)})}var lt=p(We,2),pt=d(lt);pt.__click=B;var Et=d(pt);Zt(Et,{class:"mr-1 h-4 w-4"}),P(()=>{O(Je,`Repas & Menus (${o(c).length??""})`),Ve.disabled=!o(Q),pt.disabled=!o(Q)}),v(he,Se)};D(Ce,he=>{o(h)&&!o(f)?he(Ie):he(Pe,!1)})}var Be=p(X,2);Si(Be,{get isOpen(){return o(x)},title:"Confirmer l'Ã©vÃ©nement",message:"Ãtes-vous sÃ»r de vouloir confirmer cet Ã©vÃ©nement ? ",variant:"info",confirmLabel:"Confirmer",cancelLabel:"Annuler",onConfirm:ne,onCancel:()=>w(x,!1)});var He=p(Be,2);Si(He,{get isOpen(){return o(k)},title:"Annuler la confirmation",message:"Ãtes-vous sÃ»r de vouloir annuler cet Ã©vÃ©nement ?.",variant:"warning",confirmLabel:"Oui, annuler",cancelLabel:"Non, garder",onConfirm:Y,onCancel:()=>w(k,!1)});var Te=p(He,2);{let he=V(()=>`/dashboard/eventEdit/${o(n)}`);Bd(Te,{get routeKey(){return o(he)},shouldProtect:()=>o(C),onLeaveWithoutSave:J,onSaveAndLeave:K,message:"Vous avez des modifications non sauvegardÃ©es. Voulez-vous vraiment quitter ?"})}v(r,W),ve()}tt(["click","input"]);async function jI(r,e,t){w(e,!0),await t()&&rt.success("ÃvÃ©nement crÃ©Ã©"),w(e,!1)}function HI(r,e){w(e,r.target.value,!0)}var UI=_('<span class="loading loading-spinner loading-xs text-primary"></span>'),VI=_('<div class="flex items-center gap-2"><button class="btn btn-accent"><!> <span class="font-bold">CrÃ©er</span></button></div>'),WI=(r,e)=>w(e,!1),QI=(r,e)=>w(e,!1),GI=_('<p class="text-error mt-2 text-sm">Veuillez sÃ©lectionner un statut</p>'),KI=_('<div class="space-y-3"><label class="flex cursor-pointer items-center gap-3"><input type="radio" class="radio radio-primary"/> <div class="flex-1"><div class="font-medium">Proposition</div> <div class="text-sm opacity-70">En attente de confirmation</div></div></label> <label class="flex cursor-pointer items-center gap-3"><input type="radio" class="radio radio-primary"/> <div class="flex-1"><div class="font-medium">ConfirmÃ©</div> <div class="text-sm opacity-70">ÃvÃ©nement validÃ©</div></div></label></div> <!>',1),JI=_(`<div class="flex items-center justify-center py-20"><div class="flex flex-col items-center gap-4"><span class="loading loading-spinner loading-lg text-primary"></span> <p class="text-base-content/60">CrÃ©ation de l'Ã©vÃ©nement...</p></div></div>`),ZI=(r,e,t)=>e(o(t).$id),YI=_('<label class="bg-secondary/10 hover:bg-secondary/20 flex cursor-pointer items-center gap-3 rounded-lg px-4 py-2"><input type="checkbox" class="checkbox checkbox-sm bg-base-100"/> <div class="flex flex-col"><span class="text-sm font-medium"> <span class="text-xs opacity-60"> </span></span> <div class="text-xs opacity-70"> </div></div></label>'),XI=_(`<label class="cursor-pointer justify-center gap-4"><input type="checkbox" class="checkbox checkbox-sm"/> <span class="ms-1">Envoyer un email de notification aux membres des Ã©quipes</span></label> <p class="text-base-content/60 mt-1 text-xs">Si dÃ©sactivÃ©, les membres auront accÃ¨s Ã  l'Ã©vÃ©nement mais ne
                recevront pas d'email.</p>`,1),eT=_(`<fieldset class="fieldset mb-6"><legend class="fieldset-legend">Minimum de participantÂ·es</legend> <label class="input"><input type="number" min="1" max="100" placeholder="1"/></label> <p class="fieldset-label text-base-content/60">Combien faudrait-il Ãªtre pour tout gÃ©rer ?</p></fieldset> <fieldset class="fieldset mb-4"><legend class="fieldset-legend">SÃ©lectionnez les Ã©quipes Ã  inviter Ã  l'Ã©vÃ©nement :</legend> <div class="flex flex-wrap gap-2"></div> <div class="text-base-content/70 alert mt-4 text-sm"><!> Une fois l'Ã©vÃ©nement crÃ©e, il vous sera possible d'inviter des personnes
                individuellement, indÃ©pendamment des Ã©quipes.</div></fieldset> <!>`,1),tT=_(`<p class="text-sm italic opacity-60">Vous ne faites partie d'aucune Ã©quipe.</p>`),rT=_('<div class="text-base-content/60 bg-base-200 rounded-box border-base-200 flex flex-col items-center justify-center border-2 border-dashed py-12"><div class="bg-base-200 mb-4 rounded-full p-4"><!></div> <p class="font-medium">Aucun repas planifiÃ©</p> <p class="mt-1 text-sm">Commencez par ajouter un repas Ã  votre Ã©vÃ©nement</p></div>'),nT=_("<div><!></div>"),aT=_('<div class="space-y-4"></div>'),sT=_('<div class="grid grid-cols-1 gap-6 lg:grid-cols-3"><div class="space-y-6 lg:col-span-1"><!></div> <div class="space-y-6 md:px-4 lg:col-span-2"><div class="mb-6 flex items-center justify-between"><h3 class="card-title text-lg"> </h3> <button class="btn btn-primary btn-sm"><!> Ajouter un repas</button></div> <!> <div class="flex"><button class="btn btn-outline btn-primary btn-block mt-4"><!> Ajouter un repas</button></div></div></div>'),iT=_(`<div class="bg-base-200 min-h-lvh space-y-10 px-2 pt-4 pb-20 md:px-30 md:pb-20"><div class="card bg-base-100"><div class="card-body"><div class="card-title mb-4"><!> CrÃ©ation d'un Ã©vÃ©nement</div> <p>La crÃ©ation d'Ã©vÃ©nement permet d'organiser des menus sur plusieurs
        jours, se rÃ©partir les taches (une fois l'Ã©vÃ©nement crÃ©e), gÃ©rer une
        liste de courses gÃ©nÃ©rÃ©es Ã  partir des ingrÃ©dients des recettes, gÃ©nÃ©rer
        des affiches de menus...</p></div></div> <div class="flex flex-col justify-between gap-6"><div class="min-w-80 flex-1 gap-2"><input type="text" class="input input-lg min-w-2/3 shadow-md" placeholder="Nom de l'Ã©vÃ©nement"/></div> <div class="flex flex-wrap gap-x-10 gap-y-6"><div class="span-2 flex min-w-xs flex-1 flex-col"><textarea class="textarea shamd-sm w-full" placeholder="DÃ©crivez l'Ã©vÃ©nement..." maxlength="3000" rows="9"></textarea> <p class="label ms-auto me-2 text-end text-sm"> </p></div> <div class="align-start min-w-96"><!></div></div></div> <!></div>`);function oT(r,e){pe(e,!0);const t=[],n=L=>{var ne=VI(),Y=d(ne);Y.__click=[jI,c,A];var W=d(Y);{var X=ie=>{var re=UI();v(ie,re)},N=ie=>{Ba(ie,{size:18,class:"mr-1"})};D(W,ie=>{o(c)?ie(X):ie(N,!1)})}P(()=>Y.disabled=o(c)||!o(m)),v(L,ne)};let a=ae(ot([])),s=ae(""),i=ae(""),u=ae(""),l=ae(!1),c=ae(!1),f=ae(null);const h=V(()=>[...o(a)].sort((L,ne)=>new Date(L.date).getTime()-new Date(ne.date).getTime())),m=V(()=>o(s).trim().length>0||o(a).length>0);let g=ae(ot([])),b=ae(!0);const y=V(()=>{const ne=window.location.hash.split("?")[1];return ne?new URLSearchParams(ne).get("teamId"):null});st(()=>{const L=o(y),ne=At.myTeams;L&&ne.some(Y=>Y.$id===L)&&(o(g).includes(L)||w(g,[L],!0))});function x(L){o(g).includes(L)?w(g,o(g).filter(ne=>ne!==L),!0):w(g,[...o(g),L],!0)}let k=ae(1);st(()=>{St.setConfig({actions:n})});function S(){if(!o(s).trim())return{isValid:!1,errorMessage:"Veuillez renseigner le nom de l'Ã©vÃ©nement"};if(o(a).length===0)return{isValid:!1,errorMessage:"Veuillez ajouter au moins un repas"};if(!o(u))return w(l,!0),{isValid:!1,errorMessage:"Veuillez sÃ©lectionner le statut de l'Ã©vÃ©nement"};const ne=o(a).map(Y=>Y.date).filter((Y,W,X)=>X.indexOf(Y)!==W);return ne.length>0?{isValid:!1,errorMessage:`Certaines dates sont en double: ${ne.map(W=>{try{return new Date(W).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return W}}).join(", ")}`}:(w(l,!1),{isValid:!0})}async function A(){const L=S();if(!L.isValid)return rt.error(L.errorMessage||"Erreur de validation"),!1;const ne=[{id:Ee.userId||"",name:Ee.userName,status:"accepted",invitedAt:new Date().toISOString(),respondedAt:new Date().toISOString()}],Y=Array.from(new Set(o(h).map(N=>N.date))).sort(),W=o(g).map(N=>At.getTeamById(N)?.name||"").filter(Boolean),X={name:o(s),description:o(i),status:o(u),allDates:Y,dateStart:Y.length>0?Y[0]:"",dateEnd:Y.length>0?Y[Y.length-1]:"",teams:W,teamsId:o(g),contributors:ne,meals:o(h)};try{const N=await Nt.createEventWithTeams(X,o(g),o(b));return ct(`/dashboard/eventEdit/${N.$id}`),!0}catch(N){return console.error("Erreur sauvegarde:",N),rt.error("Erreur lors de la crÃ©ation"),!1}}function C(){const L=Bi(6);let ne;if(o(h).length===0){const W=new Date;W.setHours(12,0,0,0),ne=W.toISOString()}else{const W=o(h)[o(h).length-1],X=new Date(W.date);X.getHours()<14?X.setHours(20,0,0,0):(X.setDate(X.getDate()+1),X.setHours(12,0,0,0)),ne=X.toISOString()}const Y={id:L,date:ne,guests:100,recipes:[]};w(a,[...o(a),Y],!0),w(f,L,!0)}function E(L){w(a,o(a).filter(ne=>ne.id!==L),!0)}function I(L){w(f,o(f)===L?null:L,!0)}st(()=>()=>{St.reset()});var T=iT(),j=d(T),U=d(j),G=d(U),Q=d(G);kE(Q,{});var ee=p(j,2),oe=d(ee),H=d(oe);H.__input=[HI,s];var J=p(oe,2),K=d(J),te=d(K),Z=p(te,2),R=d(Z),F=p(K,2),M=d(F);Gt(M,{legend:"Statut de l'Ã©vÃ©nement",children:(L,ne)=>{var Y=KI(),W=z(Y),X=d(W),N=d(X);N.__change=[WI,l],N.value=N.__value="proposition";var ie=p(X,2),re=d(ie);re.__change=[QI,l],re.value=re.__value="confirmed";var le=p(W,2);{var ue=se=>{var de=GI();v(se,de)};D(le,se=>{o(l)&&se(ue)})}Au(t,[],N,()=>{"proposition";return o(u)},se=>w(u,se)),Au(t,[],re,()=>{"confirmed";return o(u)},se=>w(u,se)),v(L,Y)},$$slots:{default:!0}});var B=p(ee,2);{var q=L=>{var ne=JI();v(L,ne)},$=L=>{var ne=sT(),Y=d(ne),W=d(Y);Gt(W,{legend:"Ãquipes participantes",children:(xe,Ce)=>{var Ie=ce(),Pe=z(Ie);{var Be=Te=>{var he=eT(),Se=z(he),Ae=p(d(Se),2),$e=d(Ae),we=p(Se,2),Oe=p(d(we),2);ze(Oe,21,()=>At.myTeams,Ve=>Ve.$id,(Ve,Ge)=>{var We=YI(),qe=d(We);qe.__change=[ZI,x,Ge];var et=p(qe,2),lt=d(et),pt=d(lt),Et=p(pt),kt=d(Et),Ue=p(lt,2),Ye=d(Ue);P((at,gt)=>{fa(qe,at),O(pt,`${o(Ge).name??""} `),O(kt,`(${o(Ge).total??""} membre${o(Ge).total>1?"s":""})`),O(Ye,gt)},[()=>o(g).includes(o(Ge).$id),()=>At.getTeamMemberNames(o(Ge).$id).join(", ")]),v(Ve,We)});var Le=p(Oe,2),Ke=d(Le);ra(Ke,{class:"size-4 shrink-0"});var Re=p(we,2);{var Je=Ve=>{var Ge=XI(),We=z(Ge),qe=d(We);Xr(qe,()=>o(b),et=>w(b,et)),v(Ve,Ge)};D(Re,Ve=>{o(g).length>0&&Ve(Je)})}ft($e,()=>o(k),Ve=>w(k,Ve)),v(Te,he)},He=Te=>{var he=tT();v(Te,he)};D(Pe,Te=>{At.myTeams.length>0?Te(Be):Te(He,!1)})}v(xe,Ie)},$$slots:{default:!0}});var X=p(Y,2),N=d(X),ie=d(N),re=d(ie),le=p(ie,2);le.__click=C;var ue=d(le);Zt(ue,{class:"mr-1 h-4 w-4"});var se=p(N,2);{var de=xe=>{var Ce=rT(),Ie=d(Ce),Pe=d(Ie);fr(Pe,{class:"h-8 w-8 opacity-50"}),v(xe,Ce)},fe=xe=>{var Ce=aT();ze(Ce,29,()=>o(h),Ie=>Ie.id,(Ie,Pe)=>{var Be=nT(),He=d(Be);{let Te=V(()=>o(f)===o(Pe).id),he=V(()=>o(a).map(Se=>Se.date));V2(He,{get isEditing(){return o(Te)},onEditToggle:()=>I(o(Pe).id||""),onDelete:()=>E(o(Pe).id||""),get allDates(){return o(he)},disabled:!1,get meal(){return o(a)[o(a).findIndex(Se=>Se.id===o(Pe).id)]},set meal(Se){o(a)[o(a).findIndex(Ae=>Ae.id===o(Pe).id)]=Se}})}yp(Be,()=>Up,()=>({delay:100,duration:400})),v(Ie,Be)}),v(xe,Ce)};D(se,xe=>{o(h).length===0?xe(de):xe(fe,!1)})}var be=p(se,2),ye=d(be);ye.__click=C;var De=d(ye);Zt(De,{class:"mr-1 h-4 w-4"}),P(()=>O(re,`Repas & Menus (${o(h).length??""})`)),v(L,ne)};D(B,L=>{o(c)?L(q):L($,!1)})}P(()=>{$i(H,o(s)),H.disabled=o(c),O(R,`${o(i).length??""}/3000 caractÃ¨res`)}),ft(te,()=>o(i),L=>w(i,L)),v(r,T),ve()}tt(["click","input","change"]);var uT=_('<span class="ml-1 inline-flex align-middle print:hidden"><!></span>'),lT=_('<span class="text-base-content/70 ml-1"> </span>'),cT=_('<span class="text-base-content/70 print-xs text-sm before:mx-1"> </span>'),dT=_('<li class="grid grid-cols-[auto_1fr] items-baseline gap-x-2 gap-y-0"><span class="truncate font-medium"> <!></span> <div class="flex flex-wrap items-baseline gap-x-1"><span><span class="tabular-nums"> </span> <span class="ml-1"> </span> <!></span> <!></div></li>'),fT=_('<ul class="break-inside-avoid space-y-2 print:space-y-1"></ul>'),hT=_('<div class="space-y-6 print:space-y-2"><!> <div class="text-base-content/60 flex items-center gap-1 text-sm"><!> <span>â AllergÃ¨nes</span></div></div>');function Q2(r,e){pe(e,!0);const t=V(()=>e.servings/e.defaultServings),n=V(()=>{const c=new Map;return e.ingredients.forEach(f=>{const h=f.type||"Autres";c.has(h)||c.set(h,[]),c.get(h).push(f)}),c});function a(c){const f=Pv(c.originalQuantity,c.originalUnit,o(t)),h=Pv(c.normalizedQuantity,c.normalizedUnit,o(t));return{...c,originalDisplayQuantity:f.formattedNumber,originalDisplayUnit:f.unit,normalizedDisplayQuantity:h.formattedNumber,normalizedDisplayUnit:h.unit,hasDifferentQuantities:f.formattedNumber!==h.formattedNumber||f.unit!==h.unit}}var s=hT(),i=d(s);ze(i,17,()=>[...o(n)],([c,f])=>c,(c,f)=>{var h=V(()=>ha(o(f),2));let m=()=>o(h)[0],g=()=>o(h)[1];const b=V(()=>bo(m()));Gt(c,{get legend(){return o(b).displayName},get iconComponent(){return o(b).icon},children:(y,x)=>{var k=fT();ze(k,21,g,bt,(S,A)=>{const C=V(()=>a(o(A)));var E=dT(),I=d(E),T=d(I),j=p(T);{var U=F=>{var M=uT(),B=d(M);Cr(B,{class:"h-4 w-4 opacity-70"}),v(F,M)};D(j,F=>{o(A).allergens&&o(A).allergens.length>0&&F(U)})}var G=p(I,2),Q=d(G),ee=d(Q),oe=d(ee),H=p(ee,2),J=d(H),K=p(H,2);{var te=F=>{var M=lT(),B=d(M);P(()=>O(B,`(${o(C).normalizedDisplayQuantity??""}
                    ${o(C).normalizedDisplayUnit??""})`)),v(F,M)};D(K,F=>{o(C).hasDifferentQuantities&&F(te)})}var Z=p(Q,2);{var R=F=>{var M=cT(),B=d(M);P(()=>O(B,`(${o(A).comment??""})`)),v(F,M)};D(Z,F=>{o(A).comment&&F(R)})}P(()=>{dt(I,"title",o(A).name),O(T,`${o(A).name??""} : `),O(oe,o(C).originalDisplayQuantity),O(J,o(C).originalDisplayUnit)}),v(S,E)}),v(y,k)},$$slots:{default:!0}})});var u=p(i,2),l=d(u);Cr(l,{class:"h-4 w-4"}),v(r,s),ve()}var pT=_("<a><!></a>");function vT(r,e){var t=pT();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var mT=_("<abbr><!></abbr>");function gT(r,e){var t=mT();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var bT=_("<address><!></address>");function _T(r,e){var t=bT();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var yT=_("<article><!></article>");function xT(r,e){var t=yT();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var wT=_("<aside><!></aside>");function kT(r,e){var t=wT();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var ET=_("<audio><!></audio>");function ST(r,e){var t=ET();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var AT=_("<b><!></b>");function DT(r,e){var t=AT();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var CT=_("<bdi><!></bdi>");function IT(r,e){var t=CT();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var TT=_("<bdo><!></bdo>");function MT(r,e){var t=TT();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var RT=_("<blockquote><!></blockquote>");function NT(r,e){var t=RT();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var PT=_("<br/>");function $T(r,e){const t=ke(e,"attributes",19,()=>({}));var n=PT();ut(n,()=>({...t()})),v(r,n)}var LT=_("<button><!></button>");function OT(r,e){var t=LT();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var BT=_("<canvas><!></canvas>");function FT(r,e){var t=BT();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var zT=_("<cite><!></cite>");function qT(r,e){var t=zT();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var jT=_("<code><!></code>");function HT(r,e){var t=jT();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var UT=_("<datalist><!></datalist>");function VT(r,e){var t=UT();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var WT=_("<dd><!></dd>");function QT(r,e){var t=WT();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var GT=_("<del><!></del>");function KT(r,e){var t=GT();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var JT=_("<details><!></details>");function ZT(r,e){var t=JT();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var YT=_("<dfn><!></dfn>");function XT(r,e){var t=YT();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var eM=_("<dialog><!></dialog>");function tM(r,e){var t=eM();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var rM=_("<div><!></div>");function nM(r,e){var t=rM();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var aM=_("<dl><!></dl>");function sM(r,e){var t=aM();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var iM=_("<dt><!></dt>");function oM(r,e){var t=iM();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var uM=_("<em><!></em>");function lM(r,e){var t=uM();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var cM=_("<embed/>");function dM(r,e){var t=cM();ut(t,()=>({...e.attributes})),v(r,t)}var fM=_("<fieldset><!></fieldset>");function hM(r,e){var t=fM();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var pM=_("<footer><!></footer>");function vM(r,e){var t=pM();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var mM=_("<form><!></form>");function gM(r,e){var t=mM();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var bM=_("<h1><!></h1>");function _M(r,e){var t=bM();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var yM=_("<h2><!></h2>");function xM(r,e){var t=yM();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var wM=_("<h3><!></h3>");function kM(r,e){var t=wM();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var EM=_("<h4><!></h4>");function SM(r,e){var t=EM();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var AM=_("<h5><!></h5>");function DM(r,e){var t=AM();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var CM=_("<h6><!></h6>");function IM(r,e){var t=CM();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var TM=_("<header><!></header>");function MM(r,e){var t=TM();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var RM=_("<hgroup><!></hgroup>");function NM(r,e){var t=RM();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var PM=_("<hr/>");function $M(r,e){var t=PM();ut(t,()=>({...e.attributes})),v(r,t)}var LM=_("<i><!></i>");function OM(r,e){var t=LM();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var BM=_("<iframe><!></iframe>");function FM(r,e){var t=BM();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var zM=_("<img/>");function qM(r,e){var t=zM();ut(t,()=>({...e.attributes})),v(r,t)}var jM=_("<input/>");function HM(r,e){var t=jM();ut(t,()=>({...e.attributes}),void 0,void 0,void 0,!0),v(r,t)}var UM=_("<kbd><!></kbd>");function VM(r,e){var t=UM();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var WM=_("<label><!></label>");function QM(r,e){var t=WM();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var GM=_("<legend><!></legend>");function KM(r,e){var t=GM();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var JM=_("<li><!></li>");function ZM(r,e){var t=JM();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var YM=_("<main><!></main>");function XM(r,e){var t=YM();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var e7=_("<mark><!></mark>");function t7(r,e){var t=e7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var r7=_("<menu><!></menu>");function n7(r,e){var t=r7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var a7=_("<meter><!></meter>");function s7(r,e){var t=a7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var i7=_("<nav><!></nav>");function o7(r,e){var t=i7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var u7=_("<ol><!></ol>");function l7(r,e){var t=u7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var c7=_("<optgroup><!></optgroup>");function d7(r,e){var t=c7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var f7=_("<option><!></option>");function h7(r,e){var t=f7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var p7=_("<output><!></output>");function v7(r,e){var t=p7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var m7=_("<p><!></p>");function g7(r,e){var t=m7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var b7=_("<param/>");function _7(r,e){var t=b7();ut(t,()=>({...e.attributes})),v(r,t)}var y7=_("<picture><!></picture>");function x7(r,e){var t=y7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var w7=_("<pre><!></pre>");function k7(r,e){var t=w7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var E7=_("<progress><!></progress>");function S7(r,e){var t=E7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var A7=_("<s><!></s>");function D7(r,e){var t=A7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var C7=_("<samp><!></samp>");function I7(r,e){var t=C7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var T7=_("<section><!></section>");function M7(r,e){var t=T7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var R7=_("<select><!></select>");function N7(r,e){var t=R7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var P7=_("<small><!></small>");function $7(r,e){var t=P7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var L7=_("<source/>");function O7(r,e){var t=L7();ut(t,()=>({...e.attributes})),v(r,t)}var B7=_("<span><!></span>");function F7(r,e){var t=B7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var z7=_("<strong><!></strong>");function q7(r,e){var t=z7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var j7=_("<sub><!></sub>");function H7(r,e){var t=j7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var U7=_("<summary><!></summary>");function V7(r,e){var t=U7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var W7=_("<sup><!></sup>");function Q7(r,e){var t=W7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var G7=_("<table><!></table>");function K7(r,e){var t=G7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var J7=_("<tbody><!></tbody>");function Z7(r,e){var t=J7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var Y7=_("<td><!></td>");function X7(r,e){var t=Y7();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var e9=_("<textarea></textarea>");function t9(r,e){var t=e9();ut(t,()=>({...e.attributes})),v(r,t)}var r9=_("<tfoot><!></tfoot>");function n9(r,e){var t=r9();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var a9=_("<th><!></th>");function s9(r,e){var t=a9();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var i9=_("<thead><!></thead>");function o9(r,e){var t=i9();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var u9=_("<tr><!></tr>");function l9(r,e){var t=u9();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var c9=_("<track/>");function d9(r,e){var t=c9();ut(t,()=>({...e.attributes})),v(r,t)}var f9=_("<u><!></u>");function h9(r,e){var t=f9();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var p9=_("<ul><!></ul>");function v9(r,e){var t=p9();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}var m9=_("<var><!></var>");function g9(r,e){var t=m9();ut(t,()=>({...e.attributes}));var n=d(t);ge(n,()=>e.children??me),v(r,t)}const b9={a:vT,abbr:gT,address:_T,article:xT,aside:kT,audio:ST,b:DT,bdi:IT,bdo:MT,blockquote:NT,br:$T,button:OT,canvas:FT,cite:qT,code:HT,datalist:VT,dd:QT,del:KT,details:ZT,dfn:XT,dialog:tM,div:nM,dl:sM,dt:oM,em:lM,embed:dM,fieldset:hM,footer:vM,form:gM,h1:_M,h2:xM,h3:kM,h4:SM,h5:DM,h6:IM,header:MM,hgroup:NM,hr:$M,i:OM,iframe:FM,img:qM,input:HM,kbd:VM,label:QM,legend:KM,li:ZM,main:XM,mark:t7,menu:n7,meter:s7,nav:o7,ol:l7,optgroup:d7,option:h7,output:v7,p:g7,param:_7,picture:x7,pre:k7,progress:S7,s:D7,samp:I7,section:M7,select:N7,small:$7,source:O7,span:F7,strong:q7,sub:H7,summary:V7,sup:Q7,table:K7,tbody:Z7,td:X7,textarea:t9,tfoot:n9,th:s9,thead:o9,tr:l9,track:d9,u:h9,ul:v9,var:g9};var _9=_("<!> <!>",1);function Ka(r,e){pe(e,!0);const t=ke(e,"type",3,void 0),n=ke(e,"tokens",3,void 0),a=ke(e,"header",3,void 0),s=ke(e,"rows",3,void 0),i=ke(e,"ordered",3,!1),u=Fe(e,["$$slots","$$events","$$legacy","type","tokens","header","rows","ordered","renderers"]);var l=ce(),c=z(l);{var f=m=>{var g=ce(),b=z(g);{var y=x=>{var k=ce(),S=z(k);ze(S,17,n,bt,(A,C)=>{const E=V(()=>{const{text:I,raw:T,tokens:j,...U}=u;return{_text:I,_raw:T,_tokens:j,parserRest:U}});Ka(A,Ne(()=>o(E).parserRest,()=>o(C),{get renderers(){return e.renderers}}))}),v(x,k)};D(b,x=>{n()&&x(y)})}v(m,g)},h=m=>{var g=ce(),b=z(g);{var y=x=>{var k=ce(),S=z(k);{var A=E=>{var I=ce(),T=z(I);{var j=U=>{var G=ce(),Q=z(G);qt(Q,()=>e.renderers.table,(ee,oe)=>{oe(ee,Ne(()=>u,{children:(H,J)=>{var K=_9(),te=z(K);{var Z=M=>{var B=ce(),q=z(B);qt(q,()=>e.renderers.tablehead,($,L)=>{L($,Ne(()=>u,{children:(ne,Y)=>{var W=ce(),X=z(W);qt(X,()=>e.renderers.tablerow,(N,ie)=>{ie(N,Ne(()=>u,{children:(re,le)=>{var ue=ce(),se=z(ue);ze(se,17,()=>a()??[],bt,(de,fe,be)=>{const ye=V(()=>{const{align:Ce,...Ie}=u;return{_align:Ce,cellRest:Ie}});var De=ce(),xe=z(De);qt(xe,()=>e.renderers.tablecell,(Ce,Ie)=>{Ie(Ce,Ne({header:!0,get align(){return e.align[be]}},()=>o(ye).cellRest,{children:(Pe,Be)=>{Ka(Pe,{get tokens(){return o(fe).tokens},get renderers(){return e.renderers}})},$$slots:{default:!0}}))}),v(de,De)}),v(re,ue)},$$slots:{default:!0}}))}),v(ne,W)},$$slots:{default:!0}}))}),v(M,B)};D(te,M=>{e.renderers.tablehead&&M(Z)})}var R=p(te,2);{var F=M=>{var B=ce(),q=z(B);qt(q,()=>e.renderers.tablebody,($,L)=>{L($,Ne(()=>u,{children:(ne,Y)=>{var W=ce(),X=z(W);ze(X,17,()=>s()??[],bt,(N,ie)=>{var re=ce(),le=z(re);qt(le,()=>e.renderers.tablerow,(ue,se)=>{se(ue,Ne(()=>u,{children:(de,fe)=>{var be=ce(),ye=z(be);ze(ye,17,()=>o(ie)??[],bt,(De,xe,Ce,Ie)=>{const Pe=V(()=>{const{align:Te,...he}=u;return{_align:Te,cellRest:he}});var Be=ce(),He=z(Be);qt(He,()=>e.renderers.tablecell,(Te,he)=>{he(Te,Ne(()=>o(Pe).cellRest,{header:!1,get align(){return e.align[Ce]},children:(Se,Ae)=>{var $e=ce(),we=z($e);ze(we,17,()=>o(xe).tokens??[],bt,(Oe,Le)=>{Ka(Oe,Ne(()=>o(Pe).cellRest,()=>o(Le),{get renderers(){return e.renderers}}))}),v(Se,$e)},$$slots:{default:!0}}))}),v(De,Be)}),v(de,be)},$$slots:{default:!0}}))}),v(N,re)}),v(ne,W)},$$slots:{default:!0}}))}),v(M,B)};D(R,M=>{e.renderers.tablebody&&M(F)})}v(H,K)},$$slots:{default:!0}}))}),v(U,G)};D(T,U=>{e.renderers.table&&e.renderers.tablerow&&e.renderers.tablecell&&U(j)})}v(E,I)},C=E=>{var I=ce(),T=z(I);{var j=G=>{var Q=ce(),ee=z(Q);{var oe=J=>{var K=ce(),te=z(K);qt(te,()=>e.renderers.list,(Z,R)=>{R(Z,Ne({get ordered(){return i()}},()=>u,{children:(F,M)=>{const B=V(()=>{const{items:ne,...Y}=u;return{_items:ne,parserRest:Y}}),q=V(()=>o(B)._items??[]);var $=ce(),L=z($);ze(L,17,()=>o(q),bt,(ne,Y)=>{const W=V(()=>e.renderers.orderedlistitem||e.renderers.listitem);var X=ce(),N=z(X);{var ie=re=>{var le=ce(),ue=z(le);qt(ue,()=>o(W),(se,de)=>{de(se,Ne(()=>o(Y),{children:(fe,be)=>{Ka(fe,Ne(()=>o(B).parserRest,{get tokens(){return o(Y).tokens},get renderers(){return e.renderers}}))},$$slots:{default:!0}}))}),v(re,le)};D(N,re=>{o(W)&&re(ie)})}v(ne,X)}),v(F,$)},$$slots:{default:!0}}))}),v(J,K)},H=J=>{var K=ce(),te=z(K);qt(te,()=>e.renderers.list,(Z,R)=>{R(Z,Ne({get ordered(){return i()}},()=>u,{children:(F,M)=>{const B=V(()=>{const{items:ne,...Y}=u;return{_items:ne,parserRest:Y}}),q=V(()=>o(B)._items??[]);var $=ce(),L=z($);ze(L,17,()=>o(q),bt,(ne,Y)=>{const W=V(()=>e.renderers.unorderedlistitem||e.renderers.listitem);var X=ce(),N=z(X);{var ie=re=>{var le=ce(),ue=z(le);qt(ue,()=>o(W),(se,de)=>{de(se,Ne(()=>o(Y),{children:(fe,be)=>{Ka(fe,Ne(()=>o(B).parserRest,{get tokens(){return o(Y).tokens},get renderers(){return e.renderers}}))},$$slots:{default:!0}}))}),v(re,le)};D(N,re=>{o(W)&&re(ie)})}v(ne,X)}),v(F,$)},$$slots:{default:!0}}))}),v(J,K)};D(ee,J=>{i()?J(oe):J(H,!1)})}v(G,Q)},U=G=>{var Q=ce(),ee=z(Q);{var oe=J=>{const K=V(()=>{const{tag:B,...q}=u;return{tag:B,localRest:q}}),te=V(()=>e.tag);var Z=ce(),R=z(Z);{var F=B=>{const q=V(()=>e.renderers.html[o(te)]);var $=ce(),L=z($);{var ne=Y=>{var W=ce(),X=z(W);qt(X,()=>o(q),(N,ie)=>{ie(N,Ne(()=>u,{children:(re,le)=>{var ue=ce(),se=z(ue);{var de=be=>{{let ye=V(()=>Object.fromEntries(Object.entries(o(K).localRest).filter(([De])=>De!=="attributes")));Ka(be,Ne({get tokens(){return n()},get renderers(){return e.renderers}},()=>o(ye)))}},fe=be=>{var ye=ce(),De=z(ye);qt(De,()=>e.renderers.rawtext,(xe,Ce)=>{Ce(xe,Ne({get text(){return e.raw}},()=>u))}),v(be,ye)};D(se,be=>{n()&&n().length?be(de):be(fe,!1)})}v(re,ue)},$$slots:{default:!0}}))}),v(Y,W)};D(L,Y=>{o(q)&&Y(ne)})}v(B,$)},M=B=>{{let q=V(()=>n()??[]),$=V(()=>Object.fromEntries(Object.entries(o(K).localRest).filter(([L])=>L!=="tokens")));Ka(B,Ne({get tokens(){return o(q)},get renderers(){return e.renderers}},()=>o($)))}};D(R,B=>{e.renderers.html&&o(te)in e.renderers.html?B(F):B(M,!1)})}v(J,Z)},H=J=>{const K=V(()=>e.renderers[t()]);var te=ce(),Z=z(te);{var R=F=>{var M=ce(),B=z(M);qt(B,()=>o(K),(q,$)=>{$(q,Ne(()=>u,{children:(L,ne)=>{var Y=ce(),W=z(Y);{var X=ie=>{const re=V(()=>{const{text:le,raw:ue,...se}=u;return{_text:le,_raw:ue,parserRest:se}});Ka(ie,Ne(()=>o(re).parserRest,{get tokens(){return n()},get renderers(){return e.renderers}}))},N=ie=>{var re=ce(),le=z(re);qt(le,()=>e.renderers.rawtext,(ue,se)=>{se(ue,Ne({get text(){return e.raw}},()=>u))}),v(ie,re)};D(W,ie=>{n()?ie(X):ie(N,!1)})}v(L,Y)},$$slots:{default:!0}}))}),v(F,M)};D(Z,F=>{o(K)&&F(R)})}v(J,te)};D(ee,J=>{t()==="html"?J(oe):J(H,!1)},!0)}v(G,Q)};D(T,G=>{t()==="list"&&e.renderers.list?G(j):G(U,!1)},!0)}v(E,I)};D(S,E=>{t()==="table"?E(A):E(C,!1)})}v(x,k)};D(b,x=>{t()in e.renderers&&x(y)},!0)}v(m,g)};D(c,m=>{t()?m(h,!1):m(f)})}v(r,l),ve()}const y9=/[\0-\x1F!-,\.\/:-@\[-\^`\{-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482\u0530\u0557\u0558\u055A-\u055F\u0589-\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05CF\u05EB-\u05EE\u05F3-\u060F\u061B-\u061F\u066A-\u066D\u06D4\u06DD\u06DE\u06E9\u06FD\u06FE\u0700-\u070F\u074B\u074C\u07B2-\u07BF\u07F6-\u07F9\u07FB\u07FC\u07FE\u07FF\u082E-\u083F\u085C-\u085F\u086B-\u089F\u08B5\u08C8-\u08D2\u08E2\u0964\u0965\u0970\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09F2-\u09FB\u09FD\u09FF\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF0-\u0AF8\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B54\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B70\u0B72-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BF0-\u0BFF\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5B-\u0C5F\u0C64\u0C65\u0C70-\u0C7F\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0CFF\u0D0D\u0D11\u0D45\u0D49\u0D4F-\u0D53\u0D58-\u0D5E\u0D64\u0D65\u0D70-\u0D79\u0D80\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DE5\u0DF0\u0DF1\u0DF4-\u0E00\u0E3B-\u0E3F\u0E4F\u0E5A-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F01-\u0F17\u0F1A-\u0F1F\u0F2A-\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F48\u0F6D-\u0F70\u0F85\u0F98\u0FBD-\u0FC5\u0FC7-\u0FFF\u104A-\u104F\u109E\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u1360-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16ED\u16F9-\u16FF\u170D\u1715-\u171F\u1735-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17D4-\u17D6\u17D8-\u17DB\u17DE\u17DF\u17EA-\u180A\u180E\u180F\u181A-\u181F\u1879-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191F\u192C-\u192F\u193C-\u1945\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DA-\u19FF\u1A1C-\u1A1F\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1AA6\u1AA8-\u1AAF\u1AC1-\u1AFF\u1B4C-\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BF4-\u1BFF\u1C38-\u1C3F\u1C4A-\u1C4C\u1C7E\u1C7F\u1C89-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CCF\u1CD3\u1CFB-\u1CFF\u1DFA\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u203E\u2041-\u2053\u2055-\u2070\u2072-\u207E\u2080-\u208F\u209D-\u20CF\u20F1-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F-\u215F\u2189-\u24B5\u24EA-\u2BFF\u2C2F\u2C5F\u2CE5-\u2CEA\u2CF4-\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E00-\u2E2E\u2E30-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u3040\u3097\u3098\u309B\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u319F\u31C0-\u31EF\u3200-\u33FF\u4DC0-\u4DFF\u9FFD-\u9FFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA62C-\uA63F\uA673\uA67E\uA6F2-\uA716\uA720\uA721\uA789\uA78A\uA7C0\uA7C1\uA7CB-\uA7F4\uA828-\uA82B\uA82D-\uA83F\uA874-\uA87F\uA8C6-\uA8CF\uA8DA-\uA8DF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA954-\uA95F\uA97D-\uA97F\uA9C1-\uA9CE\uA9DA-\uA9DF\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A-\uAA5F\uAA77-\uAA79\uAAC3-\uAADA\uAADE\uAADF\uAAF0\uAAF1\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB6A-\uAB6F\uABEB\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFDFF\uFE10-\uFE1F\uFE30-\uFE32\uFE35-\uFE4C\uFE50-\uFE6F\uFE75\uFEFD-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF3E\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDD3F\uDD75-\uDDFC\uDDFE-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEDF\uDEE1-\uDEFF\uDF20-\uDF2C\uDF4B-\uDF4F\uDF7B-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56-\uDC5F\uDC77-\uDC7F\uDC9F-\uDCDF\uDCF3\uDCF6-\uDCFF\uDD16-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBD\uDDC0-\uDDFF\uDE04\uDE07-\uDE0B\uDE14\uDE18\uDE36\uDE37\uDE3B-\uDE3E\uDE40-\uDE5F\uDE7D-\uDE7F\uDE9D-\uDEBF\uDEC8\uDEE7-\uDEFF\uDF36-\uDF3F\uDF56-\uDF5F\uDF73-\uDF7F\uDF92-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCFF\uDD28-\uDD2F\uDD3A-\uDE7F\uDEAA\uDEAD-\uDEAF\uDEB2-\uDEFF\uDF1D-\uDF26\uDF28-\uDF2F\uDF51-\uDFAF\uDFC5-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC47-\uDC65\uDC70-\uDC7E\uDCBB-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDCFF\uDD35\uDD40-\uDD43\uDD48-\uDD4F\uDD74\uDD75\uDD77-\uDD7F\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDFF\uDE12\uDE38-\uDE3D\uDE3F-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEEB-\uDEEF\uDEFA-\uDEFF\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A\uDF45\uDF46\uDF49\uDF4A\uDF4E\uDF4F\uDF51-\uDF56\uDF58-\uDF5C\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC4B-\uDC4F\uDC5A-\uDC5D\uDC62-\uDC7F\uDCC6\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDB6\uDDB7\uDDC1-\uDDD7\uDDDE-\uDDFF\uDE41-\uDE43\uDE45-\uDE4F\uDE5A-\uDE7F\uDEB9-\uDEBF\uDECA-\uDEFF\uDF1B\uDF1C\uDF2C-\uDF2F\uDF3A-\uDFFF]|\uD806[\uDC3B-\uDC9F\uDCEA-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD36\uDD39\uDD3A\uDD44-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD8\uDDD9\uDDE2\uDDE5-\uDDFF\uDE3F-\uDE46\uDE48-\uDE4F\uDE9A-\uDE9C\uDE9E-\uDEBF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC37\uDC41-\uDC4F\uDC5A-\uDC71\uDC90\uDC91\uDCA8\uDCB7-\uDCFF\uDD07\uDD0A\uDD37-\uDD39\uDD3B\uDD3E\uDD48-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8F\uDD92\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF7-\uDFAF\uDFB1-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80B\uD80E-\uD810\uD812-\uD819\uD824-\uD82B\uD82D\uD82E\uD830-\uD833\uD837\uD839\uD83D\uD83F\uD87B-\uD87D\uD87F\uD885-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDECF\uDEEE\uDEEF\uDEF5-\uDEFF\uDF37-\uDF3F\uDF44-\uDF4F\uDF5A-\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE80-\uDEFF\uDF4B-\uDF4E\uDF88-\uDF8E\uDFA0-\uDFDF\uDFE2\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82C[\uDD1F-\uDD4F\uDD53-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDC9C\uDC9F-\uDFFF]|\uD834[\uDC00-\uDD64\uDD6A-\uDD6C\uDD73-\uDD7A\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDE41\uDE45-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC\uDFCD]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDCFF\uDD2D-\uDD2F\uDD3E\uDD3F\uDD4A-\uDD4D\uDD4F-\uDEBF\uDEFA-\uDFFF]|\uD83A[\uDCC5-\uDCCF\uDCD7-\uDCFF\uDD4C-\uDD4F\uDD5A-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD83C[\uDC00-\uDD2F\uDD4A-\uDD4F\uDD6A-\uDD6F\uDD8A-\uDFFF]|\uD83E[\uDC00-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEDE-\uDEFF]|\uD86D[\uDF35-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]/g,x9=Object.hasOwnProperty;class w9{constructor(){this.occurrences,this.reset()}slug(e,t){const n=this;let a=k9(e,t===!0);const s=a;for(;x9.call(n.occurrences,a);)n.occurrences[s]++,a=s+"-"+n.occurrences[s];return n.occurrences[a]=0,a}reset(){this.occurrences=Object.create(null)}}function k9(r,e){return typeof r!="string"?"":(e||(r=r.toLowerCase()),r.replace(y9,"").replace(/ /g,"-"))}function Wp(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Ui=Wp();function G2(r){Ui=r}var fu={exec:()=>null};function Kt(r,e=""){let t=typeof r=="string"?r:r.source,n={replace:(a,s)=>{let i=typeof s=="string"?s:s.source;return i=i.replace(cn.caret,"$1"),t=t.replace(a,i),n},getRegex:()=>new RegExp(t,e)};return n}var E9=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),cn={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:r=>new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}#`),htmlBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}<(?:[a-z].*>|!--)`,"i")},S9=/^(?:[ \t]*(?:\n|$))+/,A9=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,D9=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,dl=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,C9=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Qp=/(?:[*+-]|\d{1,9}[.)])/,K2=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,J2=Kt(K2).replace(/bull/g,Qp).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),I9=Kt(K2).replace(/bull/g,Qp).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Gp=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,T9=/^[^\n]+/,Kp=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,M9=Kt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Kp).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),R9=Kt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Qp).getRegex(),Fd="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Jp=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,N9=Kt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Jp).replace("tag",Fd).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Z2=Kt(Gp).replace("hr",dl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fd).getRegex(),P9=Kt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Z2).getRegex(),Zp={blockquote:P9,code:A9,def:M9,fences:D9,heading:C9,hr:dl,html:N9,lheading:J2,list:R9,newline:S9,paragraph:Z2,table:fu,text:T9},Em=Kt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",dl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fd).getRegex(),$9={...Zp,lheading:I9,table:Em,paragraph:Kt(Gp).replace("hr",dl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Em).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fd).getRegex()},L9={...Zp,html:Kt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Jp).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:fu,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Kt(Gp).replace("hr",dl).replace("heading",` *#{1,6} *[^
]`).replace("lheading",J2).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},O9=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,B9=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Y2=/^( {2,}|\\)\n(?!\s*$)/,F9=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,zd=/[\p{P}\p{S}]/u,Yp=/[\s\p{P}\p{S}]/u,X2=/[^\s\p{P}\p{S}]/u,z9=Kt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Yp).getRegex(),e_=/(?!~)[\p{P}\p{S}]/u,q9=/(?!~)[\s\p{P}\p{S}]/u,j9=/(?:[^\s\p{P}\p{S}]|~)/u,H9=Kt(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",E9?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),t_=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,U9=Kt(t_,"u").replace(/punct/g,zd).getRegex(),V9=Kt(t_,"u").replace(/punct/g,e_).getRegex(),r_="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",W9=Kt(r_,"gu").replace(/notPunctSpace/g,X2).replace(/punctSpace/g,Yp).replace(/punct/g,zd).getRegex(),Q9=Kt(r_,"gu").replace(/notPunctSpace/g,j9).replace(/punctSpace/g,q9).replace(/punct/g,e_).getRegex(),G9=Kt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,X2).replace(/punctSpace/g,Yp).replace(/punct/g,zd).getRegex(),K9=Kt(/\\(punct)/,"gu").replace(/punct/g,zd).getRegex(),J9=Kt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Z9=Kt(Jp).replace("(?:-->|$)","-->").getRegex(),Y9=Kt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Z9).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),fc=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,X9=Kt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",fc).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),n_=Kt(/^!?\[(label)\]\[(ref)\]/).replace("label",fc).replace("ref",Kp).getRegex(),a_=Kt(/^!?\[(ref)\](?:\[\])?/).replace("ref",Kp).getRegex(),eR=Kt("reflink|nolink(?!\\()","g").replace("reflink",n_).replace("nolink",a_).getRegex(),Sm=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Xp={_backpedal:fu,anyPunctuation:K9,autolink:J9,blockSkip:H9,br:Y2,code:B9,del:fu,emStrongLDelim:U9,emStrongRDelimAst:W9,emStrongRDelimUnd:G9,escape:O9,link:X9,nolink:a_,punctuation:z9,reflink:n_,reflinkSearch:eR,tag:Y9,text:F9,url:fu},tR={...Xp,link:Kt(/^!?\[(label)\]\((.*?)\)/).replace("label",fc).getRegex(),reflink:Kt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",fc).getRegex()},Sh={...Xp,emStrongRDelimAst:Q9,emStrongLDelim:V9,url:Kt(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Sm).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Kt(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Sm).getRegex()},rR={...Sh,br:Kt(Y2).replace("{2,}","*").getRegex(),text:Kt(Sh.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Il={normal:Zp,gfm:$9,pedantic:L9},Qo={normal:Xp,gfm:Sh,breaks:rR,pedantic:tR},nR={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Am=r=>nR[r];function ya(r,e){if(e){if(cn.escapeTest.test(r))return r.replace(cn.escapeReplace,Am)}else if(cn.escapeTestNoEncode.test(r))return r.replace(cn.escapeReplaceNoEncode,Am);return r}function Dm(r){try{r=encodeURI(r).replace(cn.percentDecode,"%")}catch{return null}return r}function Cm(r,e){let t=r.replace(cn.findPipe,(s,i,u)=>{let l=!1,c=i;for(;--c>=0&&u[c]==="\\";)l=!l;return l?"|":" |"}),n=t.split(cn.splitPipe),a=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;a<n.length;a++)n[a]=n[a].trim().replace(cn.slashPipe,"|");return n}function Go(r,e,t){let n=r.length;if(n===0)return"";let a=0;for(;a<n&&r.charAt(n-a-1)===e;)a++;return r.slice(0,n-a)}function aR(r,e){if(r.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<r.length;n++)if(r[n]==="\\")n++;else if(r[n]===e[0])t++;else if(r[n]===e[1]&&(t--,t<0))return n;return t>0?-2:-1}function Im(r,e,t,n,a){let s=e.href,i=e.title||null,u=r[1].replace(a.other.outputLinkReplace,"$1");n.state.inLink=!0;let l={type:r[0].charAt(0)==="!"?"image":"link",raw:t,href:s,title:i,text:u,tokens:n.inlineTokens(u)};return n.state.inLink=!1,l}function sR(r,e,t){let n=r.match(t.other.indentCodeCompensation);if(n===null)return e;let a=n[1];return e.split(`
`).map(s=>{let i=s.match(t.other.beginningSpace);if(i===null)return s;let[u]=i;return u.length>=a.length?s.slice(a.length):s}).join(`
`)}var hc=class{options;rules;lexer;constructor(r){this.options=r||Ui}space(r){let e=this.rules.block.newline.exec(r);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(r){let e=this.rules.block.code.exec(r);if(e){let t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:Go(t,`
`)}}}fences(r){let e=this.rules.block.fences.exec(r);if(e){let t=e[0],n=sR(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:n}}}heading(r){let e=this.rules.block.heading.exec(r);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){let n=Go(t,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(t=n.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(r){let e=this.rules.block.hr.exec(r);if(e)return{type:"hr",raw:Go(e[0],`
`)}}blockquote(r){let e=this.rules.block.blockquote.exec(r);if(e){let t=Go(e[0],`
`).split(`
`),n="",a="",s=[];for(;t.length>0;){let i=!1,u=[],l;for(l=0;l<t.length;l++)if(this.rules.other.blockquoteStart.test(t[l]))u.push(t[l]),i=!0;else if(!i)u.push(t[l]);else break;t=t.slice(l);let c=u.join(`
`),f=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${c}`:c,a=a?`${a}
${f}`:f;let h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(f,s,!0),this.lexer.state.top=h,t.length===0)break;let m=s.at(-1);if(m?.type==="code")break;if(m?.type==="blockquote"){let g=m,b=g.raw+`
`+t.join(`
`),y=this.blockquote(b);s[s.length-1]=y,n=n.substring(0,n.length-g.raw.length)+y.raw,a=a.substring(0,a.length-g.text.length)+y.text;break}else if(m?.type==="list"){let g=m,b=g.raw+`
`+t.join(`
`),y=this.list(b);s[s.length-1]=y,n=n.substring(0,n.length-m.raw.length)+y.raw,a=a.substring(0,a.length-g.raw.length)+y.raw,t=b.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:s,text:a}}}list(r){let e=this.rules.block.list.exec(r);if(e){let t=e[1].trim(),n=t.length>1,a={type:"list",raw:"",ordered:n,start:n?+t.slice(0,-1):"",loose:!1,items:[]};t=n?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=n?t:"[*+-]");let s=this.rules.other.listItemRegex(t),i=!1;for(;r;){let l=!1,c="",f="";if(!(e=s.exec(r))||this.rules.block.hr.test(r))break;c=e[0],r=r.substring(c.length);let h=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,k=>" ".repeat(3*k.length)),m=r.split(`
`,1)[0],g=!h.trim(),b=0;if(this.options.pedantic?(b=2,f=h.trimStart()):g?b=e[1].length+1:(b=e[2].search(this.rules.other.nonSpaceChar),b=b>4?1:b,f=h.slice(b),b+=e[1].length),g&&this.rules.other.blankLine.test(m)&&(c+=m+`
`,r=r.substring(m.length+1),l=!0),!l){let k=this.rules.other.nextBulletRegex(b),S=this.rules.other.hrRegex(b),A=this.rules.other.fencesBeginRegex(b),C=this.rules.other.headingBeginRegex(b),E=this.rules.other.htmlBeginRegex(b);for(;r;){let I=r.split(`
`,1)[0],T;if(m=I,this.options.pedantic?(m=m.replace(this.rules.other.listReplaceNesting,"  "),T=m):T=m.replace(this.rules.other.tabCharGlobal,"    "),A.test(m)||C.test(m)||E.test(m)||k.test(m)||S.test(m))break;if(T.search(this.rules.other.nonSpaceChar)>=b||!m.trim())f+=`
`+T.slice(b);else{if(g||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||A.test(h)||C.test(h)||S.test(h))break;f+=`
`+m}!g&&!m.trim()&&(g=!0),c+=I+`
`,r=r.substring(I.length+1),h=T.slice(b)}}a.loose||(i?a.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(i=!0));let y=null,x;this.options.gfm&&(y=this.rules.other.listIsTask.exec(f),y&&(x=y[0]!=="[ ] ",f=f.replace(this.rules.other.listReplaceTask,""))),a.items.push({type:"list_item",raw:c,task:!!y,checked:x,loose:!1,text:f,tokens:[]}),a.raw+=c}let u=a.items.at(-1);if(u)u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let l=0;l<a.items.length;l++)if(this.lexer.state.top=!1,a.items[l].tokens=this.lexer.blockTokens(a.items[l].text,[]),!a.loose){let c=a.items[l].tokens.filter(h=>h.type==="space"),f=c.length>0&&c.some(h=>this.rules.other.anyLine.test(h.raw));a.loose=f}if(a.loose)for(let l=0;l<a.items.length;l++)a.items[l].loose=!0;return a}}html(r){let e=this.rules.block.html.exec(r);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(r){let e=this.rules.block.def.exec(r);if(e){let t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:n,title:a}}}table(r){let e=this.rules.block.table.exec(r);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let t=Cm(e[1]),n=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===n.length){for(let i of n)this.rules.other.tableAlignRight.test(i)?s.align.push("right"):this.rules.other.tableAlignCenter.test(i)?s.align.push("center"):this.rules.other.tableAlignLeft.test(i)?s.align.push("left"):s.align.push(null);for(let i=0;i<t.length;i++)s.header.push({text:t[i],tokens:this.lexer.inline(t[i]),header:!0,align:s.align[i]});for(let i of a)s.rows.push(Cm(i,s.header.length).map((u,l)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:s.align[l]})));return s}}lheading(r){let e=this.rules.block.lheading.exec(r);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(r){let e=this.rules.block.paragraph.exec(r);if(e){let t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(r){let e=this.rules.block.text.exec(r);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(r){let e=this.rules.inline.escape.exec(r);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(r){let e=this.rules.inline.tag.exec(r);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(r){let e=this.rules.inline.link.exec(r);if(e){let t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;let s=Go(t.slice(0,-1),"\\");if((t.length-s.length)%2===0)return}else{let s=aR(e[2],"()");if(s===-2)return;if(s>-1){let i=(e[0].indexOf("!")===0?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,i).trim(),e[3]=""}}let n=e[2],a="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(n);s&&(n=s[1],a=s[3])}else a=e[3]?e[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?n=n.slice(1):n=n.slice(1,-1)),Im(e,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(r,e){let t;if((t=this.rules.inline.reflink.exec(r))||(t=this.rules.inline.nolink.exec(r))){let n=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),a=e[n.toLowerCase()];if(!a){let s=t[0].charAt(0);return{type:"text",raw:s,text:s}}return Im(t,a,t[0],this.lexer,this.rules)}}emStrong(r,e,t=""){let n=this.rules.inline.emStrongLDelim.exec(r);if(!(!n||n[3]&&t.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!t||this.rules.inline.punctuation.exec(t))){let a=[...n[0]].length-1,s,i,u=a,l=0,c=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,e=e.slice(-1*r.length+a);(n=c.exec(e))!=null;){if(s=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!s)continue;if(i=[...s].length,n[3]||n[4]){u+=i;continue}else if((n[5]||n[6])&&a%3&&!((a+i)%3)){l+=i;continue}if(u-=i,u>0)continue;i=Math.min(i,i+u+l);let f=[...n[0]][0].length,h=r.slice(0,a+n.index+f+i);if(Math.min(a,i)%2){let g=h.slice(1,-1);return{type:"em",raw:h,text:g,tokens:this.lexer.inlineTokens(g)}}let m=h.slice(2,-2);return{type:"strong",raw:h,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(r){let e=this.rules.inline.code.exec(r);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(t),a=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return n&&a&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(r){let e=this.rules.inline.br.exec(r);if(e)return{type:"br",raw:e[0]}}del(r){let e=this.rules.inline.del.exec(r);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(r){let e=this.rules.inline.autolink.exec(r);if(e){let t,n;return e[2]==="@"?(t=e[1],n="mailto:"+t):(t=e[1],n=t),{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}url(r){let e;if(e=this.rules.inline.url.exec(r)){let t,n;if(e[2]==="@")t=e[0],n="mailto:"+t;else{let a;do a=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(a!==e[0]);t=e[0],e[1]==="www."?n="http://"+e[0]:n=e[0]}return{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(r){let e=this.rules.inline.text.exec(r);if(e){let t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}},Wn=class Ah{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ui,this.options.tokenizer=this.options.tokenizer||new hc,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:cn,block:Il.normal,inline:Qo.normal};this.options.pedantic?(t.block=Il.pedantic,t.inline=Qo.pedantic):this.options.gfm&&(t.block=Il.gfm,this.options.breaks?t.inline=Qo.breaks:t.inline=Qo.gfm),this.tokenizer.rules=t}static get rules(){return{block:Il,inline:Qo}}static lex(e,t){return new Ah(t).lex(e)}static lexInline(e,t){return new Ah(t).inlineTokens(e)}lex(e){e=e.replace(cn.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(cn.tabCharGlobal,"    ").replace(cn.spaceLine,""));e;){let a;if(this.options.extensions?.block?.some(i=>(a=i.call({lexer:this},e,t))?(e=e.substring(a.raw.length),t.push(a),!0):!1))continue;if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length);let i=t.at(-1);a.raw.length===1&&i!==void 0?i.raw+=`
`:t.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length);let i=t.at(-1);i?.type==="paragraph"||i?.type==="text"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+a.raw,i.text+=`
`+a.text,this.inlineQueue.at(-1).src=i.text):t.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length);let i=t.at(-1);i?.type==="paragraph"||i?.type==="text"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+a.raw,i.text+=`
`+a.raw,this.inlineQueue.at(-1).src=i.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title},t.push(a));continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),t.push(a);continue}let s=e;if(this.options.extensions?.startBlock){let i=1/0,u=e.slice(1),l;this.options.extensions.startBlock.forEach(c=>{l=c.call({lexer:this},u),typeof l=="number"&&l>=0&&(i=Math.min(i,l))}),i<1/0&&i>=0&&(s=e.substring(0,i+1))}if(this.state.top&&(a=this.tokenizer.paragraph(s))){let i=t.at(-1);n&&i?.type==="paragraph"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+a.raw,i.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):t.push(a),n=s.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length);let i=t.at(-1);i?.type==="text"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+a.raw,i.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):t.push(a);continue}if(e){let i="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(i);break}else throw new Error(i)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n=e,a=null;if(this.tokens.links){let l=Object.keys(this.tokens.links);if(l.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)l.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,a.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(a=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)s=a[2]?a[2].length:0,n=n.slice(0,a.index+s)+"["+"a".repeat(a[0].length-s-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let i=!1,u="";for(;e;){i||(u=""),i=!1;let l;if(this.options.extensions?.inline?.some(f=>(l=f.call({lexer:this},e,t))?(e=e.substring(l.raw.length),t.push(l),!0):!1))continue;if(l=this.tokenizer.escape(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.tag(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.link(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(l.raw.length);let f=t.at(-1);l.type==="text"&&f?.type==="text"?(f.raw+=l.raw,f.text+=l.text):t.push(l);continue}if(l=this.tokenizer.emStrong(e,n,u)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.codespan(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.br(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.del(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.autolink(e)){e=e.substring(l.raw.length),t.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(e))){e=e.substring(l.raw.length),t.push(l);continue}let c=e;if(this.options.extensions?.startInline){let f=1/0,h=e.slice(1),m;this.options.extensions.startInline.forEach(g=>{m=g.call({lexer:this},h),typeof m=="number"&&m>=0&&(f=Math.min(f,m))}),f<1/0&&f>=0&&(c=e.substring(0,f+1))}if(l=this.tokenizer.inlineText(c)){e=e.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(u=l.raw.slice(-1)),i=!0;let f=t.at(-1);f?.type==="text"?(f.raw+=l.raw,f.text+=l.text):t.push(l);continue}if(e){let f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return t}},pc=class{options;parser;constructor(e){this.options=e||Ui}space(e){return""}code({text:e,lang:t,escaped:n}){let a=(t||"").match(cn.notSpaceStart)?.[0],s=e.replace(cn.endingNewline,"")+`
`;return a?'<pre><code class="language-'+ya(a)+'">'+(n?s:ya(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:ya(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,n=e.start,a="";for(let u=0;u<e.items.length;u++){let l=e.items[u];a+=this.listitem(l)}let s=t?"ol":"ul",i=t&&n!==1?' start="'+n+'"':"";return"<"+s+i+`>
`+a+"</"+s+`>
`}listitem(e){let t="";if(e.task){let n=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=n+" "+ya(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let s=0;s<e.header.length;s++)n+=this.tablecell(e.header[s]);t+=this.tablerow({text:n});let a="";for(let s=0;s<e.rows.length;s++){let i=e.rows[s];n="";for(let u=0;u<i.length;u++)n+=this.tablecell(i[u]);a+=this.tablerow({text:n})}return a&&(a=`<tbody>${a}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+a+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${ya(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let a=this.parser.parseInline(n),s=Dm(e);if(s===null)return a;e=s;let i='<a href="'+e+'"';return t&&(i+=' title="'+ya(t)+'"'),i+=">"+a+"</a>",i}image({href:e,title:t,text:n,tokens:a}){a&&(n=this.parser.parseInline(a,this.parser.textRenderer));let s=Dm(e);if(s===null)return ya(n);e=s;let i=`<img src="${e}" alt="${n}"`;return t&&(i+=` title="${ya(t)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:ya(e.text)}},e0=class{strong({text:r}){return r}em({text:r}){return r}codespan({text:r}){return r}del({text:r}){return r}html({text:r}){return r}text({text:r}){return r}link({text:r}){return""+r}image({text:r}){return""+r}br(){return""}},ia=class Dh{options;renderer;textRenderer;constructor(e){this.options=e||Ui,this.options.renderer=this.options.renderer||new pc,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new e0}static parse(e,t){return new Dh(t).parse(e)}static parseInline(e,t){return new Dh(t).parseInline(e)}parse(e,t=!0){let n="";for(let a=0;a<e.length;a++){let s=e[a];if(this.options.extensions?.renderers?.[s.type]){let u=s,l=this.options.extensions.renderers[u.type].call({parser:this},u);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(u.type)){n+=l||"";continue}}let i=s;switch(i.type){case"space":{n+=this.renderer.space(i);continue}case"hr":{n+=this.renderer.hr(i);continue}case"heading":{n+=this.renderer.heading(i);continue}case"code":{n+=this.renderer.code(i);continue}case"table":{n+=this.renderer.table(i);continue}case"blockquote":{n+=this.renderer.blockquote(i);continue}case"list":{n+=this.renderer.list(i);continue}case"html":{n+=this.renderer.html(i);continue}case"def":{n+=this.renderer.def(i);continue}case"paragraph":{n+=this.renderer.paragraph(i);continue}case"text":{let u=i,l=this.renderer.text(u);for(;a+1<e.length&&e[a+1].type==="text";)u=e[++a],l+=`
`+this.renderer.text(u);t?n+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):n+=l;continue}default:{let u='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return n}parseInline(e,t=this.renderer){let n="";for(let a=0;a<e.length;a++){let s=e[a];if(this.options.extensions?.renderers?.[s.type]){let u=this.options.extensions.renderers[s.type].call({parser:this},s);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){n+=u||"";continue}}let i=s;switch(i.type){case"escape":{n+=t.text(i);break}case"html":{n+=t.html(i);break}case"link":{n+=t.link(i);break}case"image":{n+=t.image(i);break}case"strong":{n+=t.strong(i);break}case"em":{n+=t.em(i);break}case"codespan":{n+=t.codespan(i);break}case"br":{n+=t.br(i);break}case"del":{n+=t.del(i);break}case"text":{n+=t.text(i);break}default:{let u='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return n}},ru=class{options;block;constructor(r){this.options=r||Ui}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(r){return r}postprocess(r){return r}processAllTokens(r){return r}emStrongMask(r){return r}provideLexer(){return this.block?Wn.lex:Wn.lexInline}provideParser(){return this.block?ia.parse:ia.parseInline}},iR=class{defaults=Wp();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=ia;Renderer=pc;TextRenderer=e0;Lexer=Wn;Tokenizer=hc;Hooks=ru;constructor(...r){this.use(...r)}walkTokens(r,e){let t=[];for(let n of r)switch(t=t.concat(e.call(this,n)),n.type){case"table":{let a=n;for(let s of a.header)t=t.concat(this.walkTokens(s.tokens,e));for(let s of a.rows)for(let i of s)t=t.concat(this.walkTokens(i.tokens,e));break}case"list":{let a=n;t=t.concat(this.walkTokens(a.items,e));break}default:{let a=n;this.defaults.extensions?.childTokens?.[a.type]?this.defaults.extensions.childTokens[a.type].forEach(s=>{let i=a[s].flat(1/0);t=t.concat(this.walkTokens(i,e))}):a.tokens&&(t=t.concat(this.walkTokens(a.tokens,e)))}}return t}use(...r){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return r.forEach(t=>{let n={...t};if(n.async=this.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){let s=e.renderers[a.name];s?e.renderers[a.name]=function(...i){let u=a.renderer.apply(this,i);return u===!1&&(u=s.apply(this,i)),u}:e.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=e[a.level];s?s.unshift(a.tokenizer):e[a.level]=[a.tokenizer],a.start&&(a.level==="block"?e.startBlock?e.startBlock.push(a.start):e.startBlock=[a.start]:a.level==="inline"&&(e.startInline?e.startInline.push(a.start):e.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(e.childTokens[a.name]=a.childTokens)}),n.extensions=e),t.renderer){let a=this.defaults.renderer||new pc(this.defaults);for(let s in t.renderer){if(!(s in a))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let i=s,u=t.renderer[i],l=a[i];a[i]=(...c)=>{let f=u.apply(a,c);return f===!1&&(f=l.apply(a,c)),f||""}}n.renderer=a}if(t.tokenizer){let a=this.defaults.tokenizer||new hc(this.defaults);for(let s in t.tokenizer){if(!(s in a))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let i=s,u=t.tokenizer[i],l=a[i];a[i]=(...c)=>{let f=u.apply(a,c);return f===!1&&(f=l.apply(a,c)),f}}n.tokenizer=a}if(t.hooks){let a=this.defaults.hooks||new ru;for(let s in t.hooks){if(!(s in a))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let i=s,u=t.hooks[i],l=a[i];ru.passThroughHooks.has(s)?a[i]=c=>{if(this.defaults.async&&ru.passThroughHooksRespectAsync.has(s))return(async()=>{let h=await u.call(a,c);return l.call(a,h)})();let f=u.call(a,c);return l.call(a,f)}:a[i]=(...c)=>{if(this.defaults.async)return(async()=>{let h=await u.apply(a,c);return h===!1&&(h=await l.apply(a,c)),h})();let f=u.apply(a,c);return f===!1&&(f=l.apply(a,c)),f}}n.hooks=a}if(t.walkTokens){let a=this.defaults.walkTokens,s=t.walkTokens;n.walkTokens=function(i){let u=[];return u.push(s.call(this,i)),a&&(u=u.concat(a.call(this,i))),u}}this.defaults={...this.defaults,...n}}),this}setOptions(r){return this.defaults={...this.defaults,...r},this}lexer(r,e){return Wn.lex(r,e??this.defaults)}parser(r,e){return ia.parse(r,e??this.defaults)}parseMarkdown(r){return(e,t)=>{let n={...t},a={...this.defaults,...n},s=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&n.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(a.hooks&&(a.hooks.options=a,a.hooks.block=r),a.async)return(async()=>{let i=a.hooks?await a.hooks.preprocess(e):e,u=await(a.hooks?await a.hooks.provideLexer():r?Wn.lex:Wn.lexInline)(i,a),l=a.hooks?await a.hooks.processAllTokens(u):u;a.walkTokens&&await Promise.all(this.walkTokens(l,a.walkTokens));let c=await(a.hooks?await a.hooks.provideParser():r?ia.parse:ia.parseInline)(l,a);return a.hooks?await a.hooks.postprocess(c):c})().catch(s);try{a.hooks&&(e=a.hooks.preprocess(e));let i=(a.hooks?a.hooks.provideLexer():r?Wn.lex:Wn.lexInline)(e,a);a.hooks&&(i=a.hooks.processAllTokens(i)),a.walkTokens&&this.walkTokens(i,a.walkTokens);let u=(a.hooks?a.hooks.provideParser():r?ia.parse:ia.parseInline)(i,a);return a.hooks&&(u=a.hooks.postprocess(u)),u}catch(i){return s(i)}}}onError(r,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,r){let n="<p>An error occurred:</p><pre>"+ya(t.message+"",!0)+"</pre>";return e?Promise.resolve(n):n}if(e)return Promise.reject(t);throw t}}},Ai=new iR;function sr(r,e){return Ai.parse(r,e)}sr.options=sr.setOptions=function(r){return Ai.setOptions(r),sr.defaults=Ai.defaults,G2(sr.defaults),sr};sr.getDefaults=Wp;sr.defaults=Ui;sr.use=function(...r){return Ai.use(...r),sr.defaults=Ai.defaults,G2(sr.defaults),sr};sr.walkTokens=function(r,e){return Ai.walkTokens(r,e)};sr.parseInline=Ai.parseInline;sr.Parser=ia;sr.parser=ia.parse;sr.Renderer=pc;sr.TextRenderer=e0;sr.Lexer=Wn;sr.lexer=Wn.lex;sr.Tokenizer=hc;sr.Hooks=ru;sr.parse=sr;sr.options;sr.setOptions;sr.use;sr.walkTokens;sr.parseInline;ia.parse;Wn.lex;var oR=_("<blockquote><!></blockquote>");function uR(r,e){var t=oR(),n=d(t);ge(n,()=>e.children??me),v(r,t)}var lR=_("<br/><!>",1);function cR(r,e){var t=lR(),n=p(z(t));ge(n,()=>e.children??me),v(r,t)}var dR=_("<pre><code> </code></pre>");function fR(r,e){var t=dR(),n=d(t),a=d(n);P(()=>{_e(t,1,gn(e.lang)),O(a,e.text)}),v(r,t)}var hR=_("<code> </code>");function pR(r,e){pe(e,!0);var t=hR(),n=d(t);P(a=>O(n,a),[()=>e.raw.replace(/`/g,"")]),v(r,t),ve()}var vR=_("<del><!></del>");function mR(r,e){var t=vR(),n=d(t);ge(n,()=>e.children??me),v(r,t)}var gR=_("<em><!></em>");function bR(r,e){var t=gR(),n=d(t);ge(n,()=>e.children??me),v(r,t)}function _R(r,e){var t=Pt();P(()=>O(t,e.text)),v(r,t)}var yR=_("<h1><!></h1>"),xR=_("<h2><!></h2>"),wR=_("<h3><!></h3>"),kR=_("<h4><!></h4>"),ER=_("<h5><!></h5>"),SR=_("<h6><!></h6>");function AR(r,e){pe(e,!0);const t=V(()=>e.options.headerIds?e.options.headerPrefix+e.slug(e.text):void 0);var n=ce(),a=z(n);{var s=u=>{var l=yR(),c=d(l);ge(c,()=>e.children??me),P(()=>dt(l,"id",o(t))),v(u,l)},i=u=>{var l=ce(),c=z(l);{var f=m=>{var g=xR(),b=d(g);ge(b,()=>e.children??me),P(()=>dt(g,"id",o(t))),v(m,g)},h=m=>{var g=ce(),b=z(g);{var y=k=>{var S=wR(),A=d(S);ge(A,()=>e.children??me),P(()=>dt(S,"id",o(t))),v(k,S)},x=k=>{var S=ce(),A=z(S);{var C=I=>{var T=kR(),j=d(T);ge(j,()=>e.children??me),P(()=>dt(T,"id",o(t))),v(I,T)},E=I=>{var T=ce(),j=z(T);{var U=Q=>{var ee=ER(),oe=d(ee);ge(oe,()=>e.children??me),P(()=>dt(ee,"id",o(t))),v(Q,ee)},G=Q=>{var ee=ce(),oe=z(ee);{var H=K=>{var te=SR(),Z=d(te);ge(Z,()=>e.children??me),P(()=>dt(te,"id",o(t))),v(K,te)},J=K=>{var te=Pt();P(()=>O(te,e.raw)),v(K,te)};D(oe,K=>{e.depth===6?K(H):K(J,!1)},!0)}v(Q,ee)};D(j,Q=>{e.depth===5?Q(U):Q(G,!1)},!0)}v(I,T)};D(A,I=>{e.depth===4?I(C):I(E,!1)},!0)}v(k,S)};D(b,k=>{e.depth===3?k(y):k(x,!1)},!0)}v(m,g)};D(c,m=>{e.depth===2?m(f):m(h,!1)},!0)}v(u,l)};D(a,u=>{e.depth===1?u(s):u(i,!1)})}v(r,n),ve()}Ww();var DR=_("<hr/>");function CR(r){var e=DR();v(r,e)}var IR=_("<img/>");function TR(r,e){pe(e,!0);const t=ke(e,"href",3,""),n=ke(e,"title",3,void 0),a=ke(e,"text",3,""),s=ke(e,"lazy",3,!0),i=ke(e,"fadeIn",3,!0);let u,l=ae(!1),c=ae(!s()),f=ae(!1);vn(()=>{if(!s())return;if(typeof IntersectionObserver>"u"){w(c,!0);return}const y=new IntersectionObserver(x=>{x[0]?.isIntersecting&&(w(c,!0),y.disconnect())},{rootMargin:"50px"});return u&&y.observe(u),()=>{y?.disconnect()}});const h=()=>{o(f)||w(l,!0)},m=()=>{w(f,!0),w(l,!0)};var g=IR();let b;xn(g,y=>u=y,()=>u),P(y=>{dt(g,"src",o(c)?t():void 0),dt(g,"data-src",t()),dt(g,"title",n()),dt(g,"alt",a()),dt(g,"loading",s()?"lazy":"eager"),b=_e(g,1,"svelte-1hoglcg",null,b,y)},[()=>({"fade-in":i()&&o(l)&&!o(f),visible:!i()&&o(l)&&!o(f),error:o(f)})]),_t("load",g,h),_t("error",g,m),v(r,g),ve()}var MR=_("<a><!></a>");function RR(r,e){const t=ke(e,"href",3,""),n=ke(e,"title",3,void 0);var a=MR(),s=d(a);ge(s,()=>e.children??me),P(()=>{dt(a,"href",t()),dt(a,"title",n())}),v(r,a)}var NR=_("<ol><!></ol>"),PR=_("<ul><!></ul>");function $R(r,e){const t=ke(e,"ordered",3,!1),n=ke(e,"start",3,1);var a=ce(),s=z(a);{var i=l=>{var c=NR(),f=d(c);ge(f,()=>e.children??me),P(()=>dt(c,"start",n())),v(l,c)},u=l=>{var c=PR(),f=d(c);ge(f,()=>e.children??me),v(l,c)};D(s,l=>{t()?l(i):l(u,!1)})}v(r,a)}var LR=_("<li><!></li>");function OR(r,e){ke(e,"listItemIndex",3,void 0);var t=LR(),n=d(t);ge(n,()=>e.children??me),v(r,t)}var BR=_("<p><!></p>");function FR(r,e){var t=BR(),n=d(t);ge(n,()=>e.children??me),v(r,t)}function zR(r,e){var t=Pt();P(()=>O(t,e.text)),v(r,t)}var qR=_("<strong><!></strong>");function jR(r,e){var t=qR(),n=d(t);ge(n,()=>e.children??me),v(r,t)}var HR=_("<table><!></table>");function UR(r,e){var t=HR(),n=d(t);ge(n,()=>e.children??me),v(r,t)}var VR=_("<tbody><!></tbody>");function WR(r,e){var t=VR(),n=d(t);ge(n,()=>e.children??me),v(r,t)}var QR=_("<th><!></th>"),GR=_("<td><!></td>");function KR(r,e){const t=V(()=>e.align?`text-align: ${e.align}`:void 0);var n=ce(),a=z(n);{var s=u=>{var l=QR(),c=d(l);ge(c,()=>e.children??me),P(()=>_n(l,o(t))),v(u,l)},i=u=>{var l=GR(),c=d(l);ge(c,()=>e.children??me),P(()=>_n(l,o(t))),v(u,l)};D(a,u=>{e.header?u(s):u(i,!1)})}v(r,n)}var JR=_("<thead><!></thead>");function ZR(r,e){var t=JR(),n=d(t);ge(n,()=>e.children??me),v(r,t)}var YR=_("<tr><!></tr>");function XR(r,e){var t=YR(),n=d(t);ge(n,()=>e.children??me),v(r,t)}function eN(r,e){var t=ce(),n=z(t);ge(n,()=>e.children??me),v(r,t)}const Ef={heading:AR,paragraph:FR,text:eN,image:TR,link:RR,em:bR,escape:_R,strong:jR,codespan:pR,del:mR,table:UR,tablehead:ZR,tablebody:WR,tablerow:XR,tablecell:KR,list:$R,orderedlistitem:null,unorderedlistitem:null,listitem:OR,hr:CR,html:b9,blockquote:uR,code:fR,br:cR,rawtext:zR},tN={async:!1,breaks:!1,gfm:!0,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null,headerIds:!0,headerPrefix:""},Tm=Symbol("CACHED_UNDEFINED"),Mm=Symbol("CACHED_NULL");class rN{cache=new Map;maxSize;ttl;constructor(e={}){this.maxSize=e.maxSize??100,this.ttl=e.ttl??300*1e3}get(e){const t=this.cache.get(e);if(t){if(this.ttl>0&&Date.now()-t.timestamp>this.ttl){this.cache.delete(e);return}if(t.value!==Tm)return t.value===Mm?null:t.value}}has(e){const t=this.cache.get(e);return t?this.ttl>0&&Date.now()-t.timestamp>this.ttl?(this.cache.delete(e),!1):!0:!1}set(e,t){if(this.maxSize>0&&this.cache.size>=this.maxSize){const a=this.cache.keys().next().value;a&&this.cache.delete(a)}let n;t===void 0?n=Tm:t===null?n=Mm:n=t,this.cache.set(e,{value:n,timestamp:Date.now()})}delete(e){return this.cache.delete(e)}async deleteAsync(e){return Promise.resolve(this.cache.delete(e))}clear(){this.cache.clear()}deleteByPrefix(e){let t=0;for(const n of this.cache.keys())n.startsWith(e)&&(this.cache.delete(n),t++);return t}deleteByMagicString(e){let t=0;const n=e.replace(/[.+?^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*"),a=new RegExp(`^${n}$`);for(const s of this.cache.keys())a.test(s)&&(this.cache.delete(s),t++);return t}}function Rm(r){let e=2166136261;for(let t=0;t<r.length;t++)e^=r.charCodeAt(t),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return(e>>>0).toString(36)}function Tl(r,e){const t=Rm(r),n=new WeakSet,a=Rm(JSON.stringify(e,(s,i)=>{if(typeof i=="function")return i.name||i.toString();if(i&&typeof i=="object"){if(n.has(i))return"[Circular]";n.add(i)}return i}));return`${t}:${a}`}class nN extends rN{constructor(e){super({maxSize:50,ttl:300*1e3,...e})}getTokens(e,t){const n=Tl(e,t);return this.get(n)}setTokens(e,t,n){const a=Tl(e,t);this.set(a,n)}hasTokens(e,t){const n=Tl(e,t);return this.has(n)}deleteTokens(e,t){const n=Tl(e,t);return this.delete(n)}clearAllTokens(){this.clear()}}const Nm=new nN,aN=new Uint16Array('áµ<ÃÄ±ÊÒÕ»×ÙµÛÞ¢ßà à©àªà¶¡à¹­à¼à¼¦áá¨á¡ááááá¥\0\0\0\0\0\0á«áá¦á°á·á½¾â â°âââ»ââ ¤â¤â´â¹â¿ããºã¹ã¬ã£¾ã¨¨ã©±ã« ã¬®à EMabcfglmnoprstu\\bfmsÂÂÂÂÂÂ¦Â³Â¹ÃÃligè»ÃäPè»&ä¦cuteè»Ãäreve;äÄiyx}rcè»Ãä;är;ìðraveè»Ãäpha;äacr;äd;æ©ÄgpÂÂ¡on;äf;ìð¸plyFunction;æ¡ingè»ÃäÄcsÂ¾Ãr;ìðign;æildeè»Ãämlè»ÃäÐaceforsuÃ¥Ã»Ã¾ÄÄÄ¢Ä§ÄªÄcrÃªÃ²kslash;æÅ¶Ã¶Ã¸;æ«§ed;æy;äÆcrtÄÄÄause;æµnoullis;æ¬a;är;ìðpf;ìð¹eve;äcÃ²Ämpeq;æÜHOacdefhilorsuÅÅÅÆÆÆ¢ÆµÆ·ÆºÇÈÉ³É¸É¾cy;ä§PYè»Â©ä©ÆcpyÅÅ¢Åºute;äÄ;iÅ§Å¨ætalDifferentialD;æleys;æ­ÈaeioÆÆÆÆron;ädilè»Ãärc;änint;æ°ot;äÄdnÆ§Æ­illa;ä¸terDot;ä·Ã²Å¿i;ä§rcleÈDMPTÇÇÇÇot;æinus;ælus;æimes;æoÄcsÇ¢Ç¸kwiseContourIntegral;æ²eCurlyÄDQÈÈoubleQuote;æuote;æÈlnpuÈÈ¨ÉÉonÄ;eÈ¥È¦æ·;æ©´ÆgitÈ¯È¶Èºruent;æ¡nt;æ¯ourIntegral;æ®ÄfrÉÉ;æoduct;ænterClockwiseContourIntegral;æ³oss;æ¨¯cr;ìðpÄ;CÊÊæap;æÖDJSZacefiosÊ Ê¬Ê°Ê´Ê¸ËËË¡Ë¦Ì³ÒÄ;oÅ¹Ê¥trahd;æ¤cy;äcy;äcy;äÆgrsÊ¿ËËger;æ¡r;æ¡hv;æ«¤ÄayËËron;ä;älÄ;tËËæa;är;ìðÄafË«Ì§ÄcmË°Ì¢riticalÈADGTÌÌÌÌcute;ä´oÅ´ÌÌ;äbleAcute;ärave;ä ilde;äond;æferentialD;æÑ°Ì½\0\0\0ÍÍ\0Ðf;ìð»Æ;DEÍÍÍä¨ot;æqual;æbleÌCDLRUVÍ£Í²ÎÏÏ¢Ï¸ontourIntegraÃ¬È¹oÉ´Í¹\0\0Í»Â»ÍnArrow;æÄeoÎÎ¤ftÆARTÎÎÎ¡rrow;æightArrow;æeÃ¥ËngÄLRÎ«ÏeftÄARÎ³Î¹rrow;æ¸ightArrow;æºightArrow;æ¹ightÄATÏÏrrow;æee;æ¨pÉÏ©\0\0Ï¯rrow;æownArrow;æerticalBar;æ¥nÌABLRTaÐÐªÐ°ÑÑ¿Í¼rrowÆ;BUÐÐÐ¢æar;æ¤pArrow;æµreve;äeftËÐº\0Ñ\0ÑightVector;æ¥eeVector;æ¥ectorÄ;BÑÑæ½ar;æ¥ightÇÑ§\0Ñ±eeVector;æ¥ectorÄ;BÑºÑ»æar;æ¥eeÄ;AÒÒæ¤rrow;æ§ÄctÒÒr;ìðrok;äà NTacdfglmopqstuxÒ½ÓÓÓÓÓ¢Ó§Ó®ÓµÔ¡Ô¯Ô¶ÕÕÕ Õ¥G;äHè»Ãäcuteè»ÃäÆaiyÓÓÓron;ärcè»Ãä;ä­ot;är;ìðraveè»Ãäement;æÄapÓºÓ¾cr;ätyÉÔ\0\0ÔmallSquare;æ»erySmallSquare;æ«ÄgpÔ¦Ôªon;äf;ìð¼silon;äuÄaiÔ¼ÕlÄ;TÕÕæ©µilde;ælibrium;æÄciÕÕr;æ°m;æ©³a;ämlè»ÃäÄipÕªÕ¯sts;æonentialE;æÊcfiosÖÖÖÖ²×y;ä¤r;ìðlledÉÖ\0\0Ö£mallSquare;æ¼erySmallSquare;æªÍ°Öº\0Ö¿\0\0×f;ìð½All;æriertrf;æ±cÃ²×ØJTabcdfgorst×¨×¬×¯×ºØØØØØØ£Ù¬Ù²cy;äè»>ä¾mmaÄ;d×·×¸ä;äreve;äÆeiyØØØdil;ä¢rc;ä;äot;ä r;ìð;æpf;ìð¾eaterÌEFGLSTØµÙÙÙÙÙ¦qualÄ;LØ¾Ø¿æ¥ess;æullEqual;æ§reater;æª¢ess;æ·lantEqual;æ©¾ilde;æ³cr;ìð¢;æ«ÐAacfiosuÚÚÚÚÚÚªÚ¾ÛRDcy;äªÄctÚÚek;ä;äirc;ä¤r;ælbertSpace;æÇ°Ú¯\0Ú²f;æizontalLine;æÄctÛÛÃ²Ú©rok;ä¦mpÅÛÛownHumÃ°Ä¯qual;æÜEJOacdfgmnostuÛºÛ¾ÜÜÜÜÜÜ¡Ü¨ÝÝ¸ÞÞÞcy;älig;ä²cy;äcuteè»ÃäÄiyÜÜrcè»Ãä;äot;ä°r;æraveè»ÃäÆ;apÜ Ü¯Ü¿ÄcgÜ´Ü·r;äªinaryI;ælieÃ³ÏÇ´Ý\0Ý¢Ä;eÝÝæ¬ÄgrÝÝral;æ«section;æisibleÄCTÝ¬Ý²omma;æ£imes;æ¢ÆgptÝ¿ÞÞon;ä®f;ìða;äcr;æilde;ä¨Ç«Þ\0Þcy;älè»ÃäÊcfosuÞ¬Þ·Þ¼ßßÄiyÞ±Þµrc;ä´;är;ìðpf;ìðÇ£ß\0ßr;ìð¥rcy;äkcy;äÎHJacfosß¤ß¨ß¬ß±ß½à à cy;ä¥cy;äppa;äÄeyß¶ß»dil;ä¶;är;ìðpf;ìðcr;ìð¦ÖJTaceflmostà ¥à ©à ¬à¡à¡£à¦³à¦¸à§à§à¨·à©cy;äè»<ä¼Êcmnprà ·à ¼à¡à¡à¡ute;ä¹bda;äg;æªlacetrf;ær;æÆaeyà¡à¡à¡¡ron;ä½dil;ä»;äÄfsà¡¨à¥°tÔACDFRTUVarà¡¾à¢©à¢±à£ à£¦à£¼à¤¯à¥Îà¥ªÄnrà¢à¢gleBracket;æ¨rowÆ;BRà¢à¢à¢æar;æ¤ightArrow;æeiling;æoÇµà¢·\0à£bleBracket;æ¦nÇà£\0à£eeVector;æ¥¡ectorÄ;Bà£à£æar;æ¥loor;æightÄAVà£¯à£µrrow;æector;æ¥Äerà¤à¤eÆ;AVà¤à¤à¤æ£rrow;æ¤ector;æ¥iangleÆ;BEà¤¤à¤¥à¤©æ²ar;æ§qual;æ´pÆDTVà¤·à¥à¥ownVector;æ¥eeVector;æ¥ ectorÄ;Bà¥à¥æ¿ar;æ¥ectorÄ;Bà¥¥à¥¦æ¼ar;æ¥ightÃ¡ÎsÌEFGLSTà¥¾à¦à¦à¦à¦¢à¦­qualGreater;æullEqual;æ¦reater;æ¶ess;æª¡lantEqual;æ©½ilde;æ²r;ìðÄ;eà¦½à¦¾æftarrow;æidot;ä¿Ænpwà§à¨à¨gÈLRlrà§à§·à¨à¨eftÄARà§¦à§¬rrow;æµightArrow;æ·ightArrow;æ¶eftÄarÎ³à¨ightÃ¡Î¿ightÃ¡Ïf;ìðerÄLRà¨¢à¨¬eftArrow;æightArrow;æÆchtà¨¾à©à©Ã²à¡;æ°rok;ä;æªÐacefiosuà©à©à© à©·à©¼àªàªàªp;æ¤y;äÄdlà©¥à©¯iumSpace;ælintrf;æ³r;ìðnusPlus;æpf;ìðcÃ²à©¶;äÒJacefostuàª£àª§àª­à«à¬à¬à¶à¶à¶cy;äcute;äÆaeyàª´àª¹àª¾ron;ädil;ä;äÆgswà«à«°à¬ativeÆMTVà«à«à«¨ediumSpace;æhiÄcnà«¦à«Ã«à«eryThiÃ®à«tedÄGLà«¸à¬reaterGreateÃ²Ù³essLesÃ³à©Line;är;ìðÈBnptà¬¢à¬¨à¬·à¬ºreak;æ BreakingSpace;ä f;æÚ;CDEGHLNPRSTVà­à­à­ªà­¼à®¡à¯«à°à±à²à²¦à³àµ¡à¶æ«¬Äouà­à­¤ngruent;æ¢pCap;æ­oubleVerticalBar;æ¦Ælqxà®à®à®ement;æualÄ;Tà®à®æ ilde;ìâÌ¸ists;æreaterÎ;EFGLSTà®¶à®·à®½à¯à¯à¯à¯¥æ¯qual;æ±ullEqual;ìâ§Ì¸reater;ìâ«Ì¸ess;æ¹lantEqual;ìâ©¾Ì¸ilde;æµumpÅà¯²à¯½ownHump;ìâÌ¸qual;ìâÌ¸eÄfsà°à°§tTriangleÆ;BEà°à°à°¡æªar;ìâ§Ì¸qual;æ¬sÌ;EGLSTà°µà°¶à°¼à±à±à±æ®qual;æ°reater;æ¸ess;ìâªÌ¸lantEqual;ìâ©½Ì¸ilde;æ´estedÄGLà±¨à±¹reaterGreater;ìâª¢Ì¸essLess;ìâª¡Ì¸recedesÆ;ESà²à²à²æqual;ìâª¯Ì¸lantEqual;æ Äeià²«à²¹verseElement;æghtTriangleÆ;BEà³à³à³æ«ar;ìâ§Ì¸qual;æ­Äquà³à´uareSuÄbpà³¨à³¹setÄ;Eà³°à³³ìâÌ¸qual;æ¢ersetÄ;Eà´à´ìâÌ¸qual;æ£Æbcpà´à´¤àµsetÄ;Eà´à´ìââqual;æceedsÈ;ESTà´²à´³à´»àµæqual;ìâª°Ì¸lantEqual;æ¡ilde;ìâ¿Ì¸ersetÄ;Eàµàµìââqual;æildeÈ;EFTàµ®àµ¯àµµàµ¿æqual;æullEqual;æilde;æerticalBar;æ¤cr;ìð©ildeè»Ãä;äÜEacdfgmoprstuvà¶½à·à·à·à·à· à·§à·¼à¸à¸ à¸¢à¸²à¸¿à¹lig;äcuteè»ÃäÄiyà·à·rcè»Ãä;äblac;är;ìðraveè»ÃäÆaeià·®à·²à·¶cr;äga;ä©cron;äpf;ìðenCurlyÄDQà¸à¸oubleQuote;æuote;æ;æ©Äclà¸§à¸¬r;ìðªashè»ÃäiÅ¬à¸·à¸¼deè»Ãäes;æ¨·mlè»ÃäerÄBPà¹à¹ Äarà¹à¹r;æ¾acÄekà¹à¹;æet;æ´arenthesis;æÒacfhilorsà¹¿àºàºàºàºàºàºàº°à»¼rtialD;æy;är;ìði;ä¦;ä usMinus;ä±Äipàº¢àº­ncareplanÃ¥Úf;æÈ;eioàº¹àººà» à»¤æª»cedesÈ;ESTà»à»à»à»æºqual;æª¯lantEqual;æ¼ilde;æ¾me;æ³Ädpà»©à»®uct;æortionÄ;aÈ¥à»¹l;æÄcià¼à¼r;ìð«;ä¨ÈUfosà¼à¼à¼à¼OTè»"ä¢r;ìðpf;æcr;ìð¬ØBEacefhiorsuà¼¾à½à½à½ à½³à¾§à¾ªà¾­áá©á´á¾arr;æ¤Gè»Â®ä®Æcnrà½à½à½ute;äg;æ«rÄ;tà½à½æ l;æ¤Æaeyà½§à½¬à½±ron;ädil;ä;ä Ä;và½¸à½¹æerseÄEUà¾à¾Älqà¾à¾ement;æuilibrium;æpEquilibrium;æ¥¯rÂ»à½¹o;ä¡ghtÐACDFTUVaà¿à¿«à¿³á¢á¨ááÏÄnrà¿à¿gleBracket;æ©rowÆ;BLà¿à¿à¿¡æar;æ¥eftArrow;æeiling;æoÇµà¿¹\0ábleBracket;æ§nÇá\0áeeVector;æ¥ectorÄ;Bááæar;æ¥loor;æÄerá­áeÆ;AVáµá¶á¼æ¢rrow;æ¦ector;æ¥iangleÆ;BEáááæ³ar;æ§qual;æµpÆDTVá£á®á¸ownVector;æ¥eeVector;æ¥ectorÄ;Bááæ¾ar;æ¥ectorÄ;Bááæar;æ¥Äpuááf;ændImplies;æ¥°ightarrow;æÄchá¹á¼r;æ;æ±leDelayed;æ§´ÚHOacfhimoqstuá¤á±á·á½ááááá¡á§áµá»á¿ÄCcá©á®Hcy;ä©y;ä¨FTcy;ä¬cute;äÊ;aeiyáááááæª¼ron;ä dil;ärc;ä;ä¡r;ìðortÈDLRUáªá´á¾áownArrowÂ»ÐeftArrowÂ»à¢ightArrowÂ»à¿pArrow;ægma;ä£allCircle;æpf;ìðÉ²á­\0\0á°t;æareÈ;ISUá»á¼áá¯æ¡ntersection;æuÄbpáásetÄ;Eááæqual;æersetÄ;Eá¨á©æqual;ænion;æcr;ìð®ar;æÈbcmpááááÄ;sááæetÄ;Eááqual;æÄchá áeedsÈ;ESTá­á®á´á¿æ»qual;æª°lantEqual;æ½ilde;æ¿ThÃ¡à¾;æÆ;esááá£ærsetÄ;Eááæqual;æetÂ»áÖHRSacfhiorsá¾ááááá±á¶ááááORNè»ÃäADE;æ¢ÄHcáácy;äy;ä¦Äbuáá;ä;ä¤Æaeyá¥áªá¯ron;ä¤dil;ä¢;ä¢r;ìðÄeiá»áÇ²á\0áefore;æ´a;äÄcnáákSpace;ìââSpace;ældeÈ;EFTá«á¬á²á¼æ¼qual;æullEqual;æilde;æpf;ìðipleDot;æÄctáár;ìð¯rok;ä¦à«¡á·ááá¦\0á¬á±\0\0\0\0\0á¸á½á·á\0á¿áááÄcrá»áuteè»ÃärÄ;oááæcir;æ¥rÇ£á\0áy;äve;ä¬Äiyáá£rcè»Ãä;ä£blac;ä°r;ìðraveè»Ãäacr;äªÄdiáá©erÄBPááÄaráár;äacÄekáá;æet;æµarenthesis;æonÄ;Pá°á±ælus;æÄgpá»á¿on;ä²f;ìðÐADETadpsáá®á¸áÏ¨ááá³rrowÆ;BDáá á¤ar;æ¤ownArrow;æownArrow;æquilibrium;æ¥®eeÄ;Aááæ¥rrow;æ¥ownÃ¡Ï³erÄLRáá¨eftArrow;æightArrow;æiÄ;lá¹áºäon;ä¥ing;ä®cr;ìð°ilde;ä¨mlè»ÃäÒDbcdefosvá§á¬á°á³á¾ááááash;æ«ar;æ««y;äashÄ;lá»á¼æ©;æ«¦Äeráá;æÆbtyáááºar;æÄ;iáácalÈBLSTá¡á¥áªá´ar;æ£ine;ä¼eparator;æilde;æThinSpace;ær;ìðpf;ìðcr;ìð±dash;æªÊcefosá§á¬á±á¶á¼irc;ä´dge;ær;ìðpf;ìðcr;ìð²Èfiosáááár;ìð;äpf;ìðcr;ìð³ÒAIUacfosuá±áµá¹á½ááááá cy;ä¯cy;äcy;ä®cuteè»ÃäÄiyáárc;ä¶;ä«r;ìðpf;ìðcr;ìð´ml;ä¸ÐHacdefosáµá¹á¿áááá á¤cy;äcute;ä¹Äayááron;ä½;äot;ä»Ç²á\0áoWidtÃ¨à«a;är;æ¨pf;æ¤cr;ìðµà¯¡ááá\0á°á¶á¿\0\0\0\0ááá«áá­\0ááá²á¹\0á¾cuteè»Ã¡ä¡reve;äÌ;Ediuyááá¡á£á¨á­æ¾;ìâ¾Ì³;æ¿rcè»Ã¢ä¢teè»Â´Ì;ä°ligè»Ã¦ä¦Ä;rÂ²áº;ìðraveè»Ã ä ÄepááÄfpáásym;æµÃ¨áha;ä±ÄapácÄclá¤á§r;äg;æ¨¿É¤á°\0\0áÊ;adsváºá»á¿ááæ§nd;æ©;æ©lope;æ©;æ©Î;elmrszááááá¿ááæ ;æ¦¤eÂ»ásdÄ;aá¥á¦æ¡Ñ¡á°á²á´á¶á¸áºá¼á¾;æ¦¨;æ¦©;æ¦ª;æ¦«;æ¦¬;æ¦­;æ¦®;æ¦¯tÄ;vááæbÄ;dááæ¾;æ¦Äptááh;æ¢Â»Â¹arr;æ¼Ägpá£á§on;äf;ìðÎ;Eaeiopáá»á½áááá;æ©°cir;æ©¯;æd;æs;ä§roxÄ;eááÃ±áingè»Ã¥ä¥Æctyá¡á¦á¨r;ìð¶;äªmpÄ;eáá¯Ã±Êildeè»Ã£ä£mlè»Ã¤ä¤ÄciááoninÃ´É²nt;æ¨à Nabcdefiklnoprsuá­á±á°á¼ááá¸á½á á¦á ¹á¡áá¤½á¥á¥°ot;æ«­Äcrá¶ákÈcepsááááong;æpsilon;ä¶rime;æµimÄ;eááæ½q;æÅ¶á¢á¦ee;æ½edÄ;gá¬á­æeÂ»á­rkÄ;táá·brk;æ¶Äoyáá;ä±quo;æÊcmprtááá¡á¤á¨ausÄ;eÄÄptyv;æ¦°sÃ©ánoÃµÄÆahwá¯á±á³;ä²;æ¶een;æ¬r;ìðgÎcostuvwááá³ááááÆaiuáááÃ°Ý rc;æ¯pÂ»á±Ædptá¤á¨á­ot;æ¨lus;æ¨imes;æ¨É±á¹\0\0á¾cup;æ¨ar;æriangleÄduááown;æ½p;æ³plus;æ¨eÃ¥áÃ¥á­arow;æ¤Æakoá­á ¦á µÄcná²á £kÆlstáºÖ«á ozenge;æ§«riangleÈ;dlrá á á á æ´own;æ¾eft;æight;æ¸k;æ£Æ±á «\0á ³Æ²á ¯\0á ±;æ;æ4;æck;æÄeoá ¾á¡Ä;qá¡á¡ì=â¥uiv;ìâ¡â¥t;æÈptwxá¡á¡á¡§á¡¬f;ìðÄ;táá¡£omÂ»átie;æØDHUVbdhmptuvá¢á¢á¢ªá¢»á£á£á£¬á£¿á¤á¤á¤á¤¡ÈLRlrá¢á¢á¢á¢;æ;æ;æ;æÊ;DUduá¢¡á¢¢á¢¤á¢¦á¢¨æ;æ¦;æ©;æ¤;æ§ÈLRlrá¢³á¢µá¢·á¢¹;æ;æ;æ;æÎ;HLRhlrá£á£á£á£á£á£á£æ;æ¬;æ£;æ ;æ«;æ¢;æox;æ§ÈLRlrá£¤á£¦á£¨á£ª;æ;æ;æ;æÊ;DUduÚ½á£·á£¹á£»á£½;æ¥;æ¨;æ¬;æ´inus;ælus;æimes;æ ÈLRlrá¤á¤á¤á¤;æ;æ;æ;æÎ;HLRhlrá¤°á¤±á¤³á¤µá¤·á¤¹á¤»æ;æª;æ¡;æ;æ¼;æ¤;æÄevÄ£á¥barè»Â¦ä¦Èceioá¥á¥á¥á¥ r;ìð·mi;æmÄ;eáálÆ;bhá¥¨á¥©á¥«ä;æ§sub;æÅ¬á¥´á¥¾lÄ;eá¥¹á¥ºæ¢tÂ»á¥ºpÆ;EeÄ¯á¦á¦;æª®Ä;qÛÛà³¡á¦§\0á§¨á¨á¨á¨²\0á¨·á©\0\0áª´\0\0á«\0\0á¬¡á¬®á­á­\0á¯½\0á°Æcprá¦­á¦²á§ute;äÌ;abcdsá¦¿á§á§á§á§á§æ©nd;æ©rcup;æ©Äauá§á§p;æ©p;æ©ot;æ©;ìâ©ï¸Äeoá§¢á§¥t;æÃ®ÚÈaeiuá§°á§»á¨á¨Ç°á§µ\0á§¸s;æ©on;ädilè»Ã§ä§rc;äpsÄ;sá¨á¨æ©m;æ©ot;äÆdmná¨á¨ á¨¦ilè»Â¸Æ­ptyv;æ¦²tèÂ¢;eá¨­á¨®ä¢rÃ¤Æ²r;ìð Æceiá¨½á©á©y;äckÄ;má©á©æarkÂ»á©;ärÎ;Ecefmsá©á© á©¢á©«áª¤áªªáª®æ;æ§Æ;elá©©á©ªá©­äq;æeÉ¡á©´\0\0áªrrowÄlrá©¼áªeft;æºight;æ»ÊRSacdáªáªáªáªáªÂ»à½;æst;æirc;æash;ænint;æ¨id;æ«¯cir;æ§ubsÄ;uáª»áª¼æ£itÂ»áª¼Ë¬á«á«á«º\0á¬onÄ;eá«á«äºÄ;qÃÃÉ­á«\0\0á«¢aÄ;tá«á«ä¬;äÆ;flá«¨á«©á««æÃ®á eÄmxá«±á«¶entÂ»á«©eÃ³ÉÇ§á«¾\0á¬Ä;dá»á¬ot;æ©­nÃ´ÉÆfryá¬á¬á¬;ìðoÃ¤ÉèÂ©;sÅá¬r;æÄaoá¬¥á¬©rr;æµss;æÄcuá¬²á¬·r;ìð¸Äbpá¬¼á­Ä;eá­á­æ«;æ«Ä;eá­á­æ«;æ«dot;æ¯Îdelprvwá­ á­¬á­·á®á®¬á¯á¯¹arrÄlrá­¨á­ª;æ¤¸;æ¤µÉ°á­²\0\0á­µr;æc;æarrÄ;pá­¿á®æ¶;æ¤½Ì;bcdosá®á®á®á®¡á®¥á®¨æªrcap;æ©Äauá®á®p;æ©p;æ©ot;ær;æ©;ìâªï¸Èalrvá®µá®¿á¯á¯£rrÄ;má®¼á®½æ·;æ¤¼yÆevwá¯á¯á¯qÉ°á¯\0\0á¯reÃ£á­³uÃ£á­µee;æedge;æenè»Â¤ä¤earrowÄlrá¯®á¯³eftÂ»á®ightÂ»á®½eÃ¤á¯Äciá°á°oninÃ´Ç·nt;æ±lcty;æ­à¦AHabcdefhijlorstuwzá°¸á°»á°¿á±á±©á±µá²á²á²¬á²·á³»á³¿á´áµ»á¶á¶«á¶»á·á·rÃ²Îar;æ¥¥Èglrsá±á±á±á±ger;æ eth;æ¸Ã²á³hÄ;vá±á±æÂ»à¤Å«á±¡á±§arow;æ¤aÃ£ÌÄayá±®á±³ron;ä;ä´Æ;aoÌ²á±¼á²ÄgrÊ¿á²r;ætseq;æ©·Æglmá²á²á²è»Â°ä°ta;ä´ptyv;æ¦±Äirá²£á²¨sht;æ¥¿;ìð¡arÄlrá²³á²µÂ»à£Â»áÊaegsvá³Í¸á³á³á³ mÆ;osÌ¦á³á³ndÄ;sÌ¦á³uit;æ¦amma;äin;æ²Æ;ioá³§á³¨á³¸ä·deèÃ·;oá³§á³°ntimes;ænÃ¸á³·cy;äcÉ¯á´\0\0á´rn;æop;æÊlptuwá´á´á´¢áµáµlar;ä¤f;ìðÊ;empsÌá´­á´·á´½áµqÄ;dÍá´³ot;æinus;æ¸lus;æquare;æ¡blebarwedgÃ¥ÃºnÆadhá®áµáµ§ownarrowÃ³á²arpoonÄlráµ²áµ¶efÃ´á²´ighÃ´á²¶Å¢áµ¿á¶karoÃ·à½É¯á¶\0\0á¶rn;æop;æÆcotá¶á¶£á¶¦Äryá¶á¶¡;ìð¹;äl;æ§¶rok;äÄdrá¶°á¶´ot;æ±iÄ;fá¶ºá æ¿Äahá·á·rÃ²Ð©aÃ²à¾¦angle;æ¦¦Äciá·á·y;ägrarr;æ¿à¤Dacdefglmnopqrstuxá¸á¸á¸á¸¸Õ¸á¸¼á¹á¹¡á¹¾áº¥áº¯áº½á»¡á¼ªá¼·á½á½á½ÄDoá¸á´´oÃ´á²Äcsá¸á¸uteè»Ã©ä©ter;æ©®Èaioyá¸¢á¸§á¸±á¸¶ron;ärÄ;cá¸­á¸®æè»Ãªäªlon;æ;äot;äÄDrá¹á¹ot;æ;ìð¢Æ;rsá¹á¹á¹æªaveè»Ã¨ä¨Ä;dá¹á¹æªot;æªÈ;ilsá¹ªá¹«á¹²á¹´æªnters;æ§;æÄ;dá¹¹á¹ºæªot;æªÆapsáºáºáºcr;ätyÆ;sváºáºáºæetÂ»áºpÄ1;áºáº¤Ä³áº¡áº£;æ;ææÄgsáºªáº¬;äp;æÄgpáº´áº¸on;äf;ìðÆalsá»á»á»rÄ;sá»á»æl;æ§£us;æ©±iÆ;lvá»á»á»äµonÂ»á»;äµÈcsuvá»ªá»³á¼á¼£Äioá»¯á¸±rcÂ»á¸®É©á»¹\0\0á»»Ã­ÕantÄglá¼á¼trÂ»á¹essÂ»á¹ºÆaeiá¼á¼á¼ls;ä½st;ævÄ;DÈµá¼ D;æ©¸parsl;æ§¥ÄDaá¼¯á¼³ot;ærr;æ¥±Æcdiá¼¾á½á»¸r;æ¯oÃ´ÍÄahá½á½;ä·è»Ã°ä°Ämrá½á½lè»Ã«ä«o;æ¬Æcipá½¡á½¤á½§l;ä¡sÃ´Õ®Äeoá½¬á½´ctatioÃ®ÕnentialÃ¥Õ¹à§¡á¾\0á¾\0á¾¡á¾§\0\0á¿á¿\0á¿\0á¿¦á¿ªâ\0ââllingdotseÃ±á¹y;ämale;æÆilrá¾­á¾³á¿lig;èï¬É©á¾¹\0\0á¾½g;èï¬ig;èï¬;ìð£lig;èï¬lig;ìfjÆaltá¿á¿á¿¡t;æ­ig;èï¬ns;æ±of;äÇ°á¿®\0á¿³f;ìðÄakÖ¿á¿·Ä;vá¿¼á¿½æ;æ«artint;æ¨ÄaoââÄcsââÎ±ââ°â¸ââ\0âÎ²â¢â¥â§âªâ¬\0â®è»Â½ä½;æè»Â¼ä¼;æ;æ;æÆ³â´\0â¶;æ;æÊ´â¾â\0\0âè»Â¾ä¾;æ;æ5;æÆ¶â\0â;æ;æ8;æl;æwn;æ¢cr;ìð»à¢Eabcdefgijlnorstvââââ¥â°â´â°âµâºâ¿âââ¸Ìâ¾ââÄ;lÙâ;æªÆcmpâââute;äµmaÄ;dâá³ä³;æªreve;äÄiyâªâ®rc;ä;ä³ot;ä¡È;lqsØ¾Ùâ½âÆ;qsØ¾ÙâlanÃ´Ù¥È;cdlÙ¥âââ¥c;æª©otÄ;oââæªÄ;lâ¢â£æª;æªÄ;eâªâ­ìâï¸s;æªr;ìð¤Ä;gÙ³Ømel;æ·cy;äÈ;EajÙâââ;æª;æª¥;æª¤ÈEaesâââ©â´;æ©pÄ;pâ£â¤æªroxÂ»â¤Ä;qâ®â¯æªÄ;qâ®âim;æ§pf;ìðÄciââr;æmÆ;elÙ«ââ;æª;æªè>;cdlqr×®â âªâ®â³â¹Äciâ¥â§;æª§r;æ©ºot;æPar;æ¦uest;æ©¼ÊadelsââªâÙâÇ°â\0âproÃ¸âr;æ¥¸qÄlqØ¿âlesÃ³âiÃ­Ù«Äenâ£â­rtneqq;ìâ©ï¸ÃâªÔAabcefkosyâââ±âµâºâââ¯â¨â½rÃ²Î ÈilmrâââârsÃ°áfÂ»â¤ilÃ´Ú©Ädrâ â¤cy;äÆ;cwà£´â«â¯ir;æ¥;æ­ar;æirc;ä¥ÆalrââârtsÄ;uââæ¥itÂ»âlip;æ¦con;æ¹r;ìð¥sÄewâ£â©arow;æ¤¥arow;æ¤¦Êamoprâºâ¾âââ£rr;æ¿tht;æ»kÄlrââeftarrow;æ©ightarrow;æªf;ìðbar;æÆcltâ¯â´â¸r;ìð½asÃ¨â´rok;ä§Äbpââull;æhenÂ»á±à«¡â£\0âª\0â¸ââ\0ââ³\0\0â¸â¢â§â¢â¿\0ââªâ´cuteè»Ã­ä­Æ;iyÝ±â°âµrcè»Ã®ä®;ä¸Äcxâ¼â¿y;äµclè»Â¡ä¡ÄfrÎâ;ìð¦raveè»Ã¬ä¬È;inoÜ¾ââ©â®Äinâ¢â¦nt;æ¨t;æ­fin;æ§ta;æ©lig;ä³Æaopâ¾ââÆcgtâââr;ä«ÆelpÜââinÃ¥ÞarÃ´Ü h;ä±f;æ·ed;äµÊ;cfotÓ´â¬â±â½âare;æinÄ;tâ¸â¹æie;æ§doÃ´âÊ;celpÝââââ¡al;æºÄgrââerÃ³á£Ã£âarhk;æ¨rod;æ¨¼Ècgptâ¯â²â¶â»y;äon;ä¯f;ìða;ä¹uestè»Â¿ä¿Äciââr;ìð¾nÊ;EdsvÓ´âââ¡Ó³;æ¹ot;æµÄ;vâ¦â§æ´;æ³Ä;iÝ·â®lde;ä©Ç«â¸\0â¼cy;älè»Ã¯ä¯Ìcfmosuââââ¡â§âµÄiyâârc;äµ;ä¹r;ìð§ath;ä·pf;ìðÇ£â¬\0â±r;ìð¿rcy;äkcy;äÐacfghjosâââ¢â§â­â±âµâ»ppaÄ;vââäº;ä°Äeyââ dil;ä·;äºr;ìð¨reen;ä¸cy;äcy;äpf;ìðcr;ìðà®ABEHabcdefghjlmnoprstuvâ°ââââââ½âââââ¥â¹â½ââ²âââ¨âââ â Æartâ·âºâ¼rÃ²à§Ã²Îail;æ¤arr;æ¤Ä;gà¦â;æªar;æ¥¢à¥£â¥\0âª\0â±\0\0\0\0\0âµâº\0âââ\0â¹ute;äºmptyv;æ¦´raÃ®à¡bda;ä»gÆ;dlà¢ââ;æ¦Ã¥à¢;æªuoè»Â«ä«rÐ;bfhlpstà¢ââ¦â©â«â®â±âµÄ;fà¢â£s;æ¤s;æ¤Ã«âp;æ«l;æ¤¹im;æ¥³l;æ¢Æ;aeâ¿ââæª«il;æ¤Ä;sââæª­;ìâª­ï¸Æabrââârr;æ¤rk;æ²Äakâ¢â¬cÄekâ¨âª;ä»;äÄesâ±â³;æ¦lÄduâ¹â»;æ¦;æ¦Èaeuyââââron;ä¾Ädiââil;ä¼Ã¬à¢°Ã¢â©;ä»Ècqrsâ£â¦â­â½a;æ¤¶uoÄ;rà¸áÄduâ²â·har;æ¥§shar;æ¥h;æ²Ê;fgqsââà¦â³â¿æ¤tÊahlrtââ¤â·ââ¨rrowÄ;tà¢â¡aÃ©â¶arpoonÄduâ¯â´ownÂ»ÑpÂ»à¥¦eftarrows;æightÆahsââârrowÄ;sà£´à¢§arpoonÃ³à¾quigarroÃ·â°hreetimes;æÆ;qsâà¦âºlanÃ´à¦¬Ê;cdgsà¦¬ââââ¨c;æª¨otÄ;oââæ©¿Ä;rââæª;æªÄ;eâ¢â¥ìâï¸s;æªÊadegsâ³â¹â½ââpproÃ¸âot;æqÄgqââÃ´à¦gtÃ²âÃ´à¦iÃ­à¦²Æilrâà£¡âsht;æ¥¼;ìð©Ä;Eà¦â£;æªÅ¡â©â¶rÄduâ²â®Ä;là¥¥â³;æ¥ªlk;æcy;äÊ;achtà©âââârÃ²âorneÃ²á´ard;æ¥«ri;æºÄioââ¤dot;äustÄ;aâ¬â­æ°cheÂ»â­ÈEaesâ»â½ââ;æ¨pÄ;pââæªroxÂ»âÄ;qââæªÄ;qââ»im;æ¦Ðabnoptwzâ©â´â·ââ¯âââÄnrâ®â±g;æ¬r;æ½rÃ«à£gÆlmrâ¿ââeftÄarà§¦âightÃ¡à§²apsto;æ¼ightÃ¡à§½parrowÄlrâ¥â©efÃ´â­ight;æ¬Æaflâ¶â¹â½r;æ¦;ìðus;æ¨­imes;æ¨´Å¡ââst;æÃ¡áÆ;efââá ængeÂ»âarÄ;lâ¤â¥ä¨t;æ¦Êachmtâ³â¶â¼âârÃ²à¢¨orneÃ²á¶arÄ;dà¾â;æ¥­;æri;æ¿Ìachiqtââà©â¢â®â»quo;æ¹r;ìðmÆ;egà¦²âªâ¬;æª;æªÄbuâªâ³oÄ;rà¸â¹;ærok;äè<;cdhilqrà «ââ¹ââ â¥âªâ°Äciââ;æª¦r;æ©¹reÃ¥â²mes;æarr;æ¥¶uest;æ©»ÄPiâµâ¹ar;æ¦Æ;efâ à¤­á ærÄduâ â shar;æ¥har;æ¥¦Äenâ â ¡rtneqq;ìâ¨ï¸Ãâ ÜDacdefhilnopsuâ¡â¡â¢â¢â¢â¢ â¢¥â¢¨â£â£¢â£¤àªâ£³â¤Dot;æºÈclprâ¡â¡â¡£â¡½rè»Â¯ä¯Äetâ¡â¡;æÄ;eâ¡â¡æ seÂ»â¡Ä;sá»â¡¨toÈ;dluá»â¡³â¡·â¡»owÃ®ÒefÃ´à¤Ã°áker;æ®Äoyâ¢â¢mma;æ¨©;ä¼ash;æasuredangleÂ»á¦r;ìðªo;æ§Æcdnâ¢¯â¢´â£roè»ÂµäµÈ;acdá¤â¢½â£â£sÃ´á§ir;æ«°otè»Â·ÆµusÆ;bdâ£á¤â£æÄ;uá´¼â£;æ¨ªÅ£â£â£¡p;æ«Ã²âÃ°àªÄdpâ£©â£®els;æ§f;ìðÄctâ£¸â£½r;ìðposÂ»áÆ;lmâ¤â¤â¤ä¼timap;æ¸à°GLRVabcdefghijlmoprstuvwâ¥â¥â¥¾â¦â¦â§â§©â¨â¨â©â©âªâªâª¤âª¨â¬â¬â­â­¿â®®â°´â±§â±¼â³©Ägtâ¥â¥;ìâÌ¸Ä;vâ¥à¯ìâ«âÆeltâ¥â¥²â¥¶ftÄarâ¥¡â¥§rrow;æightarrow;æ;ìâÌ¸Ä;vâ¥»à±ìâªâightarrow;æÄDdâ¦â¦ash;æ¯ash;æ®Êbcnptâ¦£â¦§â¦¬â¦±â§laÂ»Ëute;äg;ìâ âÊ;Eiopà¶â¦¼â§â§â§;ìâ©°Ì¸d;ìâÌ¸s;äroÃ¸à¶urÄ;aâ§â§æ®lÄ;sâ§à¬¸Ç³â§\0â§£pè»Â à¬·mpÄ;eà¯¹à°Êaeouyâ§´â§¾â¨â¨â¨Ç°â§¹\0â§»;æ©on;ädil;ängÄ;dàµ¾â¨ot;ìâ©­Ì¸p;æ©;ä½ash;æÎ;Aadqsxà®â¨©â¨­â¨»â©â©â©rr;ærÄhrâ¨³â¨¶k;æ¤¤Ä;oá²á°ot;ìâÌ¸uiÃ¶à­£Äeiâ©â©ar;æ¤¨Ã­à®istÄ;sà® à®r;ìð«ÈEestà¯â©¦â©¹â©¼Æ;qsà®¼â©­à¯¡Æ;qsà®¼à¯â©´lanÃ´à¯¢iÃ­à¯ªÄ;rà®¶âªÂ»à®·ÆAapâªâªâªrÃ²â¥±rr;æ®ar;æ«²Æ;svà¾âªà¾Ä;dâª¡âª¢æ¼;æºcy;äÎAEadestâª·âªºâª¾â«â«â«¶â«¹rÃ²â¥¦;ìâ¦Ì¸rr;ær;æ¥È;fqsà°»â«â«£â«¯tÄarâ«â«rroÃ·â«ightarroÃ·âªÆ;qsà°»âªºâ«ªlanÃ´à±Ä;sà±â«´Â»à°¶iÃ­à±Ä;rà°µâ«¾iÄ;eà°à°¥iÃ¤à¶Äptâ¬â¬f;ìðèÂ¬;inâ¬â¬â¬¶ä¬nÈ;Edvà®â¬¤â¬¨â¬®;ìâ¹Ì¸ot;ìâµÌ¸Ç¡à®â¬³â¬µ;æ·;æ¶iÄ;và²¸â¬¼Ç¡à²¸â­â­;æ¾;æ½Æaorâ­â­£â­©rÈ;astà­»â­â­â­lleÃ¬à­»l;ìâ«½â¥;ìâÌ¸lint;æ¨Æ;ceà²â­°â­³uÃ¥à²¥Ä;cà²â­¸Ä;eà²â­½Ã±à²ÈAaitâ®â®â®â®§rÃ²â¦rrÆ;cwâ®â®â®æ;ìâ¤³Ì¸;ìâÌ¸ghtarrowÂ»â®riÄ;eà³à³Îchimpquâ®½â¯â¯â¬à­¸â¯¤â¯¯È;cerà´²â¯à´·â¯uÃ¥àµ;ìðortÉ­â¬\0\0â¯arÃ¡â­mÄ;eàµ®â¯Ä;qàµ´àµ³suÄbpâ¯«â¯­Ã¥à³¸Ã¥à´Æbcpâ¯¶â°â°È;Eesâ¯¿â°à´¢â°æ;ìâ«Ì¸etÄ;eà´â°qÄ;qà´£â°cÄ;eà´²â°Ã±à´¸È;Eesâ°¢â°£àµâ°§æ;ìâ«Ì¸etÄ;eàµâ°®qÄ;qàµ â°£Ègilrâ°½â°¿â±â±Ã¬à¯ldeè»Ã±ä±Ã§à±iangleÄlrâ±â±eftÄ;eà°â±Ã±à°¦ightÄ;eà³â±¥Ã±à³Ä;mâ±¬â±­ä½Æ;esâ±´â±µâ±¹ä£ro;æp;æÒDHadgilrsâ²â²â²â²â²£â²°â²¶â³â³£ash;æ­arr;æ¤p;ìââash;æ¬Äetâ²¨â²¬;ìâ¥â;ì>ânfin;æ§ÆAetâ²½â³â³rr;æ¤;ìâ¤âÄ;râ³â³ì<âie;ìâ´âÄAtâ³â³rr;æ¤rie;ìâµâim;ìâ¼âÆAanâ³°â³´â´rr;ærÄhrâ³ºâ³½k;æ¤£Ä;oá§á¥ear;æ¤§ááª\0\0\0\0\0\0\0\0\0\0\0\0\0â´­\0â´¸âµâµ âµ¥âµ²â¶á¬\0\0â¶â¶«\0â·â·\0â·â¸â¸«â¸¾â¹Äcsâ´±áªuteè»Ã³ä³Äiyâ´¼âµrÄ;cáªâµè»Ã´ä´;ä¾Êabiosáª âµâµÇâµlac;äv;æ¨¸old;æ¦¼lig;äÄcrâµ©âµ­ir;æ¦¿;ìð¬Í¯âµ¹\0\0âµ¼\0â¶n;äaveè»Ã²ä²;æ§Äbmâ¶à·´ar;æ¦µÈacitâ¶â¶â¶¥â¶¨rÃ²áªÄirâ¶â¶ r;æ¦¾oss;æ¦»nÃ¥à¹;æ§Æaeiâ¶±â¶µâ¶¹cr;äga;äÆcdnâ·â·Çron;ä¿;æ¦¶pf;ìð Æaelâ·â·Çr;æ¦·rp;æ¦¹Î;adiosvâ·ªâ·«â·®â¸â¸â¸â¸æ¨rÃ²áªÈ;efmâ··â·¸â¸â¸æ©rÄ;oâ·¾â·¿æ´fÂ»â·¿è»Âªäªè»Âºäºgof;æ¶r;æ©lope;æ©;æ©Æcloâ¸â¸¡â¸§Ã²â¸ashè»Ã¸ä¸l;æiÅ¬â¸¯â¸´deè»ÃµäµesÄ;aÇâ¸ºs;æ¨¶mlè»Ã¶ä¶bar;æ½à«¡â¹\0â¹½\0âºâº\0âº¢âº¹\0\0â»àº\0â¼\0\0â¼«â¾¼\0â¿rÈ;astÐâ¹§â¹²àºèÂ¶;lâ¹­â¹®ä¶leÃ¬ÐÉ©â¹¸\0\0â¹»m;æ«³;æ«½y;ä¿rÊcimptâºâºâºá¡¥âºnt;ä¥od;ä®il;æ°enk;æ±r;ìð­Æimoâº¨âº°âº´Ä;vâº­âº®ä;ämaÃ´à©¶ne;æÆ;tvâº¿â»â»ächforkÂ»á¿½;äÄauâ»â»nÄckâ»â»kÄ;hâ´â»;æÃ¶â´sÒ;abcdemstâ»³â»´á¤â»¹â»½â¼â¼â¼â¼ä«cir;æ¨£ir;æ¨¢Äouáµâ¼;æ¨¥;æ©²nè»Â±àºim;æ¨¦wo;æ¨§Æipuâ¼â¼ â¼¥ntint;æ¨f;ìð¡ndè»Â£ä£Ô;Eaceinosuà»â¼¿â½â½â½â¾â¾â¾â½¾â¾¶;æª³p;æª·uÃ¥à»Ä;cà»â½Ì;acensà»â½â½â½¦â½¨â½¾pproÃ¸â½urlyeÃ±à»Ã±à»Æaesâ½¯â½¶â½ºpprox;æª¹qq;æªµim;æ¨iÃ­à»meÄ;sâ¾àº®æ²ÆEasâ½¸â¾â½ºÃ°â½µÆdfpà»¬â¾â¾¯Æalsâ¾ â¾¥â¾ªlar;æ®ine;æurf;æÄ;tà»»â¾´Ã¯à»»rel;æ°Äciâ¿â¿r;ìð;äncsp;æÌfiopsuâ¿â¢â¿â¿¥â¿«â¿±r;ìð®pf;ìð¢rime;æcr;ìðÆaeoâ¿¸ããtÄeiâ¿¾ãrnionÃ³Ú°nt;æ¨stÄ;eããä¿Ã±á¼Ã´à¼àªABHabcdefhilmnoprstuxããããã ãã«ãã¢ã²ãããã¤ã©ãã®ã²ãã°ã·ÆartãããrÃ²á³Ã²Ïail;æ¤arÃ²á±¥ar;æ¥¤Îcdenqrtã¨ãµã¸ã¿ãããÄeuã­ã±;ìâ½Ì±te;äiÃ£á®mptyv;æ¦³gÈ;delà¿ããã;æ¦;æ¦¥Ã¥à¿uoè»Â»ä»rÖ;abcfhlpstwà¿ã¬ã¯ã·ã¹ã¼ã¾ããããp;æ¥µÄ;fà¿ ã´s;æ¤ ;æ¤³s;æ¤Ã«âÃ°â®l;æ¥im;æ¥´l;æ£;æÄaiããil;æ¤oÄ;nããæ¶alÃ³à¼Æabrã§ãªã®rÃ²á¥rk;æ³Äakã³ã½cÄekã¹ã»;ä½;äÄesãã;æ¦lÄduãã;æ¦;æ¦Èaeuyããã§ã©ron;äÄdiã¡ã¥il;äÃ¬à¿²Ã¢ãº;äÈclqsã´ã·ã½ãa;æ¤·dhar;æ¥©uoÄ;rÈÈh;æ³Æacgããà½lÈ;ipsà½¸ããánÃ¥á»arÃ´à¾©t;æ­Æilrã©á£ã®sht;æ¥½;ìð¯Äaoã·ãrÄduã½ã¿Â»Ñ»Ä;láã;æ¥¬Ä;vããä;ä±Ægnsãã¹ã¼htÌahlrstã¤ã°ããã¤ã®rrowÄ;tà¿ã­aÃ©ãarpoonÄduã»ã¿owÃ®ã¾pÂ»áeftÄahããrrowÃ³à¿ªarpoonÃ³Õightarrows;æquigarroÃ·ãhreetimes;æg;äingdotseÃ±á¼²ÆahmãããrÃ²à¿ªaÃ²Õ;æoustÄ;aããæ±cheÂ»ãmid;æ«®Èabptã²ã½ããÄnrã·ãºg;æ­r;æ¾rÃ«áÆaflãããr;æ¦;ìð£us;æ¨®imes;æ¨µÄapãã§rÄ;gã£ã¤ä©t;æ¦olint;æ¨arÃ²ã£Èachqã»ãá¼ãquo;æºr;ìðÄbuã»ãoÄ;rÈÈÆhirããã reÃ¥ã¸mes;æiÈ;eflãªáá ¡ã«æ¹tri;æ§luhar;æ¥¨;æàµ¡ãããã¬ã¸ã±\0ãºã¤\0\0ã¬ã°\0ã¨ããã­ã±ãã±\0ã\0\0ã³cute;äquÃ¯âºÔ;Eaceinpsyá­ã³ãµã¿ããããã¦ã©;æª´Ç°ãº\0ã¼;æª¸on;ä¡uÃ¥á¾Ä;dá³ãil;ärc;äÆEasããã;æª¶p;æªºim;æ©olint;æ¨iÃ­á;äotÆ;beã´áµãµæ;æ©¦ÎAacmstxãããããã£ã­rr;ærÄhrããÃ«â¨Ä;oà¨¶à¨´tè»Â§ä§i;ä»war;æ¤©mÄinã©Ã°nuÃ³Ã±t;æ¶rÄ;oã¶âìð°Èacoyãããã rp;æ¯Ähyããcy;ä;ärtÉ­ã\0\0ãiÃ¤á¤araÃ¬â¹¯è»Â­ä­Ägmã¨ã´maÆ;fvã±ã²ã²ä;äÐ;deglnprá«ãããããã¡ã¦ot;æ©ªÄ;qá±á°Ä;Eããæª;æª Ä;Eããæª;æªe;ælus;æ¨¤arr;æ¥²arÃ²á½Èaeitã¸ãããÄlsã½ãlsetmÃ©ãªhp;æ¨³parsl;æ§¤Ädlá£ãe;æ£Ä;eããæªªÄ;sã¢ã£æª¬;ìâª¬ï¸Æflpã®ã³ãtcy;äÄ;bã¸ã¹ä¯Ä;aã¾ã¿æ§r;æ¿f;ìð¤aÄdrãÐesÄ;uããæ itÂ»ãÆcsuã ã¹ãÄauã¥ã¯pÄ;sáã«;ìâï¸pÄ;sá´ãµ;ìâï¸uÄbpã¿ãÆ;esááãetÄ;eáãÃ±áÆ;esá¨á­ãetÄ;eá¨ãÃ±á®Æ;afá»ã¦Ö°rÅ¥ã«Ö±Â»á¼arÃ²áÈcemtã¹ã¾ããr;ìðtmÃ®Ã±iÃ¬ãarÃ¦á¾ÄarããrÄ;fãá¿æÄanãã­ightÄepã£ãªpsiloÃ®á» hÃ©âº¯sÂ»â¡Êbcmnpã»ãáããÒ;Edemnprsãããããã£ã¬ã±ã¶æ;æ«ot;æª½Ä;dáãot;æ«ult;æ«ÄEeã¨ãª;æ«;ælus;æª¿arr;æ¥¹Æeiuã½ããtÆ;enãããqÄ;qáãeqÄ;qã«ã¨m;æ«Äbpãã;æ«;æ«cÌ;acensá­ã¬ã²ã¹ã»ã¦pproÃ¸ãºurlyeÃ±á¾Ã±á³ÆaesãããpproÃ¸ãqÃ±ãg;æªÚ123;Edehlmnpsã©ã¬ã¯áã²ã´ãããããã¨ã­è»Â¹ä¹è»Â²ä²è»Â³ä³;æ«Äosã¹ã¼t;æª¾ub;æ«Ä;dá¢ãot;æ«sÄouããl;æb;æ«arr;æ¥»ult;æ«ÄEeã¤ã¦;æ«;ælus;æ«Æeiuã´ããtÆ;enáã¼ãqÄ;qá¢ã²eqÄ;qã§ã¤m;æ«Äbpãã;æ«;æ«ÆAanãã ã­rr;ærÄhrã¦ã¨Ã«â®Ä;oà¨«à¨©war;æ¤ªligè»Ãäà¯¡ããã áã³ã¹\0ã¾ã\0\0\0\0\0ãã\0ãã¬\0\0\0ãÉ²ã\0\0ãget;æ;ärÃ«à¹Æaeyã¦ã«ã°ron;ä¥dil;ä£;älrec;ær;ìð±Èeikoãããµã¼Ç²ã\0ãeÄ4fááaÆ;svãããä¸ym;äÄcnã¢ã²kÄasã¨ã®pproÃ¸áimÂ»á¬sÃ°áÄasãºã®Ã°árnè»Ã¾ä¾Ç¬Ìãâ§esèÃ;bdãããäÄ;aá¤ãr;æ¨±;æ¨°Æepsã¡ã£ãÃ¡â©È;bcfÒã¬ã°ã´ot;æ¶ir;æ«±Ä;oã¹ã¼ìð¥rk;æ«Ã¡ã¢rime;æ´Æaipããã¤dÃ¥áÎadempstã¡ããããããngleÊ;dlqrã°ã±ã¶ããæµownÂ»á¶»eftÄ;eâ ã¾Ã±à¤®;æightÄ;eãªãÃ±áot;æ¬inus;æ¨ºlus;æ¨¹b;æ§ime;æ¨»ezium;æ¢Æchtã²ã½ãÄryã·ã»;ìð;äcy;ärok;ä§ÄioããxÃ´á·headÄlrãã eftarroÃ·à¡ightarrowÂ»à½à¤AHabcdfghlmoprstuwãããã¤ã°ã¼ã ã ã £ã ´ã¡ã¡ã¡«ã¢©ã£ã£ã£ªã£¶rÃ²Ï­ar;æ¥£Äcrãã¢uteè»ÃºäºÃ²árÇ£ãª\0ã­y;äve;ä­Äiyãµãºrcè»Ã»ä»;äÆabhã ã ã rÃ²á­lac;ä±aÃ²áÄirã ã sht;æ¥¾;ìð²raveè»Ã¹ä¹Å¡ã §ã ±rÄlrã ¬ã ®Â»à¥Â»álk;æÄctã ¹ã¡É¯ã ¿\0\0ã¡rnÄ;eã¡ã¡ærÂ»ã¡op;æri;æ¸Äalã¡ã¡cr;ä«è»Â¨ÍÄgpã¡¢ã¡¦on;ä³f;ìð¦Ìadhlsuáã¡¸ã¡½á²ã¢ã¢ ownÃ¡á³arpoonÄlrã¢ã¢efÃ´ã ­ighÃ´ã ¯iÆ;hlã¢ã¢ã¢äÂ»áºonÂ»ã¢parrows;æÆcitã¢°ã£ã£É¯ã¢¶\0\0ã£rnÄ;eã¢¼ã¢½ærÂ»ã¢½op;æng;ä¯ri;æ¹cr;ìðÆdirã£ã£ã£¢ot;æ°lde;ä©iÄ;fã°ã£¨Â»á Äamã£¯ã£²rÃ²ã¢¨lè»Ã¼ä¼angle;æ¦§ÞABDacdeflnoprszã¤ã¤ã¤©ã¤­ã¦µã¦¸ã¦½ã§ã§¤ã§¨ã§³ã§¹ã§½ã¨ã¨ rÃ²Ï·arÄ;vã¤¦ã¤§æ«¨;æ«©asÃ¨Ï¡Änrã¤²ã¤·grt;æ¦Îeknprstã£ã¥ã¥ã¥ã¥ã¥¤ã¦appÃ¡âothinÃ§áºÆhirã«â»ã¥opÃ´â¾µÄ;há·ã¥¢Ã¯ãÄiuã¥©ã¥­gmÃ¡ã³Äbpã¥²ã¦setneqÄ;qã¥½ã¦ìâï¸;ìâ«ï¸setneqÄ;qã¦ã¦ìâï¸;ìâ«ï¸Ährã¦ã¦etÃ¡ãiangleÄlrã¦ªã¦¯eftÂ»à¤¥ightÂ»áy;ä²ashÂ»á¶Æelrã§ã§ã§Æ;beâ·ªã§ã§ar;æ»q;ælip;æ®Äbtã§á¨aÃ²á©r;ìð³trÃ©ã¦®suÄbpã§¯ã§±Â»à´Â»àµpf;ìð§roÃ°à»»trÃ©ã¦´Äcuã¨ã¨r;ìðÄbpã¨ã¨nÄEeã¦ã¨Â»ã¥¾nÄEeã¦ã¨Â»ã¦igzag;æ¦Îcefoprsã¨¶ã¨»ã©ã©ã©ã©¡ã©ªirc;äµÄdiã©ã©Äbgã©ã©ar;æ©eÄ;qáºã©;æerp;ær;ìð´pf;ìð¨Ä;eá¹ã©¦atÃ¨á¹cr;ìðà«£áãª\0ãª\0ãªãª\0\0ãªãª¨ãª«ãª¯\0\0ã«ã«\0ã«áátrÃ©ár;ìðµÄAaãªãªrÃ²ÏrÃ²à§¶;ä¾ÄAaãª¡ãª¤rÃ²Î¸rÃ²à§«aÃ°âis;æ»Ædptá¤ãªµãª¾Äflãªºá©;ìð©imÃ¥á²ÄAaã«ã«rÃ²ÏrÃ²à¨Äcqã«á¸r;ìðÄptáã«rÃ©áÐacefiosuã«°ã«½ã¬ã¬ã¬ã¬ã¬ã¬¡cÄuyã«¶ã«»teè»Ã½ä½;äÄiyã¬ã¬rc;ä·;änè»Â¥ä¥r;ìð¶cy;äpf;ìðªcr;ìðÄcmã¬¦ã¬©y;älè»Ã¿ä¿Ôacdefhioswã­ã­ã­ã­ã­¤ã­©ã­­ã­´ã­ºã®cute;äºÄayã­ã­ron;ä¾;ä·ot;ä¼Äetã­ã­¡trÃ¦áa;ä¶r;ìð·cy;ä¶grarr;æpf;ìð«cr;ìðÄjnã®ã®;æj;æ'.split("").map(r=>r.charCodeAt(0))),sN=new Uint16Array("Èaglq	\x1BÉ­\0\0p;ä¦os;ä§t;ä¾t;ä¼uot;ä¢".split("").map(r=>r.charCodeAt(0)));var Sf;const iN=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Pm=(Sf=String.fromCodePoint)!==null&&Sf!==void 0?Sf:function(r){let e="";return r>65535&&(r-=65536,e+=String.fromCharCode(r>>>10&1023|55296),r=56320|r&1023),e+=String.fromCharCode(r),e};function oN(r){var e;return r>=55296&&r<=57343||r>1114111?65533:(e=iN.get(r))!==null&&e!==void 0?e:r}var Br;(function(r){r[r.NUM=35]="NUM",r[r.SEMI=59]="SEMI",r[r.EQUALS=61]="EQUALS",r[r.ZERO=48]="ZERO",r[r.NINE=57]="NINE",r[r.LOWER_A=97]="LOWER_A",r[r.LOWER_F=102]="LOWER_F",r[r.LOWER_X=120]="LOWER_X",r[r.LOWER_Z=122]="LOWER_Z",r[r.UPPER_A=65]="UPPER_A",r[r.UPPER_F=70]="UPPER_F",r[r.UPPER_Z=90]="UPPER_Z"})(Br||(Br={}));const uN=32;var Ms;(function(r){r[r.VALUE_LENGTH=49152]="VALUE_LENGTH",r[r.BRANCH_LENGTH=16256]="BRANCH_LENGTH",r[r.JUMP_TABLE=127]="JUMP_TABLE"})(Ms||(Ms={}));function Ch(r){return r>=Br.ZERO&&r<=Br.NINE}function lN(r){return r>=Br.UPPER_A&&r<=Br.UPPER_F||r>=Br.LOWER_A&&r<=Br.LOWER_F}function cN(r){return r>=Br.UPPER_A&&r<=Br.UPPER_Z||r>=Br.LOWER_A&&r<=Br.LOWER_Z||Ch(r)}function dN(r){return r===Br.EQUALS||cN(r)}var Lr;(function(r){r[r.EntityStart=0]="EntityStart",r[r.NumericStart=1]="NumericStart",r[r.NumericDecimal=2]="NumericDecimal",r[r.NumericHex=3]="NumericHex",r[r.NamedEntity=4]="NamedEntity"})(Lr||(Lr={}));var Ca;(function(r){r[r.Legacy=0]="Legacy",r[r.Strict=1]="Strict",r[r.Attribute=2]="Attribute"})(Ca||(Ca={}));let fN=class{constructor(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=Lr.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ca.Strict}startEntity(e){this.decodeMode=e,this.state=Lr.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case Lr.EntityStart:return e.charCodeAt(t)===Br.NUM?(this.state=Lr.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=Lr.NamedEntity,this.stateNamedEntity(e,t));case Lr.NumericStart:return this.stateNumericStart(e,t);case Lr.NumericDecimal:return this.stateNumericDecimal(e,t);case Lr.NumericHex:return this.stateNumericHex(e,t);case Lr.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(e.charCodeAt(t)|uN)===Br.LOWER_X?(this.state=Lr.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=Lr.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,n,a){if(t!==n){const s=n-t;this.result=this.result*Math.pow(a,s)+Number.parseInt(e.substr(t,s),a),this.consumed+=s}}stateNumericHex(e,t){const n=t;for(;t<e.length;){const a=e.charCodeAt(t);if(Ch(a)||lN(a))t+=1;else return this.addToNumericResult(e,n,t,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(e,n,t,16),-1}stateNumericDecimal(e,t){const n=t;for(;t<e.length;){const a=e.charCodeAt(t);if(Ch(a))t+=1;else return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(e,n,t,10),-1}emitNumericEntity(e,t){var n;if(this.consumed<=t)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Br.SEMI)this.consumed+=1;else if(this.decodeMode===Ca.Strict)return 0;return this.emitCodePoint(oN(this.result),this.consumed),this.errors&&(e!==Br.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:n}=this;let a=n[this.treeIndex],s=(a&Ms.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const i=e.charCodeAt(t);if(this.treeIndex=hN(n,a,this.treeIndex+Math.max(1,s),i),this.treeIndex<0)return this.result===0||this.decodeMode===Ca.Attribute&&(s===0||dN(i))?0:this.emitNotTerminatedNamedEntity();if(a=n[this.treeIndex],s=(a&Ms.VALUE_LENGTH)>>14,s!==0){if(i===Br.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Ca.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:n}=this,a=(n[t]&Ms.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,a,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,n){const{decodeTree:a}=this;return this.emitCodePoint(t===1?a[e]&~Ms.VALUE_LENGTH:a[e+1],n),t===3&&this.emitCodePoint(a[e+2],n),n}end(){var e;switch(this.state){case Lr.NamedEntity:return this.result!==0&&(this.decodeMode!==Ca.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Lr.NumericDecimal:return this.emitNumericEntity(0,2);case Lr.NumericHex:return this.emitNumericEntity(0,3);case Lr.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Lr.EntityStart:return 0}}};function hN(r,e,t,n){const a=(e&Ms.BRANCH_LENGTH)>>7,s=e&Ms.JUMP_TABLE;if(a===0)return s!==0&&n===s?t:-1;if(s){const l=n-s;return l<0||l>=a?-1:r[t+l]-1}let i=t,u=i+a-1;for(;i<=u;){const l=i+u>>>1,c=r[l];if(c<n)i=l+1;else if(c>n)u=l-1;else return r[l+a]}return-1}var Dt;(function(r){r[r.Tab=9]="Tab",r[r.NewLine=10]="NewLine",r[r.FormFeed=12]="FormFeed",r[r.CarriageReturn=13]="CarriageReturn",r[r.Space=32]="Space",r[r.ExclamationMark=33]="ExclamationMark",r[r.Number=35]="Number",r[r.Amp=38]="Amp",r[r.SingleQuote=39]="SingleQuote",r[r.DoubleQuote=34]="DoubleQuote",r[r.Dash=45]="Dash",r[r.Slash=47]="Slash",r[r.Zero=48]="Zero",r[r.Nine=57]="Nine",r[r.Semi=59]="Semi",r[r.Lt=60]="Lt",r[r.Eq=61]="Eq",r[r.Gt=62]="Gt",r[r.Questionmark=63]="Questionmark",r[r.UpperA=65]="UpperA",r[r.LowerA=97]="LowerA",r[r.UpperF=70]="UpperF",r[r.LowerF=102]="LowerF",r[r.UpperZ=90]="UpperZ",r[r.LowerZ=122]="LowerZ",r[r.LowerX=120]="LowerX",r[r.OpeningSquareBracket=91]="OpeningSquareBracket"})(Dt||(Dt={}));var nt;(function(r){r[r.Text=1]="Text",r[r.BeforeTagName=2]="BeforeTagName",r[r.InTagName=3]="InTagName",r[r.InSelfClosingTag=4]="InSelfClosingTag",r[r.BeforeClosingTagName=5]="BeforeClosingTagName",r[r.InClosingTagName=6]="InClosingTagName",r[r.AfterClosingTagName=7]="AfterClosingTagName",r[r.BeforeAttributeName=8]="BeforeAttributeName",r[r.InAttributeName=9]="InAttributeName",r[r.AfterAttributeName=10]="AfterAttributeName",r[r.BeforeAttributeValue=11]="BeforeAttributeValue",r[r.InAttributeValueDq=12]="InAttributeValueDq",r[r.InAttributeValueSq=13]="InAttributeValueSq",r[r.InAttributeValueNq=14]="InAttributeValueNq",r[r.BeforeDeclaration=15]="BeforeDeclaration",r[r.InDeclaration=16]="InDeclaration",r[r.InProcessingInstruction=17]="InProcessingInstruction",r[r.BeforeComment=18]="BeforeComment",r[r.CDATASequence=19]="CDATASequence",r[r.InSpecialComment=20]="InSpecialComment",r[r.InCommentLike=21]="InCommentLike",r[r.BeforeSpecialS=22]="BeforeSpecialS",r[r.BeforeSpecialT=23]="BeforeSpecialT",r[r.SpecialStartSequence=24]="SpecialStartSequence",r[r.InSpecialTag=25]="InSpecialTag",r[r.InEntity=26]="InEntity"})(nt||(nt={}));function Ja(r){return r===Dt.Space||r===Dt.NewLine||r===Dt.Tab||r===Dt.FormFeed||r===Dt.CarriageReturn}function Ml(r){return r===Dt.Slash||r===Dt.Gt||Ja(r)}function pN(r){return r>=Dt.LowerA&&r<=Dt.LowerZ||r>=Dt.UpperA&&r<=Dt.UpperZ}var Ia;(function(r){r[r.NoValue=0]="NoValue",r[r.Unquoted=1]="Unquoted",r[r.Single=2]="Single",r[r.Double=3]="Double"})(Ia||(Ia={}));const Ar={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};class vN{constructor({xmlMode:e=!1,decodeEntities:t=!0},n){this.cbs=n,this.state=nt.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=nt.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=e,this.decodeEntities=t,this.entityDecoder=new fN(e?sN:aN,(a,s)=>this.emitCodePoint(a,s))}reset(){this.state=nt.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=nt.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(e){e===Dt.Lt||!this.decodeEntities&&this.fastForwardTo(Dt.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=nt.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===Dt.Amp&&this.startEntity()}stateSpecialStartSequence(e){const t=this.sequenceIndex===this.currentSequence.length;if(!(t?Ml(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!t){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=nt.InTagName,this.stateInTagName(e)}stateInSpecialTag(e){if(this.sequenceIndex===this.currentSequence.length){if(e===Dt.Gt||Ja(e)){const t=this.index-this.currentSequence.length;if(this.sectionStart<t){const n=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=n}this.isSpecial=!1,this.sectionStart=t+2,this.stateInClosingTagName(e);return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Ar.TitleEnd?this.decodeEntities&&e===Dt.Amp&&this.startEntity():this.fastForwardTo(Dt.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===Dt.Lt)}stateCDATASequence(e){e===Ar.Cdata[this.sequenceIndex]?++this.sequenceIndex===Ar.Cdata.length&&(this.state=nt.InCommentLike,this.currentSequence=Ar.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=nt.InDeclaration,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Ar.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=nt.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(e){return this.xmlMode?!Ml(e):pN(e)}startSpecial(e,t){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=t,this.state=nt.SpecialStartSequence}stateBeforeTagName(e){if(e===Dt.ExclamationMark)this.state=nt.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===Dt.Questionmark)this.state=nt.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){const t=e|32;this.sectionStart=this.index,this.xmlMode?this.state=nt.InTagName:t===Ar.ScriptEnd[2]?this.state=nt.BeforeSpecialS:t===Ar.TitleEnd[2]||t===Ar.XmpEnd[2]?this.state=nt.BeforeSpecialT:this.state=nt.InTagName}else e===Dt.Slash?this.state=nt.BeforeClosingTagName:(this.state=nt.Text,this.stateText(e))}stateInTagName(e){Ml(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=nt.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateBeforeClosingTagName(e){Ja(e)||(e===Dt.Gt?this.state=nt.Text:(this.state=this.isTagStartChar(e)?nt.InClosingTagName:nt.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(e){(e===Dt.Gt||Ja(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=nt.AfterClosingTagName,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){(e===Dt.Gt||this.fastForwardTo(Dt.Gt))&&(this.state=nt.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(e){e===Dt.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=nt.InSpecialTag,this.sequenceIndex=0):this.state=nt.Text,this.sectionStart=this.index+1):e===Dt.Slash?this.state=nt.InSelfClosingTag:Ja(e)||(this.state=nt.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===Dt.Gt?(this.cbs.onselfclosingtag(this.index),this.state=nt.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Ja(e)||(this.state=nt.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateInAttributeName(e){(e===Dt.Eq||Ml(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=nt.AfterAttributeName,this.stateAfterAttributeName(e))}stateAfterAttributeName(e){e===Dt.Eq?this.state=nt.BeforeAttributeValue:e===Dt.Slash||e===Dt.Gt?(this.cbs.onattribend(Ia.NoValue,this.sectionStart),this.sectionStart=-1,this.state=nt.BeforeAttributeName,this.stateBeforeAttributeName(e)):Ja(e)||(this.cbs.onattribend(Ia.NoValue,this.sectionStart),this.state=nt.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(e){e===Dt.DoubleQuote?(this.state=nt.InAttributeValueDq,this.sectionStart=this.index+1):e===Dt.SingleQuote?(this.state=nt.InAttributeValueSq,this.sectionStart=this.index+1):Ja(e)||(this.sectionStart=this.index,this.state=nt.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))}handleInAttributeValue(e,t){e===t||!this.decodeEntities&&this.fastForwardTo(t)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===Dt.DoubleQuote?Ia.Double:Ia.Single,this.index+1),this.state=nt.BeforeAttributeName):this.decodeEntities&&e===Dt.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(e){this.handleInAttributeValue(e,Dt.DoubleQuote)}stateInAttributeValueSingleQuotes(e){this.handleInAttributeValue(e,Dt.SingleQuote)}stateInAttributeValueNoQuotes(e){Ja(e)||e===Dt.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(Ia.Unquoted,this.index),this.state=nt.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===Dt.Amp&&this.startEntity()}stateBeforeDeclaration(e){e===Dt.OpeningSquareBracket?(this.state=nt.CDATASequence,this.sequenceIndex=0):this.state=e===Dt.Dash?nt.BeforeComment:nt.InDeclaration}stateInDeclaration(e){(e===Dt.Gt||this.fastForwardTo(Dt.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=nt.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===Dt.Gt||this.fastForwardTo(Dt.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=nt.Text,this.sectionStart=this.index+1)}stateBeforeComment(e){e===Dt.Dash?(this.state=nt.InCommentLike,this.currentSequence=Ar.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=nt.InDeclaration}stateInSpecialComment(e){(e===Dt.Gt||this.fastForwardTo(Dt.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=nt.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){const t=e|32;t===Ar.ScriptEnd[3]?this.startSpecial(Ar.ScriptEnd,4):t===Ar.StyleEnd[3]?this.startSpecial(Ar.StyleEnd,4):(this.state=nt.InTagName,this.stateInTagName(e))}stateBeforeSpecialT(e){switch(e|32){case Ar.TitleEnd[3]:{this.startSpecial(Ar.TitleEnd,4);break}case Ar.TextareaEnd[3]:{this.startSpecial(Ar.TextareaEnd,4);break}case Ar.XmpEnd[3]:{this.startSpecial(Ar.XmpEnd,4);break}default:this.state=nt.InTagName,this.stateInTagName(e)}}startEntity(){this.baseState=this.state,this.state=nt.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?Ca.Strict:this.baseState===nt.Text||this.baseState===nt.InSpecialTag?Ca.Legacy:Ca.Attribute)}stateInEntity(){const e=this.entityDecoder.write(this.buffer,this.index-this.offset);e>=0?(this.state=this.baseState,e===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===nt.Text||this.state===nt.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===nt.InAttributeValueDq||this.state===nt.InAttributeValueSq||this.state===nt.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const e=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case nt.Text:{this.stateText(e);break}case nt.SpecialStartSequence:{this.stateSpecialStartSequence(e);break}case nt.InSpecialTag:{this.stateInSpecialTag(e);break}case nt.CDATASequence:{this.stateCDATASequence(e);break}case nt.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(e);break}case nt.InAttributeName:{this.stateInAttributeName(e);break}case nt.InCommentLike:{this.stateInCommentLike(e);break}case nt.InSpecialComment:{this.stateInSpecialComment(e);break}case nt.BeforeAttributeName:{this.stateBeforeAttributeName(e);break}case nt.InTagName:{this.stateInTagName(e);break}case nt.InClosingTagName:{this.stateInClosingTagName(e);break}case nt.BeforeTagName:{this.stateBeforeTagName(e);break}case nt.AfterAttributeName:{this.stateAfterAttributeName(e);break}case nt.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(e);break}case nt.BeforeAttributeValue:{this.stateBeforeAttributeValue(e);break}case nt.BeforeClosingTagName:{this.stateBeforeClosingTagName(e);break}case nt.AfterClosingTagName:{this.stateAfterClosingTagName(e);break}case nt.BeforeSpecialS:{this.stateBeforeSpecialS(e);break}case nt.BeforeSpecialT:{this.stateBeforeSpecialT(e);break}case nt.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(e);break}case nt.InSelfClosingTag:{this.stateInSelfClosingTag(e);break}case nt.InDeclaration:{this.stateInDeclaration(e);break}case nt.BeforeDeclaration:{this.stateBeforeDeclaration(e);break}case nt.BeforeComment:{this.stateBeforeComment(e);break}case nt.InProcessingInstruction:{this.stateInProcessingInstruction(e);break}case nt.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===nt.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length+this.offset;this.sectionStart>=e||(this.state===nt.InCommentLike?this.currentSequence===Ar.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===nt.InTagName||this.state===nt.BeforeAttributeName||this.state===nt.BeforeAttributeValue||this.state===nt.AfterAttributeName||this.state===nt.InAttributeName||this.state===nt.InAttributeValueSq||this.state===nt.InAttributeValueDq||this.state===nt.InAttributeValueNq||this.state===nt.InClosingTagName||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,t){this.baseState!==nt.Text&&this.baseState!==nt.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.onattribentity(e)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.ontextentity(e,this.sectionStart))}}const Ji=new Set(["input","option","optgroup","select","button","datalist","textarea"]),nr=new Set(["p"]),$m=new Set(["thead","tbody"]),Lm=new Set(["dd","dt"]),Om=new Set(["rt","rp"]),mN=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",nr],["h1",nr],["h2",nr],["h3",nr],["h4",nr],["h5",nr],["h6",nr],["select",Ji],["input",Ji],["output",Ji],["button",Ji],["datalist",Ji],["textarea",Ji],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",Lm],["dt",Lm],["address",nr],["article",nr],["aside",nr],["blockquote",nr],["details",nr],["div",nr],["dl",nr],["fieldset",nr],["figcaption",nr],["figure",nr],["footer",nr],["form",nr],["header",nr],["hr",nr],["main",nr],["nav",nr],["ol",nr],["pre",nr],["section",nr],["table",nr],["ul",nr],["rt",Om],["rp",Om],["tbody",$m],["tfoot",$m]]),gN=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),Bm=new Set(["math","svg"]),Fm=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),bN=/\s|\//;class _N{constructor(e,t={}){var n,a,s,i,u,l;this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(n=t.lowerCaseTags)!==null&&n!==void 0?n:this.htmlMode,this.lowerCaseAttributeNames=(a=t.lowerCaseAttributeNames)!==null&&a!==void 0?a:this.htmlMode,this.recognizeSelfClosing=(s=t.recognizeSelfClosing)!==null&&s!==void 0?s:!this.htmlMode,this.tokenizer=new((i=t.Tokenizer)!==null&&i!==void 0?i:vN)(this.options,this),this.foreignContext=[!this.htmlMode],(l=(u=this.cbs).onparserinit)===null||l===void 0||l.call(u,this)}ontext(e,t){var n,a;const s=this.getSlice(e,t);this.endIndex=t-1,(a=(n=this.cbs).ontext)===null||a===void 0||a.call(n,s),this.startIndex=t}ontextentity(e,t){var n,a;this.endIndex=t-1,(a=(n=this.cbs).ontext)===null||a===void 0||a.call(n,Pm(e)),this.startIndex=t}isVoidElement(e){return this.htmlMode&&gN.has(e)}onopentagname(e,t){this.endIndex=t;let n=this.getSlice(e,t);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)}emitOpenTag(e){var t,n,a,s;this.openTagStart=this.startIndex,this.tagname=e;const i=this.htmlMode&&mN.get(e);if(i)for(;this.stack.length>0&&i.has(this.stack[0]);){const u=this.stack.shift();(n=(t=this.cbs).onclosetag)===null||n===void 0||n.call(t,u,!0)}this.isVoidElement(e)||(this.stack.unshift(e),this.htmlMode&&(Bm.has(e)?this.foreignContext.unshift(!0):Fm.has(e)&&this.foreignContext.unshift(!1))),(s=(a=this.cbs).onopentagname)===null||s===void 0||s.call(a,e),this.cbs.onopentag&&(this.attribs={})}endOpenTag(e){var t,n;this.startIndex=this.openTagStart,this.attribs&&((n=(t=this.cbs).onopentag)===null||n===void 0||n.call(t,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1}onclosetag(e,t){var n,a,s,i,u,l,c,f;this.endIndex=t;let h=this.getSlice(e,t);if(this.lowerCaseTagNames&&(h=h.toLowerCase()),this.htmlMode&&(Bm.has(h)||Fm.has(h))&&this.foreignContext.shift(),this.isVoidElement(h))this.htmlMode&&h==="br"&&((i=(s=this.cbs).onopentagname)===null||i===void 0||i.call(s,"br"),(l=(u=this.cbs).onopentag)===null||l===void 0||l.call(u,"br",{},!0),(f=(c=this.cbs).onclosetag)===null||f===void 0||f.call(c,"br",!1));else{const m=this.stack.indexOf(h);if(m!==-1)for(let g=0;g<=m;g++){const b=this.stack.shift();(a=(n=this.cbs).onclosetag)===null||a===void 0||a.call(n,b,g!==m)}else this.htmlMode&&h==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1}onselfclosingtag(e){this.endIndex=e,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)}closeCurrentTag(e){var t,n;const a=this.tagname;this.endOpenTag(e),this.stack[0]===a&&((n=(t=this.cbs).onclosetag)===null||n===void 0||n.call(t,a,!e),this.stack.shift())}onattribname(e,t){this.startIndex=e;const n=this.getSlice(e,t);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n}onattribdata(e,t){this.attribvalue+=this.getSlice(e,t)}onattribentity(e){this.attribvalue+=Pm(e)}onattribend(e,t){var n,a;this.endIndex=t,(a=(n=this.cbs).onattribute)===null||a===void 0||a.call(n,this.attribname,this.attribvalue,e===Ia.Double?'"':e===Ia.Single?"'":e===Ia.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(e){const t=e.search(bN);let n=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n}ondeclaration(e,t){this.endIndex=t;const n=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(n);this.cbs.onprocessinginstruction(`!${a}`,`!${n}`)}this.startIndex=t+1}onprocessinginstruction(e,t){this.endIndex=t;const n=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(n);this.cbs.onprocessinginstruction(`?${a}`,`?${n}`)}this.startIndex=t+1}oncomment(e,t,n){var a,s,i,u;this.endIndex=t,(s=(a=this.cbs).oncomment)===null||s===void 0||s.call(a,this.getSlice(e,t-n)),(u=(i=this.cbs).oncommentend)===null||u===void 0||u.call(i),this.startIndex=t+1}oncdata(e,t,n){var a,s,i,u,l,c,f,h,m,g;this.endIndex=t;const b=this.getSlice(e,t-n);!this.htmlMode||this.options.recognizeCDATA?((s=(a=this.cbs).oncdatastart)===null||s===void 0||s.call(a),(u=(i=this.cbs).ontext)===null||u===void 0||u.call(i,b),(c=(l=this.cbs).oncdataend)===null||c===void 0||c.call(l)):((h=(f=this.cbs).oncomment)===null||h===void 0||h.call(f,`[CDATA[${b}]]`),(g=(m=this.cbs).oncommentend)===null||g===void 0||g.call(m)),this.startIndex=t+1}onend(){var e,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let n=0;n<this.stack.length;n++)this.cbs.onclosetag(this.stack[n],!0)}(t=(e=this.cbs).onend)===null||t===void 0||t.call(e)}reset(){var e,t,n,a;(t=(e=this.cbs).onreset)===null||t===void 0||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(a=(n=this.cbs).onparserinit)===null||a===void 0||a.call(n,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(e){this.reset(),this.end(e)}getSlice(e,t){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let n=this.buffers[0].slice(e-this.bufferOffset,t-this.bufferOffset);for(;t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,t-this.bufferOffset);return n}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(e){var t,n;if(this.ended){(n=(t=this.cbs).onerror)===null||n===void 0||n.call(t,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)}end(e){var t,n;if(this.ended){(n=(t=this.cbs).onerror)===null||n===void 0||n.call(t,new Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(e){this.write(e)}done(e){this.end(e)}}const s_=/<\/?([a-zA-Z][a-zA-Z0-9-]{0,})(?:\s+[^>]*)?>/,yN=new RegExp(s_),Ih=/^(br|hr|img|input|link|meta|area|base|col|embed|keygen|param|source|track|wbr)$/i,xN=r=>{if(!yN.test(r))return null;const e=r.match(s_);return e?{tag:e[1],isOpening:!r.startsWith("</")}:null},wN=r=>{const e=r.raw.match(/<\/?([a-zA-Z][a-zA-Z0-9-]*)/i);if(!e)return r;const t=e[1];if(!Ih.test(t))return r;if(!r.raw.endsWith("/>")){const n=r.raw.replace(/\s*>$/,"/>");return{...r,raw:n,tag:t,attributes:i_(r.raw)}}return r},i_=r=>{const e={},t=/([a-zA-Z][\w-]*?)=["']([^"']*?)(?:["']|$)/g;let n;for(;(n=t.exec(r))!==null;){const[,s,i]=n;e[s]=i.trim()}const a=/(?:^|\s)([a-zA-Z][\w-]*?)(?=[\s>]|$)/g;for(;(n=a.exec(r))!==null;){const[,s]=n;s&&!e[s]&&(e[s]="")}return e},kN=r=>{const e=[];let t="";const n=[],a=new _N({onopentag:(s,i)=>{t.trim()&&(e.push({type:"text",raw:t,text:t}),t=""),Ih.test(s)?e.push({type:"html",raw:`<${s}${Object.entries(i).map(([u,l])=>` ${u}="${l}"`).join("")}/>`,tag:s,attributes:i}):(n.push(s),e.push({type:"html",raw:`<${s}${Object.entries(i).map(([u,l])=>` ${u}="${l}"`).join("")}>`,tag:s,attributes:i}))},ontext:s=>{t+=s},onclosetag:s=>{t.trim()&&(e.push({type:"text",raw:t,text:t}),t=""),n.includes(s)&&!Ih.test(s)&&(r.includes(`</${s}>`)&&e.push({type:"html",raw:`</${s}>`,tag:s}),n.splice(n.indexOf(s),1))}},{xmlMode:!0,recognizeSelfClosing:!0});return a.write(r),a.end(),t.trim()&&e.push({type:"text",raw:t,text:t}),e},EN=r=>{const e=r.match(/<[a-zA-Z][^>]*>/g)||[],t=r.match(/<\/[a-zA-Z][^>]*>/g)||[];return e.length>1||t.length>1||e.length===1&&t.length===1},nu=r=>{const e=[];for(const t of r)if("tokens"in t&&Array.isArray(t.tokens)){const n=t;n.tokens=nu(n.tokens),e.push(t)}else if(t.type==="list")t.items=t.items.map((n,a)=>({...n,listItemIndex:a,tokens:n.tokens?nu(n.tokens):[]})),e.push(t);else if(t.type==="table")t.header&&(t.header=t.header.map(n=>({...n,tokens:n.tokens?nu(n.tokens):[]}))),t.rows&&(t.rows=t.rows.map(n=>n.map(a=>({...a,tokens:a.tokens?nu(a.tokens):[]})))),e.push(t);else if(t.type==="html"&&EN(t.raw))e.push(...kN(t.raw));else if(t.type==="html"){const n=wN(t);e.push(n)}else e.push(t);return Th(e)},Th=r=>{const e=[],t=[];for(let n=0;n<r.length;n++){const a=r[n];if("tokens"in a&&Array.isArray(a.tokens)&&(a.tokens=Th(a.tokens)),a.type==="html"){const s=xN(a.raw);if(!s){e.push(a);continue}if(s.isOpening)t.push({tag:s.tag,startIndex:e.length}),e.push(a);else{const i=t.pop();if(!i||i.tag!==s.tag){e.push(a);continue}const u=i.startIndex,l=e.splice(u+1,e.length-u-1),c=e.pop(),f=i_(c.raw);e.push({type:"html",raw:c.raw,tag:s.tag,tokens:Th(l),attributes:f})}}else e.push(a)}return t.length>0?r:e};function SN(r,e,t){const n=Nm.getTokens(r,e);if(n)return n;const a=new Wn(e),s=t?a.inlineTokens(r):a.lex(r),i=nu(s);return Nm.setTokens(r,e,i),i}function Mh(r,e){pe(e,!0);const t=ke(e,"source",19,()=>[]),n=ke(e,"renderers",19,()=>({})),a=ke(e,"options",19,()=>({})),s=ke(e,"isInline",3,!1),i=ke(e,"parsed",3,()=>{}),u=Fe(e,["$$slots","$$events","$$legacy","source","renderers","options","isInline","parsed"]),l={...tN,...a()},c=new w9,f=V(()=>Array.isArray(t())?t():t()===""?[]:SN(t(),l,s()));st(()=>{o(f)&&i()(o(f))});const h={...Ef,...n(),html:n().html?{...Ef.html,...n().html}:Ef.html};Ka(r,Ne({get tokens(){return o(f)}},()=>u,{get options(){return l},slug:m=>c?c.slug(m):"",get renderers(){return h}})),ve()}var AN=_('<div class="prose max-w-none"><!></div>'),DN=_('<div class="prose max-w-none"><!></div>'),CN=_('<div class="flex items-start gap-2"><div class="text-sm"> </div></div>'),IN=_('<div class="space-y-2 print:space-y-1"></div>'),TN=_('<div class="space-y-4"><!> <!> <!></div>');function o_(r,e){pe(e,!0);let t=ke(e,"astuces",19,()=>[]);var n=TN(),a=d(n);{var s=c=>{Gt(c,{legend:"PrÃ©paration Ã  l'avance",get iconComponent(){return Ln},legendSize:"text-lg",iconSize:18,children:(f,h)=>{var m=AN(),g=d(m);Mh(g,{get source(){return e.preparation24h}}),v(f,m)},$$slots:{default:!0}})};D(a,c=>{e.preparation24h&&c(s)})}var i=p(a,2);Gt(i,{legend:"PrÃ©paration",get iconComponent(){return hs},legendSize:"text-lg",children:(c,f)=>{var h=DN(),m=d(h);Mh(m,{get source(){return e.preparation}}),v(c,h)},$$slots:{default:!0}});var u=p(i,2);{var l=c=>{var f=IN();ze(f,21,t,bt,(h,m)=>{Gt(h,{legend:"Astuces",get iconComponent(){return y2},legendSize:"text-sm",children:(g,b)=>{var y=CN(),x=d(y),k=d(x);P(()=>O(k,o(m).astuce)),v(g,y)},$$slots:{default:!0}})}),v(c,f)};D(u,c=>{t().length>0&&c(l)})}v(r,n),ve()}var MN=Dd('<svg aria-hidden="true" focusable="false" fill="currentColor"><use></use></svg>'),RN=_("<span> </span>"),NN=_("<span><!> <!></span>"),PN=_('<div class="flex flex-wrap items-center justify-end gap-x-2 text-sm"></div>');function vc(r,e){pe(e,!0);let t=ke(e,"regimes",19,()=>[]),n=ke(e,"iconOnly",3,!1),a=ke(e,"colorClass",3,"success");const s={"sans-gluten":"sans-gluten",vegetarien:"vegetarien",vegan:"vegan","sans-lactose":"sans-lactose"},i=V(()=>t().includes("vegan")?t().filter(l=>l!=="vegetarien"):t());var u=PN();ze(u,21,()=>o(i),bt,(l,c)=>{var f=NN(),h=d(f);{var m=y=>{var x=MN(),k=d(x);P(()=>{_e(x,0,gn(n()?"h-7 w-7":"h-6 w-6")),dt(k,"href",`/icons/sprite-icons.svg#${s[o(c)]}`)}),v(y,x)};D(h,y=>{s[o(c)]&&y(m)})}var g=p(h,2);{var b=y=>{var x=RN(),k=d(x);P(()=>O(k,o(c))),v(y,x)};D(g,y=>{n()||y(b)})}P(()=>{dt(f,"title",o(c)),_e(f,1,` ${n()?`text-${a()}`:`badge-lg print:badge-md badge badge-soft badge-${a()} gap-1`}  print:text-base-content flex items-center`)}),v(l,f)}),v(r,u),ve()}var $N=_("<span> </span>"),LN=_('<div class="text-base-content/80 flex items-center gap-2 text-base font-bold"><!> <span> </span> <!></div>'),ON=_("<div> </div>"),BN=_('<span class="badge badge-error badge-sm badge-soft">Servir Chaud</span>'),FN=_('<span class="badge badge-info badge-sm badge-soft">Servir Froid</span>'),zN=_('<span class="badge badge-warning badge-sm badge-soft">Avec Cuisson</span>'),qN=_('<span class="badge badge-success badge-sm badge-soft">Sans Cuisson</span>'),jN=_('<span class="badge badge-ghost badge-sm"> </span>'),HN=_('<div class="flex flex-wrap gap-1"></div>'),UN=_('<div class="card bg-base-100 border-base-300 border print:border-none"><div class="card-body p-2 md:p-6 svelte-1xi0ayb"><div class="border-base-300 mb-4 border-b pb-4"><div class="flex flex-wrap items-baseline justify-between gap-4"><div class="flex min-w-2/3 flex-1 gap-2"><svg class="size-6"><use></use></svg> <div class="text-xl font-bold"> </div></div> <div class="ms-auto flex flex-wrap items-center justify-end gap-4"><!> <!> <div class="flex-shrink-0"><!></div></div></div> <div class="border-base-300 flex flex-wrap items-center gap-4 pt-4"><div class="text-base-content/80 flex items-center gap-2 py-2 text-lg"><!> <span> </span></div> <div class="flex flex-wrap gap-1"><!> <!></div> <!></div></div> <div class=" gap-6 md:flex print:flex"><div class="w-full space-y-4 md:w-1/3 print:w-2/5"><!></div> <div class="flex-1 space-y-4 print:w-3/5"><!></div></div></div></div>');function zm(r,e){pe(e,!0),ke(e,"totalGuests",3,0);const t=V(()=>e.meal?.date?F2(e.meal.date):null),n=V(()=>e.meal?.date?rs(e.meal.date):null),a=V(()=>{if(!o(n))return"";switch(o(n)){case"matin":return"Matin";case"midi":return"Midi";case"soir":return"Soir";default:return""}}),s=V(()=>e.mealRecipe?.typeR?e.mealRecipe.typeR:e.recipe.typeR),i=V(()=>e.mealRecipe?.plates||e.recipe.plate);function u(re){return re===1?"1 couvert":`${re} couverts`}function l(re){switch(re){case"entree":return"EntrÃ©e";case"plat":return"Plat";case"dessert":return"Dessert";case"autre":return"Autre";default:return re}}function c(re){return re==="entree"?"bg-lime-100 border-lime-200":re==="plat"?"bg-orange-100 border-orange-200":re==="dessert"?"bg-pink-100 border-pink-200":re==="autre"?"bg-purple-100 border-purple-200":"bg-base-200"}const f=V(()=>o(t)?Da(o(t)):""),h=Td(e.recipe.typeR,e.recipe.categories||void 0);var m=UN(),g=d(m),b=d(g),y=d(b),x=d(y),k=d(x),S=d(k),A=p(k,2),C=d(A),E=p(x,2),I=d(E);{var T=re=>{var le=LN(),ue=d(le);fr(ue,{class:"h-4 w-4"});var se=p(ue,2),de=d(se),fe=p(se,2);{var be=ye=>{var De=$N(),xe=d(De);P(()=>O(xe,o(a))),v(ye,De)};D(fe,ye=>{o(a)&&ye(be)})}P(()=>O(de,o(f))),v(re,le)};D(I,re=>{o(f)&&re(T)})}var j=p(I,2);{var U=re=>{var le=ON(),ue=d(le);P((se,de)=>{_e(le,1,`badge text-base-content/80 font-medium ${se??""}`,"svelte-1xi0ayb"),O(ue,de)},[()=>c(o(s)),()=>l(o(s))]),v(re,le)};D(j,re=>{o(s)&&re(U)})}var G=p(j,2),Q=d(G);{var ee=re=>{vc(re,{get regimes(){return e.recipe.regime},iconOnly:!0,colorClass:"success"})};D(Q,re=>{e.recipe.regime&&re(ee)})}var oe=p(y,2),H=d(oe),J=d(H);Ut(J,{class:"h-4 w-4"});var K=p(J,2),te=d(K),Z=p(H,2),R=d(Z);{var F=re=>{var le=BN();v(re,le)},M=re=>{var le=FN();v(re,le)};D(R,re=>{e.recipe.serveHot?re(F):re(M,!1)})}var B=p(R,2);{var q=re=>{var le=zN();v(re,le)},$=re=>{var le=qN();v(re,le)};D(B,re=>{e.recipe.cuisson?re(q):re($,!1)})}var L=p(Z,2);{var ne=re=>{var le=HN();ze(le,20,()=>e.recipe.materiel,ue=>ue,(ue,se)=>{var de=jN(),fe=d(de);P(()=>O(fe,se)),v(ue,de)}),v(re,le)};D(L,re=>{e.recipe.materiel&&e.recipe.materiel.length>0&&re(ne)})}var Y=p(b,2),W=d(Y),X=d(W);Q2(X,{get ingredients(){return e.recipe.ingredients},get servings(){return o(i)},get defaultServings(){return e.recipe.plate}});var N=p(W,2),ie=d(N);{let re=V(()=>e.recipe.preparation24h||void 0),le=V(()=>e.recipe.astuces||[]);o_(ie,{get preparation(){return e.recipe.preparation},get preparation24h(){return o(re)},get astuces(){return o(le)}})}P(re=>{dt(m,"id",`recipe-${e.recipe.$id??""}`),dt(S,"href",`/icons/sprite.svg#${h.iconId}`),O(C,e.recipe.title),O(te,re)},[()=>u(o(i))]),v(r,m),ve()}var VN=_("<div><!></div>"),WN=_('<div class="drawer"><input id="filters-drawer" type="checkbox" class="drawer-toggle"/> <div class="drawer-side"><label for="filters-drawer" class="drawer-overlay"></label> <div><!></div></div></div> <div class="fixed bottom-4 left-4 z-50 print:hidden"><label for="filters-drawer" class="btn btn-primary btn-circle btn-lg shadow-lg"><!></label></div>',1);function $o(r,e){pe(e,!0);let t=ae(!1),n=ke(e,"width",3,"80"),a=ke(e,"bgClass",3,"bg-base-200");const s=V(()=>"w-"+n());var i=ce(),u=z(i);{var l=f=>{var h=VN(),m=d(h);ge(m,()=>e.children??me),P(()=>_e(h,1,`${a()??""} ${(o(s)?o(s):"w-100")??""} fixed top-0 left-0 z-40 h-lvh overflow-y-auto p-4 pb-12 print:hidden`)),v(f,h)},c=f=>{var h=WN(),m=z(h),g=d(m),b=p(g,2),y=p(d(b),2),x=d(y);ge(x,()=>e.children??me);var k=p(m,2),S=d(k),A=d(S);ol(A,{class:"h-6 w-6"}),P(()=>_e(y,1,`menu bg-base-200 min-h-full ${(o(s)?o(s):"w-100")??""}  p-4`)),Xr(g,()=>o(t),C=>w(t,C)),v(f,h)};D(u,f=>{Ee.isDesktop?f(l):f(c,!1)})}v(r,i),ve()}function QN(r,e,t,n,a){o(e).length&&(r.key==="ArrowDown"?(r.preventDefault(),w(t,(o(t)+1)%o(e).length)):r.key==="ArrowUp"?(r.preventDefault(),w(t,o(t)<=0?o(e).length-1:o(t)-1,!0)):(r.key==="Enter"||r.key==="Tab")&&o(t)>=0&&o(t)<o(e).length?(r.preventDefault(),n(o(e)[o(t)])):r.key==="Escape"&&(w(t,-1),a?.blur()))}var GN=_('<div class="loading loading-spinner loading-xs"></div>'),KN=(r,e,t)=>e(o(t)),JN=_('<li><button><span class="block truncate"> </span></button></li>'),ZN=_('<div class="absolute z-10 mt-1 w-full"><ul class="rounded-box bg-base-100 border-base-300 max-h-60 overflow-y-auto border shadow-lg"></ul></div>'),YN=_('<div class="rounded-box bg-base-100 border-base-300 text-base-content/60 absolute z-10 mt-1 w-full border p-4 text-center text-sm shadow-lg">Aucun rÃ©sultat trouvÃ©</div>'),XN=_('<div class="relative"><label><!> <input type="text" class="grow"/> <!></label> <!> <!></div>');function t0(r,e){pe(e,!0);let t=ke(e,"value",15,""),n=ke(e,"placeholder",3,"Rechercher..."),a=ke(e,"itemToString",3,H=>String(H)),s=ke(e,"disabled",3,!1),i=ke(e,"autoFocus",3,!1),u=ke(e,"loading",3,!1),l=ke(e,"minQueryLength",3,1),c=ke(e,"maxResults",3,void 0),f=ke(e,"showAllOnFocus",3,!0),h=ke(e,"inputSize",3,""),m=ae(-1),g=ae(!1),b,y=V(()=>{if(o(g)&&t().trim().length===0&&f())return c()?e.items.slice(0,c()):e.items;const H=t().toLowerCase().trim();if(H.length<l())return[];const J=e.items.filter(K=>a()(K).toLowerCase().includes(H));return c()?J.slice(0,c()):J}),x=V(()=>o(g)&&o(y).length>0);function k(H){e.onSelect?.(H),t(""),w(m,-1)}function S(){w(g,!0),o(y).length>0&&o(m)===-1&&w(m,0)}function A(){setTimeout(()=>{w(g,!1),w(m,-1)},150)}var C=XN(),E=d(C),I=d(E);Po(I,{class:"h-4 w-4 opacity-50"});var T=p(I,2);T.__keydown=[QN,y,m,k,b],_p(T,()=>U2({shouldFocus:i()}));var j=p(T,2);{var U=H=>{var J=GN();v(H,J)};D(j,H=>{u()&&H(U)})}var G=p(E,2);{var Q=H=>{var J=ZN(),K=d(J);ze(K,23,()=>o(y),te=>a()(te),(te,Z,R)=>{var F=JN(),M=d(F);M.__click=[KN,k,Z];var B=d(M),q=d(B);P($=>{_e(M,1,`hover:bg-base-200 focus:bg-base-200 w-full px-3 py-2 text-left text-sm ${o(R)===o(m)&&"bg-base-200"}`),M.disabled=s(),O(q,$)},[()=>a()(o(Z))]),v(te,F)}),v(H,J)};D(G,H=>{o(x)&&H(Q)})}var ee=p(G,2);{var oe=H=>{var J=YN();v(H,J)};D(ee,H=>{o(g)&&t().length>=l()&&o(y).length===0&&!u()&&H(oe)})}P(()=>{_e(E,1,`input w-full ${h()??""}`),dt(T,"id",e.id),dt(T,"placeholder",n()),T.disabled=s()}),_t("focus",T,S),_t("blur",T,A),ft(T,t),v(r,C),ve()}tt(["keydown","click"]);const eP=r=>{var e=rP();v(r,e)};function tP(r,e){w(e,"")}var rP=_('<div class="flex gap-2"></div>'),nP=_('<button class="btn btn-circle btn-error btn-outline btn-xs absolute top-1/2 right-2 z-10 -translate-y-1/2 opacity-60 hover:opacity-100" aria-label="Effacer la recherche"><!></button>'),aP=(r,e,t,n,a,s)=>{w(e,null),w(t,null),w(n,""),w(a,o(a)===s()?null:s(),!0)},sP=(r,e,t,n,a,s,i)=>{w(e,t(),!0),w(n,o(n)===a()?null:a(),!0),w(s,null),w(i,"")},iP=(r,e,t,n,a,s)=>{w(e,null),w(t,null),w(n,o(n)===o(a)?null:o(a),!0),w(s,"")},oP=_('<li><button><span class="max-w-[300px] truncate text-left"> </span></button></li>'),uP=_('<li><button><span class="flex w-full items-center justify-between"><span> </span></span></button></li> <ul></ul>',1),lP=_("<li><button><span> </span></button></li> <ul></ul>",1),cP=(r,e,t,n)=>{w(e,null),w(t,null),w(n,null)},dP=_('<div class="my-4"><button class="btn btn-dash btn-block btn-primary" aria-label="Afficher toutes les recettes"><!> Afficher toutes les recettes</button></div>'),fP=_('<div class="mt-16 mb-6"><h3 class="mb-3 text-lg font-semibold">Rechercher par ingrÃ©dient</h3> <div class="relative"><!> <!></div></div> <ul class="menu bg-base-100 rounded-box w-100 drop-shadow-lg"></ul> <!>',1),hP=_('<div class="flex justify-center py-20"><span class="loading loading-spinner loading-lg"></span></div>'),pP=_('<div class="alert alert-error"><div><h3 class="font-bold">Erreur</h3> <div> </div></div></div>'),vP=_("<!> ",1),mP=_("<!> ",1),gP=_('<span class="mr-1"> </span>'),bP=_('<span class="mr-1"> </span>'),_P=_('<span class="mr-1">recette</span>'),yP=_("<span> </span>"),xP=(r,e,t,n,a)=>{w(e,null),w(t,null),w(n,null),w(a,"")},wP=_('<div class="m-4 flex items-center justify-center gap-2"><div class="badge badge-xl badge-primary"><!> filtre : <!> <!> <!> <!></div> <button class="btn btn-dash btn-sm" aria-label="Afficher toutes les recettes"><!> Afficher toutes les recettes</button></div>'),kP=_('<div class="bg-base-100 border-base-300 rounded-xl border p-8 text-center"><p class="text-base-content/60 text-lg"> </p></div>'),EP=_('<div class="break-after-page"><!></div>'),SP=_('<div class="card bg-accent text-accent-content flex flex-row items-center justify-center gap-6 p-4 text-lg font-black print:hidden"><div> </div> <div> </div> <div class="badge badge-outline"><!> </div> <div class="badge badge-outline"><!> </div></div> <!>',1),AP=_('<div class="space-y-8"></div>'),DP=(r,e,t,n)=>{w(e,null),w(t,null),w(n,null)},CP=_('<div class="bg-base-100 border-base-300 rounded-xl border p-8 text-center"><p class="text-base-content/60 text-lg">Aucune recette ne correspond aux filtres sÃ©lectionnÃ©s.</p> <button class="btn btn-primary mt-4">RÃ©initialiser les filtres</button></div>'),IP=_('<div class="break-after-page"><!></div>'),TP=_('<div class="card bg-primary text-primary-content flex flex-row items-center justify-center gap-6 p-4 text-lg font-black print:hidden"><div> </div> <div> </div> <div class="badge badge-outline"><!> </div> <div class="badge badge-outline"><!> </div></div> <!>',1),MP=(r,e,t,n,a)=>{w(e,null),w(t,null),w(n,null),w(a,"")},RP=_('<button class="btn btn-dash btn-block my-5" aria-label="Afficher toutes les recettes"><!> Afficher toutes les recettes</button>'),NP=_('<div class="space-y-8"></div> <!>',1),PP=_(`<div class="bg-base-100 border-base-300 rounded-xl border p-8 text-center"><p class="text-base-content/60 text-lg">Aucune recette n'a encore Ã©tÃ© ajoutÃ©e Ã  cet Ã©vÃ©nement.</p></div>`),$P=_('<div class="mb-8 space-y-4 print:hidden"><div class="flex flex-wrap items-center justify-between gap-4"><div><h1 class="text-3xl font-bold"> </h1> <div class="text-base-content/60 text-sm"><!></div></div></div> <div class="flex justify-end p-4"><!></div> <!></div> <!> <!>',1),LP=_('<div class="bg-base-200 min-h-screen"><div class="print:hidden"><!></div> <div><div class="mx-auto max-w-6xl px-1 py-8 md:px-4"><!></div></div></div>');function OP(r,e){pe(e,!0);let t=ae(!0),n=ae(null),a=ae(null);const s=V(()=>o(a)?Nt.getEventById(o(a)):null);let i=ae(ot([])),u=ae(ot([])),l=ae(!1),c=ae(""),f=ae("");const h=V(()=>{const Z=new Set;return o(u).forEach(R=>{R.ingredients?.forEach(F=>{F.name&&Z.add(F.name)})}),Array.from(Z).sort()}),m=V(()=>o(c)?o(h).filter(Z=>Z!==o(c)):o(h));let g=ae(null),b=ae(null),y=ae(null);const x=V(()=>o(g)?o(i).filter(Z=>{const R=rn(Z.date),F=rs(Z.date),M=R===o(g),B=!o(b)||F===o(b);return M&&B}):o(i)),k=V(()=>{let Z=o(u);if(o(c)&&(Z=Z.filter(R=>R.ingredients?.some(F=>F.name&&F.name.toLowerCase()===o(c).toLowerCase()))),o(g)){const R=new Set;o(x).forEach(F=>{F.recipes.forEach(M=>{R.add(M.recipeUuid)})}),Z=Z.filter(F=>R.has(F.$id))}return Z}),S=V(()=>{const Z=new Map;return o(i).forEach(R=>{const F=rn(R.date),M=rs(R.date);Z.has(F)||Z.set(F,new Map),Z.get(F).has(M)||Z.get(F).set(M,[]),Z.get(F).get(M).push(R)}),Z}),A=V(()=>o(s)?.name??""),C=V(()=>o(s)?.dateStart??null),E=V(()=>o(s)?.dateEnd??null),I=V(()=>q2(o(s))),T=V(()=>()=>e.params?.id?e.params.id:null);async function j(Z){if(!(o(l)||!Z)){w(t,!0),w(l,!0),w(n,null);try{w(a,Z,!0);const R=Nt.getEventById(Z);if(!R){w(n,"ÃvÃ©nement non trouvÃ©");return}w(i,R.meals||[],!0);const F=o(i).flatMap(B=>B.recipes.map(q=>q.recipeUuid)),M=await jt.getRecipesByUuidsBulk(F);w(u,Array.from(M.values()).filter(Boolean),!0),console.log(`[EventRecipesPage] ${o(u).length}/${F.length} recettes chargÃ©es`)}catch(R){console.error("Erreur lors du chargement des donnÃ©es:",R),w(n,R instanceof Error?R.message:"Erreur lors du chargement",!0)}finally{w(t,!1),w(l,!1)}}}vn(()=>{o(T)()?j(o(T)()):(w(n,"ID d'Ã©vÃ©nement manquant"),w(t,!1))}),st(()=>{const Z=o(T)();Z&&Z!==o(a)&&!o(l)&&j(Z)}),st(()=>{if(!o(a))return;const Z=Nt.getEventById(o(a));if(!Z)return;const R=JSON.stringify(Z.meals),F=JSON.stringify(o(i));R!==F&&!o(l)&&(console.log("[EventRecipesPage] Meals mis Ã  jour via realtime, rafraÃ®chissement..."),j(o(a)))}),st(()=>{St.setConfig({eventId:o(a)||void 0,actions:eP})}),Ir(()=>{St.reset()});function U(Z){w(c,Z,!0),w(g,null),w(b,null),w(y,null)}var G=LP(),Q=d(G),ee=d(Q);$o(ee,{width:"120",children:(Z,R)=>{var F=fP(),M=z(F),B=p(d(M),2),q=d(B);{let X=V(()=>o(c)||"Filtrer par ingrÃ©dients...");t0(q,{get items(){return o(m)},onSelect:U,get placeholder(){return o(X)},minQueryLength:1,get value(){return o(f)},set value(N){w(f,N,!0)}})}var $=p(q,2);{var L=X=>{var N=nP();N.__click=[tP,c];var ie=d(N);ir(ie,{size:14}),v(X,N)};D($,X=>{o(c)&&X(L)})}var ne=p(M,2);ze(ne,21,()=>Array.from(o(S).entries()),([X,N])=>X,(X,N)=>{var ie=V(()=>ha(o(N),2));let re=()=>o(ie)[0],le=()=>o(ie)[1];var ue=lP(),se=z(ue),de=d(se);de.__click=[aP,b,y,c,g,re];var fe=d(de),be=d(fe),ye=p(se,2);ze(ye,21,()=>Array.from(le().entries()),([De,xe])=>De,(De,xe)=>{var Ce=V(()=>ha(o(xe),2));let Ie=()=>o(Ce)[0],Pe=()=>o(Ce)[1];var Be=uP(),He=z(Be),Te=d(He);Te.__click=[sP,g,re,b,Ie,y,c];var he=d(Te),Se=d(he),Ae=d(Se),$e=p(He,2);ze($e,23,()=>Pe()[0].recipes,(we,Oe)=>we.recipeUuid+"-"+Oe,(we,Oe,Le)=>{const Ke=V(()=>o(u).find(We=>We.$id===o(Oe).recipeUuid)),Re=V(()=>(Pe()[0].id||Pe()[0].date)+"-"+o(Le));var Je=ce(),Ve=z(Je);{var Ge=We=>{var qe=oP(),et=d(qe);et.__click=[iP,g,b,y,Re,c];var lt=d(et),pt=d(lt);P(()=>{_e(et,1,`btn btn-sm ml-8 justify-start ${o(y)===o(Re)?"btn-accent":"btn-ghost"}`),O(pt,o(Ke).title)}),v(We,qe)};D(Ve,We=>{o(Ke)&&We(Ge)})}v(we,Je)}),P(()=>{_e(Te,1,`btn btn-sm justify-start pl-4 ${o(g)===re()&&o(b)===Ie()?"btn-accent":"btn-ghost "}`),O(Ae,`${Ie()==="matin"?"ð":Ie()==="midi"?"âï¸":"ð"}
                      ${Ie()??""}`)}),v(De,Be)}),P(()=>{_e(de,1,`btn btn-sm justify-start ${o(g)===re()&&!o(b)?"btn-accent":"btn-ghost"}`),O(be,re())}),v(X,ue)});var Y=p(ne,2);{var W=X=>{var N=dP(),ie=d(N);ie.__click=[cP,g,b,y];var re=d(ie);du(re,{size:18}),v(X,N)};D(Y,X=>{(o(g)||o(b)||o(y))&&X(W)})}v(Z,F)},$$slots:{default:!0}});var oe=p(Q,2),H=d(oe),J=d(H);{var K=Z=>{var R=hP();v(Z,R)},te=Z=>{var R=ce(),F=z(R);{var M=q=>{var $=pP(),L=d($),ne=p(d(L),2),Y=d(ne);P(()=>O(Y,o(n))),v(q,$)},B=q=>{var $=ce(),L=z($);{var ne=Y=>{var W=$P(),X=z(W),N=d(X),ie=d(N),re=d(ie),le=d(re),ue=p(re,2),se=d(ue);{var de=Te=>{var he=vP(),Se=z(he);fr(Se,{class:"inline h-4 w-4"});var Ae=p(Se);P(($e,we)=>O(Ae,` ${$e??""} au ${we??""}`),[()=>rn(o(C)),()=>rn(o(E))]),v(Te,he)},fe=Te=>{var he=ce(),Se=z(he);{var Ae=$e=>{var we=mP(),Oe=z(we);fr(Oe,{class:"inline h-4 w-4"});var Le=p(Oe);P(Ke=>O(Le,` ${Ke??""}`),[()=>rn(o(C))]),v($e,we)};D(Se,$e=>{o(C)&&$e(Ae)},!0)}v(Te,he)};D(se,Te=>{o(C)&&o(E)?Te(de):Te(fe,!1)})}var be=p(N,2),ye=d(be);Vp(ye,{get currentEvent(){return o(s)}});var De=p(be,2);{var xe=Te=>{var he=wP(),Se=d(he),Ae=d(Se);ol(Ae,{class:"mr-1 h-4 w-4"});var $e=p(Ae,2);{var we=qe=>{var et=gP(),lt=d(et);P(()=>O(lt,o(g))),v(qe,et)};D($e,qe=>{o(g)&&qe(we)})}var Oe=p($e,2);{var Le=qe=>{var et=bP(),lt=d(et);P(()=>O(lt,o(b))),v(qe,et)};D(Oe,qe=>{o(b)&&qe(Le)})}var Ke=p(Oe,2);{var Re=qe=>{var et=_P();v(qe,et)};D(Ke,qe=>{o(y)&&qe(Re)})}var Je=p(Ke,2);{var Ve=qe=>{var et=yP(),lt=d(et);P(()=>O(lt,o(c))),v(qe,et)};D(Je,qe=>{o(c)&&qe(Ve)})}var Ge=p(Se,2);Ge.__click=[xP,g,b,y,c];var We=d(Ge);du(We,{class:"h-4 w-4"}),v(Te,he)};D(De,Te=>{(o(g)||o(b)||o(y)||o(c))&&Te(xe)})}var Ce=p(X,2);{var Ie=Te=>{var he=ce(),Se=z(he);{var Ae=we=>{var Oe=kP(),Le=d(Oe),Ke=d(Le);P(()=>O(Ke,`Aucune recette ne contient l'ingrÃ©dient "${o(c)??""}".`)),v(we,Oe)},$e=we=>{var Oe=AP();ze(Oe,23,()=>o(i),(Le,Ke)=>Le.id||Ke,(Le,Ke,Re)=>{const Je=V(()=>o(Ke).recipes.filter(qe=>o(k).some(et=>et.$id===qe.recipeUuid)));var Ve=ce(),Ge=z(Ve);{var We=qe=>{var et=SP(),lt=z(et),pt=d(lt),Et=d(pt),kt=p(pt,2),Ue=d(kt),Ye=p(kt,2),at=d(Ye);nn(at,{size:16});var gt=p(at),Ct=p(Ye,2),$t=d(Ct);hs($t,{size:16});var Mt=p($t),Ot=p(lt,2);ze(Ot,19,()=>o(Je),(It,Ft)=>(o(Ke).id||o(Re))+"-"+It.recipeUuid+"-"+Ft,(It,Ft)=>{const pr=V(()=>o(u).find(Ur=>Ur.$id===o(Ft).recipeUuid));var vr=EP(),Wt=d(vr);{var Pr=Ur=>{zm(Ur,{get recipe(){return o(pr)},get meal(){return o(Ke)},get mealRecipe(){return o(Ft)},get totalGuests(){return o(I)}})};D(Wt,Ur=>{o(pr)&&Ur(Pr)})}v(It,vr)}),P((It,Ft)=>{dt(lt,"id",`meal-${o(Ke).date??""}`),O(Et,It),O(Ue,Ft),O(gt,` ${o(Ke).guests??""}`),O(Mt,` ${o(Je).length??""}`)},[()=>ym(o(Ke).date),()=>rs(o(Ke).date)]),v(qe,et)};D(Ge,qe=>{o(Je).length>0&&qe(We)})}v(Le,Ve)}),v(we,Oe)};D(Se,we=>{o(k).length===0?we(Ae):we($e,!1)})}v(Te,he)},Pe=Te=>{var he=ce(),Se=z(he);{var Ae=we=>{var Oe=CP(),Le=p(d(Oe),2);Le.__click=[DP,g,b,y],v(we,Oe)},$e=we=>{var Oe=NP(),Le=z(Oe);ze(Le,23,()=>o(x),(Je,Ve)=>Je.id||Ve,(Je,Ve,Ge)=>{const We=V(()=>o(y)?(()=>{const[pt,Et]=o(y).split("-"),kt=o(Ve).id||o(Ve).date;return pt!==kt.toString()?[]:o(Ve).recipes.filter((Ue,Ye)=>Ye===parseInt(Et))})():o(Ve).recipes);var qe=ce(),et=z(qe);{var lt=pt=>{var Et=TP(),kt=z(Et),Ue=d(kt),Ye=d(Ue),at=p(Ue,2),gt=d(at),Ct=p(at,2),$t=d(Ct);nn($t,{size:16});var Mt=p($t),Ot=p(Ct,2),It=d(Ot);hs(It,{size:16});var Ft=p(It),pr=p(kt,2);ze(pr,19,()=>o(We),(vr,Wt)=>(o(Ve).id||o(Ge))+"-"+vr.recipeUuid+"-"+Wt,(vr,Wt)=>{const Pr=V(()=>o(u).find(Qt=>Qt.$id===o(Wt).recipeUuid));var Ur=IP(),aa=d(Ur);{var _a=Qt=>{zm(Qt,{get recipe(){return o(Pr)},get meal(){return o(Ve)},get mealRecipe(){return o(Wt)},get totalGuests(){return o(I)}})};D(aa,Qt=>{o(Pr)&&Qt(_a)})}v(vr,Ur)}),P((vr,Wt)=>{dt(kt,"id",`meal-${o(Ve).date??""}`),O(Ye,vr),O(gt,Wt),O(Mt,` ${o(Ve).guests??""}`),O(Ft,` ${o(We).length??""}`)},[()=>ym(o(Ve).date),()=>rs(o(Ve).date)]),v(pt,Et)};D(et,pt=>{o(We).length>0&&pt(lt)})}v(Je,qe)});var Ke=p(Le,2);{var Re=Je=>{var Ve=RP();Ve.__click=[MP,g,b,y,c];var Ge=d(Ve);du(Ge,{class:"h-4 w-4"}),v(Je,Ve)};D(Ke,Je=>{(o(g)||o(b)||o(y))&&Je(Re)})}v(we,Oe)};D(Se,we=>{o(x).length===0&&(o(g)||o(b))?we(Ae):we($e,!1)})}v(Te,he)};D(Ce,Te=>{o(c)?Te(Ie):Te(Pe,!1)})}var Be=p(Ce,2);{var He=Te=>{var he=PP();v(Te,he)};D(Be,Te=>{!o(c)&&o(u).length===0&&!o(t)&&Te(He)})}P(()=>O(le,o(A))),v(Y,W)};D(L,Y=>{o(A)&&Y(ne)},!0)}v(q,$)};D(F,q=>{o(n)?q(M):q(B,!1)},!0)}v(Z,R)};D(J,Z=>{o(t)?Z(K):Z(te,!1)})}P(()=>_e(oe,1,`print:ml-0 ${(Ee.isDesktop&&" ml-110")??""}`)),v(r,G),ve()}tt(["click"]);const BP=el().APPWRITE_CONFIG;async function FP(r,e,t){try{const{functions:n}=await vt(),a=await n.createExecution({functionId:BP.functions.usersTeamsManager,body:JSON.stringify({action:"exchange-invite",userId:r,eventId:e,teamId:t})}),s=JSON.parse(a.responseBody);if(!s.success)throw new Error(s.error||"L'invitation est invalide.");return{token:s.token,userId:s.userId}}catch(n){throw console.error("[invitations] Error validating invitation:",n),n}}async function zP(r,e,t,n){if(!o(e)||o(e).trim().length===0){alert("Veuillez saisir votre pseudo / nom.");return}if(o(t).length<8){alert("Le mot de passe doit faire au moins 8 caractÃ¨res.");return}w(n,!0);try{const{client:a,account:s}=await vt();await s.updatePassword({password:o(t)}),o(e)&&await s.updateName({name:o(e)}),console.log("[AcceptInvite] Session crÃ©Ã©e, redirection..."),ct("/dashboard")}catch(a){console.error("[AcceptInvite] Erreur finalisation:",a),alert("Erreur : "+a.message),w(n,!1)}}var qP=_(`<span class="loading loading-spinner loading-lg text-primary mx-auto"></span> <p class="text-base-content/70 mt-4">VÃ©rification de l'invitation...</p>`,1),jP=()=>ct("/"),HP=_(`<!> <h2 class="text-error text-xl font-bold">Oups !</h2> <p class="py-4"> </p> <button class="btn btn-ghost">Retour Ã  l'accueil</button>`,1),UP=_('<span class="loading loading-spinner loading-xs"></span>'),VP=_(`<div class="mb-2 text-4xl">ð</div> <h2 class="card-title justify-center text-2xl">Bienvenue !</h2> <p class="text-base-content/70 mb-6 text-sm">Votre invitation est validÃ©e. <br/> Veuillez dÃ©finir un mot de passe.</p> <label class="w-full text-left"><div class="label"><span class="label-text">Votre Pseudo / Nom</span> <span class="label-text-alt text-error">*</span></div> <input type="text" class="input w-full" required maxlength="25"/></label> <label class="mt-3 w-full text-left"><div class="label"><span class="label-text">Nouveau mot de passe</span></div> <input type="password" placeholder="Minimum 8 caractÃ¨res" class="input w-full"/></label> <div class="card-actions mt-6"><button class="btn btn-primary w-full"><!> Terminer l'inscription</button></div>`,1),WP=_('<div class="bg-base-200 flex min-h-screen items-center justify-center p-4"><div class="card bg-base-100 w-full max-w-md shadow-xl"><div class="card-body text-center"><!></div></div></div>');function QP(r,e){pe(e,!0);let t=ae(!0),n=ae("verifying"),a=ae(""),s=ae(""),i=ae(""),u="",l="",c="";vn(async()=>{if(Fp(),u=xf("userId")||"",l=xf("eventId")||"",c=xf("teamId")||"",!u||!l&&!c){w(n,"error"),w(a,"Lien d'invitation incomplet ou invalide."),w(t,!1);return}try{console.log("[AcceptInvite] Initialisation...",{userId:u,eventId:l,teamId:c});const{client:x,account:k}=await vt(),{token:S}=await FP(u,l,c);console.log("[AcceptInvite] Token reÃ§u, crÃ©ation session..."),await k.createSession({userId:u,secret:S});const A=await k.get();if(console.log("[AcceptInvite] ConnectÃ© en tant que :",A.name),w(i,A.name,!0),A.passwordUpdate){ct("/dashboard");return}w(n,"set-password")}catch(x){console.error("[AcceptInvite] Erreur validation:",x),w(n,"error"),w(a,x.message||"Ce lien d'invitation est invalide.",!0)}finally{w(t,!1)}}),st(()=>{St.setConfig({title:"Rejoindre l'Ã©quipe"})}),Ir(()=>{St.reset()});var f=WP(),h=d(f),m=d(h),g=d(m);{var b=x=>{var k=qP();v(x,k)},y=x=>{var k=ce(),S=z(k);{var A=E=>{var I=HP(),T=z(I);Cr(T,{class:"text-error mb-2 size-7"});var j=p(T,4),U=d(j),G=p(j,2);G.__click=[jP],P(()=>O(U,o(a))),v(E,I)},C=E=>{var I=ce(),T=z(I);{var j=U=>{var G=VP(),Q=p(z(G),6),ee=p(d(Q),2),oe=p(Q,2),H=p(d(oe),2),J=p(oe,2),K=d(J);K.__click=[zP,i,s,t];var te=d(K);{var Z=R=>{var F=UP();v(R,F)};D(te,R=>{o(t)&&R(Z)})}P(()=>K.disabled=o(t)),ft(ee,()=>o(i),R=>w(i,R)),ft(H,()=>o(s),R=>w(s,R)),v(U,G)};D(T,U=>{o(n)==="set-password"&&U(j)},!0)}v(E,I)};D(S,E=>{o(n)==="error"?E(A):E(C,!1)},!0)}v(x,k)};D(g,x=>{o(t)&&o(n)!=="set-password"?x(b):x(y,!1)})}v(r,f),ve()}tt(["click"]);var GP=(r,e)=>e.onClick(e.team.$id),KP=(r,e)=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),e.onClick(e.team.$id))},JP=_('<p class="text-base-content/70 mb-2 line-clamp-2 text-sm"> </p>'),ZP=_('<div class="badge badge-warning badge-sm gap-1"> </div>'),YP=(r,e)=>{r.stopPropagation(),e()},XP=_(`<button class="btn btn-ghost btn-xs text-error" title="Quitter l'Ã©quipe"><!> Quitter</button>`),e$=_("<span></span>"),t$=_('<div class="card bg-base-100 border-base-200 hover:border-primary/50 group cursor-pointer border text-left shadow-xl transition-all hover:shadow-2xl" role="button" tabindex="0"><div class="card-body"><div class="mb-2 flex items-start justify-between"><h3 class="card-title group-hover:text-primary text-lg transition-colors"> </h3></div> <!> <div class="text-base-content/70 mt-2 flex items-center gap-4 text-sm"><div class="flex items-center gap-1"><!> <span> </span></div> <!></div> <div class="card-actions mt-4 justify-between"><!> <span class="text-primary flex items-center gap-1 text-xs font-semibold opacity-0 transition-opacity group-hover:opacity-100">GÃ©rer <!></span></div></div></div>');function r$(r,e){pe(e,!0);const t=V(()=>{const ee=Ee.userId;return ee&&e.team.members.find(H=>H.id===ee)?.roles?.[0]||null}),n=V(()=>e.team.members.filter(ee=>ee.confirmed)),a=V(()=>e.team.members.filter(ee=>!ee.confirmed).length),s=V(()=>e.team.prefs?.description),i=V(()=>{const ee=e.team.members.find(oe=>oe.id===Ee.userId);return ee&&ee.confirmed});async function u(){const ee=e.team.members.find(oe=>oe.id===Ee.userId);ee&&ee.roles?.[0]!=="owner"&&await At.removeMember(e.teamId,ee.$id)}var l=t$();l.__click=[GP,e],l.__keydown=[KP,e];var c=d(l),f=d(c),h=d(f),m=d(h),g=p(f,2);{var b=ee=>{var oe=JP(),H=d(oe);P(()=>O(H,o(s))),v(ee,oe)};D(g,ee=>{o(s)&&ee(b)})}var y=p(g,2),x=d(y),k=d(x);Ut(k,{class:"h-4 w-4"});var S=p(k,2),A=d(S),C=p(x,2);{var E=ee=>{var oe=ZP(),H=d(oe);P(()=>O(H,`${o(a)??""} invitation${o(a)>1?"s":""}`)),v(ee,oe)};D(C,ee=>{o(t)==="owner"&&o(a)>0&&ee(E)})}var I=p(y,2),T=d(I);{var j=ee=>{var oe=XP();oe.__click=[YP,u];var H=d(oe);Lp(H,{class:"h-4 w-4"}),v(ee,oe)},U=ee=>{var oe=e$();v(ee,oe)};D(T,ee=>{o(i)&&o(t)!=="owner"?ee(j):ee(U,!1)})}var G=p(T,2),Q=p(d(G));DE(Q,{class:"h-4 w-4"}),P(()=>{O(m,e.team.name),O(A,`${o(n).length??""} membre${o(n).length>1?"s":""}`)}),v(r,l),ve()}tt(["click","keydown"]);function qm(r,e){w(e,!0)}var n$=_('<button class="btn btn-primary"><!> CrÃ©er une Ã©quipe</button>'),a$=_('<div class="alert alert-warning"><span>Vous devez Ãªtre connectÃ© pour voir vos Ã©quipes</span></div>'),s$=_('<div class="alert alert-error shadow-lg"><span> </span></div>'),i$=_(`<div class="bg-base-200 rounded-box border-base-200 border-2 border-dashed py-20 text-center"><div class="bg-base-200 mb-4 inline-block rounded-full p-4"><!></div> <h3 class="mb-2 text-lg font-bold">Aucune Ã©quipe</h3> <p class="text-base-content/60 mb-6">Vous n'avez pas encore crÃ©Ã© ou rejoint d'Ã©quipe.</p> <button class="btn btn-primary btn-sm">CrÃ©er ma premiÃ¨re Ã©quipe</button></div>`),o$=_('<div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3"></div>'),u$=_('<div class="mx-auto max-w-7xl px-4 py-8"><!></div> <!> <!>',1);function l$(r,e){pe(e,!0);const t=x=>{var k=n$();k.__click=[qm,n];var S=d(k);Zt(S,{class:"h-4 w-4"}),v(x,k)};let n=ae(!1),a=ae(null);function s(x){w(a,x,!0)}function i(){w(a,null)}function u(){w(n,!1)}function l(x){u(),s(x)}st(()=>{Fp()}),st(()=>{St.setConfig({title:"Ãquipes",actions:t})}),Ir(()=>{St.reset()});var c=u$(),f=z(c),h=d(f);{var m=x=>{var k=a$();v(x,k)},g=x=>{var k=ce(),S=z(k);{var A=E=>{var I=s$(),T=d(I),j=d(T);P(()=>O(j,At.error)),v(E,I)},C=E=>{var I=ce(),T=z(I);{var j=G=>{var Q=i$(),ee=d(Q),oe=d(ee);Ut(oe,{class:"h-8 w-8 opacity-50"});var H=p(ee,6);H.__click=[qm,n],v(G,Q)},U=G=>{var Q=o$();ze(Q,21,()=>At.teams,ee=>ee.$id,(ee,oe)=>{r$(ee,{get team(){return o(oe)},get teamId(){return o(oe).$id},onClick:H=>s(H)})}),v(G,Q)};D(T,G=>{At.count===0?G(j):G(U,!1)},!0)}v(E,I)};D(S,E=>{At.error?E(A):E(C,!1)},!0)}v(x,k)};D(h,x=>{Ee.isAuthenticated?x(g,!1):x(m)})}var b=p(f,2);B2(b,{get isOpen(){return o(n)},onClose:u,onSuccess:l});var y=p(b,2);O2(y,{get teamId(){return o(a)},onClose:i}),v(r,c),ve()}tt(["click"]);var c$=_('<div class="text-base-content/70 text-sm"> <!></div>'),d$=_(`<div class="alert alert-error alert-soft"><!> <div class="text-sm">Les auteurÂ·ices de la recette ne l'ont <strong>pas testÃ©</strong> </div></div>`);function f$(r,e){let t=ke(e,"isChecked",3,!1);var n=ce(),a=z(n);{var s=u=>{var l=c$(),c=d(l),f=p(c);{var h=m=>{var g=Pt();P(()=>O(g,`et pour ${e.checkedFor??""} couverts`)),v(m,g)};D(f,m=>{e.checkedFor&&m(h)})}P(()=>O(c,`Cette recette a Ã©tÃ© testÃ©e pour ${e.defaultServings??""} couverts `)),v(u,l)},i=u=>{var l=d$(),c=d(l);Ln(c,{class:"h-5 w-5"});var f=p(c,2),h=p(d(f),2);P(()=>O(h,` pour le
      nombre de couverts indiquÃ© par dÃ©faut (${e.defaultServings??""}).`)),v(u,l)};D(a,u=>{t()?u(s):u(i,!1)})}v(r,n)}var h$=_('<div class="card bg-base-100 mt-4 shadow-sm"><div class="card-body p-4"><div class="loading loading-spinner loading-sm"></div></div></div>'),p$=(r,e)=>ct(`/recipe/${o(e).$id}`),v$=_('<span class="badge badge-ghost badge-xs"> </span>'),m$=_('<span class="badge badge-primary badge-xs badge-soft">Originale</span>'),g$=_('<button class="btn btn-ghost"><div class="flex items-center gap-2 text-sm"> <!> <!></div></button>'),b$=_('<div class="card bg-base-100 mt-4 shadow-sm"><div class="card-body p-4"><h4 class="card-title flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg> </h4> <div class="flex flex-wrap gap-4"></div></div></div>');function u_(r,e){pe(e,!0);let t=ae(ot([])),n=ae(null),a=ae(!0);async function s(){w(a,!0);try{const h=await jt.getVariantGroup(e.recipeId,2);w(n,h.root,!0),w(t,h.variants.sort((m,g)=>m.title.localeCompare(g.title,"fr-FR")),!0)}catch(h){console.error("[RecipeVariants] Erreur chargement:",h)}finally{w(a,!1)}}vn(()=>{s()});let i=V(()=>o(t).filter(h=>h.$id!==e.recipeId));var u=ce(),l=z(u);{var c=h=>{var m=h$();v(h,m)},f=h=>{var m=ce(),g=z(m);{var b=y=>{var x=b$(),k=d(x),S=d(k),A=p(d(S)),C=p(S,2);ze(C,21,()=>o(i),bt,(E,I)=>{var T=g$();T.__click=[p$,I];var j=d(T),U=d(j),G=p(U);{var Q=H=>{var J=v$(),K=d(J);P(()=>O(K,o(I).versionLabel)),v(H,J)};D(G,H=>{o(I).versionLabel&&H(Q)})}var ee=p(G,2);{var oe=H=>{var J=m$();v(H,J)};D(ee,H=>{o(I).$id===o(n)?.$id&&H(oe)})}P(()=>O(U,`${o(I).title??""} `)),v(E,T)}),P(()=>O(A,` ${o(i).length??""} variante${o(i).length>1?"s":""}
        de cette recette`)),v(y,x)};D(g,y=>{o(i).length>0&&y(b)},!0)}v(h,m)};D(l,h=>{o(a)?h(c):h(f,!1)})}v(r,u),ve()}tt(["click"]);var _$=_('<div><span class="font-semibold">ModifiÃ© le :</span> </div>'),y$=_('<div class="bg-base-200 rounded-box mt-12 p-6 text-sm opacity-60 print:hidden"><div class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"><div><span class="font-semibold">Auteur :</span> </div> <div><span class="font-semibold">ID :</span> <span class="font-mono"> </span></div> <div><span class="font-semibold">CrÃ©Ã© le :</span> </div> <!></div></div>');function l_(r,e){pe(e,!0);var t=y$(),n=d(t),a=d(n),s=p(d(a)),i=p(a,2),u=p(d(i),2),l=d(u),c=p(i,2),f=p(d(c)),h=p(c,2);{var m=g=>{var b=_$(),y=p(d(b));P(x=>O(y,` ${x??""}`),[()=>new Intl.DateTimeFormat("fr-FR",{dateStyle:"long",timeStyle:"short"}).format(new Date(e.updatedAt))]),v(g,b)};D(h,g=>{e.updatedAt&&e.updatedAt!==e.createdAt&&g(m)})}P(g=>{O(s,` ${(e.auteur||e.createdBy||"Inconnu")??""}`),O(l,e.id),O(f,` ${g??""}`)},[()=>new Intl.DateTimeFormat("fr-FR",{dateStyle:"long",timeStyle:"short"}).format(new Date(e.createdAt))]),v(r,t),ve()}function x$(r,e){const t=r.target,n=parseInt(t.value);!isNaN(n)&&n>0&&w(e,n,!0)}var w$=(r,e)=>ct(`/recipe/${o(e)?.$id}/duplicate`),k$=(r,e)=>ct(`/recipe/${o(e)?.$id}/edit`),E$=_('<button class="btn btn-primary"><!> Ãditer</button>'),S$=_('<div class="flex items-center gap-4"><button class="btn btn-secondary"><!> CrÃ©er une version alternative</button> <!></div>'),A$=_('<div class="flex items-center justify-center py-20"><div class="loading loading-spinner loading-lg"></div></div>'),D$=_('<div class="alert alert-error"><div><h3 class="font-bold">Erreur</h3> <div> </div></div></div>'),C$=_("<div><!></div>"),I$=_('<p class="text-base-content/60 text-lg print:text-sm"> </p>'),T$=_('<div class="mb-2"><span class="badge badge-primary badge-soft"> </span></div>'),M$=_('<div class="mb-2 flex flex-wrap gap-2 print:hidden"><!> <p class="text-base-content/70 text-base italic"> </p></div>'),R$=_('<span class="badge badge-warning">Servir Chaud</span>'),N$=_('<span class="badge badge-info">Servir Froid</span>'),P$=_('<div class="mb-2"><!></div>'),$$=_('<span class="badge badge-warning">Avec Cuisson</span>'),L$=_('<span class="badge badge-info">Sans Cuisson</span>'),O$=_('<div class="mb-2"><!></div>'),B$=_('<span class="badge badge-error"> </span>'),F$=_('<div class="flex w-fit flex-wrap items-center gap-2"><span class="text-base-content/70 font-semibold">Allergenes :</span> <!></div>'),z$=_('<span class="badge"> </span>'),q$=_('<div class="flex flex-wrap gap-2"></div>'),j$=_('<p class="text-end text-base"> </p>'),H$=_('<div class="mt-8 print:hidden"><!></div>'),U$=_('<div class="card bg-base-100"><div class="card-body"><div class="mb-4 print:mb-2"><div class="flex items-center justify-between gap-x-10 gap-y-4"><h1 class="flex items-center gap-3 text-2xl font-bold print:text-xl"><svg class="me-2 size-9"><use></use></svg> </h1> <!></div> <!></div> <!> <div class="border-base-300 mb-6 border-b pb-4 print:mb-1 print:pb-2"><div class="flex flex-wrap items-center justify-between gap-4"><div class="flex gap-2"><!> <!></div> <!> <!></div></div> <div class="mb-6 flex flex-wrap items-center justify-between gap-6 print:hidden"><div class="flex items-center gap-4"><label for="servings-input" class="flex items-center gap-2 font-medium"><!> Nombre de couverts Ã  servir :</label> <input id="servings-input" type="number" min="1" class="input input-bordered input-primary w-24"/></div> <!></div> <div class="flex justify-between"><p class="print-only font-medium"> </p> <!></div> <div class="mt-8 grid grid-cols-1 gap-8 lg:grid-cols-3 print:mt-2 print:grid-cols-10 print:gap-4" style="break-before: avoid;"><div class=" lg:col-span-1 print:col-span-4"><div class="sticky top-4 print:static"><!></div></div> <div class="lg:col-span-2 print:col-span-6"><!></div></div></div></div> <!> <!>',1),V$=_('<div class="mx-auto max-w-7xl px-4 py-8"><!></div>');function W$(r,e){pe(e,!0);const t=y=>{var x=ce(),k=z(x);{var S=A=>{var C=S$(),E=d(C);E.__click=[w$,i];var I=d(E);v2(I,{size:18});var T=p(E,2);{var j=U=>{var G=E$();G.__click=[k$,i];var Q=d(G);GE(Q,{size:18}),v(U,G)};D(T,U=>{(o(i).permissionWrite&&Ee.userId&&o(i).permissionWrite.includes(Ee.userId)||o(i).createdBy&&o(i).createdBy===Ee.userId)&&U(j)})}v(A,C)};D(k,A=>{Ee.isAuthenticated&&o(i)&&A(S)})}v(y,x)};let n=V(()=>e.params?.uuid),a=ae(!0),s=ae(null),i=ae(null),u=ae(4);st(()=>{o(n)?c(o(n)):(w(s,"UUID de recette manquant"),w(a,!1))});const l=V(()=>{if(!o(i)?.ingredients)return[];const y=new Set;return o(i).ingredients.forEach(x=>{x.allergens&&Array.isArray(x.allergens)&&x.allergens.forEach(k=>y.add(k))}),Array.from(y).sort()});async function c(y){w(a,!0),w(s,null);try{const x=await jt.getRecipeByUuid(y);if(!x){w(s,"Impossible de charger les dÃ©tails de la recette");return}w(i,x,!0),w(u,x.plate,!0)}catch(x){console.error("Erreur lors du chargement de la recette:",x),w(s,x instanceof Error?x.message:"Erreur lors du chargement",!0)}finally{w(a,!1)}}st(()=>{St.setConfig({title:o(i)?.title||"Recette",actions:t})}),Ir(()=>{St.reset()});const f=V(()=>o(i)?Td(o(i).typeR,o(i).categories||void 0):{label:"",iconId:"no-cat"});var h=V$(),m=d(h);{var g=y=>{var x=A$();v(y,x)},b=y=>{var x=ce(),k=z(x);{var S=C=>{var E=D$(),I=d(E),T=p(d(I),2),j=d(T);P(()=>O(j,o(s))),v(C,E)},A=C=>{var E=ce(),I=z(E);{var T=j=>{var U=U$(),G=z(U),Q=d(G),ee=d(Q),oe=d(ee),H=d(oe),J=d(H),K=d(J),te=p(J),Z=p(H,2);{var R=Re=>{var Je=C$(),Ve=d(Je);vc(Ve,{get regimes(){return o(i).regime},iconOnly:!1}),v(Re,Je)};D(Z,Re=>{o(i)?.regime&&o(i).regime.length>0&&Re(R)})}var F=p(oe,2);{var M=Re=>{var Je=I$(),Ve=d(Je);P(()=>O(Ve,`une recette de ${o(i).auteur??""}`)),v(Re,Je)};D(F,Re=>{o(i).auteur&&Re(M)})}var B=p(ee,2);{var q=Re=>{var Je=M$(),Ve=d(Je);ze(Ve,17,()=>o(i).categories,bt,(qe,et)=>{var lt=T$(),pt=d(lt),Et=d(pt);P(()=>O(Et,o(et))),v(qe,lt)});var Ge=p(Ve,2),We=d(Ge);P(()=>O(We,o(i).description)),v(Re,Je)};D(B,Re=>{(o(i).description||o(i).categories&&o(i).categories.length>0)&&Re(q)})}var $=p(B,2),L=d($),ne=d(L),Y=d(ne);{var W=Re=>{var Je=P$(),Ve=d(Je);{var Ge=qe=>{var et=R$();v(qe,et)},We=qe=>{var et=N$();v(qe,et)};D(Ve,qe=>{o(i).serveHot?qe(Ge):qe(We,!1)})}v(Re,Je)};D(Y,Re=>{o(i)?.serveHot!==void 0&&Re(W)})}var X=p(Y,2);{var N=Re=>{var Je=O$(),Ve=d(Je);{var Ge=qe=>{var et=$$();v(qe,et)},We=qe=>{var et=L$();v(qe,et)};D(Ve,qe=>{o(i).cuisson?qe(Ge):qe(We,!1)})}v(Re,Je)};D(X,Re=>{o(i)?.cuisson!==void 0&&Re(N)})}var ie=p(ne,2);{var re=Re=>{var Je=F$(),Ve=p(d(Je),2);ze(Ve,17,()=>o(l),bt,(Ge,We)=>{var qe=B$(),et=d(qe);P(()=>O(et,o(We))),v(Ge,qe)}),v(Re,Je)};D(ie,Re=>{o(l).length>0&&Re(re)})}var le=p(ie,2);{var ue=Re=>{var Je=q$();ze(Je,21,()=>o(i).materiel,bt,(Ve,Ge)=>{var We=z$(),qe=d(We);P(()=>O(qe,o(Ge))),v(Ve,We)}),v(Re,Je)};D(le,Re=>{o(i)?.materiel&&o(i).materiel.length>0&&Re(ue)})}var se=p($,2),de=d(se),fe=d(de),be=d(fe);Ut(be,{class:"h-5 w-5"});var ye=p(fe,2);ye.__input=[x$,u];var De=p(de,2);{var xe=Re=>{f$(Re,{get isChecked(){return o(i).check},get defaultServings(){return o(i).plate}})};D(De,Re=>{o(i).check!==void 0&&Re(xe)})}var Ce=p(se,2),Ie=d(Ce),Pe=d(Ie),Be=p(Ie,2);{var He=Re=>{var Je=j$(),Ve=d(Je);P(()=>O(Ve,o(i).quantite_desc)),v(Re,Je)};D(Be,Re=>{o(i).quantite_desc&&Re(He)})}var Te=p(Ce,2),he=d(Te),Se=d(he),Ae=d(Se);Q2(Ae,{get ingredients(){return o(i).ingredients},get servings(){return o(u)},get defaultServings(){return o(i).plate}});var $e=p(he,2),we=d($e);{let Re=V(()=>o(i).preparation24h||void 0),Je=V(()=>o(i).astuces||[]);o_(we,{get preparation(){return o(i).preparation},get preparation24h(){return o(Re)},get astuces(){return o(Je)}})}var Oe=p(G,2);{var Le=Re=>{var Je=H$(),Ve=d(Je);u_(Ve,{get recipeId(){return o(n)}}),v(Re,Je)};D(Oe,Re=>{o(n)&&Re(Le)})}var Ke=p(Oe,2);l_(Ke,{get auteur(){return o(i).auteur},get createdBy(){return o(i).createdBy},get id(){return o(i).$id},get createdAt(){return o(i).$createdAt},get updatedAt(){return o(i).$updatedAt}}),P(()=>{dt(K,"href",`/icons/sprite.svg#${o(f).iconId}`),O(te,` ${o(i).title??""}`),$i(ye,o(u)),O(Pe,`QuantitÃ© pour ${o(u)??""} couverts`)}),v(j,U)};D(I,j=>{o(i)&&j(T)},!0)}v(C,E)};D(k,C=>{o(s)?C(S):C(A,!1)},!0)}v(y,x)};D(m,y=>{o(a)?y(g):y(b,!1)})}v(r,h),ve()}tt(["click","input"]);var Q$=_('<div><label class="input input-lg w-full"><!> <input type="text" placeholder="Rechercher... (parmi les titres, auteurÂ·ices, spÃ©cialitÃ©s. DÃ©sactive les filtres sÃ©lectionnÃ©s)"/> <button class="btn btn-circle" title="Effacer la recherche"><!></button></label></div>');function G$(r,e){pe(e,!0);let t=ke(e,"searchQuery",15);var n=Q$(),a=d(n),s=d(a);Po(s,{class:"h-5 w-5 opacity-50"});var i=p(s,2),u=p(i,2);u.__click=function(...c){e.onReset?.apply(this,c)};var l=d(u);ir(l,{class:"h-5 w-5"}),ft(i,t),v(r,n),ve()}tt(["click"]);var K$=_('<button type="button" class="cursor-pointer hover:opacity-70" title="Supprimer"><!></button>'),J$=_('<div><span class="max-w-32 truncate"> </span> <!></div>'),Z$=_('<div class="flex flex-wrap gap-2"></div>');function Y$(r,e){pe(e,!0);let t=ke(e,"itemToString",3,h=>String(h)),n=ke(e,"badgeClass",3,"badge-success"),a=ke(e,"disabled",3,!1),s=ke(e,"itemKey",3,(h,m)=>m);function i(h,m){a()||e.onRemove?.(h,m)}let u=V(()=>e.maxItems?e.items.slice(0,e.maxItems):e.items);var l=ce(),c=z(l);{var f=h=>{var m=Z$();ze(m,23,()=>o(u),(g,b)=>s()(g,b),(g,b,y)=>{var x=J$(),k=d(x),S=d(k),A=p(k,2);{var C=E=>{var I=K$();I.__click=()=>i(o(b),o(y));var T=d(I);ir(T,{class:"h-3 w-3"}),v(E,I)};D(A,E=>{a()||E(C)})}P(E=>{_e(x,1,`badge badge-sm ${n()??""} gap-1`),O(S,E)},[()=>t()(o(b))]),v(g,x)}),v(h,m)};D(c,h=>{e.items.length>0&&h(f)})}v(r,l),ve()}tt(["click"]);var X$=_('<div class="flex flex-wrap gap-3"></div>'),eL=_('<div class="flex flex-wrap gap-3"></div>'),tL=_('<div class="mb-3"><!></div> <div><div class="mb-2 text-xs font-medium"> </div> <!></div>',1),rL=(r,e)=>e(e().testedStatus="all",!0),nL=(r,e)=>e(e().testedStatus="tested",!0),aL=(r,e)=>e(e().testedStatus="untested",!0),sL=_('<div class="bg-base-100 flex gap-1 rounded-xl p-2 font-semibold"><button type="button" aria-label="Toutes">Toutes</button> <button type="button" aria-label="TestÃ©es">TestÃ©es</button> <button type="button" aria-label="Non testÃ©es">Ã tester</button></div>'),iL=(r,e)=>e(e().temperature="",!0),oL=(r,e)=>e(e().temperature="Chaud",!0),uL=(r,e)=>e(e().temperature="Froid",!0),lL=_('<div class="bg-base-100 flex gap-1 rounded-xl p-2 font-semibold"><button type="button" aria-label="IndiffÃ©rent">IndiffÃ©rent</button> <button type="button" aria-label="Servir chaud">Chaud</button> <button type="button" aria-label="Servir froid">Froid</button></div>'),cL=(r,e)=>e(e().cuisson="",!0),dL=(r,e)=>e(e().cuisson="Oui",!0),fL=(r,e)=>e(e().cuisson="Non",!0),hL=_('<div class="bg-base-100 flex gap-1 rounded-xl p-2 font-semibold"><button type="button" aria-label="IndiffÃ©rent">IndiffÃ©rent</button> <button type="button" aria-label="Avec cuisson">Avec</button> <button type="button" aria-label="Sans cuisson">Sans</button></div>'),pL=(r,e)=>e(e().saison="",!0),vL=(r,e)=>e(e().saison="printemps",!0),mL=(r,e)=>e(e().saison="ete",!0),gL=(r,e)=>e(e().saison="automne",!0),bL=(r,e)=>e(e().saison="hiver",!0),_L=_('<div class="bg-base-100 flex flex-wrap gap-1 rounded-xl p-2 font-semibold"><button type="button" aria-label="IndiffÃ©rent">Toutes</button> <button type="button" aria-label="Printemps">Printemps</button> <button type="button" aria-label="ÃtÃ©">ÃtÃ©</button> <button type="button" aria-label="Automne">Automne</button> <button type="button" aria-label="Hiver">Hiver</button></div>'),yL=_('<div><div class="mb-4 flex items-center justify-between"><h4 class="text-lg font-bold">Filtres</h4> <button class="btn btn-warning btn-sm"><!> Effacer</button></div> <!> <!> <!> <!> <!> <!> <!></div>');function xL(r,e){pe(e,!0);let t=ke(e,"filters",15),n=ke(e,"disabled",3,!1);function a(E,I){const T=E.indexOf(I);T===-1?E.push(I):E.splice(T,1),t({...t()})}let s=ae("");function i(E){t().ingredients.includes(E)||(t().ingredients.push(E),t({...t()}))}function u(E,I){const T=t().ingredients.indexOf(E);T!==-1&&(t().ingredients.splice(T,1),t({...t()}))}let l=V(()=>e.availableIngredients.filter(E=>!t().ingredients.includes(E)));var c=yL();let f;var h=d(c),m=p(d(h),2);m.__click=function(...E){e.onReset?.apply(this,E)};var g=d(m);oi(g,{class:"h-4 w-4"});var b=p(h,2);Gt(b,{legend:"CatÃ©gories",get iconComponent(){return sS},children:(E,I)=>{var T=X$();ze(T,21,()=>e.availableCategories,bt,(j,U)=>{{let G=V(()=>t().categories.includes(o(U)));Bs(j,{get checked(){return o(G)},get label(){return o(U)},onchange:()=>a(t().categories,o(U)),get disabled(){return n()}})}}),v(E,T)},$$slots:{default:!0}});var y=p(b,2);Gt(y,{legend:"RÃ©gimes",get iconComponent(){return YE},children:(E,I)=>{var T=eL();ze(T,21,()=>e.availableRegimes,bt,(j,U)=>{{let G=V(()=>t().regimes.includes(o(U)));Bs(j,{get checked(){return o(G)},get label(){return o(U)},onchange:()=>a(t().regimes,o(U)),get disabled(){return n()}})}}),v(E,T)},$$slots:{default:!0}});var x=p(y,2);Gt(x,{legend:"IngrÃ©dients",get iconComponent(){return NE},children:(E,I)=>{var T=tL(),j=z(T),U=d(j);t0(U,{get items(){return o(l)},onSelect:i,placeholder:"Ajouter un ingrÃ©dient...",get disabled(){return n()},minQueryLength:1,get value(){return o(s)},set value(H){w(s,H,!0)}});var G=p(j,2),Q=d(G),ee=d(Q),oe=p(Q,2);Y$(oe,{get items(){return t().ingredients},onRemove:u,badgeClass:"badge-success",get disabled(){return n()},itemKey:(H,J)=>H}),P(()=>O(ee,`IngrÃ©dients sÃ©lectionnÃ©s (${t().ingredients.length??""})`)),v(E,T)},$$slots:{default:!0}});var k=p(x,2);Gt(k,{legend:"TestÃ©",children:(E,I)=>{var T=sL(),j=d(T);j.__click=[rL,t];var U=p(j,2);U.__click=[nL,t];var G=p(U,2);G.__click=[aL,t],P(()=>{_e(j,1,`btn btn-sm flex-1 ${t().testedStatus==="all"&&"btn-secondary"}`),_e(U,1,`btn btn-sm flex-1 ${t().testedStatus==="tested"&&"btn-success"}`),_e(G,1,`btn btn-sm flex-1 ${t().testedStatus==="untested"&&"btn-error"}`)}),v(E,T)},$$slots:{default:!0}});var S=p(k,2);Gt(S,{legend:"Service",get iconComponent(){return zi},children:(E,I)=>{var T=lL(),j=d(T);j.__click=[iL,t];var U=p(j,2);U.__click=[oL,t];var G=p(U,2);G.__click=[uL,t],P(()=>{_e(j,1,`btn btn-sm flex-1 ${t().temperature===""&&"btn-secondary"}`),_e(U,1,`btn btn-sm flex-1 ${t().temperature==="Chaud"&&"btn-error"}`),_e(G,1,`btn btn-sm flex-1 ${t().temperature==="Froid"&&"btn-info"}`)}),v(E,T)},$$slots:{default:!0}});var A=p(S,2);Gt(A,{legend:"Cuisson",get iconComponent(){return Nd},children:(E,I)=>{var T=hL(),j=d(T);j.__click=[cL,t];var U=p(j,2);U.__click=[dL,t];var G=p(U,2);G.__click=[fL,t],P(()=>{_e(j,1,`btn btn-sm flex-1 ${t().cuisson===""&&"btn-secondary"}`),_e(U,1,`btn btn-sm flex-1 ${t().cuisson==="Oui"&&"btn-warning"}`),_e(G,1,`btn btn-sm flex-1 ${t().cuisson==="Non"&&"btn-success"}`)}),v(E,T)},$$slots:{default:!0}});var C=p(A,2);Gt(C,{legend:"Saison",get iconComponent(){return fr},children:(E,I)=>{var T=_L(),j=d(T);j.__click=[pL,t];var U=p(j,2);U.__click=[vL,t];var G=p(U,2);G.__click=[mL,t];var Q=p(G,2);Q.__click=[gL,t];var ee=p(Q,2);ee.__click=[bL,t],P(()=>{_e(j,1,`btn btn-sm flex-1 ${t().saison===""&&"btn-secondary"}`),_e(U,1,`btn btn-sm flex-1 ${t().saison==="printemps"&&"btn-success"}`),_e(G,1,`btn btn-sm flex-1 ${t().saison==="ete"&&"btn-warning"}`),_e(Q,1,`btn btn-sm flex-1 ${t().saison==="automne"&&"btn-accent"}`),_e(ee,1,`btn btn-sm flex-1 ${t().saison==="hiver"&&"btn-info"}`)}),v(E,T)},$$slots:{default:!0}}),P(E=>{f=_e(c,1,"mt-16 space-y-4",null,f,E),m.disabled=n()},[()=>({"opacity-30":n()})]),v(r,c),ve()}tt(["click"]);var wL=_(`<span class="font-semibold"> </span> correspondent
          aux critÃ¨res`,1),kL=_(`<span class="font-semibold"> </span> correspondent
          aux critÃ¨res`,1),EL=_('<span class="font-semibold"> </span> correspond aux critÃ¨res',1),SL=_('<span class="font-semibold">1 recette</span> correspond aux critÃ¨res',1),AL=_('<span class="text-warning"> </span> ne correspond aux critÃ¨res...',1),DL=_('<span class="text-warning">Aucune recette</span> ne correspond aux critÃ¨res...',1),CL=_('<legend class="legend text-base-content/70 ms-4"><!></legend>'),IL=_('<div class="text-base-content/70 text-base"><!></div>'),TL=_('<div><span class="text-base-content/60 italic">contient (dans son titre/auteurÂ·ice...) :</span> <span class="font-bold"> </span></div>'),ML=_('<span class="badge badge-success"> </span>'),RL=_('<span class="badge badge-secondary"> </span>'),NL=_('<span class="badge badge-error text-white">Servir Chaud</span>'),PL=_('<span class="badge badge-info">Servir Froid</span>'),$L=_('<span class="badge badge-warning">Avec Cuisson</span>'),LL=_('<span class="badge badge-success">Sans Cuisson</span>'),OL=_('<span class="badge badge-accent"> </span>'),BL=_('<span class="badge badge-success"> </span>'),FL=_('<span class="badge badge-success">TestÃ©es</span>'),zL=_('<span class="badge badge-error">Ã tester</span>'),qL=_('<span class="badge badge-warning"> </span>'),jL=_('<div class="flex flex-wrap gap-2"><!> <!> <!> <!> <!> <!> <!> <!></div> <div class="mt-3 text-end"><button class="btn btn-warning btn-sm"><!> Effacer tous les filtres</button></div>',1),HL=_('<fieldset class="fieldset border-base-300 relative rounded-lg border-2"><!> <div class="p-4"><!> <!></div></fieldset>');function UL(r,e){pe(e,!0);const t=V(()=>e.filters.categories.length>0||e.filters.regimes.length>0||e.filters.ingredients.length>0||e.filters.temperature!==""||e.filters.cuisson!==""||e.filters.saison!==""||e.filters.testedStatus!=="all"),n=V(()=>{switch(e.filters.typeR){case"entree":return"entrÃ©e";case"plat":return"plat";case"dessert":return"dessert";default:return""}});var a=HL(),s=d(a);{var i=g=>{var b=CL(),y=d(b);{var x=S=>{var A=ce(),C=z(A);{var E=T=>{var j=wL(),U=z(j),G=d(U);P(()=>O(G,`${e.resultCount??""} ${o(n)??""}s`)),v(T,j)},I=T=>{var j=kL(),U=z(j),G=d(U);P(()=>O(G,`${e.resultCount??""} recettes`)),v(T,j)};D(C,T=>{o(n)?T(E):T(I,!1)})}v(S,A)},k=S=>{var A=ce(),C=z(A);{var E=T=>{var j=ce(),U=z(j);{var G=ee=>{var oe=EL(),H=z(oe),J=d(H);P(()=>O(J,`1 ${o(n)??""}`)),v(ee,oe)},Q=ee=>{var oe=SL();v(ee,oe)};D(U,ee=>{o(n)?ee(G):ee(Q,!1)})}v(T,j)},I=T=>{var j=ce(),U=z(j);{var G=ee=>{var oe=AL(),H=z(oe),J=d(H);P(()=>O(J,`Aucun ${o(n)??""}`)),v(ee,oe)},Q=ee=>{var oe=DL();v(ee,oe)};D(U,ee=>{o(n)?ee(G):ee(Q,!1)},!0)}v(T,j)};D(C,T=>{e.resultCount===1?T(E):T(I,!1)},!0)}v(S,A)};D(y,S=>{e.resultCount>1?S(x):S(k,!1)})}v(g,b)};D(s,g=>{o(t)&&g(i)})}var u=p(s,2),l=d(u);{var c=g=>{var b=IL(),y=d(b);{var x=S=>{var A=Pt();P(()=>O(A,`${e.resultCount??""} ${o(n)??""}s`)),v(S,A)},k=S=>{var A=Pt();P(()=>O(A,`${e.resultCount??""} recettes`)),v(S,A)};D(y,S=>{o(n)?S(x):S(k,!1)})}v(g,b)};D(l,g=>{o(t)||g(c)})}var f=p(l,2);{var h=g=>{var b=TL(),y=p(d(b),2),x=d(y);P(()=>O(x,e.searchQuery)),v(g,b)},m=g=>{var b=ce(),y=z(b);{var x=k=>{var S=jL(),A=z(S),C=d(A);ze(C,17,()=>e.filters.categories,bt,(q,$)=>{var L=ML(),ne=d(L);P(()=>O(ne,o($))),v(q,L)});var E=p(C,2);ze(E,17,()=>e.filters.regimes,bt,(q,$)=>{var L=RL(),ne=d(L);P(()=>O(ne,o($))),v(q,L)});var I=p(E,2);{var T=q=>{var $=NL();v(q,$)},j=q=>{var $=ce(),L=z($);{var ne=Y=>{var W=PL();v(Y,W)};D(L,Y=>{e.filters.temperature==="Froid"&&Y(ne)},!0)}v(q,$)};D(I,q=>{e.filters.temperature==="Chaud"?q(T):q(j,!1)})}var U=p(I,2);{var G=q=>{var $=$L();v(q,$)},Q=q=>{var $=ce(),L=z($);{var ne=Y=>{var W=LL();v(Y,W)};D(L,Y=>{e.filters.cuisson==="Non"&&Y(ne)},!0)}v(q,$)};D(U,q=>{e.filters.cuisson==="Oui"?q(G):q(Q,!1)})}var ee=p(U,2);{var oe=q=>{var $=OL(),L=d($);P(()=>O(L,e.filters.saison)),v(q,$)};D(ee,q=>{e.filters.saison&&q(oe)})}var H=p(ee,2);ze(H,17,()=>e.filters.ingredients,bt,(q,$)=>{var L=BL(),ne=d(L);P(()=>O(ne,o($))),v(q,L)});var J=p(H,2);{var K=q=>{var $=FL();v(q,$)},te=q=>{var $=ce(),L=z($);{var ne=Y=>{var W=zL();v(Y,W)};D(L,Y=>{e.filters.testedStatus==="untested"&&Y(ne)},!0)}v(q,$)};D(J,q=>{e.filters.testedStatus==="tested"?q(K):q(te,!1)})}var Z=p(J,2);{var R=q=>{var $=qL(),L=d($);P(()=>O(L,o(n))),v(q,$)};D(Z,q=>{e.filters.typeR&&q(R)})}var F=p(A,2),M=d(F);M.__click=function(...q){e.onResetFilters?.apply(this,q)};var B=d(M);m2(B,{class:"h-4 w-4"}),v(k,S)};D(y,k=>{o(t)&&k(x)},!0)}v(g,b)};D(f,g=>{e.searchQuery.length>=2?g(h):g(m,!1)})}v(r,a),ve()}tt(["click"]);var VL=(r,e)=>{(r.key==="Enter"||r.key===" ")&&e()},WL=_('<div class="badge badge-accent badge-outline badge-sm">brouillon</div>'),QL=_('<div class="text-primary bg-base-100 rounded-t-box border-t-base-300 absolute -top-4 left-0 flex max-w-4/5 items-center-safe gap-3 border-t-1 py-0.5 ps-4 pe-6 text-lg font-semibold"><svg class="size-6"><use></use></svg> <!></div> <div class="bg-base-100 rounded-t-box border-base-300 absolute -top-4 right-0 border-t-1 px-1"><!></div>',1),GL=_('<div class="badge badge-accent badge-outline badge-sm">brouillon</div>'),KL=_('<div class="flex gap-4"><div class="text-primary mb-2 inline-flex flex-wrap items-center-safe gap-2 text-lg font-semibold"><div class="items-start-safe inline-flex gap-2"><svg class="mt-0.5 size-6 min-w-6"><use></use></svg> </div> <!></div> <!></div>'),JL=_('<span class="text-primary text-base font-bold"> </span>'),ZL=_("<span> </span>"),YL=_("<p> </p>"),XL=_("<p> <strong>(non testÃ©e)</strong></p>"),eO=_('<span class="badge badge-ghost badge-sm"> </span>'),tO=_('<span class="badge badge-primary badge-soft badge-sm"> </span>'),rO=_("<!> <!>",1),nO=_('<span class="badge badge-soft badge-sm badge-error">Servir Chaud</span>'),aO=_('<span class="badge badge-soft badge-sm badge-info">Servir Froid</span>'),sO=_('<span class="badge badge-soft badge-sm badge-warning">Avec Cuisson</span>'),iO=_('<span class="badge badge-soft badge-sm badge-success">Sans Cuisson</span>'),oO=_('<span class="badge badge-soft badge-accent badge-sm"> </span>'),uO=_("<span> <!></span>"),lO=_('<div class="my-1 text-sm"><span class="font-semibold">IngrÃ©dients :</span> <!></div>'),cO=_('<span class="me-1"> <!></span>'),dO=_('<div class="text-sm"><span class="font-semibold">MatÃ©riel :</span> <!></div>'),fO=_('<div role="button" tabindex="0"><!> <div class=" flex flex-wrap items-start justify-between gap-4 @md:my-2"><div class="min-w-72 flex-1"><!> <div class=" flex flex-col"><div><!> <!></div> <div class="text-base-content/60 text-sm"><!></div></div></div> <div class="ms-auto flex flex-col justify-end gap-2"><div class=" flex flex-wrap justify-end gap-1 pt-1"><!></div> <div class="mb-2 flex flex-wrap justify-end gap-1"><!> <!> <!></div></div></div> <!> <!></div>');function hO(r,e){pe(e,!0);let t=ke(e,"highlightedIngredients",19,()=>[]);function n(){ct(`/recipe/${e.recipe.$id}`)}const a=Td(e.recipe.typeR,e.recipe.categories||void 0);var s=fO();s.__click=n,s.__keydown=[VL,n];var i=d(s);{var u=q=>{var $=QL(),L=z($),ne=d(L),Y=d(ne),W=p(ne),X=p(W);{var N=ue=>{var se=WL();v(ue,se)};D(X,ue=>{e.recipe.draft&&ue(N)})}var ie=p(L,2),re=d(ie);{var le=ue=>{vc(ue,{get regimes(){return e.recipe.regime},iconOnly:!0})};D(re,ue=>{e.recipe.regime&&ue(le)})}P(()=>{dt(Y,"href",`/icons/sprite.svg#${a.iconId}`),O(W,` ${e.recipe.title??""} `)}),v(q,$)};D(i,q=>{Ee.isDesktop&&q(u)})}var l=p(i,2),c=d(l),f=d(c);{var h=q=>{var $=KL(),L=d($),ne=d(L),Y=d(ne),W=d(Y),X=p(Y),N=p(ne,2);{var ie=ue=>{var se=GL();v(ue,se)};D(N,ue=>{e.recipe.draft&&ue(ie)})}var re=p(L,2);{var le=ue=>{vc(ue,{get regimes(){return e.recipe.regime},iconOnly:!0})};D(re,ue=>{e.recipe.regime&&ue(le)})}P(()=>{dt(W,"href",`/icons/sprite.svg#${a.iconId}`),O(X,` ${e.recipe.title??""}`)}),v(q,$)};D(f,q=>{Ee.isDesktop||q(h)})}var m=p(f,2),g=d(m),b=d(g);{var y=q=>{var $=JL(),L=d($);P(()=>O(L,e.recipe.versionLabel)),v(q,$)};D(b,q=>{e.recipe.versionLabel&&q(y)})}var x=p(b,2);{var k=q=>{var $=ZL(),L=d($);P(()=>{_e($,1,gn(e.recipe.auteur===Ee.userName?"text-accent font-semibold":"text-base-content/70 ")),O(L,`de ${e.recipe.auteur??""}`)}),v(q,$)};D(x,q=>{e.recipe.auteur&&q(k)})}var S=p(g,2),A=d(S);{var C=q=>{var $=YL(),L=d($);P(()=>O(L,`testÃ©e pour ${e.recipe.plate??""}
              couverts`)),v(q,$)},E=q=>{var $=XL(),L=d($);P(()=>O(L,`thÃ©oriquement pour ${e.recipe.plate??""} couverts `)),v(q,$)};D(A,q=>{e.recipe.check?q(C):q(E,!1)})}var I=p(c,2),T=d(I),j=d(T);{var U=q=>{var $=rO(),L=z($);{var ne=W=>{var X=eO(),N=d(X);P(()=>O(N,e.recipe.region)),v(W,X)};D(L,W=>{e.recipe.region&&W(ne)})}var Y=p(L,2);ze(Y,17,()=>e.recipe.categories,bt,(W,X)=>{var N=tO(),ie=d(N);P(()=>O(ie,o(X))),v(W,N)}),v(q,$)};D(j,q=>{e.recipe.categories&&q(U)})}var G=p(T,2),Q=d(G);{var ee=q=>{var $=nO();v(q,$)},oe=q=>{var $=aO();v(q,$)};D(Q,q=>{e.recipe.serveHot?q(ee):q(oe,!1)})}var H=p(Q,2);{var J=q=>{var $=sO();v(q,$)},K=q=>{var $=iO();v(q,$)};D(H,q=>{e.recipe.cuisson?q(J):q(K,!1)})}var te=p(H,2);{var Z=q=>{var $=ce(),L=z($);ze(L,17,()=>e.recipe.saison,bt,(ne,Y)=>{var W=oO(),X=d(W);P(()=>O(X,o(Y))),v(ne,W)}),v(q,$)};D(te,q=>{e.recipe.saison&&q(Z)})}var R=p(l,2);{var F=q=>{var $=lO(),L=p(d($),2);ze(L,17,()=>e.recipe.ingredients,bt,(ne,Y,W)=>{var X=uO();let N;var ie=d(X),re=p(ie);{var le=ue=>{var se=Pt(",");v(ue,se)};D(re,ue=>{W<e.recipe.ingredients.length-1&&ue(le)})}P(ue=>{N=_e(X,1,"me-1",null,N,ue),O(ie,o(Y))},[()=>({"font-bold":t().includes(o(Y)),underline:t().includes(o(Y))})]),v(ne,X)}),v(q,$)};D(R,q=>{e.recipe.ingredients&&e.recipe.ingredients.length>0&&q(F)})}var M=p(R,2);{var B=q=>{var $=dO(),L=p(d($),2);ze(L,17,()=>e.recipe.materiel,bt,(ne,Y,W)=>{var X=cO(),N=d(X),ie=p(N);{var re=le=>{var ue=Pt(",");v(le,ue)};D(ie,le=>{W<e.recipe.materiel.length-1&&le(re)})}P(()=>O(N,o(Y))),v(ne,X)}),v(q,$)};D(M,q=>{e.recipe.materiel&&e.recipe.materiel.length>0&&q(B)})}P(()=>_e(s,1,`card bg-base-100 cursor-pointer p-4 shadow-sm transition-shadow hover:shadow-md ${e.recipe.auteur===Ee.userName&&"border-accent/60 border-l-3"}`)),v(r,s),ve()}tt(["click","keydown"]);var pO=(r,e)=>e("title"),vO=(r,e)=>e("$createdAt"),mO=(r,e)=>e("$updatedAt"),gO=()=>ct("/recipe"),bO=()=>ct("/recipe/my"),_O=()=>ct("/recipe/my/draft"),yO=_('<fieldset class="fieldset"><legend class="legend label"><!> Filtrer :</legend> <div class="btn-group"><button>Tout</button> <button>Mes recettes</button> <button>Mes brouillons</button></div></fieldset>'),xO=_('<div class="bg-base-300 rounded-box flex flex-wrap items-center justify-between gap-6 px-6 py-6"><fieldset class="fieldset"><legend class="legend label"><!> Trier par :</legend> <div class="btn-group"><button aria-label="Trier par titre">Titre</button> <button aria-label="Trier par date de crÃ©ation"><!> Date de crÃ©ation</button> <button aria-label="Trier par date de modification"><!> Date de modification</button></div></fieldset> <!></div>');function wO(r,e){pe(e,!0);const t=E=>e.sortBy!==E?"inactive":e.sortOrder,n=E=>{E==="title"?e.onSortChange("title",e.sortBy==="title"&&e.sortOrder==="asc"?"desc":"asc"):e.sortBy!==E?e.onSortChange(E,"desc"):e.sortOrder==="desc"?e.onSortChange(E,"asc"):e.onSortChange("title","asc")},a=E=>{const I=t(E),T="btn btn-sm btn-primary btn-outline gap-2";return I==="inactive"?`${T}`:I==="asc"?`${T} btn-active`:`${T} btn-active`},s=E=>{const I=t(E);return I==="inactive"?null:I==="asc"?Np:d2},i=E=>{const I="btn btn-sm btn-secondary";return e.scope===E?`${I}`:`${I} btn-outline`};var u=xO(),l=d(u),c=d(l),f=d(c);c2(f,{class:"inline size-4"});var h=p(c,2),m=d(h);m.__click=[pO,n];var g=p(m,2);g.__click=[vO,n];var b=d(g);{var y=E=>{const I=V(()=>s("$createdAt"));var T=ce(),j=z(T);qt(j,()=>o(I),(U,G)=>{G(U,{size:16})}),v(E,T)};D(b,E=>{s("$createdAt")&&E(y)})}var x=p(g,2);x.__click=[mO,n];var k=d(x);{var S=E=>{const I=V(()=>s("$updatedAt"));var T=ce(),j=z(T);qt(j,()=>o(I),(U,G)=>{G(U,{size:16})}),v(E,T)};D(k,E=>{s("$updatedAt")&&E(S)})}var A=p(l,2);{var C=E=>{var I=yO(),T=d(I),j=d(T);ol(j,{class:"inline h-4 w-4"});var U=p(T,2),G=d(U);G.__click=[gO];var Q=p(G,2);Q.__click=[bO];var ee=p(Q,2);ee.__click=[_O],P((oe,H,J)=>{_e(G,1,oe),_e(Q,1,H),_e(ee,1,J)},[()=>gn(i("all")),()=>gn(i("mine")),()=>gn(i("drafts"))]),v(E,I)};D(A,E=>{Ee.isAuthenticated&&E(C)})}P((E,I,T)=>{_e(m,1,E),_e(g,1,I),_e(x,1,T)},[()=>gn(a("title")),()=>gn(a("$createdAt")),()=>gn(a("$updatedAt"))]),v(r,u),ve()}tt(["click"]);class kO{dbName="recipe-data-cache";db=null;version=1;INGREDIENTS_STORE="ingredients";RECIPE_INFO_STORE="recipe-info";METADATA_STORE="metadata";LAST_SYNC_KEY="lastSync";DATA_JSON_HASH_KEY="dataJsonHash";INGREDIENTS_COUNT_KEY="ingredientsCount";RECIPE_INFO_KEY="data";async open(){if(this.db)return;const e=()=>new Promise((i,u)=>{const l=indexedDB.open(this.dbName,this.version);l.onerror=()=>u(l.error),l.onsuccess=()=>i(l.result),l.onupgradeneeded=c=>{const f=c.target.result;f.objectStoreNames.contains(this.INGREDIENTS_STORE)||(f.createObjectStore(this.INGREDIENTS_STORE,{keyPath:"u"}),console.log("[RecipeDataIDBCache] Store 'ingredients' crÃ©Ã©")),f.objectStoreNames.contains(this.RECIPE_INFO_STORE)||(f.createObjectStore(this.RECIPE_INFO_STORE),console.log("[RecipeDataIDBCache] Store 'recipe-info' crÃ©Ã©")),f.objectStoreNames.contains(this.METADATA_STORE)||(f.createObjectStore(this.METADATA_STORE,{keyPath:"key"}),console.log("[RecipeDataIDBCache] Store 'metadata' crÃ©Ã©"))}});let t=await e();const n=t.objectStoreNames.contains(this.INGREDIENTS_STORE),a=t.objectStoreNames.contains(this.RECIPE_INFO_STORE),s=t.objectStoreNames.contains(this.METADATA_STORE);(!n||!a||!s)&&(console.warn(`[RecipeDataIDBCache] Base corrompue dÃ©tectÃ©e (ingredients=${n}, recipe-info=${a}, metadata=${s}), suppression et recrÃ©ation...`),t.close(),await new Promise((i,u)=>{const l=indexedDB.deleteDatabase(this.dbName);l.onsuccess=()=>i(),l.onerror=()=>u(l.error),l.onblocked=()=>{console.warn("[RecipeDataIDBCache] Suppression bloquÃ©e, rÃ©essai...")}}),t=await e()),this.db=t,console.log(`[RecipeDataIDBCache] Base ouverte: ${this.dbName}`)}async loadAll(){if(!this.db)throw new Error("DB non ouverte");const[e,t]=await Promise.all([this.#e(),this.#t()]);return{ingredients:e,recipeInfo:t}}async#e(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.INGREDIENTS_STORE,"readonly").objectStore(this.INGREDIENTS_STORE).getAll();s.onsuccess=()=>{const i=new Map;s.result.forEach(u=>{i.set(u.u,u)}),console.log(`[RecipeDataIDBCache] ${i.size} ingrÃ©dients chargÃ©s`),e(i)},s.onerror=()=>t(s.error)})}async#t(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.RECIPE_INFO_STORE,"readonly").objectStore(this.RECIPE_INFO_STORE).get(this.RECIPE_INFO_KEY);s.onsuccess=()=>{const i=s.result||{materiel:[],categories:[],regimes:[]};console.log(`[RecipeDataIDBCache] recipe-info chargÃ©: ${i.categories?.length||0} catÃ©gories`),e(i)},s.onerror=()=>t(s.error)})}async loadMetadata(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.METADATA_STORE,"readonly").objectStore(this.METADATA_STORE).getAll();s.onsuccess=()=>{const i={lastSync:null,dataJsonHash:null,ingredientsCount:0};s.result.forEach(u=>{u.key===this.LAST_SYNC_KEY?i.lastSync=u.value:u.key===this.DATA_JSON_HASH_KEY?i.dataJsonHash=u.value:u.key===this.INGREDIENTS_COUNT_KEY&&(i.ingredientsCount=u.value)}),console.log(`[RecipeDataIDBCache] Metadata: count=${i.ingredientsCount}, hash=${i.dataJsonHash?.slice(0,8)}...`),e(i)},s.onerror=()=>t(s.error)})}async saveAll(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const a=this.db.transaction([this.INGREDIENTS_STORE,this.RECIPE_INFO_STORE],"readwrite"),s=a.objectStore(this.INGREDIENTS_STORE);s.clear(),e.ingredients.forEach(u=>{s.put(u)}),a.objectStore(this.RECIPE_INFO_STORE).put(e.recipeInfo,this.RECIPE_INFO_KEY),a.oncomplete=()=>{console.log(`[RecipeDataIDBCache] â ${e.ingredients.size} ingrÃ©dients + recipe-info sauvegardÃ©s`),t()},a.onerror=()=>n(a.error)})}async saveMetadata(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite"),s=a.objectStore(this.METADATA_STORE);s.put({key:this.LAST_SYNC_KEY,value:e.lastSync}),s.put({key:this.DATA_JSON_HASH_KEY,value:e.dataJsonHash}),s.put({key:this.INGREDIENTS_COUNT_KEY,value:e.ingredientsCount}),a.oncomplete=()=>{console.log("[RecipeDataIDBCache] â Metadata sauvegardÃ©es"),t()},a.onerror=()=>n(a.error)})}async updateDataJsonHash(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const i=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.DATA_JSON_HASH_KEY,value:e});i.onsuccess=()=>{console.log(`[RecipeDataIDBCache] Hash mis Ã  jour: ${e?.slice(0,8)||"null"}`),t()},i.onerror=()=>n(i.error)})}async upsertIngredient(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const i=this.db.transaction(this.INGREDIENTS_STORE,"readwrite").objectStore(this.INGREDIENTS_STORE).put(e);i.onsuccess=()=>{console.log(`[RecipeDataIDBCache] IngrÃ©dient upsert: ${e.n}`),t()},i.onerror=()=>n(i.error)})}async deleteIngredient(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,n)=>{const i=this.db.transaction(this.INGREDIENTS_STORE,"readwrite").objectStore(this.INGREDIENTS_STORE).delete(e);i.onsuccess=()=>{console.log(`[RecipeDataIDBCache] IngrÃ©dient supprimÃ©: ${e}`),t()},i.onerror=()=>n(i.error)})}async clear(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const n=this.db.transaction([this.INGREDIENTS_STORE,this.RECIPE_INFO_STORE,this.METADATA_STORE],"readwrite");n.objectStore(this.INGREDIENTS_STORE).clear(),n.objectStore(this.RECIPE_INFO_STORE).clear(),n.objectStore(this.METADATA_STORE).clear(),n.oncomplete=()=>{console.log("[RecipeDataIDBCache] Cache vidÃ©"),e()},n.onerror=()=>t(n.error)})}close(){this.db&&(this.db.close(),this.db=null,console.log("[RecipeDataIDBCache] Connexion fermÃ©e"))}}async function EO(){const r=new kO;return await r.open(),r}function jm(r){return{materiel:[...r.materiel],categories:[...r.categories],regimes:[...r.regimes]}}const SO="/data/ingredients.json",AO="/data/recipe-info.json";class DO{#e=new Kr;#t=ae(ot({materiel:[],categories:[],regimes:[]}));#r=ae(!1);#s=ae(null);#n=ae(null);#a=ae(!1);#i=null;#c=V(()=>Array.from(this.#e.values()).map(e=>e.n).sort());get loading(){return o(this.#r)}get error(){return o(this.#s)}get lastSync(){return o(this.#n)}get isInitialized(){return o(this.#a)}get ingredients(){return Array.from(this.#e.values())}get count(){return this.#e.size}get ingredientNames(){return o(this.#c)}get materiel(){return o(this.#t).materiel}get categories(){return o(this.#t).categories}get regimes(){return o(this.#t).regimes}async initialize(){if(o(this.#a)){console.log("[RecipeDataStore] DÃ©jÃ  initialisÃ©");return}console.log("[RecipeDataStore] Initialisation..."),w(this.#r,!0),w(this.#s,null);try{this.#i=await EO();const e=await this.#i.loadAll(),t=await this.#i.loadMetadata();e.ingredients.size>0&&(console.log(`[RecipeDataStore] Cache: ${e.ingredients.size} ingrÃ©dients`),this.#e=new Kr(e.ingredients),w(this.#t,e.recipeInfo,!0),w(this.#n,t.lastSync,!0)),await this.#d(),w(this.#a,!0),console.log(`[RecipeDataStore] â ${this.#e.size} ingrÃ©dients, ${o(this.#t).categories.length} catÃ©gories`)}catch(e){const t=e instanceof Error?e.message:"Erreur initialisation";throw w(this.#s,t,!0),console.error("[RecipeDataStore]",t,e),e}finally{w(this.#r,!1)}}async#d(){try{console.log("[RecipeDataStore] Fetch JSON...");const[e,t]=await Promise.all([fetch(SO),fetch(AO)]);if(!e.ok||!t.ok)throw new Error("Erreur HTTP lors du chargement des JSON");const[n,a]=await Promise.all([e.json(),t.json()]),s=await this.#u(JSON.stringify(n)+JSON.stringify(a));if((await this.#i.loadMetadata()).dataJsonHash===s){console.log("[RecipeDataStore] JSON inchangÃ©s, cache valide");return}console.log("[RecipeDataStore] Mise Ã  jour depuis JSON...");const u=new Map;n.forEach(l=>{u.set(l.u,l)}),this.#e=new Kr(u),w(this.#t,a,!0),w(this.#n,new Date().toISOString(),!0),this.#i&&(await this.#i.saveAll({ingredients:u,recipeInfo:jm(o(this.#t))}),await this.#i.saveMetadata({lastSync:o(this.#n),dataJsonHash:s,ingredientsCount:u.size})),console.log(`[RecipeDataStore] â Cache mis Ã  jour (hash: ${s.slice(0,8)}...)`)}catch(e){throw console.error("[RecipeDataStore] Erreur chargement JSON:",e),e}}async#u(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(a)).map(i=>i.toString(16).padStart(2,"0")).join("")}getIngredientByUuid(e){return this.#e.get(e)||null}searchIngredients(e){if(!e.trim())return this.ingredients;const t=e.toLowerCase();return this.ingredients.filter(n=>n.n.toLowerCase().includes(t))}getIngredientsByType(e){return this.ingredients.filter(t=>t.t===e)}get availableTypes(){const e=new Set;return this.ingredients.forEach(t=>e.add(t.t)),Array.from(e).sort()}getIngredientsByAllergen(e){return this.ingredients.filter(t=>t.a?.includes(e))}get availableAllergens(){const e=new Set;return this.ingredients.forEach(t=>{t.a?.forEach(n=>e.add(n))}),Array.from(e).sort()}async addIngredient(e){if(!o(this.#a))throw new Error("Store non initialisÃ©");try{console.log("[RecipeDataStore] Ajout ingrÃ©dient:",e.name);const{functions:t}=await vt(),n=await t.createExecution({functionId:"68f00487000c624533a3",body:JSON.stringify({action:"add_ingredient",data:{name:e.name,type:e.type,allergens:e.allergens,pF:e.pF,pS:e.pS,saisons:e.saisons}}),async:!1}),a=JSON.parse(n.responseBody);if(!a.success)throw new Error(a.error||"Erreur lors de la crÃ©ation de l'ingrÃ©dient");const s=a.ingredient;return this.#e.set(s.u,s),this.#i&&await this.#i.upsertIngredient(s),this.#i&&await this.#i.updateDataJsonHash(null),console.log(`[RecipeDataStore] â IngrÃ©dient ajoutÃ©: ${s.n} (${s.u})`),s}catch(t){throw console.error("[RecipeDataStore] Erreur ajout ingrÃ©dient:",t),t}}async addCategory(e){if(o(this.#t).categories.includes(e)){console.warn(`[RecipeDataStore] CatÃ©gorie dÃ©jÃ  existante: ${e}`);return}await this.#l({...o(this.#t),categories:[...o(this.#t).categories,e].sort()})}async addMateriel(e){if(o(this.#t).materiel.includes(e)){console.warn(`[RecipeDataStore] MatÃ©riel dÃ©jÃ  existant: ${e}`);return}await this.#l({...o(this.#t),materiel:[...o(this.#t).materiel,e].sort()})}async addRegime(e){if(o(this.#t).regimes.includes(e)){console.warn(`[RecipeDataStore] RÃ©gime dÃ©jÃ  existant: ${e}`);return}await this.#l({...o(this.#t),regimes:[...o(this.#t).regimes,e].sort()})}async#l(e){try{console.log("[RecipeDataStore] Mise Ã  jour recipe-info...");const{functions:t}=await vt(),n=await t.createExecution({functionId:"68f00487000c624533a3",body:JSON.stringify({action:"update_recipe_info",data:e}),async:!1}),a=JSON.parse(n.responseBody);if(!a.success)throw new Error(a.error||"Erreur lors de la mise Ã  jour du recipe-info");w(this.#t,e,!0),this.#i&&(await this.#i.saveAll({ingredients:new Map(this.#e),recipeInfo:jm(e)}),await this.#i.updateDataJsonHash(null)),console.log("[RecipeDataStore] â recipe-info mis Ã  jour")}catch(t){throw console.error("[RecipeDataStore] Erreur MAJ recipe-info:",t),t}}async forceReload(){console.log("[RecipeDataStore] Rechargement forcÃ©..."),w(this.#r,!0),w(this.#s,null);try{this.#i&&await this.#i.updateDataJsonHash(null),await this.#d(),console.log("[RecipeDataStore] â Rechargement complÃ©tÃ©")}catch(e){const t=e instanceof Error?e.message:"Erreur rechargement";throw w(this.#s,t,!0),console.error("[RecipeDataStore]",t,e),e}finally{w(this.#r,!1)}}async clearCache(){this.#i&&(await this.#i.clear(),console.log("[RecipeDataStore] Cache vidÃ©")),this.#e.clear(),w(this.#t,{materiel:[],categories:[],regimes:[]},!0),w(this.#n,null),w(this.#a,!1)}destroy(){this.#i&&(this.#i.close(),this.#i=null),this.#e.clear(),w(this.#a,!1),console.log("[RecipeDataStore] Ressources nettoyÃ©es")}}const Er=new DO,CO=r=>{var e=ce(),t=z(e);{var n=a=>{var s=TO();s.__click=[IO];var i=d(s);Zt(i,{size:18}),v(a,s)};D(t,a=>{Ee.isAuthenticated&&a(n)})}v(r,e)};var IO=()=>ct("/recipe/new"),TO=_('<button class="btn btn-primary"><!> CrÃ©er une recette</button>'),MO=(r,e)=>o(e).typeR="",RO=(r,e)=>o(e).typeR="entree",NO=(r,e)=>o(e).typeR="plat",PO=(r,e)=>o(e).typeR="dessert",$O=_('<div class="alert alert-error"><span> </span></div>'),LO=_('<div class="py-8 text-center"><span class="loading loading-spinner loading-md"></span></div>'),OO=_('<div class="py-12 text-center"><p class="text-base-content/60 text-lg">Aucune recette ne correspond aux critÃ¨res...</p></div>'),BO=_('<div class="my-8 space-y-10"></div> <!> <!>',1),FO=_('<!> <div class="p-4 lg:ml-100"><div class="mx-auto max-w-4xl"><div class="mb-10 space-y-6"><div class="tabs tabs-border tabs-lg mb-6 font-bold"><button>Toutes</button> <button>EntrÃ©es</button> <button>Plats</button> <button>Desserts</button></div> <div class="mb-4"><!></div> <div class="mb-6"><!></div> <!></div> <!></div></div> ```',1);function Af(r,e){pe(e,!0);let t=ae(""),n=ae(ot({categories:[],regimes:[],temperature:"",cuisson:"",saison:"",testedStatus:"all",ingredients:[],typeR:"",scope:"all"})),a=20,s=ae(1),i=ae(void 0),u=ae("title"),l=ae("asc");const c=V(()=>jt.isInitialized?jt.getAllRecipes():[]),f=V(()=>{const M=new Set;return o(c).forEach(B=>B.categories?.forEach(q=>M.add(q))),Array.from(M).sort()}),h=["vegan","vegetarien","sans-gluten","sans-lactose"],m=V(()=>Er.isInitialized?Er.ingredientNames:[]),g=V(()=>{if(o(t).length>=2){const M=o(t).toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"");return o(c).filter(B=>{const q=B.title.toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").includes(M),$=B.auteur?.toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").includes(M)||!1,L=B.region?.toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").includes(M)||!1,ne=!o(n).typeR||B.typeR===o(n).typeR;return(q||$||L)&&ne})}return o(c).filter(M=>{const B=!o(n).categories.length||o(n).categories.some(ie=>M.categories?.includes(ie)),q=!o(n).regimes.length||o(n).regimes.some(ie=>M.regime?.includes(ie)),$=!o(n).temperature||M.serveHot===(o(n).temperature==="Chaud"),L=!o(n).cuisson||(o(n).cuisson==="Oui"?M.cuisson===!0:M.cuisson===!1),ne=!o(n).saison||M.saison?.includes(o(n).saison),Y=o(n).testedStatus==="all"||o(n).testedStatus==="tested"&&M.check||o(n).testedStatus==="untested"&&!M.check,W=!o(n).ingredients.length||o(n).ingredients.every(ie=>M.ingredients?.includes(ie)),X=!o(n).typeR||M.typeR===o(n).typeR;let N=!0;return o(n).scope==="mine"?N=M.createdBy===Ee.userId:o(n).scope==="drafts"&&(N=M.createdBy===Ee.userId&&M.draft===!0),B&&q&&$&&L&&ne&&Y&&W&&X&&N})}),b=V(()=>[...o(g)].sort((B,q)=>{if(o(u)==="title")return o(l)==="asc"?B.title.localeCompare(q.title,"fr"):q.title.localeCompare(B.title,"fr");if(o(u)==="$createdAt"){const $=new Date(q.$createdAt||0).getTime()-new Date(B.$createdAt||0).getTime();return o(l)==="asc"?-$:$}else{const $=new Date(q.$updatedAt||0).getTime()-new Date(B.$updatedAt||0).getTime();return o(l)==="asc"?-$:$}})),y=V(()=>o(b).slice(0,o(s)*a)),x=V(()=>o(t).length>=2);function k(){w(t,"")}function S(){w(n,{categories:[],regimes:[],temperature:"",cuisson:"",saison:"",testedStatus:"all",ingredients:[],typeR:"",scope:o(n).scope},!0)}st(()=>{if(!o(i))return;const M=new IntersectionObserver(B=>{B[0].isIntersecting&&o(y).length<o(g).length&&$a(s)},{threshold:.1});return M.observe(o(i)),()=>M.disconnect()}),st(()=>{o(g),o(u),o(l),w(s,1)}),st(()=>{const M=zt.path;M==="/recipe/my/draft"?o(n).scope="drafts":M==="/recipe/my"?o(n).scope="mine":o(n).scope="all"}),st(()=>{St.setConfig({title:o(n).scope==="mine"?"Mes recettes":o(n).scope==="drafts"?"Mes brouillons":"Recettes",actions:CO})}),Ir(()=>{St.reset()}),vn(async()=>{Er.isInitialized||await Er.initialize()});var A=FO(),C=z(A);$o(C,{width:"100",children:(M,B)=>{xL(M,{get disabled(){return o(x)},get availableCategories(){return o(f)},get availableRegimes(){return h},get availableIngredients(){return o(m)},onReset:S,get filters(){return o(n)},set filters(q){w(n,q,!0)}})},$$slots:{default:!0}});var E=p(C,2),I=d(E),T=d(I),j=d(T),U=d(j);U.__click=[MO,n];var G=p(U,2);G.__click=[RO,n];var Q=p(G,2);Q.__click=[NO,n];var ee=p(Q,2);ee.__click=[PO,n];var oe=p(j,2),H=d(oe);G$(H,{onReset:k,get searchQuery(){return o(t)},set searchQuery(M){w(t,M,!0)}});var J=p(oe,2),K=d(J);UL(K,{get searchQuery(){return o(t)},get filters(){return o(n)},get resultCount(){return o(g).length},onResetFilters:S});var te=p(J,2);wO(te,{get sortBy(){return o(u)},get sortOrder(){return o(l)},onSortChange:(M,B)=>{w(u,M,!0),w(l,B,!0)},get scope(){return o(n).scope}});var Z=p(T,2);{var R=M=>{var B=$O(),q=d(B),$=d(q);P(()=>O($,`Erreur : ${jt.error??""}`)),v(M,B)},F=M=>{var B=BO(),q=z(B);ze(q,21,()=>o(y),W=>W.$id,(W,X)=>{hO(W,{get recipe(){return o(X)},get highlightedIngredients(){return o(n).ingredients}})});var $=p(q,2);{var L=W=>{var X=LO();xn(X,N=>w(i,N),()=>o(i)),v(W,X)};D($,W=>{o(y).length<o(g).length&&W(L)})}var ne=p($,2);{var Y=W=>{var X=OO();v(W,X)};D(ne,W=>{o(g).length===0&&W(Y)})}v(M,B)};D(Z,M=>{jt.error?M(R):M(F,!1)})}P(()=>{_e(U,1,`tab ${o(n).typeR===""?"tab-active":""}`),_e(G,1,`tab ${o(n).typeR==="entree"?"tab-active":""}`),_e(Q,1,`tab ${o(n).typeR==="plat"?"tab-active":""}`),_e(ee,1,`tab ${o(n).typeR==="dessert"?"tab-active":""}`)}),v(r,A),ve()}tt(["click"]);var Za=(r=>(r.ENTREE="entree",r.PLAT="plat",r.DESSERT="dessert",r.AUTRE="autre",r))(Za||{}),c_=(r=>(r.PUBLIC="public",r.PRIVATE="private",r.DELETED="deleted",r))(c_||{});function zO(r,e,t,n){o(e)?t():n()}function qO(r,e,t,n,a,s,i,u,l,c,f,h){if(!e())switch(r.key){case"ArrowDown":r.preventDefault(),o(t)?o(a)<o(s).length-1&&$a(a):n();break;case"ArrowUp":r.preventDefault(),o(t)&&o(a)>0&&$a(a,-1);break;case"Enter":r.preventDefault(),o(t)&&o(s).length>0?i(o(s)[o(a)]):o(t)||n();break;case"Escape":r.preventDefault(),u(),o(l)?.blur();break;case"Backspace":o(c)===""&&f().length>0&&(r.preventDefault(),h());break;case"Tab":o(t)&&u();break}}var jO=_('<legend class="fieldset-legend"> </legend>'),HO=(r,e,t)=>e(o(t)),UO=_('<button type="button" role="option"><span> </span> <!></button>'),VO=_('<div class="text-base-content/50 px-4 py-2 text-sm">Aucune option disponible</div>'),WO=_('<div id="options-list" class="border-base-300 bg-base-100 absolute z-50 mt-1 max-h-60 w-full overflow-auto rounded-lg border shadow-lg" role="listbox"><!></div>'),QO=(r,e,t)=>e(o(t)),GO=_('<div class="badge badge-lg badge-primary gap-2"><span> </span> <button type="button" class="btn btn-ghost btn-sm hover:bg-primary-focus h-4 min-h-0 w-4 p-0"><!></button></div>'),KO=_('<div class="mt-2 flex flex-wrap gap-2"></div>'),JO=_('<div class="fieldset-label"><span class="fieldset-label-text-alt opacity-70"> </span></div>'),ZO=_('<fieldset class="fieldset w-full"><!> <div class="relative"><div id="multi-select"><input type="text" class="w-full bg-transparent outline-none" autocomplete="off" role="combobox" aria-controls="options-list"/></div> <button type="button" class="btn btn-ghost btn-sm absolute top-1/2 right-1 -translate-y-1/2"><!></button> <!></div> <!> <!></fieldset>');function Hm(r,e){pe(e,!0);let t=ke(e,"options",19,()=>[]),n=ke(e,"selected",31,()=>ot([])),a=ke(e,"placeholder",3,"SÃ©lectionnez des options..."),s=ke(e,"disabled",3,!1),i=ke(e,"closeOnSelect",3,!1),u=ae(""),l=ae(!1),c=ae(0),f=ae(void 0),h=ae(void 0),m=V(()=>o(u).length>0?t().filter(R=>R.toLowerCase().includes(o(u).toLowerCase())):t());st(()=>{o(m).length>0&&o(c)>=o(m).length&&w(c,0)});function g(R){return n().includes(R)}function b(R){g(R)?x(R):y(R)}function y(R){n().includes(R)||(n([...n(),R]),e.onChange?.(n())),w(u,""),w(c,0),i()?A():o(h)?.focus()}function x(R){n(n().filter(F=>F!==R)),e.onChange?.(n())}function k(){if(n().length>0&&o(u)===""){const R=n()[n().length-1];x(R)}}function S(){s()||(w(l,!0),w(c,0))}function A(){w(l,!1),w(u,""),w(c,0)}function C(R){o(f)&&!o(f).contains(R.target)&&A()}st(()=>{if(o(l))return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}});var E=ZO(),I=d(E);{var T=R=>{var F=jO(),M=d(F);P(()=>O(M,e.label)),v(R,F)};D(I,R=>{e.label&&R(T)})}var j=p(I,2),U=d(j),G=d(U);G.__keydown=[qO,s,l,S,c,m,b,A,h,u,n,k],xn(G,R=>w(h,R),()=>o(h));var Q=p(U,2);Q.__click=[zO,l,A,S];var ee=d(Q);{let R=V(()=>o(l)?"rotate-180":"");il(ee,{get class(){return`h-4 w-4 transition-transform ${o(R)??""}`}})}var oe=p(Q,2);{var H=R=>{var F=WO(),M=d(F);{var B=$=>{var L=ce(),ne=z(L);ze(ne,17,()=>o(m),bt,(Y,W,X,N)=>{const ie=V(()=>g(o(W)));var re=UO();dt(re,"id",`option-${X}`),re.__click=[HO,b,W];var le=d(re),ue=d(le),se=p(le,2);{var de=fe=>{wr(fe,{class:"text-success h-4 w-4"})};D(se,fe=>{o(ie)&&fe(de)})}P(()=>{_e(re,1,`hover:bg-base-200 flex w-full items-center justify-between gap-2 px-4 py-2 text-left hover:cursor-pointer ${X===o(c)?"bg-base-200":""} ${o(ie)?"bg-success/20":""}`),dt(re,"aria-selected",o(ie)),O(ue,o(W))}),_t("mouseenter",re,()=>w(c,X,!0)),v(Y,re)}),v($,L)},q=$=>{var L=VO();v($,L)};D(M,$=>{o(m).length>0?$(B):$(q,!1)})}v(R,F)};D(oe,R=>{o(l)&&R(H)})}var J=p(j,2);{var K=R=>{var F=KO();ze(F,21,n,bt,(M,B)=>{var q=GO(),$=d(q),L=d($),ne=p($,2);ne.__click=[QO,x,B];var Y=d(ne);ir(Y,{class:"h-3 w-3"}),P(()=>{O(L,o(B)),ne.disabled=s(),dt(ne,"aria-label",`Supprimer ${o(B)??""}`)}),v(M,q)}),v(R,F)};D(J,R=>{n().length>0&&R(K)})}var te=p(J,2);{var Z=R=>{var F=JO(),M=d(F),B=d(M);P(()=>O(B,e.helpText)),v(R,F)};D(te,R=>{e.helpText&&R(Z)})}xn(E,R=>w(f,R),()=>o(f)),P(()=>{_e(U,1,`input flex w-full items-center gap-2 pr-10 ${s()?"input-disabled":""}`),dt(G,"placeholder",a()),G.disabled=s(),dt(G,"aria-expanded",o(l)),dt(G,"aria-activedescendant",o(l)?`option-${o(c)}`:void 0),Q.disabled=s(),dt(Q,"aria-label",o(l)?"Fermer le menu":"Ouvrir le menu")}),_t("focus",G,S),ft(G,()=>o(u),R=>w(u,R)),v(r,E),ve()}tt(["keydown","click"]);var YO=_('<span class="text-error"> </span>'),XO=(r,e,t)=>{let a=r.target.value.toLowerCase().trim();e(e().versionLabel=`v${o(t)} - ${a}`,!0)},eB=_('<span class="text-error text-wrap"> </span>'),tB=_('<fieldset class="fieldset min-w-1/5"><legend class="fieldset-legend">Version</legend> <label class="input input-lg w-full"><span class="badge badge-ghost font-mono"> </span> <span class="px-1 opacity-40">-</span> <input type="text" placeholder="username" maxlength="20" class="grow font-mono text-sm"/></label> <p class="fieldset-label truncate" title="ex: &quot;Ã©conomique&quot;, &quot;sans fromages&quot;, &quot;plus rapide&quot;...">ex: "Ã©conomique", "sans fromages", "plus rapide"...</p> <!></fieldset>'),rB=_('<span class="badge badge-secondary badge-lg h-full"> </span>'),nB=_('<span class="text-error"> </span>'),aB=_('<span class="text-error"> </span>'),sB=_('<span class="text-error"> </span>'),iB=_('<div class="fieldset-label"><span class="text-error"> </span></div>'),oB=_('<div class="fieldset-label"><span class="text-error"> </span></div>'),uB=_('<div class="fieldset-label"><span class="text-error"> </span></div>'),lB=_('<label class="flex cursor-pointer items-center gap-1"><input type="checkbox" class="checkbox checkbox-sm"/> <span class="text-sm"> </span></label>'),cB=_('<div class="fieldset-label"><span class="text-error"> </span></div>'),dB=_('<div class="lg:col-span-1"><!></div>'),fB=(r,e)=>e()&&e(e().check=!0,!0),hB=(r,e)=>e()&&e(e().check=!1,!0),pB=_('<div class="fieldset-label"><span class="text-error"> </span></div>'),vB=_('<p class="text-warning/70">Une recette non testÃ©e est forcÃ©ment conservÃ©e en brouillon.</p>'),mB=_(`<div class="card bg-base-100 shadow-xl"><div class="card-body"><h2 class="card-title mb-4"><!> Informations gÃ©nÃ©rales</h2> <div class="flex flex-col gap-4"><div class="flex flex-col gap-x-10 gap-y-2"><div class="flex flex-wrap items-start gap-x-10"><fieldset class="fieldset min-w-3/5 flex-1"><legend class="fieldset-legend">Titre de la recette</legend> <label><!> <input id="recipe-title" type="text" placeholder="Ex: Houmous maison" maxlength="80" aria-describedby="title-help" aria-required="true"/></label> <div class="fieldset-label" id="title-help"><!> <span class="fieldset-label ms-auto italic"> </span></div></fieldset> <!></div> <fieldset class="fieldset flex-1"><legend class="fieldset-legend">Description</legend> <input type="text" name="description" id="description" maxlength="200" placeholder="BrÃ¨ve description de la recette"/> <span class="fieldset-label"><span class="ms-auto italic"> </span> <!></span></fieldset></div> <div class="flex flex-wrap justify-between gap-10"><div class="flex flex-wrap gap-x-10 gap-y-2"><fieldset class="fieldset"><legend class="fieldset-legend">Nombre de couverts</legend> <label><!> <input id="recipe-plate" type="number" min="1" max="80000" aria-describedby="plate-help" aria-required="true"/></label> <div class="fieldset-label" id="plate-help"><span class="italic">QuantitÃ©s indiquÃ©es pour combien ?</span> <!></div></fieldset> <fieldset class="fieldset flex-1"><legend class="fieldset-legend">Description des quantitÃ©s</legend> <label><!> <input id="recipe-quantite-desc" type="text" placeholder="Ex: '24 parts par gastro'; '2 beignets/personne' ..." maxlength="100"/></label> <div class="fieldset-label"><!> <span class="ms-auto italic"> </span></div></fieldset></div></div> <div class="flex flex-col gap-x-10 gap-y-2 sm:flex-row sm:items-start"><fieldset class="fieldset sm:w-auto"><legend class="fieldset-legend">Type de recette</legend> <label><!> <select id="recipe-type" aria-describedby="type-help"><option disabled selected>SÃ©lectionner un type</option><option>EntrÃ©e</option><option>Plat</option><option>Dessert</option><option>Autre</option></select></label> <!></fieldset> <div class="flex-1 sm:max-w-md"><!></div></div> <div class="flex flex-col gap-x-10 gap-y-2 sm:flex-row sm:items-start"><fieldset class="fieldset flex-1 sm:max-w-xs"><legend class="fieldset-legend pe-4"><!> <span>TempÃ©rature de service</span></legend> <label><select id="recipe-servehot"><option disabled selected>--</option><option>Chaud</option><option>Froid</option></select></label> <!></fieldset> <fieldset class="fieldset flex-1 sm:max-w-xs"><legend class="fieldset-legend pe-4"><!> <span>NÃ©cessite une cuisson</span></legend> <label><select id="recipe-cuisson"><option disabled selected>--</option><option>Oui</option><option>Non</option></select></label> <!></fieldset></div> <div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3"><fieldset class="fieldset"><legend class="fieldset-legend">Saisons</legend> <div class="flex flex-wrap gap-2"></div> <div class="fieldset-label italic">Si certains ingrÃ©dients ne se trouvent qu'Ã  certaines saisons...</div></fieldset> <fieldset class="fieldset flex-1"><legend class="fieldset-legend">SpÃ©cialitÃ©</legend> <label><!> <input id="recipe-region" type="text" placeholder="Ex: Basque, Italien" maxlength="50"/></label> <!></fieldset> <!></div> <div id="recipe-check-fieldset"><div class="flex w-full flex-wrap gap-x-6 gap-y-2"><div>Avez-vous testÃ© la recette pour le nombre de couverts indiquÃ© ?</div> <div class="flex gap-4"><label class="flex cursor-pointer items-center gap-2"><input type="radio" name="check" class="radio radio-primary radio-sm"/> <span class="text-sm">Oui</span></label> <label class="flex cursor-pointer items-center gap-2"><input type="radio" name="check" class="radio radio-primary radio-sm"/> <span class="text-sm">Non</span></label></div></div> <!> <label class="flex w-full cursor-pointer gap-3"><input type="checkbox" class="checkbox checkbox-primary checkbox-sm mt-1"/> <div class="flex flex-col"><p class="text-sm font-medium">Brouillon</p> <p class="opacity-70">Les brouillons sont visibles uniquement pour les utilisateurÂ·ices
              inscrite, mais peuvent tout de mÃªme Ãªtre ajoutÃ©s Ã  vos Ã©vÃ©nements.
              Le status "brouillon" vous permettra de retrouver facilement les
              recettes que vous n'avez pas finalisÃ©.</p> <!></div></label></div></div></div></div>`);function d_(r,e){pe(e,!0);const t=[];let n=ke(e,"recipe",15);var a=mB(),s=d(a),i=d(s),u=d(i);oo(u,{class:"h-5 w-5"});var l=p(i,2),c=d(l),f=d(c),h=d(f),m=p(d(h),2),g=d(m);oo(g,{class:"h-4 w-4 opacity-50"});var b=p(g,2),y=p(m,2),x=d(y);{var k=ht=>{var Rt=YO(),rr=d(Rt);P(()=>O(rr,e.validationErrors.title)),v(ht,Rt)};D(x,ht=>{e.validationErrors.title&&ht(k)})}var S=p(x,2),A=d(S),C=p(h,2);{var E=ht=>{var Rt=ce(),rr=z(Rt);{var kr=qn=>{const bs=V(()=>n().versionLabel.match(/^v(\d+)/)?parseInt(n().versionLabel.match(/^v(\d+)/)[1]):null);var Qi=ce(),ff=z(Qi);{var sw=hf=>{var lv=tB(),cv=p(d(lv),2),dv=d(cv),iw=d(dv),fv=p(dv,4);fv.__input=[XO,n,bs];var ow=p(cv,4);{var uw=qo=>{var hv=eB(),lw=d(hv);P(()=>O(lw,e.validationErrors.versionLabel)),v(qo,hv)};D(ow,qo=>{e.validationErrors.versionLabel&&qo(uw)})}P(qo=>{O(iw,`v${o(bs)??""}`),$i(fv,qo)},[()=>n().versionLabel.replace(/^v\d+\s*-\s*/,"")]),v(hf,lv)};D(ff,hf=>{o(bs)&&hf(sw)})}v(qn,Qi)};D(rr,qn=>{n().versionLabel&&qn(kr)})}v(ht,Rt)},I=ht=>{var Rt=ce(),rr=z(Rt);{var kr=qn=>{var bs=rB(),Qi=d(bs);P(()=>O(Qi,n().versionLabel)),v(qn,bs)};D(rr,qn=>{n().versionLabel&&qn(kr)},!0)}v(ht,Rt)};D(C,ht=>{e.canEdit?ht(E):ht(I,!1)})}var T=p(f,2),j=p(d(T),2),U=p(j,2),G=d(U),Q=d(G),ee=p(G,2);{var oe=ht=>{var Rt=nB(),rr=d(Rt);P(()=>O(rr,e.validationErrors.description)),v(ht,Rt)};D(ee,ht=>{e.validationErrors.description&&ht(oe)})}var H=p(c,2),J=d(H),K=d(J),te=p(d(K),2),Z=d(te);nn(Z,{class:"h-4 w-4 opacity-50"});var R=p(Z,2),F=p(te,2),M=p(d(F),2);{var B=ht=>{var Rt=aB(),rr=d(Rt);P(()=>O(rr,e.validationErrors.plate)),v(ht,Rt)};D(M,ht=>{e.validationErrors.plate&&ht(B)})}var q=p(K,2),$=p(d(q),2),L=d($);Ro(L,{class:"h-4 w-4 opacity-50"});var ne=p(L,2),Y=p($,2),W=d(Y);{var X=ht=>{var Rt=sB(),rr=d(Rt);P(()=>O(rr,e.validationErrors.quantite_desc)),v(ht,Rt)};D(W,ht=>{e.validationErrors.quantite_desc&&ht(X)})}var N=p(W,2),ie=d(N),re=p(H,2),le=d(re),ue=p(d(le),2),se=d(ue);Jr(se,{class:"h-4 w-4 opacity-50"});var de=p(se,2),fe=d(de);fe.value=fe.__value="";var be=p(fe),ye={},De=p(be),xe={},Ce=p(De),Ie={},Pe=p(Ce),Be={},He=p(ue,2);{var Te=ht=>{var Rt=iB(),rr=d(Rt),kr=d(rr);P(()=>O(kr,e.validationErrors.typeR)),v(ht,Rt)};D(He,ht=>{e.validationErrors.typeR&&ht(Te)})}var he=p(le,2),Se=d(he);{var Ae=ht=>{{let Rt=V(()=>!e.canEdit);Hm(ht,{get options(){return e.recipeInfo.categories},label:"Sous-CatÃ©gories",placeholder:"Rechercher une catÃ©gorie...",get disabled(){return o(Rt)},closeOnSelect:!0,get selected(){return n().categories},set selected(rr){n(n().categories=rr,!0)}})}};D(Se,ht=>{e.recipeInfo&&e.recipeInfo.categories&&n().categories&&ht(Ae)})}var $e=p(re,2),we=d($e),Oe=d(we),Le=d(Oe);I2(Le,{class:"h-4 w-4"});var Ke=p(Oe,2),Re=d(Ke),Je=d(Re);Je.value=Je.__value="";var Ve=p(Je);Ve.value=Ve.__value=!0;var Ge=p(Ve);Ge.value=Ge.__value=!1;var We=p(Ke,2);{var qe=ht=>{var Rt=oB(),rr=d(Rt),kr=d(rr);P(()=>O(kr,e.validationErrors.serveHot)),v(ht,Rt)};D(We,ht=>{e.validationErrors.serveHot&&ht(qe)})}var et=p(we,2),lt=d(et),pt=d(lt);zi(pt,{class:"h-4 w-4"});var Et=p(lt,2),kt=d(Et),Ue=d(kt);Ue.value=Ue.__value="";var Ye=p(Ue);Ye.value=Ye.__value=!0;var at=p(Ye);at.value=at.__value=!1;var gt=p(Et,2);{var Ct=ht=>{var Rt=uB(),rr=d(Rt),kr=d(rr);P(()=>O(kr,e.validationErrors.cuisson)),v(ht,Rt)};D(gt,ht=>{e.validationErrors.cuisson&&ht(Ct)})}var $t=p($e,2),Mt=d($t),Ot=p(d(Mt),2);ze(Ot,20,()=>[{value:"printemps",label:"Printemps"},{value:"ete",label:"ÃtÃ©"},{value:"automne",label:"Automne"},{value:"hiver",label:"Hiver"}],ht=>ht.value,(ht,Rt)=>{var rr=lB(),kr=d(rr),qn,bs=p(kr,2),Qi=d(bs);P(()=>{kr.disabled=!e.canEdit,qn!==(qn=Rt.value)&&(kr.value=(kr.__value=Rt.value)??""),O(Qi,Rt.label)}),Au(t,[],kr,()=>(Rt.value,n().saison),ff=>n(n().saison=ff,!0)),v(ht,rr)});var It=p(Mt,2),Ft=p(d(It),2),pr=d(Ft);qi(pr,{class:"h-4 w-4 opacity-50"});var vr=p(pr,2),Wt=p(Ft,2);{var Pr=ht=>{var Rt=cB(),rr=d(Rt),kr=d(rr);P(()=>O(kr,e.validationErrors.region)),v(ht,Rt)};D(Wt,ht=>{e.validationErrors.region&&ht(Pr)})}var Ur=p(It,2);{var aa=ht=>{var Rt=dB(),rr=d(Rt);{let kr=V(()=>!e.canEdit);Hm(rr,{get options(){return e.recipeInfo.materiel},label:"MatÃ©riel nÃ©cessaire",placeholder:"Rechercher du matÃ©riel...",get disabled(){return o(kr)},closeOnSelect:!0,get selected(){return n().materiel},set selected(qn){n(n().materiel=qn,!0)}})}v(ht,Rt)};D(Ur,ht=>{n().materiel&&e.recipeInfo&&e.recipeInfo.materiel&&ht(aa)})}var _a=p($t,2),Qt=d(_a),mr=p(d(Qt),2),Yr=d(mr),mn=d(Yr);mn.__change=[fB,n];var sa=p(Yr,2),$r=d(sa);$r.__change=[hB,n];var Xs=p(Qt,2);{var ei=ht=>{var Rt=pB(),rr=d(Rt),kr=d(rr);P(()=>O(kr,e.validationErrors.check)),v(ht,Rt)};D(Xs,ht=>{e.validationErrors.check&&ht(ei)})}var df=p(Xs,2),zo=d(df),rw=p(zo,2),nw=p(d(rw),4);{var aw=ht=>{var Rt=vB();v(ht,Rt)};D(nw,ht=>{n().check!==!0&&ht(aw)})}P(()=>{_e(m,1,`input input-lg w-full ${e.validationErrors.title?"input-error":""}`),b.disabled=!e.canEdit,O(A,`${(n().title?.length||0)??""}/80 caractÃ¨res`),j.disabled=!e.canEdit,_e(j,1,`input w-full ${e.validationErrors.description?"input-error":""}`),O(Q,`${(n().description?.length||0)??""}/200 caractÃ¨res`),_e(te,1,`input ${e.validationErrors.plate?"input-error":""}`),R.disabled=!e.canEdit,_e($,1,`input w-full min-w-lg ${e.validationErrors.quantite_desc?"input-error":""}`),ne.disabled=!e.canEdit,O(ie,`${(n().quantite_desc?.length||0)??""}/100 caractÃ¨res`),_e(ue,1,`select ${e.validationErrors.typeR?"select-error":""}`),de.disabled=!e.canEdit,ye!==(ye=Za.ENTREE)&&(be.value=(be.__value=Za.ENTREE)??""),xe!==(xe=Za.PLAT)&&(De.value=(De.__value=Za.PLAT)??""),Ie!==(Ie=Za.DESSERT)&&(Ce.value=(Ce.__value=Za.DESSERT)??""),Be!==(Be=Za.AUTRE)&&(Pe.value=(Pe.__value=Za.AUTRE)??""),_e(Ke,1,`select w-full ${e.validationErrors.serveHot?"select-error":""}`),Re.disabled=!e.canEdit,_e(Et,1,`select w-full ${e.validationErrors.cuisson?"select-error":""}`),kt.disabled=!e.canEdit,_e(Ft,1,`input ${e.validationErrors.region?"input-error":""}`),vr.disabled=!e.canEdit,_e(_a,1,` flex w-full flex-wrap space-y-6 rounded-xl border-1 p-4 ${e.validationErrors.check?"border-error":"border-base-300"}`),fa(mn,n()?.check===!0),mn.disabled=!e.canEdit,fa($r,n()?.check===!1),$r.disabled=!e.canEdit,zo.disabled=!e.canEdit||n().check!==!0}),ft(b,()=>n().title,ht=>n(n().title=ht,!0)),ft(j,()=>n().description,ht=>n(n().description=ht,!0)),ft(R,()=>n().plate,ht=>n(n().plate=ht,!0)),ft(ne,()=>n().quantite_desc,ht=>n(n().quantite_desc=ht,!0)),$n(de,()=>n().typeR,ht=>n(n().typeR=ht,!0)),$n(Re,()=>n().serveHot,ht=>n(n().serveHot=ht,!0)),$n(kt,()=>n().cuisson,ht=>n(n().cuisson=ht,!0)),ft(vr,()=>n().region,ht=>n(n().region=ht,!0)),Xr(zo,()=>n().draft,ht=>n(n().draft=ht,!0)),v(r,a),ve()}tt(["input","change"]);var gB=_('<div class="alert alert-error text-sm"><!> <span> </span></div>'),bB=_('<p class="text-error text-xs"> </p>'),_B=_("<option> </option>"),yB=_('<p class="text-error text-xs"> </p>'),xB=(r,e,t)=>e(t),wB=_('<label><input type="checkbox" class="checkbox checkbox-sm bg-base-100"/> <span class="label-text"> </span></label>'),kB=_('<p class="text-error text-xs"> </p>'),EB=(r,e)=>o(e).pF=!0,SB=(r,e)=>o(e).pF=!1,AB=_('<p class="text-error text-xs"> </p>'),DB=(r,e)=>o(e).pS=!0,CB=(r,e)=>o(e).pS=!1,IB=_('<p class="text-error text-xs"> </p>'),TB=(r,e,t)=>{r.currentTarget.checked?o(e).saisons=[...o(e).saisons,o(t).value]:o(e).saisons=o(e).saisons.filter(n=>n!==o(t).value)},MB=_('<label><input type="checkbox" class="checkbox checkbox-sm bg-base-100"/> <span class="label-text"> </span></label>'),RB=_(`<form class="flex flex-col space-y-6"><!> <fieldset class="space-y-4"><div class="fieldset"><legend class="fieldset-legend">Nom *</legend> <label><!> <input id="ingredient-name-input" type="text" placeholder="Nom de l'ingrÃ©dient" required minlength="2" maxlength="60"/></label> <!></div> <div class="fieldset"><legend class="fieldset-legend">Type *</legend> <select><option>SÃ©lectionner un type...</option><!></select> <!></div> <div class="fieldset"><legend class="fieldset-legend">AllergÃ¨nes *</legend> <p class="text-base-content/60 mb-2 text-xs">PrÃ©cisez les allergÃ¨nes prÃ©sents dans l'ingrÃ©dient et/ou la nature
            de l'ingrÃ©dients (ou cochez "Aucun"). Sert notamment Ã  la
            classification des recettes comme vÃ©gÃ©tarienne, sans-gluten, etc.)</p> <div class="flex flex-wrap gap-2"></div> <!></div> <div class="grid gap-4 md:grid-cols-2"><div class="fieldset"><legend class="fieldset-legend"><div class="flex items-center gap-2"><!> <span>frais ? *</span></div></legend> <p class="text-base-content/60 mb-2 text-xs">Fruits et lÃ©gumes frais, ou ingrÃ©dients qui se conservent au frigo</p> <div><button type="button">Oui</button> <button type="button">Non</button></div> <!></div> <div class="fieldset"><legend class="fieldset-legend"><div class="flex items-center gap-2"><!> <span>Produit surgelÃ© ? *</span></div></legend> <p class="text-base-content/60 mb-2 text-xs">IngrÃ©dients qui se conservent au congÃ©lateur</p> <div><button type="button">Oui</button> <button type="button">Non</button></div> <!></div></div> <div class="fieldset"><legend class="fieldset-legend">Saisons (optionnel)</legend> <p class="text-base-content/60 mb-2 text-xs">Si l'ingrÃ©dient se trouve surtout Ã  certaines saisons</p> <div class="flex flex-wrap gap-2"></div></div></fieldset></form>`),NB=_('<span class="loading loading-spinner"></span>'),PB=_(`<button type="button" class="btn btn-ghost">Annuler</button> <button type="submit" class="btn btn-primary"><!> CrÃ©er l'ingrÃ©dient</button>`,1),$B=_("<!> <!> <!>",1);function LB(r,e){pe(e,!0);let t=ke(e,"open",15,!1),n=ke(e,"initialName",3,""),a=ae(ot({name:n(),type:"",allergens:[],pF:null,pS:null,saisons:[]})),s=ae(!1),i=ae(!1),u=ae(null),l=ae(ot({}));const c=[{value:"frais",label:"Produits Frais (beurre, fromage, yahourt..."},{value:"legumes",label:"Fruits et LÃ©gumes (frais, concerves, surgelÃ©s, etc."},{value:"lof",label:"LOF : Laits, oeuf, farines, huiles..."},{value:"sucres",label:"SucrÃ©s (jus, sirop, confiture ...)"},{value:"epices",label:"Assaisonnements (Ã©pices, herbes, sauces...)"},{value:"sec",label:"Sec (riz, pÃ¢tes, lentilles...)"},{value:"animaux",label:"Viandes et Poissons"},{value:"autres",label:"Autres"}],f=["Aucun","Produit laitier","Gluten","CrustacÃ©","Oeuf","Poisson","Viande","Porc","Arachides","Soja","Fruits Ã  coque","CÃ©leri","Moutarde","SÃ©same","Sulfites","Lupin","Mollusque","Alcool","VÃ©rifier emballage"],h=[{value:"printemps",label:"Printemps"},{value:"ete",label:"EtÃ©"},{value:"automne",label:"Automne"},{value:"hiver",label:"Hiver"}];function m(){const k={};return o(a).name.trim()||(k.name="Le nom est requis"),o(a).type.trim()||(k.type="Le type est requis"),o(a).allergens.length===0&&(k.allergens="Cochez 'Aucun' si l'ingrÃ©dient ne contient aucun allergÃ¨ne"),o(a).pF===null&&(k.pF="Indiquez si c'est un produit frais"),o(a).pS===null&&(k.pS="Indiquez si c'est un produit surgelÃ©"),k}function g(k){k==="Aucun"?o(a).allergens=["Aucun"]:(o(a).allergens=o(a).allergens.filter(S=>S!=="Aucun"),o(a).allergens.includes(k)?o(a).allergens=o(a).allergens.filter(S=>S!==k):o(a).allergens.push(k))}async function b(){if(!o(s)&&(w(i,!0),w(l,m(),!0),!(Object.keys(o(l)).length>0))){w(s,!0),w(u,null);try{const k={name:o(a).name.trim(),type:o(a).type,allergens:o(a).allergens.includes("Aucun")?[]:o(a).allergens,pF:o(a).pF===!0,pS:o(a).pS===!0,saisons:o(a).saisons.length>0?o(a).saisons:void 0},S=await Er.addIngredient(k);rt.success(`IngrÃ©dient "${S.n}" crÃ©Ã© avec succÃ¨s`),e.onIngredientCreated&&e.onIngredientCreated(S),y(),t(!1)}catch(k){w(u,k instanceof Error?k.message:"Erreur lors de la crÃ©ation",!0),rt.error(o(u))}finally{w(s,!1)}}}function y(){w(a,{name:"",type:"",allergens:[],pF:null,pS:null,saisons:[]},!0),w(i,!1),w(u,null),w(l,{},!0)}function x(){t(!1),y()}st(()=>{t()&&setTimeout(()=>{document.getElementById("ingredient-name-input")?.focus()},50)}),st(()=>{n()&&o(a).name===""&&(o(a).name=n())}),on(r,{get isOpen(){return t()},onClose:x,children:(k,S)=>{var A=$B(),C=z(A);Hr(C,{title:"CrÃ©er un nouvel ingrÃ©dient",onClose:x});var E=p(C,2);Zr(E,{children:(T,j)=>{var U=RB(),G=d(U);{var Q=Ae=>{var $e=gB(),we=d($e);Cr(we,{size:18});var Oe=p(we,2),Le=d(Oe);P(()=>O(Le,o(u))),v(Ae,$e)};D(G,Ae=>{o(u)&&Ae(Q)})}var ee=p(G,2),oe=d(ee),H=p(d(oe),2),J=d(H);E2(J,{class:"text-base-content/50 h-5 w-5"});var K=p(J,2),te=p(H,2);{var Z=Ae=>{var $e=bB(),we=d($e);P(()=>O(we,o(l).name)),v(Ae,$e)};D(te,Ae=>{o(i)&&o(l).name&&Ae(Z)})}var R=p(oe,2),F=p(d(R),2),M=d(F);M.value=M.__value="";var B=p(M);ze(B,17,()=>c,Ae=>Ae.value,(Ae,$e)=>{var we=_B(),Oe=d(we),Le={};P(()=>{O(Oe,o($e).label),Le!==(Le=o($e).value)&&(we.value=(we.__value=o($e).value)??"")}),v(Ae,we)});var q=p(F,2);{var $=Ae=>{var $e=yB(),we=d($e);P(()=>O(we,o(l).type)),v(Ae,$e)};D(q,Ae=>{o(i)&&o(l).type&&Ae($)})}var L=p(R,2),ne=p(d(L),4);ze(ne,20,()=>f,Ae=>Ae,(Ae,$e)=>{var we=wB(),Oe=d(we);Oe.__change=[xB,g,$e];var Le=p(Oe,2),Ke=d(Le);P((Re,Je)=>{_e(we,1,`label border-base-300 cursor-pointer gap-2 rounded-lg border px-3 py-1 ${Re??""} ${o(i)&&o(l).allergens&&!o(a).allergens.length?"border-error":""}`),fa(Oe,Je),O(Ke,$e)},[()=>o(a).allergens.includes($e)?"bg-primary/20 border-primary":"bg-base-200",()=>o(a).allergens.includes($e)]),v(Ae,we)});var Y=p(ne,2);{var W=Ae=>{var $e=kB(),we=d($e);P(()=>O(we,o(l).allergens)),v(Ae,$e)};D(Y,Ae=>{o(i)&&o(l).allergens&&Ae(W)})}var X=p(L,2),N=d(X),ie=d(N),re=d(ie),le=d(re);D2(le,{size:16,class:"opacity-50"});var ue=p(ie,4),se=d(ue);se.__click=[EB,a];var de=p(se,2);de.__click=[SB,a];var fe=p(ue,2);{var be=Ae=>{var $e=AB(),we=d($e);P(()=>O(we,o(l).pF)),v(Ae,$e)};D(fe,Ae=>{o(i)&&o(l).pF&&Ae(be)})}var ye=p(N,2),De=d(ye),xe=d(De),Ce=d(xe);dc(Ce,{size:16,class:"opacity-50"});var Ie=p(De,4),Pe=d(Ie);Pe.__click=[DB,a];var Be=p(Pe,2);Be.__click=[CB,a];var He=p(Ie,2);{var Te=Ae=>{var $e=IB(),we=d($e);P(()=>O(we,o(l).pS)),v(Ae,$e)};D(He,Ae=>{o(i)&&o(l).pS&&Ae(Te)})}var he=p(X,2),Se=p(d(he),4);ze(Se,21,()=>h,Ae=>Ae.value,(Ae,$e)=>{var we=MB(),Oe=d(we);Oe.__change=[TB,a,$e];var Le=p(Oe,2),Ke=d(Le);P((Re,Je)=>{_e(we,1,`label border-base-300 cursor-pointer gap-2 rounded-lg px-3 py-1 ${Re??""}`),fa(Oe,Je),O(Ke,o($e).label)},[()=>o(a).saisons.includes(o($e).value)?"bg-success/20 border-success":"bg-base-200",()=>o(a).saisons.includes(o($e).value)]),v(Ae,we)}),P(()=>{ee.disabled=o(s),_e(H,1,`input w-full ${o(i)&&o(l).name?"input-error":""}`),_e(F,1,`select select-bordered w-full ${o(i)&&o(l).type?"select-error":""}`),_e(ue,1,`join w-full ${o(i)&&o(l).pF?"join-error":""}`),_e(se,1,`btn join-item flex-1 ${o(a).pF===!0?"btn-success":""}`),_e(de,1,`btn join-item flex-1 ${o(a).pF===!1?"btn-error":""}`),_e(Ie,1,`join w-full ${o(i)&&o(l).pS?"join-error":""}`),_e(Pe,1,`btn join-item flex-1 ${o(a).pS===!0?"btn-info":""}`),_e(Be,1,`btn join-item flex-1 ${o(a).pS===!1?"btn-error":""}`)}),_t("submit",U,Ae=>{Ae.preventDefault(),b()}),ft(K,()=>o(a).name,Ae=>o(a).name=Ae),$n(F,()=>o(a).type,Ae=>o(a).type=Ae),v(T,U)}});var I=p(E,2);Sn(I,{children:(T,j)=>{var U=PB(),G=z(U);G.__click=x;var Q=p(G,2);Q.__click=b;var ee=d(Q);{var oe=J=>{var K=NB();v(J,K)},H=J=>{Zt(J,{size:18})};D(ee,J=>{o(s)?J(oe):J(H,!1)})}P(()=>{G.disabled=o(s),Q.disabled=o(s)}),v(T,U)}}),v(k,A)},$$slots:{default:!0}}),ve()}tt(["change","click"]);function OB(r,e,t,n){o(e)?t():n()}function BB(r,e,t,n,a,s,i,u,l){if(!e())switch(r.key){case"ArrowDown":r.preventDefault(),o(t)?o(a)<o(s).length-1&&$a(a):n();break;case"ArrowUp":r.preventDefault(),o(t)&&o(a)>0&&$a(a,-1);break;case"Enter":r.preventDefault(),o(t)&&o(s).length>0?i(o(s)[o(a)].u):o(t)||n();break;case"Escape":r.preventDefault(),u(),o(l)?.blur();break;case"Tab":o(t)&&u();break}}var FB=_('<div class="card bg-base-100 border-base-300 border shadow-sm"><div class="card-body p-4"><div class="flex items-center gap-3"><div class="loading loading-spinner loading-sm"></div> <span class="text-sm">Chargement des ingrÃ©dients...</span></div></div></div>'),zB=_('<div class="card bg-error/10 border-error/20 border shadow-sm"><div class="card-body p-4"><div class="text-error flex items-center gap-3"><!> <span class="text-sm"> </span></div></div></div>'),qB=(r,e)=>e(),jB=_('<div class="border-base-300 mt-1 border-t pt-1"><button type="button" class="hover:bg-primary/20 text-primary flex w-full items-center gap-3 px-4 py-3 text-left hover:cursor-pointer"><!> <span class="text-sm font-medium">CrÃ©er un nouvel ingrÃ©dient...</span> <span class="text-base-content/50 text-xs"> </span></button></div>'),HB=_('<div class="text-base-content/50 px-4 py-2 text-sm">Aucun ingrÃ©dient trouvÃ©</div> <!>',1),UB=(r,e,t)=>e(o(t).u),VB=_('<button type="button" role="option"><div class="flex-1"><span class="truncate text-sm font-medium"> </span></div></button>'),WB=(r,e)=>e(),QB=_('<div class="border-base-300 mt-1 border-t pt-1"><button type="button" class="hover:bg-primary/20 text-primary flex w-full items-center gap-3 px-4 py-3 text-left hover:cursor-pointer"><!> <span class="text-sm font-medium">CrÃ©er un nouvel ingrÃ©dient...</span></button></div>'),GB=_("<!> <!>",1),KB=_('<div class="text-base-content/50 px-4 py-2 text-sm">Tapez au moins 2 caractÃ¨res pour rechercher</div>'),JB=_('<div id="ingredients-list" class="border-base-300 bg-base-100 absolute z-50 mt-1 max-h-60 w-full overflow-auto rounded-lg border shadow-lg" role="listbox"><!></div>'),ZB=_('<div class="card bg-base-100 border-base-300 border shadow-sm"><div class="card-body gap-3 p-3"><h4 class="flex items-center gap-2 font-bold"><!> Ajouter un ingrÃ©dient</h4> <div class="mt-2"><div class="relative"><div><!> <input type="text" placeholder="Rechercher un ingrÃ©dient..." class="w-full bg-transparent outline-none" autocomplete="off" role="combobox" aria-controls="ingredients-list"/></div> <button type="button" class="btn btn-ghost btn-sm absolute top-1/2 right-1 -translate-y-1/2"><!></button> <!></div></div></div></div>'),YB=(r,e,t)=>e(o(t).uuid),XB=(r,e)=>{o(e).originalUnit==="au goÃ»t"&&(o(e).originalQuantity=1)},eF=_('<div class="text-base-content/60 text-xs italic"> </div>'),tF=_('<div class="card bg-base-100 border-base-200 border shadow-sm"><div class="card-body p-3"><div class="flex items-start justify-between gap-3"><div class="flex-1 space-y-2"><div class="flex flex-wrap gap-2"><div class="item-start flex min-w-1/2 flex-1 justify-between"><div class="text-base font-medium"> </div> <button class="btn btn-ghost btn-sm btn-square text-error" title="Supprimer cet ingrÃ©dient"><!></button></div> <div class="flex flex-wrap gap-2"><label class="input input-sm w-44"><span class="label text-base-content/80">QuantitÃ©</span> <div class="flex items-center gap-1"><input type="number" class="text-center" min="0" step="0.1" placeholder="0"/></div></label> <label class="select select-sm w-44"><span class="label text-base-content/80">unitÃ©</span> <select class="text-center"><option>Kg</option><option>gr.</option><option>unitÃ©</option><option>l.</option><option>ml</option><option>c. Ã  soupe</option><option>c. Ã  cafÃ©</option><option>pincÃ©es</option><option>tÃªteÂ·s</option><option>gousseÂ·s</option><option>bottes</option><option>au goÃ»t</option></select></label></div> <!></div> <label class="input input-sm w-full"><span class="label">Note</span> <input type="text" placeholder="Ex: coupÃ©es en dÃ©s; pour la sauce..." maxlength="100"/></label></div></div></div></div>'),rF=_('<div class="card bg-base-300 border-base-300 border shadow-sm"><div class="card-body p-2"><div class="card-title text-secondary/80 flex items-center gap-2 px-4 text-sm font-semibold"><!> <span class="badge badge-xs badge-primary badge-soft"> </span></div> <div class="space-y-3"></div></div></div>'),nF=_('<div class="space-y-4" id="recipe-ingredients-editor"><!> <!></div> <!>',1);function aF(r,e){pe(e,!0);let t=ke(e,"ingredients",15),n=ke(e,"disabled",3,!1),a=ae(""),s=ae(-1),i=ae(!1),u=ae(void 0),l=ae(void 0),c=ae(!1),f=ae(""),h=V(()=>o(a).length>1?Er.searchIngredients(o(a)):[]),m=V(()=>()=>{const oe={};return t().forEach(H=>{const J=H.type||"autres";oe[J]||(oe[J]=[]),oe[J].push(H)}),Object.keys(oe).forEach(H=>{oe[H].sort((J,K)=>J.name.localeCompare(K.name,"fr",{sensitivity:"base"}))}),oe});st(()=>{!Er.isInitialized&&!Er.loading&&Er.initialize().catch(oe=>{console.error("[RecipeIngredientsEditor] Erreur lors de l'initialisation du recipeDataStore:",oe)})}),st(()=>{o(h).length>0&&o(s)===-1?w(s,0):o(h).length===0&&w(s,-1)}),st(()=>{o(h).length>0&&o(s)>=o(h).length&&w(s,0)}),st(()=>{if(o(i)){const oe=H=>{o(u)&&!o(u).contains(H.target)&&(w(i,!1),w(a,""))};return document.addEventListener("mousedown",oe),()=>{document.removeEventListener("mousedown",oe)}}});function g(oe){const H=Er.getIngredientByUuid(oe);if(!H)return;const J={uuid:Bi(),name:H.n,originalQuantity:0,originalUnit:"gr.",normalizedQuantity:0,normalizedUnit:"gr.",comment:"",allergens:H.a||[],type:H.t||""};t([...t(),J]),w(a,""),w(i,!1),w(s,-1);const K=bo(J.type).displayName;rt.success(`Ingredient ajoutÃ© dans ${K}`)}function b(){!n()&&!Er.loading&&!Er.error&&(w(i,!0),w(s,0))}function y(){w(i,!1),w(a,""),w(s,-1)}function x(oe){t(t().filter(H=>H.uuid!==oe))}function k(oe){if(!oe.originalQuantity||oe.originalQuantity<=0)return"";const H=is.normalize(oe.originalQuantity,oe.originalUnit||"",oe.name);return H.hasConversion?`â ${H.quantity} ${H.unit}`:""}function S(oe){}function A(){w(f,o(a).trim(),!0),w(c,!0),y()}function C(oe){g(oe.u)}var E=nF(),I=z(E),T=d(I);{var j=oe=>{var H=FB();v(oe,H)},U=oe=>{var H=ce(),J=z(H);{var K=Z=>{var R=zB(),F=d(R),M=d(F),B=d(M);Cr(B,{class:"h-4 w-4"});var q=p(B,2),$=d(q);P(()=>O($,`Erreur lors du chargement: ${Er.error??""}`)),v(Z,R)},te=Z=>{var R=ZB(),F=d(R),M=d(F),B=d(M);Zt(B,{class:"text-primary h-4 w-4"});var q=p(M,2),$=d(q),L=d($),ne=d(L);Po(ne,{class:"h-4 w-4 opacity-50"});var Y=p(ne,2);Y.__keydown=[BB,n,i,b,s,h,g,y,l],xn(Y,re=>w(l,re),()=>o(l));var W=p(L,2);W.__click=[OB,i,y,b];var X=d(W);{let re=V(()=>o(i)?"rotate-180":"");il(X,{get class(){return`h-4 w-4 transition-transform ${o(re)??""}`}})}var N=p(W,2);{var ie=re=>{var le=JB(),ue=d(le);{var se=fe=>{var be=HB(),ye=p(z(be),2);{var De=xe=>{var Ce=jB(),Ie=d(Ce);Ie.__click=[qB,A];var Pe=d(Ie);Zt(Pe,{class:"h-4 w-4"});var Be=p(Pe,4),He=d(Be);P(()=>{Ie.disabled=n(),O(He,`"${o(a)??""}"`)}),v(xe,Ce)};D(ye,xe=>{o(a).trim().length>0&&xe(De)})}v(fe,be)},de=fe=>{var be=ce(),ye=z(be);{var De=Ce=>{var Ie=GB(),Pe=z(Ie);ze(Pe,19,()=>o(h),Te=>Te.u,(Te,he,Se)=>{var Ae=VB();Ae.__click=[UB,g,he];var $e=d(Ae),we=d($e),Oe=d(we);P(()=>{dt(Ae,"id",`ingredient-${o(Se)??""}`),_e(Ae,1,`hover:bg-base-200 flex w-full items-center gap-3 px-4 py-3 text-left hover:cursor-pointer ${o(Se)===o(s)?"bg-base-200":""}`),dt(Ae,"aria-selected",o(Se)===o(s)),Ae.disabled=n(),O(Oe,o(he).n)}),_t("mouseenter",Ae,()=>w(s,o(Se),!0)),v(Te,Ae)});var Be=p(Pe,2);{var He=Te=>{var he=QB(),Se=d(he);Se.__click=[WB,A];var Ae=d(Se);Zt(Ae,{class:"h-4 w-4"}),P(()=>Se.disabled=n()),v(Te,he)};D(Be,Te=>{o(a).trim().length>0&&Te(He)})}v(Ce,Ie)},xe=Ce=>{var Ie=ce(),Pe=z(Ie);{var Be=He=>{var Te=KB();v(He,Te)};D(Pe,He=>{o(a).length<=1&&He(Be)},!0)}v(Ce,Ie)};D(ye,Ce=>{o(h).length>0?Ce(De):Ce(xe,!1)},!0)}v(fe,be)};D(ue,fe=>{o(a).length>1&&o(h).length===0?fe(se):fe(de,!1)})}v(re,le)};D(N,re=>{o(i)&&re(ie)})}xn(q,re=>w(u,re),()=>o(u)),P(()=>{_e(L,1,`input flex w-full items-center gap-2 pr-10 ${n()?"input-disabled":""}`),Y.disabled=n(),dt(Y,"aria-expanded",o(i)),dt(Y,"aria-activedescendant",o(i)?`ingredient-${o(s)}`:void 0),W.disabled=n(),dt(W,"aria-label",o(i)?"Fermer le menu":"Ouvrir le menu")}),_t("focus",Y,b),ft(Y,()=>o(a),re=>w(a,re)),v(Z,R)};D(J,Z=>{Er.error?Z(K):Z(te,!1)},!0)}v(oe,H)};D(T,oe=>{Er.loading?oe(j):oe(U,!1)})}var G=p(T,2);{var Q=oe=>{var H=ce(),J=z(H);ze(J,17,()=>Object.entries(o(m)()),([K,te])=>K,(K,te)=>{var Z=V(()=>ha(o(te),2));let R=()=>o(Z)[0],F=()=>o(Z)[1];const M=V(()=>bo(R())),B=V(()=>o(M).icon);var q=rF(),$=d(q),L=d($),ne=d(L);qt(ne,()=>o(B),(ie,re)=>{re(ie,{class:"h-4 w-4"})});var Y=p(ne),W=p(Y),X=d(W),N=p(L,2);ze(N,21,F,bt,(ie,re,le)=>{const ue=V(()=>k(o(re)));var se=tF(),de=d(se),fe=d(de),be=d(fe),ye=d(be),De=d(ye),xe=d(De),Ce=d(xe),Ie=p(xe,2);Ie.__click=[YB,x,re];var Pe=d(Ie);ji(Pe,{class:"h-4 w-4"});var Be=p(De,2),He=d(Be),Te=p(d(He),2),he=d(Te),Se=p(He,2),Ae=p(d(Se),2);Ae.__change=[XB,re];var $e=d(Ae);$e.value=$e.__value="kg";var we=p($e);we.value=we.__value="gr.";var Oe=p(we);Oe.value=Oe.__value="unitÃ©";var Le=p(Oe);Le.value=Le.__value="l.";var Ke=p(Le);Ke.value=Ke.__value="ml";var Re=p(Ke);Re.value=Re.__value="c. Ã  soupe";var Je=p(Re);Je.value=Je.__value="c. Ã  cafÃ©";var Ve=p(Je);Ve.value=Ve.__value="pincÃ©es";var Ge=p(Ve);Ge.value=Ge.__value="tÃªteÂ·s";var We=p(Ge);We.value=We.__value="gousseÂ·s";var qe=p(We);qe.value=qe.__value="bottes";var et=p(qe);et.value=et.__value="au goÃ»t";var lt=p(Be,2);{var pt=Ue=>{var Ye=eF(),at=d(Ye);P(()=>O(at,o(ue))),v(Ue,Ye)};D(lt,Ue=>{o(ue)&&Ue(pt)})}var Et=p(ye,2),kt=p(d(Et),2);P(()=>{O(Ce,o(re).name),Ie.disabled=n(),he.disabled=o(re).originalUnit==="au goÃ»t",Ae.disabled=n(),kt.disabled=n()}),_t("blur",he,()=>(o(re),void 0)),ft(he,()=>o(re).originalQuantity,Ue=>o(re).originalQuantity=Ue),_t("blur",Ae,()=>(o(re),void 0)),$n(Ae,()=>o(re).originalUnit,Ue=>o(re).originalUnit=Ue),ft(kt,()=>o(re).comment,Ue=>o(re).comment=Ue),Li(3,se,()=>Ld),v(ie,se)}),P(()=>{O(Y,` ${o(M).displayName??""} `),O(X,F().length)}),v(K,q)}),v(oe,H)};D(G,oe=>{t().length>0&&oe(Q)})}var ee=p(I,2);LB(ee,{get initialName(){return o(f)},onIngredientCreated:C,get open(){return o(c)},set open(oe){w(c,oe,!0)}}),v(r,E),ve()}tt(["keydown","click","change"]);function Vr(r){this.content=r}Vr.prototype={constructor:Vr,find:function(r){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===r)return e;return-1},get:function(r){var e=this.find(r);return e==-1?void 0:this.content[e+1]},update:function(r,e,t){var n=t&&t!=r?this.remove(t):this,a=n.find(r),s=n.content.slice();return a==-1?s.push(t||r,e):(s[a+1]=e,t&&(s[a]=t)),new Vr(s)},remove:function(r){var e=this.find(r);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Vr(t)},addToStart:function(r,e){return new Vr([r,e].concat(this.remove(r).content))},addToEnd:function(r,e){var t=this.remove(r).content.slice();return t.push(r,e),new Vr(t)},addBefore:function(r,e,t){var n=this.remove(e),a=n.content.slice(),s=n.find(r);return a.splice(s==-1?a.length:s,0,e,t),new Vr(a)},forEach:function(r){for(var e=0;e<this.content.length;e+=2)r(this.content[e],this.content[e+1])},prepend:function(r){return r=Vr.from(r),r.size?new Vr(r.content.concat(this.subtract(r).content)):this},append:function(r){return r=Vr.from(r),r.size?new Vr(this.subtract(r).content.concat(r.content)):this},subtract:function(r){var e=this;r=Vr.from(r);for(var t=0;t<r.content.length;t+=2)e=e.remove(r.content[t]);return e},toObject:function(){var r={};return this.forEach(function(e,t){r[e]=t}),r},get size(){return this.content.length>>1}};Vr.from=function(r){if(r instanceof Vr)return r;var e=[];if(r)for(var t in r)e.push(t,r[t]);return new Vr(e)};function f_(r,e,t){for(let n=0;;n++){if(n==r.childCount||n==e.childCount)return r.childCount==e.childCount?null:t;let a=r.child(n),s=e.child(n);if(a==s){t+=a.nodeSize;continue}if(!a.sameMarkup(s))return t;if(a.isText&&a.text!=s.text){for(let i=0;a.text[i]==s.text[i];i++)t++;return t}if(a.content.size||s.content.size){let i=f_(a.content,s.content,t+1);if(i!=null)return i}t+=a.nodeSize}}function h_(r,e,t,n){for(let a=r.childCount,s=e.childCount;;){if(a==0||s==0)return a==s?null:{a:t,b:n};let i=r.child(--a),u=e.child(--s),l=i.nodeSize;if(i==u){t-=l,n-=l;continue}if(!i.sameMarkup(u))return{a:t,b:n};if(i.isText&&i.text!=u.text){let c=0,f=Math.min(i.text.length,u.text.length);for(;c<f&&i.text[i.text.length-c-1]==u.text[u.text.length-c-1];)c++,t--,n--;return{a:t,b:n}}if(i.content.size||u.content.size){let c=h_(i.content,u.content,t-1,n-1);if(c)return c}t-=l,n-=l}}class Ze{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,a=0,s){for(let i=0,u=0;u<t;i++){let l=this.content[i],c=u+l.nodeSize;if(c>e&&n(l,a+u,s||null,i)!==!1&&l.content.size){let f=u+1;l.nodesBetween(Math.max(0,e-f),Math.min(l.content.size,t-f),n,a+f)}u=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,a){let s="",i=!0;return this.nodesBetween(e,t,(u,l)=>{let c=u.isText?u.text.slice(Math.max(e,l)-l,t-l):u.isLeaf?a?typeof a=="function"?a(u):a:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&c||u.isTextblock)&&n&&(i?i=!1:s+=n),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,a=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(n)&&(a[a.length-1]=t.withText(t.text+n.text),s=1);s<e.content.length;s++)a.push(e.content[s]);return new Ze(a,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let n=[],a=0;if(t>e)for(let s=0,i=0;i<t;s++){let u=this.content[s],l=i+u.nodeSize;l>e&&((i<e||l>t)&&(u.isText?u=u.cut(Math.max(0,e-i),Math.min(u.text.length,t-i)):u=u.cut(Math.max(0,e-i-1),Math.min(u.content.size,t-i-1))),n.push(u),a+=u.nodeSize),i=l}return new Ze(n,a)}cutByIndex(e,t){return e==t?Ze.empty:e==0&&t==this.content.length?this:new Ze(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let a=this.content.slice(),s=this.size+t.nodeSize-n.nodeSize;return a[e]=t,new Ze(a,s)}addToStart(e){return new Ze([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Ze(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let a=this.content[t];e(a,n,t),n+=a.nodeSize}}findDiffStart(e,t=0){return f_(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return h_(this,e,t,n)}findIndex(e){if(e==0)return Rl(0,e);if(e==this.size)return Rl(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,n=0;;t++){let a=this.child(t),s=n+a.nodeSize;if(s>=e)return s==e?Rl(t+1,s):Rl(t,n);n=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return Ze.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ze(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Ze.empty;let t,n=0;for(let a=0;a<e.length;a++){let s=e[a];n+=s.nodeSize,a&&s.isText&&e[a-1].sameMarkup(s)?(t||(t=e.slice(0,a)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new Ze(t||e,n)}static from(e){if(!e)return Ze.empty;if(e instanceof Ze)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Ze([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Ze.empty=new Ze([],0);const Df={index:0,offset:0};function Rl(r,e){return Df.index=r,Df.offset=e,Df}function mc(r,e){if(r===e)return!0;if(!(r&&typeof r=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(r);if(Array.isArray(e)!=t)return!1;if(t){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!mc(r[n],e[n]))return!1}else{for(let n in r)if(!(n in e)||!mc(r[n],e[n]))return!1;for(let n in e)if(!(n in r))return!1}return!0}let Xt=class Rh{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let a=0;a<e.length;a++){let s=e[a];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,a));else{if(s.type.excludes(this.type))return e;!n&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,a)),t.push(this),n=!0),t&&t.push(s)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&mc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);let a=n.create(t.attrs);return n.checkAttrs(a.attrs),a}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Rh.none;if(e instanceof Rh)return[e];let t=e.slice();return t.sort((n,a)=>n.type.rank-a.type.rank),t}};Xt.none=[];class gc extends Error{}class mt{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=v_(this.content,e+this.openStart,t);return n&&new mt(n,this.openStart,this.openEnd)}removeBetween(e,t){return new mt(p_(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return mt.empty;let n=t.openStart||0,a=t.openEnd||0;if(typeof n!="number"||typeof a!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new mt(Ze.fromJSON(e,t.content),n,a)}static maxOpen(e,t=!0){let n=0,a=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)n++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)a++;return new mt(e,n,a)}}mt.empty=new mt(Ze.empty,0,0);function p_(r,e,t){let{index:n,offset:a}=r.findIndex(e),s=r.maybeChild(n),{index:i,offset:u}=r.findIndex(t);if(a==e||s.isText){if(u!=t&&!r.child(i).isText)throw new RangeError("Removing non-flat range");return r.cut(0,e).append(r.cut(t))}if(n!=i)throw new RangeError("Removing non-flat range");return r.replaceChild(n,s.copy(p_(s.content,e-a-1,t-a-1)))}function v_(r,e,t,n){let{index:a,offset:s}=r.findIndex(e),i=r.maybeChild(a);if(s==e||i.isText)return n&&!n.canReplace(a,a,t)?null:r.cut(0,e).append(t).append(r.cut(e));let u=v_(i.content,e-s-1,t,i);return u&&r.replaceChild(a,i.copy(u))}function sF(r,e,t){if(t.openStart>r.depth)throw new gc("Inserted content deeper than insertion position");if(r.depth-t.openStart!=e.depth-t.openEnd)throw new gc("Inconsistent open depths");return m_(r,e,t,0)}function m_(r,e,t,n){let a=r.index(n),s=r.node(n);if(a==e.index(n)&&n<r.depth-t.openStart){let i=m_(r,e,t,n+1);return s.copy(s.content.replaceChild(a,i))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&r.depth==n&&e.depth==n){let i=r.parent,u=i.content;return bi(i,u.cut(0,r.parentOffset).append(t.content).append(u.cut(e.parentOffset)))}else{let{start:i,end:u}=iF(t,r);return bi(s,b_(r,i,u,e,n))}else return bi(s,bc(r,e,n))}function g_(r,e){if(!e.type.compatibleContent(r.type))throw new gc("Cannot join "+e.type.name+" onto "+r.type.name)}function Nh(r,e,t){let n=r.node(t);return g_(n,e.node(t)),n}function gi(r,e){let t=e.length-1;t>=0&&r.isText&&r.sameMarkup(e[t])?e[t]=r.withText(e[t].text+r.text):e.push(r)}function hu(r,e,t,n){let a=(e||r).node(t),s=0,i=e?e.index(t):a.childCount;r&&(s=r.index(t),r.depth>t?s++:r.textOffset&&(gi(r.nodeAfter,n),s++));for(let u=s;u<i;u++)gi(a.child(u),n);e&&e.depth==t&&e.textOffset&&gi(e.nodeBefore,n)}function bi(r,e){return r.type.checkContent(e),r.copy(e)}function b_(r,e,t,n,a){let s=r.depth>a&&Nh(r,e,a+1),i=n.depth>a&&Nh(t,n,a+1),u=[];return hu(null,r,a,u),s&&i&&e.index(a)==t.index(a)?(g_(s,i),gi(bi(s,b_(r,e,t,n,a+1)),u)):(s&&gi(bi(s,bc(r,e,a+1)),u),hu(e,t,a,u),i&&gi(bi(i,bc(t,n,a+1)),u)),hu(n,null,a,u),new Ze(u)}function bc(r,e,t){let n=[];if(hu(null,r,t,n),r.depth>t){let a=Nh(r,e,t+1);gi(bi(a,bc(r,e,t+1)),n)}return hu(e,null,t,n),new Ze(n)}function iF(r,e){let t=e.depth-r.openStart,a=e.node(t).copy(r.content);for(let s=t-1;s>=0;s--)a=e.node(s).copy(Ze.from(a));return{start:a.resolveNoCache(r.openStart+t),end:a.resolveNoCache(a.content.size-r.openEnd-t)}}class Ru{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],a=e.child(t);return n?e.child(t).cut(n):a}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[t*3],a=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)a+=n.child(s).nodeSize;return a}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Xt.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),a=e.maybeChild(t);if(!n){let u=n;n=a,a=u}let s=n.marks;for(var i=0;i<s.length;i++)s[i].type.spec.inclusive===!1&&(!a||!s[i].isInSet(a.marks))&&(s=s[i--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,a=e.parent.maybeChild(e.index());for(var s=0;s<n.length;s++)n[s].type.spec.inclusive===!1&&(!a||!n[s].isInSet(a.marks))&&(n=n[s--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new _c(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],a=0,s=t;for(let i=e;;){let{index:u,offset:l}=i.content.findIndex(s),c=s-l;if(n.push(i,u,a+l),!c||(i=i.child(u),i.isText))break;s=c-1,a+=l+1}return new Ru(t,n,s)}static resolveCached(e,t){let n=Um.get(e);if(n)for(let s=0;s<n.elts.length;s++){let i=n.elts[s];if(i.pos==t)return i}else Um.set(e,n=new oF);let a=n.elts[n.i]=Ru.resolve(e,t);return n.i=(n.i+1)%uF,a}}class oF{constructor(){this.elts=[],this.i=0}}const uF=12,Um=new WeakMap;class _c{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const lF=Object.create(null);let ls=class Ph{constructor(e,t,n,a=Xt.none){this.type=e,this.attrs=t,this.marks=a,this.content=n||Ze.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,a=0){this.content.nodesBetween(e,t,n,a,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,a){return this.content.textBetween(e,t,n,a)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&mc(this.attrs,t||e.defaultAttrs||lF)&&Xt.sameSet(this.marks,n||Xt.none)}copy(e=null){return e==this.content?this:new Ph(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Ph(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return mt.empty;let a=this.resolve(e),s=this.resolve(t),i=n?0:a.sharedDepth(t),u=a.start(i),c=a.node(i).content.cut(a.pos-u,s.pos-u);return new mt(c,a.depth-i,s.depth-i)}replace(e,t,n){return sF(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:a}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(a==e||t.isText)return t;e-=a+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let a=this.content.child(t-1);return{node:a,index:t-1,offset:n-a.nodeSize}}resolve(e){return Ru.resolveCached(this,e)}resolveNoCache(e){return Ru.resolve(this,e)}rangeHasMark(e,t,n){let a=!1;return t>e&&this.nodesBetween(e,t,s=>(n.isInSet(s.marks)&&(a=!0),!a)),a}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),__(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=Ze.empty,a=0,s=n.childCount){let i=this.contentMatchAt(e).matchFragment(n,a,s),u=i&&i.matchFragment(this.content,t);if(!u||!u.validEnd)return!1;for(let l=a;l<s;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,t,n,a){if(a&&!this.type.allowsMarks(a))return!1;let s=this.contentMatchAt(e).matchType(n),i=s&&s.matchFragment(this.content,t);return i?i.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Xt.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!Xt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let a=Ze.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,a,n);return s.type.checkAttrs(s.attrs),s}};ls.prototype.text=void 0;class yc extends ls{constructor(e,t,n,a){if(super(e,t,null,a),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):__(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new yc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new yc(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function __(r,e){for(let t=r.length-1;t>=0;t--)e=r[t].type.name+"("+e+")";return e}class Di{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new cF(e,t);if(n.next==null)return Di.empty;let a=y_(n);n.next&&n.err("Unexpected trailing text");let s=gF(mF(a));return bF(s,n),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let a=this;for(let s=t;a&&s<n;s++)a=a.matchType(e.child(s).type);return a}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let a=[this];function s(i,u){let l=i.matchFragment(e,n);if(l&&(!t||l.validEnd))return Ze.from(u.map(c=>c.createAndFill()));for(let c=0;c<i.next.length;c++){let{type:f,next:h}=i.next[c];if(!(f.isText||f.hasRequiredAttrs())&&a.indexOf(h)==-1){a.push(h);let m=s(h,u.concat(f));if(m)return m}}return null}return s(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let a=n.shift(),s=a.match;if(s.matchType(e)){let i=[];for(let u=a;u.type;u=u.via)i.push(u.type);return i.reverse()}for(let i=0;i<s.next.length;i++){let{type:u,next:l}=s.next[i];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in t)&&(!a.type||l.validEnd)&&(n.push({match:u.contentMatch,type:u,via:a}),t[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(n){e.push(n);for(let a=0;a<n.next.length;a++)e.indexOf(n.next[a].next)==-1&&t(n.next[a].next)}return t(this),e.map((n,a)=>{let s=a+(n.validEnd?"*":" ")+" ";for(let i=0;i<n.next.length;i++)s+=(i?", ":"")+n.next[i].type.name+"->"+e.indexOf(n.next[i].next);return s}).join(`
`)}}Di.empty=new Di(!0);class cF{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function y_(r){let e=[];do e.push(dF(r));while(r.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function dF(r){let e=[];do e.push(fF(r));while(r.next&&r.next!=")"&&r.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function fF(r){let e=vF(r);for(;;)if(r.eat("+"))e={type:"plus",expr:e};else if(r.eat("*"))e={type:"star",expr:e};else if(r.eat("?"))e={type:"opt",expr:e};else if(r.eat("{"))e=hF(r,e);else break;return e}function Vm(r){/\D/.test(r.next)&&r.err("Expected number, got '"+r.next+"'");let e=Number(r.next);return r.pos++,e}function hF(r,e){let t=Vm(r),n=t;return r.eat(",")&&(r.next!="}"?n=Vm(r):n=-1),r.eat("}")||r.err("Unclosed braced range"),{type:"range",min:t,max:n,expr:e}}function pF(r,e){let t=r.nodeTypes,n=t[e];if(n)return[n];let a=[];for(let s in t){let i=t[s];i.isInGroup(e)&&a.push(i)}return a.length==0&&r.err("No node type or group '"+e+"' found"),a}function vF(r){if(r.eat("(")){let e=y_(r);return r.eat(")")||r.err("Missing closing paren"),e}else if(/\W/.test(r.next))r.err("Unexpected token '"+r.next+"'");else{let e=pF(r,r.next).map(t=>(r.inline==null?r.inline=t.isInline:r.inline!=t.isInline&&r.err("Mixing inline and block content"),{type:"name",value:t}));return r.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function mF(r){let e=[[]];return a(s(r,0),t()),e;function t(){return e.push([])-1}function n(i,u,l){let c={term:l,to:u};return e[i].push(c),c}function a(i,u){i.forEach(l=>l.to=u)}function s(i,u){if(i.type=="choice")return i.exprs.reduce((l,c)=>l.concat(s(c,u)),[]);if(i.type=="seq")for(let l=0;;l++){let c=s(i.exprs[l],u);if(l==i.exprs.length-1)return c;a(c,u=t())}else if(i.type=="star"){let l=t();return n(u,l),a(s(i.expr,l),l),[n(l)]}else if(i.type=="plus"){let l=t();return a(s(i.expr,u),l),a(s(i.expr,l),l),[n(l)]}else{if(i.type=="opt")return[n(u)].concat(s(i.expr,u));if(i.type=="range"){let l=u;for(let c=0;c<i.min;c++){let f=t();a(s(i.expr,l),f),l=f}if(i.max==-1)a(s(i.expr,l),l);else for(let c=i.min;c<i.max;c++){let f=t();n(l,f),a(s(i.expr,l),f),l=f}return[n(l)]}else{if(i.type=="name")return[n(u,void 0,i.value)];throw new Error("Unknown expr type")}}}}function x_(r,e){return e-r}function Wm(r,e){let t=[];return n(e),t.sort(x_);function n(a){let s=r[a];if(s.length==1&&!s[0].term)return n(s[0].to);t.push(a);for(let i=0;i<s.length;i++){let{term:u,to:l}=s[i];!u&&t.indexOf(l)==-1&&n(l)}}}function gF(r){let e=Object.create(null);return t(Wm(r,0));function t(n){let a=[];n.forEach(i=>{r[i].forEach(({term:u,to:l})=>{if(!u)return;let c;for(let f=0;f<a.length;f++)a[f][0]==u&&(c=a[f][1]);Wm(r,l).forEach(f=>{c||a.push([u,c=[]]),c.indexOf(f)==-1&&c.push(f)})})});let s=e[n.join(",")]=new Di(n.indexOf(r.length-1)>-1);for(let i=0;i<a.length;i++){let u=a[i][1].sort(x_);s.next.push({type:a[i][0],next:e[u.join(",")]||t(u)})}return s}}function bF(r,e){for(let t=0,n=[r];t<n.length;t++){let a=n[t],s=!a.validEnd,i=[];for(let u=0;u<a.next.length;u++){let{type:l,next:c}=a.next[u];i.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),n.indexOf(c)==-1&&n.push(c)}s&&e.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function w_(r){let e=Object.create(null);for(let t in r){let n=r[t];if(!n.hasDefault)return null;e[t]=n.default}return e}function k_(r,e){let t=Object.create(null);for(let n in r){let a=e&&e[n];if(a===void 0){let s=r[n];if(s.hasDefault)a=s.default;else throw new RangeError("No value supplied for attribute "+n)}t[n]=a}return t}function E_(r,e,t,n){for(let a in e)if(!(a in r))throw new RangeError(`Unsupported attribute ${a} for ${t} of type ${a}`);for(let a in r){let s=r[a];s.validate&&s.validate(e[a])}}function S_(r,e){let t=Object.create(null);if(e)for(let n in e)t[n]=new yF(r,n,e[n]);return t}let Qm=class A_{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=S_(e,n.attrs),this.defaultAttrs=w_(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Di.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:k_(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ls(this,this.computeAttrs(e),Ze.from(t),Xt.setFrom(n))}createChecked(e=null,t,n){return t=Ze.from(t),this.checkContent(t),new ls(this,this.computeAttrs(e),t,Xt.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),t=Ze.from(t),t.size){let i=this.contentMatch.fillBefore(t);if(!i)return null;t=i.append(t)}let a=this.contentMatch.matchFragment(t),s=a&&a.fillBefore(Ze.empty,!0);return s?new ls(this,e,t.append(s),Xt.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){E_(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:Xt.none:e}static compile(e,t){let n=Object.create(null);e.forEach((s,i)=>n[s]=new A_(s,t,i));let a=t.spec.topNode||"doc";if(!n[a])throw new RangeError("Schema is missing its top node type ('"+a+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let s in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function _F(r,e,t){let n=t.split("|");return a=>{let s=a===null?"null":typeof a;if(n.indexOf(s)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${r}, got ${s}`)}}class yF{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?_F(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class qd{constructor(e,t,n,a){this.name=e,this.rank=t,this.schema=n,this.spec=a,this.attrs=S_(e,a.attrs),this.excluded=null;let s=w_(this.attrs);this.instance=s?new Xt(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Xt(this,k_(this.attrs,e))}static compile(e,t){let n=Object.create(null),a=0;return e.forEach((s,i)=>n[s]=new qd(s,a++,t,i)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){E_(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class jd{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let a in e)t[a]=e[a];t.nodes=Vr.from(e.nodes),t.marks=Vr.from(e.marks||{}),this.nodes=Qm.compile(this.spec.nodes,this),this.marks=qd.compile(this.spec.marks,this);let n=Object.create(null);for(let a in this.nodes){if(a in this.marks)throw new RangeError(a+" can not be both a node and a mark");let s=this.nodes[a],i=s.spec.content||"",u=s.spec.marks;if(s.contentMatch=n[i]||(n[i]=Di.parse(i,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=u=="_"?null:u?Gm(this,u.split(" ")):u==""||!s.inlineContent?[]:null}for(let a in this.marks){let s=this.marks[a],i=s.spec.excludes;s.excluded=i==null?[s]:i==""?[]:Gm(this,i.split(" "))}this.nodeFromJSON=a=>ls.fromJSON(this,a),this.markFromJSON=a=>Xt.fromJSON(this,a),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,a){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Qm){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,n,a)}text(e,t){let n=this.nodes.text;return new yc(n,n.defaultAttrs,e,Xt.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function Gm(r,e){let t=[];for(let n=0;n<e.length;n++){let a=e[n],s=r.marks[a],i=s;if(s)t.push(s);else for(let u in r.marks){let l=r.marks[u];(a=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(a)>-1)&&t.push(i=l)}if(!i)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return t}function xF(r){return r.tag!=null}function wF(r){return r.style!=null}class Yn{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach(a=>{if(xF(a))this.tags.push(a);else if(wF(a)){let s=/[^=]*/.exec(a.style)[0];n.indexOf(s)<0&&n.push(s),this.styles.push(a)}}),this.normalizeLists=!this.tags.some(a=>{if(!/^(ul|ol)\b/.test(a.tag)||!a.node)return!1;let s=e.nodes[a.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let n=new Jm(this,t,!1);return n.addAll(e,Xt.none,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new Jm(this,t,!0);return n.addAll(e,Xt.none,t.from,t.to),mt.maxOpen(n.finish())}matchTag(e,t,n){for(let a=n?this.tags.indexOf(n)+1:0;a<this.tags.length;a++){let s=this.tags[a];if(SF(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let i=s.getAttrs(e);if(i===!1)continue;s.attrs=i||void 0}return s}}}matchStyle(e,t,n,a){for(let s=a?this.styles.indexOf(a)+1:0;s<this.styles.length;s++){let i=this.styles[s],u=i.style;if(!(u.indexOf(e)!=0||i.context&&!n.matchesContext(i.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=t))){if(i.getAttrs){let l=i.getAttrs(t);if(l===!1)continue;i.attrs=l||void 0}return i}}}static schemaRules(e){let t=[];function n(a){let s=a.priority==null?50:a.priority,i=0;for(;i<t.length;i++){let u=t[i];if((u.priority==null?50:u.priority)<s)break}t.splice(i,0,a)}for(let a in e.marks){let s=e.marks[a].spec.parseDOM;s&&s.forEach(i=>{n(i=Zm(i)),i.mark||i.ignore||i.clearMark||(i.mark=a)})}for(let a in e.nodes){let s=e.nodes[a].spec.parseDOM;s&&s.forEach(i=>{n(i=Zm(i)),i.node||i.ignore||i.mark||(i.node=a)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Yn(e,Yn.schemaRules(e)))}}const D_={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},kF={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},C_={ol:!0,ul:!0},Nu=1,$h=2,pu=4;function Km(r,e,t){return e!=null?(e?Nu:0)|(e==="full"?$h:0):r&&r.whitespace=="pre"?Nu|$h:t&~pu}class Nl{constructor(e,t,n,a,s,i){this.type=e,this.attrs=t,this.marks=n,this.solid=a,this.options=i,this.content=[],this.activeMarks=Xt.none,this.match=s||(i&pu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(Ze.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let n=this.type.contentMatch,a;return(a=n.findWrapping(e.type))?(this.match=n,a):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Nu)){let n=this.content[this.content.length-1],a;if(n&&n.isText&&(a=/[ \t\r\n\u000c]+$/.exec(n.text))){let s=n;n.text.length==a[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-a[0].length))}}let t=Ze.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(Ze.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!D_.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Jm{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let a=t.topNode,s,i=Km(null,t.preserveWhitespace,0)|(n?pu:0);a?s=new Nl(a.type,a.attrs,Xt.none,!0,t.topMatch||a.type.contentMatch,i):n?s=new Nl(null,null,Xt.none,!0,null,i):s=new Nl(e.schema.topNodeType,null,Xt.none,!0,null,i),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,a=this.top,s=a.options&$h?"full":this.localPreserveWS||(a.options&Nu)>0,{schema:i}=this.parser;if(s==="full"||a.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(s)if(s==="full")n=n.replace(/\r\n?/g,`
`);else if(i.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(i.linebreakReplacement.create())){let u=n.split(/\r?\n|\r/);for(let l=0;l<u.length;l++)l&&this.insertNode(i.linebreakReplacement.create(),t,!0),u[l]&&this.insertNode(i.text(u[l]),t,!/\S/.test(u[l]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let u=a.content[a.content.length-1],l=e.previousSibling;(!u||l&&l.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(n=n.slice(1))}n&&this.insertNode(i.text(n),t,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let a=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let i=e.nodeName.toLowerCase(),u;C_.hasOwnProperty(i)&&this.parser.normalizeLists&&EF(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,n));e:if(l?l.ignore:kF.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,t);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,f=this.needsBlock;if(D_.hasOwnProperty(i))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let h=l&&l.skip?t:this.readStyles(e,t);h&&this.addAll(e,h),c&&this.sync(s),this.needsBlock=f}else{let c=this.readStyles(e,t);c&&this.addElementByRule(e,l,c,l.consuming===!1?u:void 0)}this.localPreserveWS=a}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let a=0;a<this.parser.matchedStyles.length;a++){let s=this.parser.matchedStyles[a],i=n.getPropertyValue(s);if(i)for(let u=void 0;;){let l=this.parser.matchStyle(s,i,this,u);if(!l)break;if(l.ignore)return null;if(l.clearMark?t=t.filter(c=>!l.clearMark(c)):t=t.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)u=l;else break}}return t}addElementByRule(e,t,n,a){let s,i;if(t.node)if(i=this.parser.schema.nodes[t.node],i.isLeaf)this.insertNode(i.create(t.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let l=this.enter(i,t.attrs||null,n,t.preserveWhitespace);l&&(s=!0,n=l)}else{let l=this.parser.schema.marks[t.mark];n=n.concat(l.create(t.attrs))}let u=this.top;if(i&&i.isLeaf)this.findInside(e);else if(a)this.addElement(e,n,a);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,n,!1));else{let l=e;typeof t.contentElement=="string"?l=e.querySelector(t.contentElement):typeof t.contentElement=="function"?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l,n),this.findAround(e,l,!1)}s&&this.sync(u)&&this.open--}addAll(e,t,n,a){let s=n||0;for(let i=n?e.childNodes[n]:e.firstChild,u=a==null?null:e.childNodes[a];i!=u;i=i.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(i,t);this.findAtPoint(e,s)}findPlace(e,t,n){let a,s;for(let i=this.open,u=0;i>=0;i--){let l=this.nodes[i],c=l.findWrapping(e);if(c&&(!a||a.length>c.length+u)&&(a=c,s=l,!c.length))break;if(l.solid){if(n)break;u+=2}}if(!a)return null;this.sync(s);for(let i=0;i<a.length;i++)t=this.enterInner(a[i],null,t,!1);return t}insertNode(e,t,n){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(t=this.enterInner(s,null,t))}let a=this.findPlace(e,t,n);if(a){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let i=Xt.none;for(let u of a.concat(e.marks))(s.type?s.type.allowsMarkType(u.type):Ym(u.type,e.type))&&(i=u.addToSet(i));return s.content.push(e.mark(i)),!0}return!1}enter(e,t,n,a){let s=this.findPlace(e.create(t),n,!1);return s&&(s=this.enterInner(e,t,n,!0,a)),s}enterInner(e,t,n,a=!1,s){this.closeExtra();let i=this.top;i.match=i.match&&i.match.matchType(e);let u=Km(e,s,i.options);i.options&pu&&i.content.length==0&&(u|=pu);let l=Xt.none;return n=n.filter(c=>(i.type?i.type.allowsMarkType(c.type):Ym(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Nl(e,t,l,a,null,u)),this.open++,n}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Nu)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let a=n.length-1;a>=0;a--)e+=n[a].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let a=0;a<this.find.length;a++)this.find[a].pos==null&&e.nodeType==1&&e.contains(this.find[a].node)&&t.compareDocumentPosition(this.find[a].node)&(n?2:4)&&(this.find[a].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,a=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),s=-(n?n.depth+1:0)+(a?0:1),i=(u,l)=>{for(;u>=0;u--){let c=t[u];if(c==""){if(u==t.length-1||u==0)continue;for(;l>=s;l--)if(i(u-1,l))return!0;return!1}else{let f=l>0||l==0&&a?this.nodes[l].type:n&&l>=s?n.node(l-s).type:null;if(!f||f.name!=c&&!f.isInGroup(c))return!1;l--}}return!0};return i(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let n=this.parser.schema.nodes[t];if(n.isTextblock&&n.defaultAttrs)return n}}}function EF(r){for(let e=r.firstChild,t=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&C_.hasOwnProperty(n)&&t?(t.appendChild(e),e=t):n=="li"?t=e:n&&(t=null)}}function SF(r,e){return(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,e)}function Zm(r){let e={};for(let t in r)e[t]=r[t];return e}function Ym(r,e){let t=e.schema.nodes;for(let n in t){let a=t[n];if(!a.allowsMarkType(r))continue;let s=[],i=u=>{s.push(u);for(let l=0;l<u.edgeCount;l++){let{type:c,next:f}=u.edge(l);if(c==e||s.indexOf(f)<0&&i(f))return!0}};if(i(a.contentMatch))return!0}}class Vi{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=Cf(t).createDocumentFragment());let a=n,s=[];return e.forEach(i=>{if(s.length||i.marks.length){let u=0,l=0;for(;u<s.length&&l<i.marks.length;){let c=i.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[u][0])||c.type.spec.spanning===!1)break;u++,l++}for(;u<s.length;)a=s.pop()[1];for(;l<i.marks.length;){let c=i.marks[l++],f=this.serializeMark(c,i.isInline,t);f&&(s.push([c,a]),a.appendChild(f.dom),a=f.contentDOM||f.dom)}}a.appendChild(this.serializeNodeInner(i,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:a}=Yl(Cf(t),this.nodes[e.type.name](e),null,e.attrs);if(a){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,a)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let a=e.marks.length-1;a>=0;a--){let s=this.serializeMark(e.marks[a],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(n),n=s.dom)}return n}serializeMark(e,t,n={}){let a=this.marks[e.type.name];return a&&Yl(Cf(n),a(e,t),null,e.attrs)}static renderSpec(e,t,n=null,a){return Yl(e,t,n,a)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Vi(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Xm(e.nodes);return t.text||(t.text=n=>n.text),t}static marksFromSchema(e){return Xm(e.marks)}}function Xm(r){let e={};for(let t in r){let n=r[t].spec.toDOM;n&&(e[t]=n)}return e}function Cf(r){return r.document||window.document}const e1=new WeakMap;function AF(r){let e=e1.get(r);return e===void 0&&e1.set(r,e=DF(r)),e}function DF(r){let e=null;function t(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let a=0;a<n.length;a++)t(n[a]);else for(let a in n)t(n[a])}return t(r),e}function Yl(r,e,t,n){if(typeof e=="string")return{dom:r.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let a=e[0],s;if(typeof a!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(s=AF(n))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let i=a.indexOf(" ");i>0&&(t=a.slice(0,i),a=a.slice(i+1));let u,l=t?r.createElementNS(t,a):r.createElement(a),c=e[1],f=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){f=2;for(let h in c)if(c[h]!=null){let m=h.indexOf(" ");m>0?l.setAttributeNS(h.slice(0,m),h.slice(m+1),c[h]):h=="style"&&l.style?l.style.cssText=c[h]:l.setAttribute(h,c[h])}}for(let h=f;h<e.length;h++){let m=e[h];if(m===0){if(h<e.length-1||h>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:g,contentDOM:b}=Yl(r,m,t,n);if(l.appendChild(g),b){if(u)throw new RangeError("Multiple content holes");u=b}}}return{dom:l,contentDOM:u}}const I_=65535,T_=Math.pow(2,16);function CF(r,e){return r+e*T_}function t1(r){return r&I_}function IF(r){return(r-(r&I_))/T_}const M_=1,R_=2,Xl=4,N_=8;class Lh{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&N_)>0}get deletedBefore(){return(this.delInfo&(M_|Xl))>0}get deletedAfter(){return(this.delInfo&(R_|Xl))>0}get deletedAcross(){return(this.delInfo&Xl)>0}}class Rn{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Rn.empty)return Rn.empty}recover(e){let t=0,n=t1(e);if(!this.inverted)for(let a=0;a<n;a++)t+=this.ranges[a*3+2]-this.ranges[a*3+1];return this.ranges[n*3]+t+IF(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let a=0,s=this.inverted?2:1,i=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let l=this.ranges[u]-(this.inverted?a:0);if(l>e)break;let c=this.ranges[u+s],f=this.ranges[u+i],h=l+c;if(e<=h){let m=c?e==l?-1:e==h?1:t:t,g=l+a+(m<0?0:f);if(n)return g;let b=e==(t<0?l:h)?null:CF(u/3,e-l),y=e==l?R_:e==h?M_:Xl;return(t<0?e!=l:e!=h)&&(y|=N_),new Lh(g,y,b)}a+=f-c}return n?e+a:new Lh(e+a,0,null)}touches(e,t){let n=0,a=t1(t),s=this.inverted?2:1,i=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let l=this.ranges[u]-(this.inverted?n:0);if(l>e)break;let c=this.ranges[u+s],f=l+c;if(e<=f&&u==a*3)return!0;n+=this.ranges[u+i]-c}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let a=0,s=0;a<this.ranges.length;a+=3){let i=this.ranges[a],u=i-(this.inverted?s:0),l=i+(this.inverted?0:s),c=this.ranges[a+t],f=this.ranges[a+n];e(u,u+c,l,l+f),s+=f-c}}invert(){return new Rn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Rn.empty:new Rn(e<0?[0,-e,0]:[0,0,e])}}Rn.empty=new Rn([]);class Pu{constructor(e,t,n=0,a=e?e.length:0){this.mirror=t,this.from=n,this.to=a,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new Pu(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,n=this._maps.length;t<e._maps.length;t++){let a=e.getMirror(t);this.appendMap(e._maps[t],a!=null&&a<t?n+a:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this._maps.length+e._maps.length;t>=0;t--){let a=e.getMirror(t);this.appendMap(e._maps[t].invert(),a!=null&&a>t?n-a-1:void 0)}}invert(){let e=new Pu;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let a=0;for(let s=this.from;s<this.to;s++){let i=this._maps[s],u=i.mapResult(e,t);if(u.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(u.recover);continue}}a|=u.delInfo,e=u.pos}return n?e:new Lh(e,a,null)}}const If=Object.create(null);class un{getMap(){return Rn.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=If[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in If)throw new RangeError("Duplicate use of step JSON ID "+e);return If[e]=t,t.prototype.jsonID=e,t}}class Dr{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Dr(e,null)}static fail(e){return new Dr(null,e)}static fromReplace(e,t,n,a){try{return Dr.ok(e.replace(t,n,a))}catch(s){if(s instanceof gc)return Dr.fail(s.message);throw s}}}function r0(r,e,t){let n=[];for(let a=0;a<r.childCount;a++){let s=r.child(a);s.content.size&&(s=s.copy(r0(s.content,e,s))),s.isInline&&(s=e(s,t,a)),n.push(s)}return Ze.fromArray(n)}class Rs extends un{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),a=n.node(n.sharedDepth(this.to)),s=new mt(r0(t.content,(i,u)=>!i.isAtom||!u.type.allowsMarkType(this.mark.type)?i:i.mark(this.mark.addToSet(i.marks)),a),t.openStart,t.openEnd);return Dr.fromReplace(e,this.from,this.to,s)}invert(){return new Gn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Rs(t.pos,n.pos,this.mark)}merge(e){return e instanceof Rs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Rs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Rs(t.from,t.to,e.markFromJSON(t.mark))}}un.jsonID("addMark",Rs);class Gn extends un{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new mt(r0(t.content,a=>a.mark(this.mark.removeFromSet(a.marks)),e),t.openStart,t.openEnd);return Dr.fromReplace(e,this.from,this.to,n)}invert(){return new Rs(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Gn(t.pos,n.pos,this.mark)}merge(e){return e instanceof Gn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Gn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Gn(t.from,t.to,e.markFromJSON(t.mark))}}un.jsonID("removeMark",Gn);class Ns extends un{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Dr.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Dr.fromReplace(e,this.pos,this.pos+1,new mt(Ze.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let n=this.mark.addToSet(t.marks);if(n.length==t.marks.length){for(let a=0;a<t.marks.length;a++)if(!t.marks[a].isInSet(n))return new Ns(this.pos,t.marks[a]);return new Ns(this.pos,this.mark)}}return new Ci(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ns(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ns(t.pos,e.markFromJSON(t.mark))}}un.jsonID("addNodeMark",Ns);class Ci extends un{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Dr.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Dr.fromReplace(e,this.pos,this.pos+1,new mt(Ze.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Ns(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ci(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ci(t.pos,e.markFromJSON(t.mark))}}un.jsonID("removeNodeMark",Ci);class Rr extends un{constructor(e,t,n,a=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=a}apply(e){return this.structure&&Oh(e,this.from,this.to)?Dr.fail("Structure replace would overwrite content"):Dr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Rn([this.from,this.to-this.from,this.slice.size])}invert(e){return new Rr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new Rr(t.pos,Math.max(t.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Rr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?mt.empty:new mt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Rr(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?mt.empty:new mt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Rr(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Rr(t.from,t.to,mt.fromJSON(e,t.slice),!!t.structure)}}un.jsonID("replace",Rr);class Nr extends un{constructor(e,t,n,a,s,i,u=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=a,this.slice=s,this.insert=i,this.structure=u}apply(e){if(this.structure&&(Oh(e,this.from,this.gapFrom)||Oh(e,this.gapTo,this.to)))return Dr.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Dr.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?Dr.fromReplace(e,this.from,this.to,n):Dr.fail("Content does not fit in gap")}getMap(){return new Rn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Nr(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),a=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||a<t.pos||s>n.pos?null:new Nr(t.pos,n.pos,a,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Nr(t.from,t.to,t.gapFrom,t.gapTo,mt.fromJSON(e,t.slice),t.insert,!!t.structure)}}un.jsonID("replaceAround",Nr);function Oh(r,e,t){let n=r.resolve(e),a=t-e,s=n.depth;for(;a>0&&s>0&&n.indexAfter(s)==n.node(s).childCount;)s--,a--;if(a>0){let i=n.node(s).maybeChild(n.indexAfter(s));for(;a>0;){if(!i||i.isLeaf)return!0;i=i.firstChild,a--}}return!1}function TF(r,e,t,n){let a=[],s=[],i,u;r.doc.nodesBetween(e,t,(l,c,f)=>{if(!l.isInline)return;let h=l.marks;if(!n.isInSet(h)&&f.type.allowsMarkType(n.type)){let m=Math.max(c,e),g=Math.min(c+l.nodeSize,t),b=n.addToSet(h);for(let y=0;y<h.length;y++)h[y].isInSet(b)||(i&&i.to==m&&i.mark.eq(h[y])?i.to=g:a.push(i=new Gn(m,g,h[y])));u&&u.to==m?u.to=g:s.push(u=new Rs(m,g,n))}}),a.forEach(l=>r.step(l)),s.forEach(l=>r.step(l))}function MF(r,e,t,n){let a=[],s=0;r.doc.nodesBetween(e,t,(i,u)=>{if(!i.isInline)return;s++;let l=null;if(n instanceof qd){let c=i.marks,f;for(;f=n.isInSet(c);)(l||(l=[])).push(f),c=f.removeFromSet(c)}else n?n.isInSet(i.marks)&&(l=[n]):l=i.marks;if(l&&l.length){let c=Math.min(u+i.nodeSize,t);for(let f=0;f<l.length;f++){let h=l[f],m;for(let g=0;g<a.length;g++){let b=a[g];b.step==s-1&&h.eq(a[g].style)&&(m=b)}m?(m.to=c,m.step=s):a.push({style:h,from:Math.max(u,e),to:c,step:s})}}}),a.forEach(i=>r.step(new Gn(i.from,i.to,i.style)))}function n0(r,e,t,n=t.contentMatch,a=!0){let s=r.doc.nodeAt(e),i=[],u=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),f=u+c.nodeSize,h=n.matchType(c.type);if(!h)i.push(new Rr(u,f,mt.empty));else{n=h;for(let m=0;m<c.marks.length;m++)t.allowsMarkType(c.marks[m].type)||r.step(new Gn(u,f,c.marks[m]));if(a&&c.isText&&t.whitespace!="pre"){let m,g=/\r?\n|\r/g,b;for(;m=g.exec(c.text);)b||(b=new mt(Ze.from(t.schema.text(" ",t.allowedMarks(c.marks))),0,0)),i.push(new Rr(u+m.index,u+m.index+m[0].length,b))}}u=f}if(!n.validEnd){let l=n.fillBefore(Ze.empty,!0);r.replace(u,u,new mt(l,0,0))}for(let l=i.length-1;l>=0;l--)r.step(i[l])}function RF(r,e,t){return(e==0||r.canReplace(e,r.childCount))&&(t==r.childCount||r.canReplace(0,t))}function Wi(r){let t=r.parent.content.cutByIndex(r.startIndex,r.endIndex);for(let n=r.depth,a=0,s=0;;--n){let i=r.$from.node(n),u=r.$from.index(n)+a,l=r.$to.indexAfter(n)-s;if(n<r.depth&&i.canReplace(u,l,t))return n;if(n==0||i.type.spec.isolating||!RF(i,u,l))break;u&&(a=1),l<i.childCount&&(s=1)}return null}function NF(r,e,t){let{$from:n,$to:a,depth:s}=e,i=n.before(s+1),u=a.after(s+1),l=i,c=u,f=Ze.empty,h=0;for(let b=s,y=!1;b>t;b--)y||n.index(b)>0?(y=!0,f=Ze.from(n.node(b).copy(f)),h++):l--;let m=Ze.empty,g=0;for(let b=s,y=!1;b>t;b--)y||a.after(b+1)<a.end(b)?(y=!0,m=Ze.from(a.node(b).copy(m)),g++):c++;r.step(new Nr(l,c,i,u,new mt(f.append(m),h,g),f.size-h,!0))}function a0(r,e,t=null,n=r){let a=PF(r,e),s=a&&$F(n,e);return s?a.map(r1).concat({type:e,attrs:t}).concat(s.map(r1)):null}function r1(r){return{type:r,attrs:null}}function PF(r,e){let{parent:t,startIndex:n,endIndex:a}=r,s=t.contentMatchAt(n).findWrapping(e);if(!s)return null;let i=s.length?s[0]:e;return t.canReplaceWith(n,a,i)?s:null}function $F(r,e){let{parent:t,startIndex:n,endIndex:a}=r,s=t.child(n),i=e.contentMatch.findWrapping(s.type);if(!i)return null;let l=(i.length?i[i.length-1]:e).contentMatch;for(let c=n;l&&c<a;c++)l=l.matchType(t.child(c).type);return!l||!l.validEnd?null:i}function LF(r,e,t){let n=Ze.empty;for(let i=t.length-1;i>=0;i--){if(n.size){let u=t[i].type.contentMatch.matchFragment(n);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=Ze.from(t[i].type.create(t[i].attrs,n))}let a=e.start,s=e.end;r.step(new Nr(a,s,a,s,new mt(n,0,0),t.length,!0))}function OF(r,e,t,n,a){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=r.steps.length;r.doc.nodesBetween(e,t,(i,u)=>{let l=typeof a=="function"?a(i):a;if(i.isTextblock&&!i.hasMarkup(n,l)&&BF(r.doc,r.mapping.slice(s).map(u),n)){let c=null;if(n.schema.linebreakReplacement){let g=n.whitespace=="pre",b=!!n.contentMatch.matchType(n.schema.linebreakReplacement);g&&!b?c=!1:!g&&b&&(c=!0)}c===!1&&$_(r,i,u,s),n0(r,r.mapping.slice(s).map(u,1),n,void 0,c===null);let f=r.mapping.slice(s),h=f.map(u,1),m=f.map(u+i.nodeSize,1);return r.step(new Nr(h,m,h+1,m-1,new mt(Ze.from(n.create(l,null,i.marks)),0,0),1,!0)),c===!0&&P_(r,i,u,s),!1}})}function P_(r,e,t,n){e.forEach((a,s)=>{if(a.isText){let i,u=/\r?\n|\r/g;for(;i=u.exec(a.text);){let l=r.mapping.slice(n).map(t+1+s+i.index);r.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function $_(r,e,t,n){e.forEach((a,s)=>{if(a.type==a.type.schema.linebreakReplacement){let i=r.mapping.slice(n).map(t+1+s);r.replaceWith(i,i+1,e.type.schema.text(`
`))}})}function BF(r,e,t){let n=r.resolve(e),a=n.index();return n.parent.canReplaceWith(a,a+1,t)}function FF(r,e,t,n,a){let s=r.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let i=t.create(n,null,a||s.marks);if(s.isLeaf)return r.replaceWith(e,e+s.nodeSize,i);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);r.step(new Nr(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new mt(Ze.from(i),0,0),1,!0))}function On(r,e,t=1,n){let a=r.resolve(e),s=a.depth-t,i=n&&n[n.length-1]||a.parent;if(s<0||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!i.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(let c=a.depth-1,f=t-2;c>s;c--,f--){let h=a.node(c),m=a.index(c);if(h.type.spec.isolating)return!1;let g=h.content.cutByIndex(m,h.childCount),b=n&&n[f+1];b&&(g=g.replaceChild(0,b.type.create(b.attrs)));let y=n&&n[f]||h;if(!h.canReplace(m+1,h.childCount)||!y.type.validContent(g))return!1}let u=a.indexAfter(s),l=n&&n[0];return a.node(s).canReplaceWith(u,u,l?l.type:a.node(s+1).type)}function zF(r,e,t=1,n){let a=r.doc.resolve(e),s=Ze.empty,i=Ze.empty;for(let u=a.depth,l=a.depth-t,c=t-1;u>l;u--,c--){s=Ze.from(a.node(u).copy(s));let f=n&&n[c];i=Ze.from(f?f.type.create(f.attrs,i):a.node(u).copy(i))}r.step(new Rr(e,e,new mt(s.append(i),t,t),!0))}function ja(r,e){let t=r.resolve(e),n=t.index();return L_(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(n,n+1)}function qF(r,e){e.content.size||r.type.compatibleContent(e.type);let t=r.contentMatchAt(r.childCount),{linebreakReplacement:n}=r.type.schema;for(let a=0;a<e.childCount;a++){let s=e.child(a),i=s.type==n?r.type.schema.nodes.text:s.type;if(t=t.matchType(i),!t||!r.type.allowsMarks(s.marks))return!1}return t.validEnd}function L_(r,e){return!!(r&&e&&!r.isLeaf&&qF(r,e))}function Lo(r,e,t=-1){let n=r.resolve(e);for(let a=n.depth;;a--){let s,i,u=n.index(a);if(a==n.depth?(s=n.nodeBefore,i=n.nodeAfter):t>0?(s=n.node(a+1),u++,i=n.node(a).maybeChild(u)):(s=n.node(a).maybeChild(u-1),i=n.node(a+1)),s&&!s.isTextblock&&L_(s,i)&&n.node(a).canReplace(u,u+1))return e;if(a==0)break;e=t<0?n.before(a):n.after(a)}}function jF(r,e,t){let n=null,{linebreakReplacement:a}=r.doc.type.schema,s=r.doc.resolve(e-t),i=s.node().type;if(a&&i.inlineContent){let f=i.whitespace=="pre",h=!!i.contentMatch.matchType(a);f&&!h?n=!1:!f&&h&&(n=!0)}let u=r.steps.length;if(n===!1){let f=r.doc.resolve(e+t);$_(r,f.node(),f.before(),u)}i.inlineContent&&n0(r,e+t-1,i,s.node().contentMatchAt(s.index()),n==null);let l=r.mapping.slice(u),c=l.map(e-t);if(r.step(new Rr(c,l.map(e+t,-1),mt.empty,!0)),n===!0){let f=r.doc.resolve(c);P_(r,f.node(),f.before(),r.steps.length)}return r}function HF(r,e,t){let n=r.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),t))return e;if(n.parentOffset==0)for(let a=n.depth-1;a>=0;a--){let s=n.index(a);if(n.node(a).canReplaceWith(s,s,t))return n.before(a+1);if(s>0)return null}if(n.parentOffset==n.parent.content.size)for(let a=n.depth-1;a>=0;a--){let s=n.indexAfter(a);if(n.node(a).canReplaceWith(s,s,t))return n.after(a+1);if(s<n.node(a).childCount)return null}return null}function O_(r,e,t){let n=r.resolve(e);if(!t.content.size)return e;let a=t.content;for(let s=0;s<t.openStart;s++)a=a.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let i=n.depth;i>=0;i--){let u=i==n.depth?0:n.pos<=(n.start(i+1)+n.end(i+1))/2?-1:1,l=n.index(i)+(u>0?1:0),c=n.node(i),f=!1;if(s==1)f=c.canReplace(l,l,a);else{let h=c.contentMatchAt(l).findWrapping(a.firstChild.type);f=h&&c.canReplaceWith(l,l,h[0])}if(f)return u==0?n.pos:u<0?n.before(i+1):n.after(i+1)}return null}function Hd(r,e,t=e,n=mt.empty){if(e==t&&!n.size)return null;let a=r.resolve(e),s=r.resolve(t);return B_(a,s,n)?new Rr(e,t,n):new UF(a,s,n).fit()}function B_(r,e,t){return!t.openStart&&!t.openEnd&&r.start()==e.start()&&r.parent.canReplace(r.index(),e.index(),t.content)}class UF{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=Ze.empty;for(let a=0;a<=e.depth;a++){let s=e.node(a);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(a))})}for(let a=e.depth;a>0;a--)this.placed=Ze.from(e.node(a).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,a=this.close(e<0?this.$to:n.doc.resolve(e));if(!a)return null;let s=this.placed,i=n.depth,u=a.depth;for(;i&&u&&s.childCount==1;)s=s.firstChild.content,i--,u--;let l=new mt(s,i,u);return e>-1?new Nr(n.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||n.pos!=this.$to.pos?new Rr(n.pos,a.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,a=this.unplaced.openEnd;n<e;n++){let s=t.firstChild;if(t.childCount>1&&(a=0),s.type.spec.isolating&&a<=n){e=n;break}t=s.content}for(let t=1;t<=2;t++)for(let n=t==1?e:this.unplaced.openStart;n>=0;n--){let a,s=null;n?(s=Tf(this.unplaced.content,n-1).firstChild,a=s.content):a=this.unplaced.content;let i=a.firstChild;for(let u=this.depth;u>=0;u--){let{type:l,match:c}=this.frontier[u],f,h=null;if(t==1&&(i?c.matchType(i.type)||(h=c.fillBefore(Ze.from(i),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:n,frontierDepth:u,parent:s,inject:h};if(t==2&&i&&(f=c.findWrapping(i.type)))return{sliceDepth:n,frontierDepth:u,parent:s,wrap:f};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,a=Tf(e,t);return!a.childCount||a.firstChild.isLeaf?!1:(this.unplaced=new mt(e,t+1,Math.max(n,a.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,a=Tf(e,t);if(a.childCount<=1&&t>0){let s=e.size-t<=t+a.size;this.unplaced=new mt(au(e,t-1,1),t-1,s?t-1:n)}else this.unplaced=new mt(au(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:a,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let y=0;y<s.length;y++)this.openFrontierNode(s[y]);let i=this.unplaced,u=n?n.content:i.content,l=i.openStart-e,c=0,f=[],{match:h,type:m}=this.frontier[t];if(a){for(let y=0;y<a.childCount;y++)f.push(a.child(y));h=h.matchFragment(a)}let g=u.size+e-(i.content.size-i.openEnd);for(;c<u.childCount;){let y=u.child(c),x=h.matchType(y.type);if(!x)break;c++,(c>1||l==0||y.content.size)&&(h=x,f.push(F_(y.mark(m.allowedMarks(y.marks)),c==1?l:0,c==u.childCount?g:-1)))}let b=c==u.childCount;b||(g=-1),this.placed=su(this.placed,t,Ze.from(f)),this.frontier[t].match=h,b&&g<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,x=u;y<g;y++){let k=x.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),x=k.content}this.unplaced=b?e==0?mt.empty:new mt(au(i.content,e-1,1),e-1,g<0?i.openEnd:e-1):new mt(au(i.content,e,c),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Mf(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,a=this.$to.after(n);for(;n>1&&a==this.$to.end(--n);)++a;return a}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:a}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),i=Mf(e,t,a,n,s);if(i){for(let u=t-1;u>=0;u--){let{match:l,type:c}=this.frontier[u],f=Mf(e,u,c,l,!0);if(!f||f.childCount)continue e}return{depth:t,fit:i,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=su(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let a=e.node(n),s=a.type.contentMatch.fillBefore(a.content,!0,e.index(n));this.openFrontierNode(a.type,a.attrs,s)}return e}openFrontierNode(e,t=null,n){let a=this.frontier[this.depth];a.match=a.match.matchType(e),this.placed=su(this.placed,this.depth,Ze.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(Ze.empty,!0);t.childCount&&(this.placed=su(this.placed,this.frontier.length,t))}}function au(r,e,t){return e==0?r.cutByIndex(t,r.childCount):r.replaceChild(0,r.firstChild.copy(au(r.firstChild.content,e-1,t)))}function su(r,e,t){return e==0?r.append(t):r.replaceChild(r.childCount-1,r.lastChild.copy(su(r.lastChild.content,e-1,t)))}function Tf(r,e){for(let t=0;t<e;t++)r=r.firstChild.content;return r}function F_(r,e,t){if(e<=0)return r;let n=r.content;return e>1&&(n=n.replaceChild(0,F_(n.firstChild,e-1,n.childCount==1?t-1:0))),e>0&&(n=r.type.contentMatch.fillBefore(n).append(n),t<=0&&(n=n.append(r.type.contentMatch.matchFragment(n).fillBefore(Ze.empty,!0)))),r.copy(n)}function Mf(r,e,t,n,a){let s=r.node(e),i=a?r.indexAfter(e):r.index(e);if(i==s.childCount&&!t.compatibleContent(s.type))return null;let u=n.fillBefore(s.content,!0,i);return u&&!VF(t,s.content,i)?u:null}function VF(r,e,t){for(let n=t;n<e.childCount;n++)if(!r.allowsMarks(e.child(n).marks))return!0;return!1}function WF(r){return r.spec.defining||r.spec.definingForContent}function QF(r,e,t,n){if(!n.size)return r.deleteRange(e,t);let a=r.doc.resolve(e),s=r.doc.resolve(t);if(B_(a,s,n))return r.step(new Rr(e,t,n));let i=q_(a,s);i[i.length-1]==0&&i.pop();let u=-(a.depth+1);i.unshift(u);for(let m=a.depth,g=a.pos-1;m>0;m--,g--){let b=a.node(m).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;i.indexOf(m)>-1?u=m:a.before(m)==g&&i.splice(1,0,-m)}let l=i.indexOf(u),c=[],f=n.openStart;for(let m=n.content,g=0;;g++){let b=m.firstChild;if(c.push(b),g==n.openStart)break;m=b.content}for(let m=f-1;m>=0;m--){let g=c[m],b=WF(g.type);if(b&&!g.sameMarkup(a.node(Math.abs(u)-1)))f=m;else if(b||!g.type.isTextblock)break}for(let m=n.openStart;m>=0;m--){let g=(m+f+1)%(n.openStart+1),b=c[g];if(b)for(let y=0;y<i.length;y++){let x=i[(y+l)%i.length],k=!0;x<0&&(k=!1,x=-x);let S=a.node(x-1),A=a.index(x-1);if(S.canReplaceWith(A,A,b.type,b.marks))return r.replace(a.before(x),k?s.after(x):t,new mt(z_(n.content,0,n.openStart,g),g,n.openEnd))}}let h=r.steps.length;for(let m=i.length-1;m>=0&&(r.replace(e,t,n),!(r.steps.length>h));m--){let g=i[m];g<0||(e=a.before(g),t=s.after(g))}}function z_(r,e,t,n,a){if(e<t){let s=r.firstChild;r=r.replaceChild(0,s.copy(z_(s.content,e+1,t,n,s)))}if(e>n){let s=a.contentMatchAt(0),i=s.fillBefore(r).append(r);r=i.append(s.matchFragment(i).fillBefore(Ze.empty,!0))}return r}function GF(r,e,t,n){if(!n.isInline&&e==t&&r.doc.resolve(e).parent.content.size){let a=HF(r.doc,e,n.type);a!=null&&(e=t=a)}r.replaceRange(e,t,new mt(Ze.from(n),0,0))}function KF(r,e,t){let n=r.doc.resolve(e),a=r.doc.resolve(t),s=q_(n,a);for(let i=0;i<s.length;i++){let u=s[i],l=i==s.length-1;if(l&&u==0||n.node(u).type.contentMatch.validEnd)return r.delete(n.start(u),a.end(u));if(u>0&&(l||n.node(u-1).canReplace(n.index(u-1),a.indexAfter(u-1))))return r.delete(n.before(u),a.after(u))}for(let i=1;i<=n.depth&&i<=a.depth;i++)if(e-n.start(i)==n.depth-i&&t>n.end(i)&&a.end(i)-t!=a.depth-i&&n.start(i-1)==a.start(i-1)&&n.node(i-1).canReplace(n.index(i-1),a.index(i-1)))return r.delete(n.before(i),t);r.delete(e,t)}function q_(r,e){let t=[],n=Math.min(r.depth,e.depth);for(let a=n;a>=0;a--){let s=r.start(a);if(s<r.pos-(r.depth-a)||e.end(a)>e.pos+(e.depth-a)||r.node(a).type.spec.isolating||e.node(a).type.spec.isolating)break;(s==e.start(a)||a==r.depth&&a==e.depth&&r.parent.inlineContent&&e.parent.inlineContent&&a&&e.start(a-1)==s-1)&&t.push(a)}return t}class uo extends un{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return Dr.fail("No node at attribute step's position");let n=Object.create(null);for(let s in t.attrs)n[s]=t.attrs[s];n[this.attr]=this.value;let a=t.type.create(n,null,t.marks);return Dr.fromReplace(e,this.pos,this.pos+1,new mt(Ze.from(a),0,t.isLeaf?0:1))}getMap(){return Rn.empty}invert(e){return new uo(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new uo(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new uo(t.pos,t.attr,t.value)}}un.jsonID("attr",uo);class $u extends un{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let a in e.attrs)t[a]=e.attrs[a];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return Dr.ok(n)}getMap(){return Rn.empty}invert(e){return new $u(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new $u(t.attr,t.value)}}un.jsonID("docAttr",$u);let _o=class extends Error{};_o=function r(e){let t=Error.call(this,e);return t.__proto__=r.prototype,t};_o.prototype=Object.create(Error.prototype);_o.prototype.constructor=_o;_o.prototype.name="TransformError";class s0{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Pu}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new _o(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=mt.empty){let a=Hd(this.doc,e,t,n);return a&&this.step(a),this}replaceWith(e,t,n){return this.replace(e,t,new mt(Ze.from(n),0,0))}delete(e,t){return this.replace(e,t,mt.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return QF(this,e,t,n),this}replaceRangeWith(e,t,n){return GF(this,e,t,n),this}deleteRange(e,t){return KF(this,e,t),this}lift(e,t){return NF(this,e,t),this}join(e,t=1){return jF(this,e,t),this}wrap(e,t){return LF(this,e,t),this}setBlockType(e,t=e,n,a=null){return OF(this,e,t,n,a),this}setNodeMarkup(e,t,n=null,a){return FF(this,e,t,n,a),this}setNodeAttribute(e,t,n){return this.step(new uo(e,t,n)),this}setDocAttribute(e,t){return this.step(new $u(e,t)),this}addNodeMark(e,t){return this.step(new Ns(e,t)),this}removeNodeMark(e,t){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t instanceof Xt)t.isInSet(n.marks)&&this.step(new Ci(e,t));else{let a=n.marks,s,i=[];for(;s=t.isInSet(a);)i.push(new Ci(e,s)),a=s.removeFromSet(a);for(let u=i.length-1;u>=0;u--)this.step(i[u])}return this}split(e,t=1,n){return zF(this,e,t,n),this}addMark(e,t,n){return TF(this,e,t,n),this}removeMark(e,t,n){return MF(this,e,t,n),this}clearIncompatible(e,t,n){return n0(this,e,t,n),this}}const Rf=Object.create(null);class Tt{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new JF(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=mt.empty){let n=t.content.lastChild,a=null;for(let u=0;u<t.openEnd;u++)a=n,n=n.lastChild;let s=e.steps.length,i=this.ranges;for(let u=0;u<i.length;u++){let{$from:l,$to:c}=i[u],f=e.mapping.slice(s);e.replaceRange(f.map(l.pos),f.map(c.pos),u?mt.empty:t),u==0&&s1(e,s,(n?n.isInline:a&&a.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:i,$to:u}=a[s],l=e.mapping.slice(n),c=l.map(i.pos),f=l.map(u.pos);s?e.deleteRange(c,f):(e.replaceRangeWith(c,f,t),s1(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let a=e.parent.inlineContent?new yt(e):to(e.node(0),e.parent,e.pos,e.index(),t,n);if(a)return a;for(let s=e.depth-1;s>=0;s--){let i=t<0?to(e.node(0),e.node(s),e.before(s+1),e.index(s),t,n):to(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,n);if(i)return i}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new wn(e.node(0))}static atStart(e){return to(e,e,0,0,1)||new wn(e)}static atEnd(e){return to(e,e,e.content.size,e.childCount,-1)||new wn(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Rf[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in Rf)throw new RangeError("Duplicate use of selection JSON ID "+e);return Rf[e]=t,t.prototype.jsonID=e,t}getBookmark(){return yt.between(this.$anchor,this.$head).getBookmark()}}Tt.prototype.visible=!0;class JF{constructor(e,t){this.$from=e,this.$to=t}}let n1=!1;function a1(r){!n1&&!r.parent.inlineContent&&(n1=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+r.parent.type.name+")"))}class yt extends Tt{constructor(e,t=e){a1(e),a1(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return Tt.near(n);let a=e.resolve(t.map(this.anchor));return new yt(a.parent.inlineContent?a:n,n)}replace(e,t=mt.empty){if(super.replace(e,t),t==mt.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof yt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ud(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new yt(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let a=e.resolve(t);return new this(a,n==t?a:e.resolve(n))}static between(e,t,n){let a=e.pos-t.pos;if((!n||a)&&(n=a>=0?1:-1),!t.parent.inlineContent){let s=Tt.findFrom(t,n,!0)||Tt.findFrom(t,-n,!0);if(s)t=s.$head;else return Tt.near(t,n)}return e.parent.inlineContent||(a==0?e=t:(e=(Tt.findFrom(e,-n,!0)||Tt.findFrom(e,n,!0)).$anchor,e.pos<t.pos!=a<0&&(e=t))),new yt(e,t)}}Tt.jsonID("text",yt);class Ud{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Ud(e.map(this.anchor),e.map(this.head))}resolve(e){return yt.between(e.resolve(this.anchor),e.resolve(this.head))}}class xt extends Tt{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:a}=t.mapResult(this.anchor),s=e.resolve(a);return n?Tt.near(s):new xt(s)}content(){return new mt(Ze.from(this.node),0,0)}eq(e){return e instanceof xt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new i0(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new xt(e.resolve(t.anchor))}static create(e,t){return new xt(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}xt.prototype.visible=!1;Tt.jsonID("node",xt);class i0{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new Ud(n,n):new i0(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&xt.isSelectable(n)?new xt(t):Tt.near(t)}}class wn extends Tt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=mt.empty){if(t==mt.empty){e.delete(0,e.doc.content.size);let n=Tt.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new wn(e)}map(e){return new wn(e)}eq(e){return e instanceof wn}getBookmark(){return ZF}}Tt.jsonID("all",wn);const ZF={map(){return this},resolve(r){return new wn(r)}};function to(r,e,t,n,a,s=!1){if(e.inlineContent)return yt.create(r,t);for(let i=n-(a>0?0:1);a>0?i<e.childCount:i>=0;i+=a){let u=e.child(i);if(u.isAtom){if(!s&&xt.isSelectable(u))return xt.create(r,t-(a<0?u.nodeSize:0))}else{let l=to(r,u,t+a,a<0?u.childCount:0,a,s);if(l)return l}t+=u.nodeSize*a}return null}function s1(r,e,t){let n=r.steps.length-1;if(n<e)return;let a=r.steps[n];if(!(a instanceof Rr||a instanceof Nr))return;let s=r.mapping.maps[n],i;s.forEach((u,l,c,f)=>{i==null&&(i=f)}),r.setSelection(Tt.near(r.doc.resolve(i),t))}const i1=1,Pl=2,o1=4;class YF extends s0{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|i1)&~Pl,this.storedMarks=null,this}get selectionSet(){return(this.updated&i1)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Pl,this}ensureMarks(e){return Xt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Pl)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Pl,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Xt.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let a=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(a.text(e),!0):this.deleteSelection();{if(n==null&&(n=t),!e)return this.deleteRange(t,n);let s=this.storedMarks;if(!s){let i=this.doc.resolve(t);s=n==t?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,a.text(e,s)),!this.selection.empty&&this.selection.to==t+e.length&&this.setSelection(Tt.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=o1,this}get scrolledIntoView(){return(this.updated&o1)>0}}function u1(r,e){return!e||!r?r:r.bind(e)}class iu{constructor(e,t,n){this.name=e,this.init=u1(t.init,n),this.apply=u1(t.apply,n)}}const XF=[new iu("doc",{init(r){return r.doc||r.schema.topNodeType.createAndFill()},apply(r){return r.doc}}),new iu("selection",{init(r,e){return r.selection||Tt.atStart(e.doc)},apply(r){return r.selection}}),new iu("storedMarks",{init(r){return r.storedMarks||null},apply(r,e,t,n){return n.selection.$cursor?r.storedMarks:null}}),new iu("scrollToSelection",{init(){return 0},apply(r,e){return r.scrolledIntoView?e+1:e}})];class Nf{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=XF.slice(),t&&t.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new iu(n.key,n.spec.state,n))})}}class so{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let a=this.config.plugins[n];if(a.spec.filterTransaction&&!a.spec.filterTransaction.call(a,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),a=null;for(;;){let s=!1;for(let i=0;i<this.config.plugins.length;i++){let u=this.config.plugins[i];if(u.spec.appendTransaction){let l=a?a[i].n:0,c=a?a[i].state:this,f=l<t.length&&u.spec.appendTransaction.call(u,l?t.slice(l):t,c,n);if(f&&n.filterTransaction(f,i)){if(f.setMeta("appendedTransaction",e),!a){a=[];for(let h=0;h<this.config.plugins.length;h++)a.push(h<i?{state:n,n:t.length}:{state:this,n:0})}t.push(f),n=n.applyInner(f),s=!0}a&&(a[i]={state:n,n:t.length})}}if(!s)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new so(this.config),n=this.config.fields;for(let a=0;a<n.length;a++){let s=n[a];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new YF(this)}static create(e){let t=new Nf(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new so(t);for(let a=0;a<t.fields.length;a++)n[t.fields[a].name]=t.fields[a].init(e,n);return n}reconfigure(e){let t=new Nf(this.schema,e.plugins),n=t.fields,a=new so(t);for(let s=0;s<n.length;s++){let i=n[s].name;a[i]=this.hasOwnProperty(i)?this[i]:n[s].init(e,a)}return a}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let a=e[n],s=a.spec.state;s&&s.toJSON&&(t[n]=s.toJSON.call(a,this[a.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let a=new Nf(e.schema,e.plugins),s=new so(a);return a.fields.forEach(i=>{if(i.name=="doc")s.doc=ls.fromJSON(e.schema,t.doc);else if(i.name=="selection")s.selection=Tt.fromJSON(s.doc,t.selection);else if(i.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let u in n){let l=n[u],c=l.spec.state;if(l.key==i.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(t,u)){s[i.name]=c.fromJSON.call(l,e,t[u],s);return}}s[i.name]=i.init(e,s)}}),s}}function j_(r,e,t){for(let n in r){let a=r[n];a instanceof Function?a=a.bind(e):n=="handleDOMEvents"&&(a=j_(a,e,{})),t[n]=a}return t}class Jt{constructor(e){this.spec=e,this.props={},e.props&&j_(e.props,this,this.props),this.key=e.key?e.key.key:H_("plugin")}getState(e){return e[this.key]}}const Pf=Object.create(null);function H_(r){return r in Pf?r+"$"+ ++Pf[r]:(Pf[r]=0,r+"$")}class or{constructor(e="key"){this.key=H_(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Vd=(r,e)=>r.selection.empty?!1:(e&&e(r.tr.deleteSelection().scrollIntoView()),!0);function U_(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("backward",r):t.parentOffset>0)?null:t}const o0=(r,e,t)=>{let n=U_(r,t);if(!n)return!1;let a=l0(n);if(!a){let i=n.blockRange(),u=i&&Wi(i);return u==null?!1:(e&&e(r.tr.lift(i,u).scrollIntoView()),!0)}let s=a.nodeBefore;if(ey(r,a,e,-1))return!0;if(n.parent.content.size==0&&(yo(s,"end")||xt.isSelectable(s)))for(let i=n.depth;;i--){let u=Hd(r.doc,n.before(i),n.after(i),mt.empty);if(u&&u.slice.size<u.to-u.from){if(e){let l=r.tr.step(u);l.setSelection(yo(s,"end")?Tt.findFrom(l.doc.resolve(l.mapping.map(a.pos,-1)),-1):xt.create(l.doc,a.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(i==1||n.node(i-1).childCount>1)break}return s.isAtom&&a.depth==n.depth-1?(e&&e(r.tr.delete(a.pos-s.nodeSize,a.pos).scrollIntoView()),!0):!1},V_=(r,e,t)=>{let n=U_(r,t);if(!n)return!1;let a=l0(n);return a?Q_(r,a,e):!1},W_=(r,e,t)=>{let n=G_(r,t);if(!n)return!1;let a=f0(n);return a?Q_(r,a,e):!1};function Q_(r,e,t){let n=e.nodeBefore,a=n,s=e.pos-1;for(;!a.isTextblock;s--){if(a.type.spec.isolating)return!1;let f=a.lastChild;if(!f)return!1;a=f}let i=e.nodeAfter,u=i,l=e.pos+1;for(;!u.isTextblock;l++){if(u.type.spec.isolating)return!1;let f=u.firstChild;if(!f)return!1;u=f}let c=Hd(r.doc,s,l,mt.empty);if(!c||c.from!=s||c instanceof Rr&&c.slice.size>=l-s)return!1;if(t){let f=r.tr.step(c);f.setSelection(yt.create(f.doc,s)),t(f.scrollIntoView())}return!0}function yo(r,e,t=!1){for(let n=r;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(t&&n.childCount!=1)return!1}return!1}const u0=(r,e,t)=>{let{$head:n,empty:a}=r.selection,s=n;if(!a)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("backward",r):n.parentOffset>0)return!1;s=l0(n)}let i=s&&s.nodeBefore;return!i||!xt.isSelectable(i)?!1:(e&&e(r.tr.setSelection(xt.create(r.doc,s.pos-i.nodeSize)).scrollIntoView()),!0)};function l0(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){if(r.index(e)>0)return r.doc.resolve(r.before(e+1));if(r.node(e).type.spec.isolating)break}return null}function G_(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("forward",r):t.parentOffset<t.parent.content.size)?null:t}const c0=(r,e,t)=>{let n=G_(r,t);if(!n)return!1;let a=f0(n);if(!a)return!1;let s=a.nodeAfter;if(ey(r,a,e,1))return!0;if(n.parent.content.size==0&&(yo(s,"start")||xt.isSelectable(s))){let i=Hd(r.doc,n.before(),n.after(),mt.empty);if(i&&i.slice.size<i.to-i.from){if(e){let u=r.tr.step(i);u.setSelection(yo(s,"start")?Tt.findFrom(u.doc.resolve(u.mapping.map(a.pos)),1):xt.create(u.doc,u.mapping.map(a.pos))),e(u.scrollIntoView())}return!0}}return s.isAtom&&a.depth==n.depth-1?(e&&e(r.tr.delete(a.pos,a.pos+s.nodeSize).scrollIntoView()),!0):!1},d0=(r,e,t)=>{let{$head:n,empty:a}=r.selection,s=n;if(!a)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("forward",r):n.parentOffset<n.parent.content.size)return!1;s=f0(n)}let i=s&&s.nodeAfter;return!i||!xt.isSelectable(i)?!1:(e&&e(r.tr.setSelection(xt.create(r.doc,s.pos)).scrollIntoView()),!0)};function f0(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){let t=r.node(e);if(r.index(e)+1<t.childCount)return r.doc.resolve(r.after(e+1));if(t.type.spec.isolating)break}return null}const K_=(r,e)=>{let t=r.selection,n=t instanceof xt,a;if(n){if(t.node.isTextblock||!ja(r.doc,t.from))return!1;a=t.from}else if(a=Lo(r.doc,t.from,-1),a==null)return!1;if(e){let s=r.tr.join(a);n&&s.setSelection(xt.create(s.doc,a-r.doc.resolve(a).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},J_=(r,e)=>{let t=r.selection,n;if(t instanceof xt){if(t.node.isTextblock||!ja(r.doc,t.to))return!1;n=t.to}else if(n=Lo(r.doc,t.to,1),n==null)return!1;return e&&e(r.tr.join(n).scrollIntoView()),!0},Z_=(r,e)=>{let{$from:t,$to:n}=r.selection,a=t.blockRange(n),s=a&&Wi(a);return s==null?!1:(e&&e(r.tr.lift(a,s).scrollIntoView()),!0)},h0=(r,e)=>{let{$head:t,$anchor:n}=r.selection;return!t.parent.type.spec.code||!t.sameParent(n)?!1:(e&&e(r.tr.insertText(`
`).scrollIntoView()),!0)};function p0(r){for(let e=0;e<r.edgeCount;e++){let{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const Y_=(r,e)=>{let{$head:t,$anchor:n}=r.selection;if(!t.parent.type.spec.code||!t.sameParent(n))return!1;let a=t.node(-1),s=t.indexAfter(-1),i=p0(a.contentMatchAt(s));if(!i||!a.canReplaceWith(s,s,i))return!1;if(e){let u=t.after(),l=r.tr.replaceWith(u,u,i.createAndFill());l.setSelection(Tt.near(l.doc.resolve(u),1)),e(l.scrollIntoView())}return!0},v0=(r,e)=>{let t=r.selection,{$from:n,$to:a}=t;if(t instanceof wn||n.parent.inlineContent||a.parent.inlineContent)return!1;let s=p0(a.parent.contentMatchAt(a.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let i=(!n.parentOffset&&a.index()<a.parent.childCount?n:a).pos,u=r.tr.insert(i,s.createAndFill());u.setSelection(yt.create(u.doc,i+1)),e(u.scrollIntoView())}return!0},m0=(r,e)=>{let{$cursor:t}=r.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(On(r.doc,s))return e&&e(r.tr.split(s).scrollIntoView()),!0}let n=t.blockRange(),a=n&&Wi(n);return a==null?!1:(e&&e(r.tr.lift(n,a).scrollIntoView()),!0)};function ez(r){return(e,t)=>{let{$from:n,$to:a}=e.selection;if(e.selection instanceof xt&&e.selection.node.isBlock)return!n.parentOffset||!On(e.doc,n.pos)?!1:(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let s=[],i,u,l=!1,c=!1;for(let g=n.depth;;g--)if(n.node(g).isBlock){l=n.end(g)==n.pos+(n.depth-g),c=n.start(g)==n.pos-(n.depth-g),u=p0(n.node(g-1).contentMatchAt(n.indexAfter(g-1))),s.unshift(l&&u?{type:u}:null),i=g;break}else{if(g==1)return!1;s.unshift(null)}let f=e.tr;(e.selection instanceof yt||e.selection instanceof wn)&&f.deleteSelection();let h=f.mapping.map(n.pos),m=On(f.doc,h,s.length,s);if(m||(s[0]=u?{type:u}:null,m=On(f.doc,h,s.length,s)),!m)return!1;if(f.split(h,s.length,s),!l&&c&&n.node(i).type!=u){let g=f.mapping.map(n.before(i)),b=f.doc.resolve(g);u&&n.node(i-1).canReplaceWith(b.index(),b.index()+1,u)&&f.setNodeMarkup(f.mapping.map(n.before(i)),u)}return t&&t(f.scrollIntoView()),!0}}const tz=ez(),X_=(r,e)=>{let{$from:t,to:n}=r.selection,a,s=t.sharedDepth(n);return s==0?!1:(a=t.before(s),e&&e(r.tr.setSelection(xt.create(r.doc,a))),!0)};function rz(r,e,t){let n=e.nodeBefore,a=e.nodeAfter,s=e.index();return!n||!a||!n.type.compatibleContent(a.type)?!1:!n.content.size&&e.parent.canReplace(s-1,s)?(t&&t(r.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(a.isTextblock||ja(r.doc,e.pos))?!1:(t&&t(r.tr.join(e.pos).scrollIntoView()),!0)}function ey(r,e,t,n){let a=e.nodeBefore,s=e.nodeAfter,i,u,l=a.type.spec.isolating||s.type.spec.isolating;if(!l&&rz(r,e,t))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(i=(u=a.contentMatchAt(a.childCount)).findWrapping(s.type))&&u.matchType(i[0]||s.type).validEnd){if(t){let g=e.pos+s.nodeSize,b=Ze.empty;for(let k=i.length-1;k>=0;k--)b=Ze.from(i[k].create(null,b));b=Ze.from(a.copy(b));let y=r.tr.step(new Nr(e.pos-1,g,e.pos,g,new mt(b,1,0),i.length,!0)),x=y.doc.resolve(g+2*i.length);x.nodeAfter&&x.nodeAfter.type==a.type&&ja(y.doc,x.pos)&&y.join(x.pos),t(y.scrollIntoView())}return!0}let f=s.type.spec.isolating||n>0&&l?null:Tt.findFrom(e,1),h=f&&f.$from.blockRange(f.$to),m=h&&Wi(h);if(m!=null&&m>=e.depth)return t&&t(r.tr.lift(h,m).scrollIntoView()),!0;if(c&&yo(s,"start",!0)&&yo(a,"end")){let g=a,b=[];for(;b.push(g),!g.isTextblock;)g=g.lastChild;let y=s,x=1;for(;!y.isTextblock;y=y.firstChild)x++;if(g.canReplace(g.childCount,g.childCount,y.content)){if(t){let k=Ze.empty;for(let A=b.length-1;A>=0;A--)k=Ze.from(b[A].copy(k));let S=r.tr.step(new Nr(e.pos-b.length,e.pos+s.nodeSize,e.pos+x,e.pos+s.nodeSize-x,new mt(k,b.length,0),0,!0));t(S.scrollIntoView())}return!0}}return!1}function ty(r){return function(e,t){let n=e.selection,a=r<0?n.$from:n.$to,s=a.depth;for(;a.node(s).isInline;){if(!s)return!1;s--}return a.node(s).isTextblock?(t&&t(e.tr.setSelection(yt.create(e.doc,r<0?a.start(s):a.end(s)))),!0):!1}}const ry=ty(-1),ny=ty(1);function ay(r,e=null){return function(t,n){let{$from:a,$to:s}=t.selection,i=a.blockRange(s),u=i&&a0(i,r,e);return u?(n&&n(t.tr.wrap(i,u).scrollIntoView()),!0):!1}}function xc(r,e=null){return function(t,n){let a=!1;for(let s=0;s<t.selection.ranges.length&&!a;s++){let{$from:{pos:i},$to:{pos:u}}=t.selection.ranges[s];t.doc.nodesBetween(i,u,(l,c)=>{if(a)return!1;if(!(!l.isTextblock||l.hasMarkup(r,e)))if(l.type==r)a=!0;else{let f=t.doc.resolve(c),h=f.index();a=f.parent.canReplaceWith(h,h+1,r)}})}if(!a)return!1;if(n){let s=t.tr;for(let i=0;i<t.selection.ranges.length;i++){let{$from:{pos:u},$to:{pos:l}}=t.selection.ranges[i];s.setBlockType(u,l,r,e)}n(s.scrollIntoView())}return!0}}function g0(...r){return function(e,t,n){for(let a=0;a<r.length;a++)if(r[a](e,t,n))return!0;return!1}}g0(Vd,o0,u0);g0(Vd,c0,d0);g0(h0,v0,m0,tz);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function sy(r,e=null){return function(t,n){let{$from:a,$to:s}=t.selection,i=a.blockRange(s);if(!i)return!1;let u=n?t.tr:null;return nz(u,i,r,e)?(n&&n(u.scrollIntoView()),!0):!1}}function nz(r,e,t,n=null){let a=!1,s=e,i=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=i.resolve(e.start-2);s=new _c(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new _c(e.$from,i.resolve(e.$to.end(e.depth)),e.depth)),a=!0}let u=a0(s,t,n,e);return u?(r&&az(r,e,u,a,t),!0):!1}function az(r,e,t,n,a){let s=Ze.empty;for(let f=t.length-1;f>=0;f--)s=Ze.from(t[f].type.create(t[f].attrs,s));r.step(new Nr(e.start-(n?2:0),e.end,e.start,e.end,new mt(s,0,0),t.length,!0));let i=0;for(let f=0;f<t.length;f++)t[f].type==a&&(i=f+1);let u=t.length-i,l=e.start+t.length-(n?2:0),c=e.parent;for(let f=e.startIndex,h=e.endIndex,m=!0;f<h;f++,m=!1)!m&&On(r.doc,l,u)&&(r.split(l,u),l+=2*u),l+=c.child(f).nodeSize;return r}function iy(r){return function(e,t){let{$from:n,$to:a}=e.selection,s=n.blockRange(a,i=>i.childCount>0&&i.firstChild.type==r);return s?t?n.node(s.depth-1).type==r?sz(e,t,r,s):iz(e,t,s):!0:!1}}function sz(r,e,t,n){let a=r.tr,s=n.end,i=n.$to.end(n.depth);s<i&&(a.step(new Nr(s-1,i,s,i,new mt(Ze.from(t.create(null,n.parent.copy())),1,0),1,!0)),n=new _c(a.doc.resolve(n.$from.pos),a.doc.resolve(i),n.depth));const u=Wi(n);if(u==null)return!1;a.lift(n,u);let l=a.doc.resolve(a.mapping.map(s,-1)-1);return ja(a.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&a.join(l.pos),e(a.scrollIntoView()),!0}function iz(r,e,t){let n=r.tr,a=t.parent;for(let g=t.end,b=t.endIndex-1,y=t.startIndex;b>y;b--)g-=a.child(b).nodeSize,n.delete(g-1,g+1);let s=n.doc.resolve(t.start),i=s.nodeAfter;if(n.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let u=t.startIndex==0,l=t.endIndex==a.childCount,c=s.node(-1),f=s.index(-1);if(!c.canReplace(f+(u?0:1),f+1,i.content.append(l?Ze.empty:Ze.from(a))))return!1;let h=s.pos,m=h+i.nodeSize;return n.step(new Nr(h-(u?1:0),m+(l?1:0),h+1,m-1,new mt((u?Ze.empty:Ze.from(a.copy(Ze.empty))).append(l?Ze.empty:Ze.from(a.copy(Ze.empty))),u?0:1,l?0:1),u?0:1)),e(n.scrollIntoView()),!0}function oy(r){return function(e,t){let{$from:n,$to:a}=e.selection,s=n.blockRange(a,c=>c.childCount>0&&c.firstChild.type==r);if(!s)return!1;let i=s.startIndex;if(i==0)return!1;let u=s.parent,l=u.child(i-1);if(l.type!=r)return!1;if(t){let c=l.lastChild&&l.lastChild.type==u.type,f=Ze.from(c?r.create():null),h=new mt(Ze.from(r.create(null,Ze.from(u.type.create(null,f)))),c?3:1,0),m=s.start,g=s.end;t(e.tr.step(new Nr(m-(c?3:1),g,m,g,h,1,!0)).scrollIntoView())}return!0}}const Qr=function(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e},xo=function(r){let e=r.assignedSlot||r.parentNode;return e&&e.nodeType==11?e.host:e};let Bh=null;const Xa=function(r,e,t){let n=Bh||(Bh=document.createRange());return n.setEnd(r,t??r.nodeValue.length),n.setStart(r,e||0),n},oz=function(){Bh=null},Ii=function(r,e,t,n){return t&&(l1(r,e,t,n,-1)||l1(r,e,t,n,1))},uz=/^(img|br|input|textarea|hr)$/i;function l1(r,e,t,n,a){for(var s;;){if(r==t&&e==n)return!0;if(e==(a<0?0:Qn(r))){let i=r.parentNode;if(!i||i.nodeType!=1||fl(r)||uz.test(r.nodeName)||r.contentEditable=="false")return!1;e=Qr(r)+(a<0?0:1),r=i}else if(r.nodeType==1){let i=r.childNodes[e+(a<0?-1:0)];if(i.nodeType==1&&i.contentEditable=="false")if(!((s=i.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=a;else return!1;else r=i,e=a<0?Qn(r):0}else return!1}}function Qn(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function lz(r,e){for(;;){if(r.nodeType==3&&e)return r;if(r.nodeType==1&&e>0){if(r.contentEditable=="false")return null;r=r.childNodes[e-1],e=Qn(r)}else if(r.parentNode&&!fl(r))e=Qr(r),r=r.parentNode;else return null}}function cz(r,e){for(;;){if(r.nodeType==3&&e<r.nodeValue.length)return r;if(r.nodeType==1&&e<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[e],e=0}else if(r.parentNode&&!fl(r))e=Qr(r)+1,r=r.parentNode;else return null}}function dz(r,e,t){for(let n=e==0,a=e==Qn(r);n||a;){if(r==t)return!0;let s=Qr(r);if(r=r.parentNode,!r)return!1;n=n&&s==0,a=a&&s==Qn(r)}}function fl(r){let e;for(let t=r;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==r||e.contentDOM==r)}const Wd=function(r){return r.focusNode&&Ii(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)};function ai(r,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=r,t.key=t.code=e,t}function fz(r){let e=r.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function hz(r,e,t){if(r.caretPositionFromPoint)try{let n=r.caretPositionFromPoint(e,t);if(n)return{node:n.offsetNode,offset:Math.min(Qn(n.offsetNode),n.offset)}}catch{}if(r.caretRangeFromPoint){let n=r.caretRangeFromPoint(e,t);if(n)return{node:n.startContainer,offset:Math.min(Qn(n.startContainer),n.startOffset)}}}const za=typeof navigator<"u"?navigator:null,c1=typeof document<"u"?document:null,Zs=za&&za.userAgent||"",Fh=/Edge\/(\d+)/.exec(Zs),uy=/MSIE \d/.exec(Zs),zh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Zs),kn=!!(uy||zh||Fh),Fs=uy?document.documentMode:zh?+zh[1]:Fh?+Fh[1]:0,Xn=!kn&&/gecko\/(\d+)/i.test(Zs);Xn&&+(/Firefox\/(\d+)/.exec(Zs)||[0,0])[1];const qh=!kn&&/Chrome\/(\d+)/.exec(Zs),zr=!!qh,ly=qh?+qh[1]:0,an=!kn&&!!za&&/Apple Computer/.test(za.vendor),wo=an&&(/Mobile\/\w+/.test(Zs)||!!za&&za.maxTouchPoints>2),Vn=wo||(za?/Mac/.test(za.platform):!1),cy=za?/Win/.test(za.platform):!1,ns=/Android \d/.test(Zs),hl=!!c1&&"webkitFontSmoothing"in c1.documentElement.style,pz=hl?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function vz(r){let e=r.defaultView&&r.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.documentElement.clientWidth,top:0,bottom:r.documentElement.clientHeight}}function Wa(r,e){return typeof r=="number"?r:r[e]}function mz(r){let e=r.getBoundingClientRect(),t=e.width/r.offsetWidth||1,n=e.height/r.offsetHeight||1;return{left:e.left,right:e.left+r.clientWidth*t,top:e.top,bottom:e.top+r.clientHeight*n}}function d1(r,e,t){let n=r.someProp("scrollThreshold")||0,a=r.someProp("scrollMargin")||5,s=r.dom.ownerDocument;for(let i=t||r.dom;i;){if(i.nodeType!=1){i=xo(i);continue}let u=i,l=u==s.body,c=l?vz(s):mz(u),f=0,h=0;if(e.top<c.top+Wa(n,"top")?h=-(c.top-e.top+Wa(a,"top")):e.bottom>c.bottom-Wa(n,"bottom")&&(h=e.bottom-e.top>c.bottom-c.top?e.top+Wa(a,"top")-c.top:e.bottom-c.bottom+Wa(a,"bottom")),e.left<c.left+Wa(n,"left")?f=-(c.left-e.left+Wa(a,"left")):e.right>c.right-Wa(n,"right")&&(f=e.right-c.right+Wa(a,"right")),f||h)if(l)s.defaultView.scrollBy(f,h);else{let g=u.scrollLeft,b=u.scrollTop;h&&(u.scrollTop+=h),f&&(u.scrollLeft+=f);let y=u.scrollLeft-g,x=u.scrollTop-b;e={left:e.left-y,top:e.top-x,right:e.right-y,bottom:e.bottom-x}}let m=l?"fixed":getComputedStyle(i).position;if(/^(fixed|sticky)$/.test(m))break;i=m=="absolute"?i.offsetParent:xo(i)}}function gz(r){let e=r.dom.getBoundingClientRect(),t=Math.max(0,e.top),n,a;for(let s=(e.left+e.right)/2,i=t+1;i<Math.min(innerHeight,e.bottom);i+=5){let u=r.root.elementFromPoint(s,i);if(!u||u==r.dom||!r.dom.contains(u))continue;let l=u.getBoundingClientRect();if(l.top>=t-20){n=u,a=l.top;break}}return{refDOM:n,refTop:a,stack:dy(r.dom)}}function dy(r){let e=[],t=r.ownerDocument;for(let n=r;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),r!=t);n=xo(n));return e}function bz({refDOM:r,refTop:e,stack:t}){let n=r?r.getBoundingClientRect().top:0;fy(t,n==0?0:n-e)}function fy(r,e){for(let t=0;t<r.length;t++){let{dom:n,top:a,left:s}=r[t];n.scrollTop!=a+e&&(n.scrollTop=a+e),n.scrollLeft!=s&&(n.scrollLeft=s)}}let Zi=null;function _z(r){if(r.setActive)return r.setActive();if(Zi)return r.focus(Zi);let e=dy(r);r.focus(Zi==null?{get preventScroll(){return Zi={preventScroll:!0},!0}}:void 0),Zi||(Zi=!1,fy(e,0))}function hy(r,e){let t,n=2e8,a,s=0,i=e.top,u=e.top,l,c;for(let f=r.firstChild,h=0;f;f=f.nextSibling,h++){let m;if(f.nodeType==1)m=f.getClientRects();else if(f.nodeType==3)m=Xa(f).getClientRects();else continue;for(let g=0;g<m.length;g++){let b=m[g];if(b.top<=i&&b.bottom>=u){i=Math.max(b.bottom,i),u=Math.min(b.top,u);let y=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(y<n){t=f,n=y,a=y&&t.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,f.nodeType==1&&y&&(s=h+(e.left>=(b.left+b.right)/2?1:0));continue}}else b.top>e.top&&!l&&b.left<=e.left&&b.right>=e.left&&(l=f,c={left:Math.max(b.left,Math.min(b.right,e.left)),top:b.top});!t&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(s=h+1)}}return!t&&l&&(t=l,a=c,n=0),t&&t.nodeType==3?yz(t,a):!t||n&&t.nodeType==1?{node:r,offset:s}:hy(t,a)}function yz(r,e){let t=r.nodeValue.length,n=document.createRange(),a;for(let s=0;s<t;s++){n.setEnd(r,s+1),n.setStart(r,s);let i=ys(n,1);if(i.top!=i.bottom&&b0(e,i)){a={node:r,offset:s+(e.left>=(i.left+i.right)/2?1:0)};break}}return n.detach(),a||{node:r,offset:0}}function b0(r,e){return r.left>=e.left-1&&r.left<=e.right+1&&r.top>=e.top-1&&r.top<=e.bottom+1}function xz(r,e){let t=r.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<r.getBoundingClientRect().left?t:r}function wz(r,e,t){let{node:n,offset:a}=hy(e,t),s=-1;if(n.nodeType==1&&!n.firstChild){let i=n.getBoundingClientRect();s=i.left!=i.right&&t.left>(i.left+i.right)/2?1:-1}return r.docView.posFromDOM(n,a,s)}function kz(r,e,t,n){let a=-1;for(let s=e,i=!1;s!=r.dom;){let u=r.docView.nearestDesc(s,!0),l;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((l=u.dom.getBoundingClientRect()).width||l.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!i&&l.left>n.left||l.top>n.top?a=u.posBefore:(!i&&l.right<n.left||l.bottom<n.top)&&(a=u.posAfter),i=!0),!u.contentDOM&&a<0&&!u.node.isText))return(u.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?u.posBefore:u.posAfter;s=u.dom.parentNode}return a>-1?a:r.docView.posFromDOM(e,t,-1)}function py(r,e,t){let n=r.childNodes.length;if(n&&t.top<t.bottom)for(let a=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-t.top)/(t.bottom-t.top))-2)),s=a;;){let i=r.childNodes[s];if(i.nodeType==1){let u=i.getClientRects();for(let l=0;l<u.length;l++){let c=u[l];if(b0(e,c))return py(i,e,c)}}if((s=(s+1)%n)==a)break}return r}function Ez(r,e){let t=r.dom.ownerDocument,n,a=0,s=hz(t,e.left,e.top);s&&({node:n,offset:a}=s);let i=(r.root.elementFromPoint?r.root:t).elementFromPoint(e.left,e.top),u;if(!i||!r.dom.contains(i.nodeType!=1?i.parentNode:i)){let c=r.dom.getBoundingClientRect();if(!b0(e,c)||(i=py(r.dom,e,c),!i))return null}if(an)for(let c=i;n&&c;c=xo(c))c.draggable&&(n=void 0);if(i=xz(i,e),n){if(Xn&&n.nodeType==1&&(a=Math.min(a,n.childNodes.length),a<n.childNodes.length)){let f=n.childNodes[a],h;f.nodeName=="IMG"&&(h=f.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&a++}let c;hl&&a&&n.nodeType==1&&(c=n.childNodes[a-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&a--,n==r.dom&&a==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?u=r.state.doc.content.size:(a==0||n.nodeType!=1||n.childNodes[a-1].nodeName!="BR")&&(u=kz(r,n,a,e))}u==null&&(u=wz(r,i,e));let l=r.docView.nearestDesc(i,!0);return{pos:u,inside:l?l.posAtStart-l.border:-1}}function f1(r){return r.top<r.bottom||r.left<r.right}function ys(r,e){let t=r.getClientRects();if(t.length){let n=t[e<0?0:t.length-1];if(f1(n))return n}return Array.prototype.find.call(t,f1)||r.getBoundingClientRect()}const Sz=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function vy(r,e,t){let{node:n,offset:a,atom:s}=r.docView.domFromPos(e,t<0?-1:1),i=hl||Xn;if(n.nodeType==3)if(i&&(Sz.test(n.nodeValue)||(t<0?!a:a==n.nodeValue.length))){let l=ys(Xa(n,a,a),t);if(Xn&&a&&/\s/.test(n.nodeValue[a-1])&&a<n.nodeValue.length){let c=ys(Xa(n,a-1,a-1),-1);if(c.top==l.top){let f=ys(Xa(n,a,a+1),-1);if(f.top!=l.top)return Ko(f,f.left<c.left)}}return l}else{let l=a,c=a,f=t<0?1:-1;return t<0&&!a?(c++,f=-1):t>=0&&a==n.nodeValue.length?(l--,f=1):t<0?l--:c++,Ko(ys(Xa(n,l,c),f),f<0)}if(!r.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&a&&(t<0||a==Qn(n))){let l=n.childNodes[a-1];if(l.nodeType==1)return $f(l.getBoundingClientRect(),!1)}if(s==null&&a<Qn(n)){let l=n.childNodes[a];if(l.nodeType==1)return $f(l.getBoundingClientRect(),!0)}return $f(n.getBoundingClientRect(),t>=0)}if(s==null&&a&&(t<0||a==Qn(n))){let l=n.childNodes[a-1],c=l.nodeType==3?Xa(l,Qn(l)-(i?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Ko(ys(c,1),!1)}if(s==null&&a<Qn(n)){let l=n.childNodes[a];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Xa(l,0,i?0:1):l.nodeType==1?l:null:null;if(c)return Ko(ys(c,-1),!0)}return Ko(ys(n.nodeType==3?Xa(n):n,-t),t>=0)}function Ko(r,e){if(r.width==0)return r;let t=e?r.left:r.right;return{top:r.top,bottom:r.bottom,left:t,right:t}}function $f(r,e){if(r.height==0)return r;let t=e?r.top:r.bottom;return{top:t,bottom:t,left:r.left,right:r.right}}function my(r,e,t){let n=r.state,a=r.root.activeElement;n!=e&&r.updateState(e),a!=r.dom&&r.focus();try{return t()}finally{n!=e&&r.updateState(n),a!=r.dom&&a&&a.focus()}}function Az(r,e,t){let n=e.selection,a=t=="up"?n.$from:n.$to;return my(r,e,()=>{let{node:s}=r.docView.domFromPos(a.pos,t=="up"?-1:1);for(;;){let u=r.docView.nearestDesc(s,!0);if(!u)break;if(u.node.isBlock){s=u.contentDOM||u.dom;break}s=u.dom.parentNode}let i=vy(r,a.pos,1);for(let u=s.firstChild;u;u=u.nextSibling){let l;if(u.nodeType==1)l=u.getClientRects();else if(u.nodeType==3)l=Xa(u,0,u.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let f=l[c];if(f.bottom>f.top+1&&(t=="up"?i.top-f.top>(f.bottom-i.top)*2:f.bottom-i.bottom>(i.bottom-f.top)*2))return!1}}return!0})}const Dz=/[\u0590-\u08ac]/;function Cz(r,e,t){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let a=n.parentOffset,s=!a,i=a==n.parent.content.size,u=r.domSelection();return u?!Dz.test(n.parent.textContent)||!u.modify?t=="left"||t=="backward"?s:i:my(r,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:f,anchorOffset:h}=r.domSelectionRange(),m=u.caretBidiLevel;u.modify("move",t,"character");let g=n.depth?r.docView.domAfterPos(n.before()):r.dom,{focusNode:b,focusOffset:y}=r.domSelectionRange(),x=b&&!g.contains(b.nodeType==1?b:b.parentNode)||l==b&&c==y;try{u.collapse(f,h),l&&(l!=f||c!=h)&&u.extend&&u.extend(l,c)}catch{}return m!=null&&(u.caretBidiLevel=m),x}):n.pos==n.start()||n.pos==n.end()}let h1=null,p1=null,v1=!1;function Iz(r,e,t){return h1==e&&p1==t?v1:(h1=e,p1=t,v1=t=="up"||t=="down"?Az(r,e,t):Cz(r,e,t))}const ea=0,m1=1,ui=2,qa=3;class pl{constructor(e,t,n,a){this.parent=e,this.children=t,this.dom=n,this.contentDOM=a,this.dirty=ea,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let a=this.children[t];if(a==e)return n;n+=a.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let s,i;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((i=s.pmViewDesc)&&i.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(i)+i.size:this.posAtStart}else{let s,i;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((i=s.pmViewDesc)&&i.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(i):this.posAtEnd}let a;if(e==this.dom&&this.contentDOM)a=t>Qr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){a=!1;break}if(s.previousSibling)break}if(a==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){a=!0;break}if(s.nextSibling)break}}return a??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,a=e;a;a=a.parentNode){let s=this.getDesc(a),i;if(s&&(!t||s.node))if(n&&(i=s.nodeDOM)&&!(i.nodeType==1?i.contains(e.nodeType==1?e:e.parentNode):i==e))n=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let a=e;a;a=a.parentNode){let s=this.getDesc(a);if(s)return s.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let a=this.children[t],s=n+a.size;if(n==e&&s!=n){for(;!a.border&&a.children.length;)for(let i=0;i<a.children.length;i++){let u=a.children[i];if(u.size){a=u;break}}return a}if(e<s)return a.descAt(e-n-a.border);n=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,a=0;for(let s=0;n<this.children.length;n++){let i=this.children[n],u=s+i.size;if(u>e||i instanceof by){a=e-s;break}s=u}if(a)return this.children[n].domFromPos(a-this.children[n].border,t);for(let s;n&&!(s=this.children[n-1]).size&&s instanceof gy&&s.side>=0;n--);if(t<=0){let s,i=!0;for(;s=n?this.children[n-1]:null,!(!s||s.dom.parentNode==this.contentDOM);n--,i=!1);return s&&t&&i&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?Qr(s.dom)+1:0}}else{let s,i=!0;for(;s=n<this.children.length?this.children[n]:null,!(!s||s.dom.parentNode==this.contentDOM);n++,i=!1);return s&&i&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?Qr(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let a=-1,s=-1;for(let i=n,u=0;;u++){let l=this.children[u],c=i+l.size;if(a==-1&&e<=c){let f=i+l.border;if(e>=f&&t<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,f);e=i;for(let h=u;h>0;h--){let m=this.children[h-1];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(1)){a=Qr(m.dom)+1;break}e-=m.size}a==-1&&(a=0)}if(a>-1&&(c>t||u==this.children.length-1)){t=c;for(let f=u+1;f<this.children.length;f++){let h=this.children[f];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){s=Qr(h.dom);break}t+=h.size}s==-1&&(s=this.contentDOM.childNodes.length);break}i=c}return{node:this.contentDOM,from:e,to:t,fromOffset:a,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(t.nodeType!=1||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,a=!1){let s=Math.min(e,t),i=Math.max(e,t);for(let g=0,b=0;g<this.children.length;g++){let y=this.children[g],x=b+y.size;if(s>b&&i<x)return y.setSelection(e-b-y.border,t-b-y.border,n,a);b=x}let u=this.domFromPos(e,e?-1:1),l=t==e?u:this.domFromPos(t,t?-1:1),c=n.root.getSelection(),f=n.domSelectionRange(),h=!1;if((Xn||an)&&e==t){let{node:g,offset:b}=u;if(g.nodeType==3){if(h=!!(b&&g.nodeValue[b-1]==`
`),h&&b==g.nodeValue.length)for(let y=g,x;y;y=y.parentNode){if(x=y.nextSibling){x.nodeName=="BR"&&(u=l={node:x.parentNode,offset:Qr(x)+1});break}let k=y.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let y=g.childNodes[b-1];h=y&&(y.nodeName=="BR"||y.contentEditable=="false")}}if(Xn&&f.focusNode&&f.focusNode!=l.node&&f.focusNode.nodeType==1){let g=f.focusNode.childNodes[f.focusOffset];g&&g.contentEditable=="false"&&(a=!0)}if(!(a||h&&an)&&Ii(u.node,u.offset,f.anchorNode,f.anchorOffset)&&Ii(l.node,l.offset,f.focusNode,f.focusOffset))return;let m=!1;if((c.extend||e==t)&&!(h&&Xn)){c.collapse(u.node,u.offset);try{e!=t&&c.extend(l.node,l.offset),m=!0}catch{}}if(!m){if(e>t){let b=u;u=l,l=b}let g=document.createRange();g.setEnd(l.node,l.offset),g.setStart(u.node,u.offset),c.removeAllRanges(),c.addRange(g)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,a=0;a<this.children.length;a++){let s=this.children[a],i=n+s.size;if(n==i?e<=i&&t>=n:e<i&&t>n){let u=n+s.border,l=i-s.border;if(e>=u&&t<=l){this.dirty=e==n||t==i?ui:m1,e==u&&t==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=qa:s.markDirty(e-u,t-u);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?ui:qa}n=i}this.dirty=ui}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=e==1?ui:m1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class gy extends pl{constructor(e,t,n,a){let s,i=t.type.toDOM;if(typeof i=="function"&&(i=i(n,()=>{if(!s)return a;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(i.nodeType!=1){let u=document.createElement("span");u.appendChild(i),i=u}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(e,[],i,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==ea&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Tz extends pl{constructor(e,t,n,a){super(e,[],t,null),this.textDOM=n,this.text=a}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ti extends pl{constructor(e,t,n,a,s){super(e,[],n,a),this.mark=t,this.spec=s}static create(e,t,n,a){let s=a.nodeViews[t.type.name],i=s&&s(t,a,n);return(!i||!i.dom)&&(i=Vi.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new Ti(e,t,i.dom,i.contentDOM||i.dom,i)}parseRule(){return this.dirty&qa||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=qa&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=ea){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=ea}}slice(e,t,n){let a=Ti.create(this.parent,this.mark,!0,n),s=this.children,i=this.size;t<i&&(s=Hh(s,t,i,n)),e>0&&(s=Hh(s,0,e,n));for(let u=0;u<s.length;u++)s[u].parent=a;return a.children=s,a}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class zs extends pl{constructor(e,t,n,a,s,i,u,l,c){super(e,[],s,i),this.node=t,this.outerDeco=n,this.innerDeco=a,this.nodeDOM=u}static create(e,t,n,a,s,i){let u=s.nodeViews[t.type.name],l,c=u&&u(t,s,()=>{if(!l)return i;if(l.parent)return l.parent.posBeforeChild(l)},n,a),f=c&&c.dom,h=c&&c.contentDOM;if(t.isText){if(!f)f=document.createTextNode(t.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:h}=Vi.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!h&&!t.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),t.type.spec.draggable&&(f.draggable=!0));let m=f;return f=xy(f,n,t),c?l=new Mz(e,t,n,a,f,h||null,m,c,s,i+1):t.isText?new Qd(e,t,n,a,f,m,s):new zs(e,t,n,a,f,h||null,m,s,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Ze.empty)}return e}matchesNode(e,t,n){return this.dirty==ea&&e.eq(this.node)&&wc(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,a=t,s=e.composing?this.localCompositionInfo(e,t):null,i=s&&s.pos>-1?s:null,u=s&&s.pos<0,l=new Nz(this,i&&i.node,e);Lz(this.node,this.innerDeco,(c,f,h)=>{c.spec.marks?l.syncToMarks(c.spec.marks,n,e):c.type.side>=0&&!h&&l.syncToMarks(f==this.node.childCount?Xt.none:this.node.child(f).marks,n,e),l.placeWidget(c,e,a)},(c,f,h,m)=>{l.syncToMarks(c.marks,n,e);let g;l.findNodeMatch(c,f,h,m)||u&&e.state.selection.from>a&&e.state.selection.to<a+c.nodeSize&&(g=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,f,h,g,e)||l.updateNextNode(c,f,h,e,m,a)||l.addNode(c,f,h,e,a),a+=c.nodeSize}),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==ui)&&(i&&this.protectLocalComposition(e,i),_y(this.contentDOM,this.children,e),wo&&Oz(this.dom))}localCompositionInfo(e,t){let{from:n,to:a}=e.state.selection;if(!(e.state.selection instanceof yt)||n<t||a>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let i=s.nodeValue,u=Bz(this.node.content,i,n-t,a-t);return u<0?null:{node:s,pos:u,text:i}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:a}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let i=new Tz(this,s,t,a);e.input.compositionNodes.push(i),this.children=Hh(this.children,n,n+a.length,e,i)}update(e,t,n,a){return this.dirty==qa||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,n,a),!0)}updateInner(e,t,n,a){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(a,this.posAtStart),this.dirty=ea}updateOuterDeco(e){if(wc(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=yy(this.dom,this.nodeDOM,jh(this.outerDeco,this.node,t),jh(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function g1(r,e,t,n,a){xy(n,e,r);let s=new zs(void 0,r,e,t,n,n,n,a,0);return s.contentDOM&&s.updateChildren(a,0),s}class Qd extends zs{constructor(e,t,n,a,s,i,u){super(e,t,n,a,s,null,i,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,a){return this.dirty==qa||this.dirty!=ea&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=ea||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,a.trackWrites==this.nodeDOM&&(a.trackWrites=null)),this.node=e,this.dirty=ea,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,n){let a=this.node.cut(e,t),s=document.createTextNode(a.text);return new Qd(this.parent,a,this.outerDeco,this.innerDeco,s,s,n)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=qa)}get domAtom(){return!1}isText(e){return this.node.text==e}}class by extends pl{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==ea&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Mz extends zs{constructor(e,t,n,a,s,i,u,l,c,f){super(e,t,n,a,s,i,u,c,f),this.spec=l}update(e,t,n,a){if(this.dirty==qa)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,n);return s&&this.updateInner(e,t,n,a),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,n,a)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,a){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,a)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function _y(r,e,t){let n=r.firstChild,a=!1;for(let s=0;s<e.length;s++){let i=e[s],u=i.dom;if(u.parentNode==r){for(;u!=n;)n=b1(n),a=!0;n=n.nextSibling}else a=!0,r.insertBefore(u,n);if(i instanceof Ti){let l=n?n.previousSibling:r.lastChild;_y(i.contentDOM,i.children,t),n=l?l.nextSibling:r.firstChild}}for(;n;)n=b1(n),a=!0;a&&t.trackWrites==r&&(t.trackWrites=null)}const vu=function(r){r&&(this.nodeName=r)};vu.prototype=Object.create(null);const li=[new vu];function jh(r,e,t){if(r.length==0)return li;let n=t?li[0]:new vu,a=[n];for(let s=0;s<r.length;s++){let i=r[s].type.attrs;if(i){i.nodeName&&a.push(n=new vu(i.nodeName));for(let u in i){let l=i[u];l!=null&&(t&&a.length==1&&a.push(n=new vu(e.isInline?"span":"div")),u=="class"?n.class=(n.class?n.class+" ":"")+l:u=="style"?n.style=(n.style?n.style+";":"")+l:u!="nodeName"&&(n[u]=l))}}}return a}function yy(r,e,t,n){if(t==li&&n==li)return e;let a=e;for(let s=0;s<n.length;s++){let i=n[s],u=t[s];if(s){let l;u&&u.nodeName==i.nodeName&&a!=r&&(l=a.parentNode)&&l.nodeName.toLowerCase()==i.nodeName||(l=document.createElement(i.nodeName),l.pmIsDeco=!0,l.appendChild(a),u=li[0]),a=l}Rz(a,u||li[0],i)}return a}function Rz(r,e,t){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in t)&&r.removeAttribute(n);for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&t[n]!=e[n]&&r.setAttribute(n,t[n]);if(e.class!=t.class){let n=e.class?e.class.split(" ").filter(Boolean):[],a=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<n.length;s++)a.indexOf(n[s])==-1&&r.classList.remove(n[s]);for(let s=0;s<a.length;s++)n.indexOf(a[s])==-1&&r.classList.add(a[s]);r.classList.length==0&&r.removeAttribute("class")}if(e.style!=t.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,a;for(;a=n.exec(e.style);)r.style.removeProperty(a[1])}t.style&&(r.style.cssText+=t.style)}}function xy(r,e,t){return yy(r,r,li,jh(e,t,r.nodeType!=1))}function wc(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].type.eq(e[t].type))return!1;return!0}function b1(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class Nz{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Pz(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let a=0,s=this.stack.length>>1,i=Math.min(s,e.length);for(;a<i&&(a==s-1?this.top:this.stack[a+1<<1]).matchesMark(e[a])&&e[a].type.spec.spanning!==!1;)a++;for(;a<s;)this.destroyRest(),this.top.dirty=ea,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){u=l;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let l=Ti.create(this.top,e[s],t,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,n,a){let s=-1,i;if(a>=this.preMatch.index&&(i=this.preMatch.matches[a-this.preMatch.index]).parent==this.top&&i.matchesNode(e,t,n))s=this.top.children.indexOf(i,this.index);else for(let u=this.index,l=Math.min(this.top.children.length,u+5);u<l;u++){let c=this.top.children[u];if(c.matchesNode(e,t,n)&&!this.preMatch.matched.has(c)){s=u;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,n,a,s){let i=this.top.children[a];return i.dirty==qa&&i.dom==i.contentDOM&&(i.dirty=ui),i.update(e,t,n,s)?(this.destroyBetween(this.index,a),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let a=this.index;a<this.top.children.length;a++)if(this.top.children[a]==n)return a}return-1}e=t}}updateNextNode(e,t,n,a,s,i){for(let u=this.index;u<this.top.children.length;u++){let l=this.top.children[u];if(l instanceof zs){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let f=l.dom,h,m=this.isLocked(f)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=qa&&wc(t,l.outerDeco));if(!m&&l.update(e,t,n,a))return this.destroyBetween(this.index,u),l.dom!=f&&(this.changed=!0),this.index++,!0;if(!m&&(h=this.recreateWrapper(l,e,t,n,a,i)))return this.destroyBetween(this.index,u),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=ui,h.updateChildren(a,i+1),h.dirty=ea),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,a,s,i){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!wc(n,e.outerDeco)||!a.eq(e.innerDeco))return null;let u=zs.create(this.top,t,n,a,s,i);if(u.contentDOM){u.children=e.children,e.children=[];for(let l of u.children)l.parent=u}return e.destroy(),u}addNode(e,t,n,a,s){let i=zs.create(this.top,e,t,n,a,s);i.contentDOM&&i.updateChildren(a,s+1),this.top.children.splice(this.index++,0,i),this.changed=!0}placeWidget(e,t,n){let a=this.index<this.top.children.length?this.top.children[this.index]:null;if(a&&a.matchesWidget(e)&&(e==a.widget||!a.widget.type.toDOM.parentNode))this.index++;else{let s=new gy(this.top,e,t,n);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Ti;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Qd)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((an||zr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let a=new by(this.top,[],n,null);t!=this.top?t.children.push(a):t.children.splice(this.index++,0,a),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Pz(r,e){let t=e,n=t.children.length,a=r.childCount,s=new Map,i=[];e:for(;a>0;){let u;for(;;)if(n){let c=t.children[n-1];if(c instanceof Ti)t=c,n=c.children.length;else{u=c,n--;break}}else{if(t==e)break e;n=t.parent.children.indexOf(t),t=t.parent}let l=u.node;if(l){if(l!=r.child(a-1))break;--a,s.set(u,a),i.push(u)}}return{index:a,matched:s,matches:i.reverse()}}function $z(r,e){return r.type.side-e.type.side}function Lz(r,e,t,n){let a=e.locals(r),s=0;if(a.length==0){for(let c=0;c<r.childCount;c++){let f=r.child(c);n(f,a,e.forChild(s,f),c),s+=f.nodeSize}return}let i=0,u=[],l=null;for(let c=0;;){let f,h;for(;i<a.length&&a[i].to==s;){let x=a[i++];x.widget&&(f?(h||(h=[f])).push(x):f=x)}if(f)if(h){h.sort($z);for(let x=0;x<h.length;x++)t(h[x],c,!!l)}else t(f,c,!!l);let m,g;if(l)g=-1,m=l,l=null;else if(c<r.childCount)g=c,m=r.child(c++);else break;for(let x=0;x<u.length;x++)u[x].to<=s&&u.splice(x--,1);for(;i<a.length&&a[i].from<=s&&a[i].to>s;)u.push(a[i++]);let b=s+m.nodeSize;if(m.isText){let x=b;i<a.length&&a[i].from<x&&(x=a[i].from);for(let k=0;k<u.length;k++)u[k].to<x&&(x=u[k].to);x<b&&(l=m.cut(x-s),m=m.cut(0,x-s),b=x,g=-1)}else for(;i<a.length&&a[i].to<b;)i++;let y=m.isInline&&!m.isLeaf?u.filter(x=>!x.inline):u.slice();n(m,y,e.forChild(s,m),g),s=b}}function Oz(r){if(r.nodeName=="UL"||r.nodeName=="OL"){let e=r.style.cssText;r.style.cssText=e+"; list-style: square !important",window.getComputedStyle(r).listStyle,r.style.cssText=e}}function Bz(r,e,t,n){for(let a=0,s=0;a<r.childCount&&s<=n;){let i=r.child(a++),u=s;if(s+=i.nodeSize,!i.isText)continue;let l=i.text;for(;a<r.childCount;){let c=r.child(a++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=t){if(s>=n&&l.slice(n-e.length-u,n-u)==e)return n-e.length;let c=u<n?l.lastIndexOf(e,n-u-1):-1;if(c>=0&&c+e.length+u>=t)return u+c;if(t==n&&l.length>=n+e.length-u&&l.slice(n-u,n-u+e.length)==e)return n}}return-1}function Hh(r,e,t,n,a){let s=[];for(let i=0,u=0;i<r.length;i++){let l=r[i],c=u,f=u+=l.size;c>=t||f<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,n)),a&&(s.push(a),a=void 0),f>t&&s.push(l.slice(t-c,l.size,n)))}return s}function _0(r,e=null){let t=r.domSelectionRange(),n=r.state.doc;if(!t.focusNode)return null;let a=r.docView.nearestDesc(t.focusNode),s=a&&a.size==0,i=r.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(i<0)return null;let u=n.resolve(i),l,c;if(Wd(t)){for(l=i;a&&!a.node;)a=a.parent;let h=a.node;if(a&&h.isAtom&&xt.isSelectable(h)&&a.parent&&!(h.isInline&&dz(t.focusNode,t.focusOffset,a.dom))){let m=a.posBefore;c=new xt(i==m?u:n.resolve(m))}}else{if(t instanceof r.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let h=i,m=i;for(let g=0;g<t.rangeCount;g++){let b=t.getRangeAt(g);h=Math.min(h,r.docView.posFromDOM(b.startContainer,b.startOffset,1)),m=Math.max(m,r.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(h<0)return null;[l,i]=m==r.state.selection.anchor?[m,h]:[h,m],u=n.resolve(i)}else l=r.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(l<0)return null}let f=n.resolve(l);if(!c){let h=e=="pointer"||r.state.selection.head<u.pos&&!s?1:-1;c=y0(r,f,u,h)}return c}function wy(r){return r.editable?r.hasFocus():Ey(r)&&document.activeElement&&document.activeElement.contains(r.dom)}function cs(r,e=!1){let t=r.state.selection;if(ky(r,t),!!wy(r)){if(!e&&r.input.mouseDown&&r.input.mouseDown.allowDefault&&zr){let n=r.domSelectionRange(),a=r.domObserver.currentSelection;if(n.anchorNode&&a.anchorNode&&Ii(n.anchorNode,n.anchorOffset,a.anchorNode,a.anchorOffset)){r.input.mouseDown.delayedSelectionSync=!0,r.domObserver.setCurSelection();return}}if(r.domObserver.disconnectSelection(),r.cursorWrapper)zz(r);else{let{anchor:n,head:a}=t,s,i;_1&&!(t instanceof yt)&&(t.$from.parent.inlineContent||(s=y1(r,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(i=y1(r,t.to))),r.docView.setSelection(n,a,r,e),_1&&(s&&x1(s),i&&x1(i)),t.visible?r.dom.classList.remove("ProseMirror-hideselection"):(r.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Fz(r))}r.domObserver.setCurSelection(),r.domObserver.connectSelection()}}const _1=an||zr&&ly<63;function y1(r,e){let{node:t,offset:n}=r.docView.domFromPos(e,0),a=n<t.childNodes.length?t.childNodes[n]:null,s=n?t.childNodes[n-1]:null;if(an&&a&&a.contentEditable=="false")return Lf(a);if((!a||a.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(a)return Lf(a);if(s)return Lf(s)}}function Lf(r){return r.contentEditable="true",an&&r.draggable&&(r.draggable=!1,r.wasDraggable=!0),r}function x1(r){r.contentEditable="false",r.wasDraggable&&(r.draggable=!0,r.wasDraggable=null)}function Fz(r){let e=r.dom.ownerDocument;e.removeEventListener("selectionchange",r.input.hideSelectionGuard);let t=r.domSelectionRange(),n=t.anchorNode,a=t.anchorOffset;e.addEventListener("selectionchange",r.input.hideSelectionGuard=()=>{(t.anchorNode!=n||t.anchorOffset!=a)&&(e.removeEventListener("selectionchange",r.input.hideSelectionGuard),setTimeout(()=>{(!wy(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})}function zz(r){let e=r.domSelection();if(!e)return;let t=r.cursorWrapper.dom,n=t.nodeName=="IMG";n?e.collapse(t.parentNode,Qr(t)+1):e.collapse(t,0),!n&&!r.state.selection.visible&&kn&&Fs<=11&&(t.disabled=!0,t.disabled=!1)}function ky(r,e){if(e instanceof xt){let t=r.docView.descAt(e.from);t!=r.lastSelectedViewDesc&&(w1(r),t&&t.selectNode(),r.lastSelectedViewDesc=t)}else w1(r)}function w1(r){r.lastSelectedViewDesc&&(r.lastSelectedViewDesc.parent&&r.lastSelectedViewDesc.deselectNode(),r.lastSelectedViewDesc=void 0)}function y0(r,e,t,n){return r.someProp("createSelectionBetween",a=>a(r,e,t))||yt.between(e,t,n)}function k1(r){return r.editable&&!r.hasFocus()?!1:Ey(r)}function Ey(r){let e=r.domSelectionRange();if(!e.anchorNode)return!1;try{return r.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(r.editable||r.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function qz(r){let e=r.docView.domFromPos(r.state.selection.anchor,0),t=r.domSelectionRange();return Ii(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Uh(r,e){let{$anchor:t,$head:n}=r.selection,a=e>0?t.max(n):t.min(n),s=a.parent.inlineContent?a.depth?r.doc.resolve(e>0?a.after():a.before()):null:a;return s&&Tt.findFrom(s,e)}function ws(r,e){return r.dispatch(r.state.tr.setSelection(e).scrollIntoView()),!0}function E1(r,e,t){let n=r.state.selection;if(n instanceof yt)if(t.indexOf("s")>-1){let{$head:a}=n,s=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let i=r.state.doc.resolve(a.pos+s.nodeSize*(e<0?-1:1));return ws(r,new yt(n.$anchor,i))}else if(n.empty){if(r.endOfTextblock(e>0?"forward":"backward")){let a=Uh(r.state,e);return a&&a instanceof xt?ws(r,a):!1}else if(!(Vn&&t.indexOf("m")>-1)){let a=n.$head,s=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter,i;if(!s||s.isText)return!1;let u=e<0?a.pos-s.nodeSize:a.pos;return s.isAtom||(i=r.docView.descAt(u))&&!i.contentDOM?xt.isSelectable(s)?ws(r,new xt(e<0?r.state.doc.resolve(a.pos-s.nodeSize):a)):hl?ws(r,new yt(r.state.doc.resolve(e<0?u:u+s.nodeSize))):!1:!1}}else return!1;else{if(n instanceof xt&&n.node.isInline)return ws(r,new yt(e>0?n.$to:n.$from));{let a=Uh(r.state,e);return a?ws(r,a):!1}}}function kc(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function mu(r,e){let t=r.pmViewDesc;return t&&t.size==0&&(e<0||r.nextSibling||r.nodeName!="BR")}function Yi(r,e){return e<0?jz(r):Hz(r)}function jz(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let a,s,i=!1;for(Xn&&t.nodeType==1&&n<kc(t)&&mu(t.childNodes[n],-1)&&(i=!0);;)if(n>0){if(t.nodeType!=1)break;{let u=t.childNodes[n-1];if(mu(u,-1))a=t,s=--n;else if(u.nodeType==3)t=u,n=t.nodeValue.length;else break}}else{if(Sy(t))break;{let u=t.previousSibling;for(;u&&mu(u,-1);)a=t.parentNode,s=Qr(u),u=u.previousSibling;if(u)t=u,n=kc(t);else{if(t=t.parentNode,t==r.dom)break;n=0}}}i?Vh(r,t,n):a&&Vh(r,a,s)}function Hz(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let a=kc(t),s,i;for(;;)if(n<a){if(t.nodeType!=1)break;let u=t.childNodes[n];if(mu(u,1))s=t,i=++n;else break}else{if(Sy(t))break;{let u=t.nextSibling;for(;u&&mu(u,1);)s=u.parentNode,i=Qr(u)+1,u=u.nextSibling;if(u)t=u,n=0,a=kc(t);else{if(t=t.parentNode,t==r.dom)break;n=a=0}}}s&&Vh(r,s,i)}function Sy(r){let e=r.pmViewDesc;return e&&e.node&&e.node.isBlock}function Uz(r,e){for(;r&&e==r.childNodes.length&&!fl(r);)e=Qr(r)+1,r=r.parentNode;for(;r&&e<r.childNodes.length;){let t=r.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;r=t,e=0}}function Vz(r,e){for(;r&&!e&&!fl(r);)e=Qr(r),r=r.parentNode;for(;r&&e;){let t=r.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;r=t,e=r.childNodes.length}}function Vh(r,e,t){if(e.nodeType!=3){let s,i;(i=Uz(e,t))?(e=i,t=0):(s=Vz(e,t))&&(e=s,t=s.nodeValue.length)}let n=r.domSelection();if(!n)return;if(Wd(n)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),n.removeAllRanges(),n.addRange(s)}else n.extend&&n.extend(e,t);r.domObserver.setCurSelection();let{state:a}=r;setTimeout(()=>{r.state==a&&cs(r)},50)}function S1(r,e){let t=r.state.doc.resolve(e);if(!(zr||cy)&&t.parent.inlineContent){let a=r.coordsAtPos(e);if(e>t.start()){let s=r.coordsAtPos(e-1),i=(s.top+s.bottom)/2;if(i>a.top&&i<a.bottom&&Math.abs(s.left-a.left)>1)return s.left<a.left?"ltr":"rtl"}if(e<t.end()){let s=r.coordsAtPos(e+1),i=(s.top+s.bottom)/2;if(i>a.top&&i<a.bottom&&Math.abs(s.left-a.left)>1)return s.left>a.left?"ltr":"rtl"}}return getComputedStyle(r.dom).direction=="rtl"?"rtl":"ltr"}function A1(r,e,t){let n=r.state.selection;if(n instanceof yt&&!n.empty||t.indexOf("s")>-1||Vn&&t.indexOf("m")>-1)return!1;let{$from:a,$to:s}=n;if(!a.parent.inlineContent||r.endOfTextblock(e<0?"up":"down")){let i=Uh(r.state,e);if(i&&i instanceof xt)return ws(r,i)}if(!a.parent.inlineContent){let i=e<0?a:s,u=n instanceof wn?Tt.near(i,e):Tt.findFrom(i,e);return u?ws(r,u):!1}return!1}function D1(r,e){if(!(r.state.selection instanceof yt))return!0;let{$head:t,$anchor:n,empty:a}=r.state.selection;if(!t.sameParent(n))return!0;if(!a)return!1;if(r.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let i=r.state.tr;return e<0?i.delete(t.pos-s.nodeSize,t.pos):i.delete(t.pos,t.pos+s.nodeSize),r.dispatch(i),!0}return!1}function C1(r,e,t){r.domObserver.stop(),e.contentEditable=t,r.domObserver.start()}function Wz(r){if(!an||r.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=r.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;C1(r,n,"true"),setTimeout(()=>C1(r,n,"false"),20)}return!1}function Qz(r){let e="";return r.ctrlKey&&(e+="c"),r.metaKey&&(e+="m"),r.altKey&&(e+="a"),r.shiftKey&&(e+="s"),e}function Gz(r,e){let t=e.keyCode,n=Qz(e);if(t==8||Vn&&t==72&&n=="c")return D1(r,-1)||Yi(r,-1);if(t==46&&!e.shiftKey||Vn&&t==68&&n=="c")return D1(r,1)||Yi(r,1);if(t==13||t==27)return!0;if(t==37||Vn&&t==66&&n=="c"){let a=t==37?S1(r,r.state.selection.from)=="ltr"?-1:1:-1;return E1(r,a,n)||Yi(r,a)}else if(t==39||Vn&&t==70&&n=="c"){let a=t==39?S1(r,r.state.selection.from)=="ltr"?1:-1:1;return E1(r,a,n)||Yi(r,a)}else{if(t==38||Vn&&t==80&&n=="c")return A1(r,-1,n)||Yi(r,-1);if(t==40||Vn&&t==78&&n=="c")return Wz(r)||A1(r,1,n)||Yi(r,1);if(n==(Vn?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function x0(r,e){r.someProp("transformCopied",g=>{e=g(e,r)});let t=[],{content:n,openStart:a,openEnd:s}=e;for(;a>1&&s>1&&n.childCount==1&&n.firstChild.childCount==1;){a--,s--;let g=n.firstChild;t.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),n=g.content}let i=r.someProp("clipboardSerializer")||Vi.fromSchema(r.state.schema),u=My(),l=u.createElement("div");l.appendChild(i.serializeFragment(n,{document:u}));let c=l.firstChild,f,h=0;for(;c&&c.nodeType==1&&(f=Ty[c.nodeName.toLowerCase()]);){for(let g=f.length-1;g>=0;g--){let b=u.createElement(f[g]);for(;l.firstChild;)b.appendChild(l.firstChild);l.appendChild(b),h++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${a} ${s}${h?` -${h}`:""} ${JSON.stringify(t)}`);let m=r.someProp("clipboardTextSerializer",g=>g(e,r))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:m,slice:e}}function Ay(r,e,t,n,a){let s=a.parent.type.spec.code,i,u;if(!t&&!e)return null;let l=!!e&&(n||s||!t);if(l){if(r.someProp("transformPastedText",m=>{e=m(e,s||n,r)}),s)return u=new mt(Ze.from(r.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),r.someProp("transformPasted",m=>{u=m(u,r,!0)}),u;let h=r.someProp("clipboardTextParser",m=>m(e,a,n,r));if(h)u=h;else{let m=a.marks(),{schema:g}=r.state,b=Vi.fromSchema(g);i=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(y=>{let x=i.appendChild(document.createElement("p"));y&&x.appendChild(b.serializeNode(g.text(y,m)))})}}else r.someProp("transformPastedHTML",h=>{t=h(t,r)}),i=Yz(t),hl&&Xz(i);let c=i&&i.querySelector("[data-pm-slice]"),f=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let h=+f[3];h>0;h--){let m=i.firstChild;for(;m&&m.nodeType!=1;)m=m.nextSibling;if(!m)break;i=m}if(u||(u=(r.someProp("clipboardParser")||r.someProp("domParser")||Yn.fromSchema(r.state.schema)).parseSlice(i,{preserveWhitespace:!!(l||f),context:a,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!Kz.test(m.parentNode.nodeName)?{ignore:!0}:null}})),f)u=eq(I1(u,+f[1],+f[2]),f[4]);else if(u=mt.maxOpen(Jz(u.content,a),!0),u.openStart||u.openEnd){let h=0,m=0;for(let g=u.content.firstChild;h<u.openStart&&!g.type.spec.isolating;h++,g=g.firstChild);for(let g=u.content.lastChild;m<u.openEnd&&!g.type.spec.isolating;m++,g=g.lastChild);u=I1(u,h,m)}return r.someProp("transformPasted",h=>{u=h(u,r,l)}),u}const Kz=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Jz(r,e){if(r.childCount<2)return r;for(let t=e.depth;t>=0;t--){let a=e.node(t).contentMatchAt(e.index(t)),s,i=[];if(r.forEach(u=>{if(!i)return;let l=a.findWrapping(u.type),c;if(!l)return i=null;if(c=i.length&&s.length&&Cy(l,s,u,i[i.length-1],0))i[i.length-1]=c;else{i.length&&(i[i.length-1]=Iy(i[i.length-1],s.length));let f=Dy(u,l);i.push(f),a=a.matchType(f.type),s=l}}),i)return Ze.from(i)}return r}function Dy(r,e,t=0){for(let n=e.length-1;n>=t;n--)r=e[n].create(null,Ze.from(r));return r}function Cy(r,e,t,n,a){if(a<r.length&&a<e.length&&r[a]==e[a]){let s=Cy(r,e,t,n.lastChild,a+1);if(s)return n.copy(n.content.replaceChild(n.childCount-1,s));if(n.contentMatchAt(n.childCount).matchType(a==r.length-1?t.type:r[a+1]))return n.copy(n.content.append(Ze.from(Dy(t,r,a+1))))}}function Iy(r,e){if(e==0)return r;let t=r.content.replaceChild(r.childCount-1,Iy(r.lastChild,e-1)),n=r.contentMatchAt(r.childCount).fillBefore(Ze.empty,!0);return r.copy(t.append(n))}function Wh(r,e,t,n,a,s){let i=e<0?r.firstChild:r.lastChild,u=i.content;return r.childCount>1&&(s=0),a<n-1&&(u=Wh(u,e,t,n,a+1,s)),a>=t&&(u=e<0?i.contentMatchAt(0).fillBefore(u,s<=a).append(u):u.append(i.contentMatchAt(i.childCount).fillBefore(Ze.empty,!0))),r.replaceChild(e<0?0:r.childCount-1,i.copy(u))}function I1(r,e,t){return e<r.openStart&&(r=new mt(Wh(r.content,-1,e,r.openStart,0,r.openEnd),e,r.openEnd)),t<r.openEnd&&(r=new mt(Wh(r.content,1,t,r.openEnd,0,0),r.openStart,t)),r}const Ty={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let T1=null;function My(){return T1||(T1=document.implementation.createHTMLDocument("title"))}let Of=null;function Zz(r){let e=window.trustedTypes;return e?(Of||(Of=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Of.createHTML(r)):r}function Yz(r){let e=/^(\s*<meta [^>]*>)*/.exec(r);e&&(r=r.slice(e[0].length));let t=My().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(r),a;if((a=n&&Ty[n[1].toLowerCase()])&&(r=a.map(s=>"<"+s+">").join("")+r+a.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=Zz(r),a)for(let s=0;s<a.length;s++)t=t.querySelector(a[s])||t;return t}function Xz(r){let e=r.querySelectorAll(zr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let n=e[t];n.childNodes.length==1&&n.textContent=="Â "&&n.parentNode&&n.parentNode.replaceChild(r.ownerDocument.createTextNode(" "),n)}}function eq(r,e){if(!r.size)return r;let t=r.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return r}let{content:a,openStart:s,openEnd:i}=r;for(let u=n.length-2;u>=0;u-=2){let l=t.nodes[n[u]];if(!l||l.hasRequiredAttrs())break;a=Ze.from(l.create(n[u+1],a)),s++,i++}return new mt(a,s,i)}const hn={},pn={},tq={touchstart:!0,touchmove:!0};class rq{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function nq(r){for(let e in hn){let t=hn[e];r.dom.addEventListener(e,r.input.eventHandlers[e]=n=>{sq(r,n)&&!w0(r,n)&&(r.editable||!(n.type in pn))&&t(r,n)},tq[e]?{passive:!0}:void 0)}an&&r.dom.addEventListener("input",()=>null),Qh(r)}function Ps(r,e){r.input.lastSelectionOrigin=e,r.input.lastSelectionTime=Date.now()}function aq(r){r.domObserver.stop();for(let e in r.input.eventHandlers)r.dom.removeEventListener(e,r.input.eventHandlers[e]);clearTimeout(r.input.composingTimeout),clearTimeout(r.input.lastIOSEnterFallbackTimeout)}function Qh(r){r.someProp("handleDOMEvents",e=>{for(let t in e)r.input.eventHandlers[t]||r.dom.addEventListener(t,r.input.eventHandlers[t]=n=>w0(r,n))})}function w0(r,e){return r.someProp("handleDOMEvents",t=>{let n=t[e.type];return n?n(r,e)||e.defaultPrevented:!1})}function sq(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=r.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function iq(r,e){!w0(r,e)&&hn[e.type]&&(r.editable||!(e.type in pn))&&hn[e.type](r,e)}pn.keydown=(r,e)=>{let t=e;if(r.input.shiftKey=t.keyCode==16||t.shiftKey,!Ny(r,t)&&(r.input.lastKeyCode=t.keyCode,r.input.lastKeyCodeTime=Date.now(),!(ns&&zr&&t.keyCode==13)))if(t.keyCode!=229&&r.domObserver.forceFlush(),wo&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let n=Date.now();r.input.lastIOSEnter=n,r.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{r.input.lastIOSEnter==n&&(r.someProp("handleKeyDown",a=>a(r,ai(13,"Enter"))),r.input.lastIOSEnter=0)},200)}else r.someProp("handleKeyDown",n=>n(r,t))||Gz(r,t)?t.preventDefault():Ps(r,"key")};pn.keyup=(r,e)=>{e.keyCode==16&&(r.input.shiftKey=!1)};pn.keypress=(r,e)=>{let t=e;if(Ny(r,t)||!t.charCode||t.ctrlKey&&!t.altKey||Vn&&t.metaKey)return;if(r.someProp("handleKeyPress",a=>a(r,t))){t.preventDefault();return}let n=r.state.selection;if(!(n instanceof yt)||!n.$from.sameParent(n.$to)){let a=String.fromCharCode(t.charCode),s=()=>r.state.tr.insertText(a).scrollIntoView();!/[\r\n]/.test(a)&&!r.someProp("handleTextInput",i=>i(r,n.$from.pos,n.$to.pos,a,s))&&r.dispatch(s()),t.preventDefault()}};function Gd(r){return{left:r.clientX,top:r.clientY}}function oq(r,e){let t=e.x-r.clientX,n=e.y-r.clientY;return t*t+n*n<100}function k0(r,e,t,n,a){if(n==-1)return!1;let s=r.state.doc.resolve(n);for(let i=s.depth+1;i>0;i--)if(r.someProp(e,u=>i>s.depth?u(r,t,s.nodeAfter,s.before(i),a,!0):u(r,t,s.node(i),s.before(i),a,!1)))return!0;return!1}function lo(r,e,t){if(r.focused||r.focus(),r.state.selection.eq(e))return;let n=r.state.tr.setSelection(e);n.setMeta("pointer",!0),r.dispatch(n)}function uq(r,e){if(e==-1)return!1;let t=r.state.doc.resolve(e),n=t.nodeAfter;return n&&n.isAtom&&xt.isSelectable(n)?(lo(r,new xt(t)),!0):!1}function lq(r,e){if(e==-1)return!1;let t=r.state.selection,n,a;t instanceof xt&&(n=t.node);let s=r.state.doc.resolve(e);for(let i=s.depth+1;i>0;i--){let u=i>s.depth?s.nodeAfter:s.node(i);if(xt.isSelectable(u)){n&&t.$from.depth>0&&i>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?a=s.before(t.$from.depth):a=s.before(i);break}}return a!=null?(lo(r,xt.create(r.state.doc,a)),!0):!1}function cq(r,e,t,n,a){return k0(r,"handleClickOn",e,t,n)||r.someProp("handleClick",s=>s(r,e,n))||(a?lq(r,t):uq(r,t))}function dq(r,e,t,n){return k0(r,"handleDoubleClickOn",e,t,n)||r.someProp("handleDoubleClick",a=>a(r,e,n))}function fq(r,e,t,n){return k0(r,"handleTripleClickOn",e,t,n)||r.someProp("handleTripleClick",a=>a(r,e,n))||hq(r,t,n)}function hq(r,e,t){if(t.button!=0)return!1;let n=r.state.doc;if(e==-1)return n.inlineContent?(lo(r,yt.create(n,0,n.content.size)),!0):!1;let a=n.resolve(e);for(let s=a.depth+1;s>0;s--){let i=s>a.depth?a.nodeAfter:a.node(s),u=a.before(s);if(i.inlineContent)lo(r,yt.create(n,u+1,u+1+i.content.size));else if(xt.isSelectable(i))lo(r,xt.create(n,u));else continue;return!0}}function E0(r){return Ec(r)}const Ry=Vn?"metaKey":"ctrlKey";hn.mousedown=(r,e)=>{let t=e;r.input.shiftKey=t.shiftKey;let n=E0(r),a=Date.now(),s="singleClick";a-r.input.lastClick.time<500&&oq(t,r.input.lastClick)&&!t[Ry]&&r.input.lastClick.button==t.button&&(r.input.lastClick.type=="singleClick"?s="doubleClick":r.input.lastClick.type=="doubleClick"&&(s="tripleClick")),r.input.lastClick={time:a,x:t.clientX,y:t.clientY,type:s,button:t.button};let i=r.posAtCoords(Gd(t));i&&(s=="singleClick"?(r.input.mouseDown&&r.input.mouseDown.done(),r.input.mouseDown=new pq(r,i,t,!!n)):(s=="doubleClick"?dq:fq)(r,i.pos,i.inside,t)?t.preventDefault():Ps(r,"pointer"))};class pq{constructor(e,t,n,a){this.view=e,this.pos=t,this.event=n,this.flushed=a,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[Ry],this.allowDefault=n.shiftKey;let s,i;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),i=t.inside;else{let f=e.state.doc.resolve(t.pos);s=f.parent,i=f.depth?f.before():0}const u=a?null:n.target,l=u?e.docView.nearestDesc(u,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=e.state;(n.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof xt&&c.from<=i&&c.to>i)&&(this.mightDrag={node:s,pos:i,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Xn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ps(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>cs(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Gd(e))),this.updateAllowDefault(e),this.allowDefault||!t?Ps(this.view,"pointer"):cq(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||an&&this.mightDrag&&!this.mightDrag.node.isAtom||zr&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(lo(this.view,Tt.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Ps(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ps(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}hn.touchstart=r=>{r.input.lastTouch=Date.now(),E0(r),Ps(r,"pointer")};hn.touchmove=r=>{r.input.lastTouch=Date.now(),Ps(r,"pointer")};hn.contextmenu=r=>E0(r);function Ny(r,e){return r.composing?!0:an&&Math.abs(e.timeStamp-r.input.compositionEndedAt)<500?(r.input.compositionEndedAt=-2e8,!0):!1}const vq=ns?5e3:-1;pn.compositionstart=pn.compositionupdate=r=>{if(!r.composing){r.domObserver.flush();let{state:e}=r,t=e.selection.$to;if(e.selection instanceof yt&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)||zr&&cy&&mq(r)))r.markCursor=r.state.storedMarks||t.marks(),Ec(r,!0),r.markCursor=null;else if(Ec(r,!e.selection.empty),Xn&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let n=r.domSelectionRange();for(let a=n.focusNode,s=n.focusOffset;a&&a.nodeType==1&&s!=0;){let i=s<0?a.lastChild:a.childNodes[s-1];if(!i)break;if(i.nodeType==3){let u=r.domSelection();u&&u.collapse(i,i.nodeValue.length);break}else a=i,s=-1}}r.input.composing=!0}Py(r,vq)};function mq(r){let{focusNode:e,focusOffset:t}=r.domSelectionRange();if(!e||e.nodeType!=1||t>=e.childNodes.length)return!1;let n=e.childNodes[t];return n.nodeType==1&&n.contentEditable=="false"}pn.compositionend=(r,e)=>{r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=e.timeStamp,r.input.compositionPendingChanges=r.domObserver.pendingRecords().length?r.input.compositionID:0,r.input.compositionNode=null,r.input.compositionPendingChanges&&Promise.resolve().then(()=>r.domObserver.flush()),r.input.compositionID++,Py(r,20))};function Py(r,e){clearTimeout(r.input.composingTimeout),e>-1&&(r.input.composingTimeout=setTimeout(()=>Ec(r),e))}function $y(r){for(r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=bq());r.input.compositionNodes.length>0;)r.input.compositionNodes.pop().markParentsDirty()}function gq(r){let e=r.domSelectionRange();if(!e.focusNode)return null;let t=lz(e.focusNode,e.focusOffset),n=cz(e.focusNode,e.focusOffset);if(t&&n&&t!=n){let a=n.pmViewDesc,s=r.domObserver.lastChangedTextNode;if(t==s||n==s)return s;if(!a||!a.isText(n.nodeValue))return n;if(r.input.compositionNode==n){let i=t.pmViewDesc;if(!(!i||!i.isText(t.nodeValue)))return n}}return t||n}function bq(){let r=document.createEvent("Event");return r.initEvent("event",!0,!0),r.timeStamp}function Ec(r,e=!1){if(!(ns&&r.domObserver.flushingSoon>=0)){if(r.domObserver.forceFlush(),$y(r),e||r.docView&&r.docView.dirty){let t=_0(r),n=r.state.selection;return t&&!t.eq(n)?r.dispatch(r.state.tr.setSelection(t)):(r.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?r.dispatch(r.state.tr.deleteSelection()):r.updateState(r.state),!0}return!1}}function _q(r,e){if(!r.dom.parentNode)return;let t=r.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),a=document.createRange();a.selectNodeContents(e),r.dom.blur(),n.removeAllRanges(),n.addRange(a),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),r.focus()},50)}const Lu=kn&&Fs<15||wo&&pz<604;hn.copy=pn.cut=(r,e)=>{let t=e,n=r.state.selection,a=t.type=="cut";if(n.empty)return;let s=Lu?null:t.clipboardData,i=n.content(),{dom:u,text:l}=x0(r,i);s?(t.preventDefault(),s.clearData(),s.setData("text/html",u.innerHTML),s.setData("text/plain",l)):_q(r,u),a&&r.dispatch(r.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function yq(r){return r.openStart==0&&r.openEnd==0&&r.content.childCount==1?r.content.firstChild:null}function xq(r,e){if(!r.dom.parentNode)return;let t=r.input.shiftKey||r.state.selection.$from.parent.type.spec.code,n=r.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let a=r.input.shiftKey&&r.input.lastKeyCode!=45;setTimeout(()=>{r.focus(),n.parentNode&&n.parentNode.removeChild(n),t?Ou(r,n.value,null,a,e):Ou(r,n.textContent,n.innerHTML,a,e)},50)}function Ou(r,e,t,n,a){let s=Ay(r,e,t,n,r.state.selection.$from);if(r.someProp("handlePaste",l=>l(r,a,s||mt.empty)))return!0;if(!s)return!1;let i=yq(s),u=i?r.state.tr.replaceSelectionWith(i,n):r.state.tr.replaceSelection(s);return r.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Ly(r){let e=r.getData("text/plain")||r.getData("Text");if(e)return e;let t=r.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}pn.paste=(r,e)=>{let t=e;if(r.composing&&!ns)return;let n=Lu?null:t.clipboardData,a=r.input.shiftKey&&r.input.lastKeyCode!=45;n&&Ou(r,Ly(n),n.getData("text/html"),a,t)?t.preventDefault():xq(r,t)};class Oy{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}const wq=Vn?"altKey":"ctrlKey";function By(r,e){let t=r.someProp("dragCopies",n=>!n(e));return t??!e[wq]}hn.dragstart=(r,e)=>{let t=e,n=r.input.mouseDown;if(n&&n.done(),!t.dataTransfer)return;let a=r.state.selection,s=a.empty?null:r.posAtCoords(Gd(t)),i;if(!(s&&s.pos>=a.from&&s.pos<=(a instanceof xt?a.to-1:a.to))){if(n&&n.mightDrag)i=xt.create(r.state.doc,n.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let h=r.docView.nearestDesc(t.target,!0);h&&h.node.type.spec.draggable&&h!=r.docView&&(i=xt.create(r.state.doc,h.posBefore))}}let u=(i||r.state.selection).content(),{dom:l,text:c,slice:f}=x0(r,u);(!t.dataTransfer.files.length||!zr||ly>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Lu?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",Lu||t.dataTransfer.setData("text/plain",c),r.dragging=new Oy(f,By(r,t),i)};hn.dragend=r=>{let e=r.dragging;window.setTimeout(()=>{r.dragging==e&&(r.dragging=null)},50)};pn.dragover=pn.dragenter=(r,e)=>e.preventDefault();pn.drop=(r,e)=>{try{kq(r,e,r.dragging)}finally{r.dragging=null}};function kq(r,e,t){if(!e.dataTransfer)return;let n=r.posAtCoords(Gd(e));if(!n)return;let a=r.state.doc.resolve(n.pos),s=t&&t.slice;s?r.someProp("transformPasted",g=>{s=g(s,r,!1)}):s=Ay(r,Ly(e.dataTransfer),Lu?null:e.dataTransfer.getData("text/html"),!1,a);let i=!!(t&&By(r,e));if(r.someProp("handleDrop",g=>g(r,e,s||mt.empty,i))){e.preventDefault();return}if(!s)return;e.preventDefault();let u=s?O_(r.state.doc,a.pos,s):a.pos;u==null&&(u=a.pos);let l=r.state.tr;if(i){let{node:g}=t;g?g.replace(l):l.deleteSelection()}let c=l.mapping.map(u),f=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,h=l.doc;if(f?l.replaceRangeWith(c,c,s.content.firstChild):l.replaceRange(c,c,s),l.doc.eq(h))return;let m=l.doc.resolve(c);if(f&&xt.isSelectable(s.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(s.content.firstChild))l.setSelection(new xt(m));else{let g=l.mapping.map(u);l.mapping.maps[l.mapping.maps.length-1].forEach((b,y,x,k)=>g=k),l.setSelection(y0(r,m,l.doc.resolve(g)))}r.focus(),r.dispatch(l.setMeta("uiEvent","drop"))}hn.focus=r=>{r.input.lastFocus=Date.now(),r.focused||(r.domObserver.stop(),r.dom.classList.add("ProseMirror-focused"),r.domObserver.start(),r.focused=!0,setTimeout(()=>{r.docView&&r.hasFocus()&&!r.domObserver.currentSelection.eq(r.domSelectionRange())&&cs(r)},20))};hn.blur=(r,e)=>{let t=e;r.focused&&(r.domObserver.stop(),r.dom.classList.remove("ProseMirror-focused"),r.domObserver.start(),t.relatedTarget&&r.dom.contains(t.relatedTarget)&&r.domObserver.currentSelection.clear(),r.focused=!1)};hn.beforeinput=(r,e)=>{if(zr&&ns&&e.inputType=="deleteContentBackward"){r.domObserver.flushSoon();let{domChangeCount:n}=r.input;setTimeout(()=>{if(r.input.domChangeCount!=n||(r.dom.blur(),r.focus(),r.someProp("handleKeyDown",s=>s(r,ai(8,"Backspace")))))return;let{$cursor:a}=r.state.selection;a&&a.pos>0&&r.dispatch(r.state.tr.delete(a.pos-1,a.pos).scrollIntoView())},50)}};for(let r in pn)hn[r]=pn[r];function Bu(r,e){if(r==e)return!0;for(let t in r)if(r[t]!==e[t])return!1;for(let t in e)if(!(t in r))return!1;return!0}class Sc{constructor(e,t){this.toDOM=e,this.spec=t||_i,this.side=this.spec.side||0}map(e,t,n,a){let{pos:s,deleted:i}=e.mapResult(t.from+a,this.side<0?-1:1);return i?null:new dn(s-n,s-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Sc&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Bu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class qs{constructor(e,t){this.attrs=e,this.spec=t||_i}map(e,t,n,a){let s=e.map(t.from+a,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+a,this.spec.inclusiveEnd?1:-1)-n;return s>=i?null:new dn(s,i,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof qs&&Bu(this.attrs,e.attrs)&&Bu(this.spec,e.spec)}static is(e){return e.type instanceof qs}destroy(){}}class S0{constructor(e,t){this.attrs=e,this.spec=t||_i}map(e,t,n,a){let s=e.mapResult(t.from+a,1);if(s.deleted)return null;let i=e.mapResult(t.to+a,-1);return i.deleted||i.pos<=s.pos?null:new dn(s.pos-n,i.pos-n,this)}valid(e,t){let{index:n,offset:a}=e.content.findIndex(t.from),s;return a==t.from&&!(s=e.child(n)).isText&&a+s.nodeSize==t.to}eq(e){return this==e||e instanceof S0&&Bu(this.attrs,e.attrs)&&Bu(this.spec,e.spec)}destroy(){}}class dn{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new dn(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new dn(e,e,new Sc(t,n))}static inline(e,t,n,a){return new dn(e,t,new qs(n,a))}static node(e,t,n,a){return new dn(e,t,new S0(n,a))}get spec(){return this.type.spec}get inline(){return this.type instanceof qs}get widget(){return this.type instanceof Sc}}const ro=[],_i={};class gr{constructor(e,t){this.local=e.length?e:ro,this.children=t.length?t:ro}static create(e,t){return t.length?Ac(t,e,0,_i):en}find(e,t,n){let a=[];return this.findInner(e??0,t??1e9,a,0,n),a}findInner(e,t,n,a,s){for(let i=0;i<this.local.length;i++){let u=this.local[i];u.from<=t&&u.to>=e&&(!s||s(u.spec))&&n.push(u.copy(u.from+a,u.to+a))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<t&&this.children[i+1]>e){let u=this.children[i]+1;this.children[i+2].findInner(e-u,t-u,n,a+u,s)}}map(e,t,n){return this==en||e.maps.length==0?this:this.mapInner(e,t,0,0,n||_i)}mapInner(e,t,n,a,s){let i;for(let u=0;u<this.local.length;u++){let l=this.local[u].map(e,n,a);l&&l.type.valid(t,l)?(i||(i=[])).push(l):s.onRemove&&s.onRemove(this.local[u].spec)}return this.children.length?Eq(this.children,i||[],e,t,n,a,s):i?new gr(i.sort(yi),ro):en}add(e,t){return t.length?this==en?gr.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let a,s=0;e.forEach((u,l)=>{let c=l+n,f;if(f=zy(t,u,c)){for(a||(a=this.children.slice());s<a.length&&a[s]<l;)s+=3;a[s]==l?a[s+2]=a[s+2].addInner(u,f,c+1):a.splice(s,0,l,l+u.nodeSize,Ac(f,u,c+1,_i)),s+=3}});let i=Fy(s?qy(t):t,-n);for(let u=0;u<i.length;u++)i[u].type.valid(e,i[u])||i.splice(u--,1);return new gr(i.length?this.local.concat(i).sort(yi):this.local,a||this.children)}remove(e){return e.length==0||this==en?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,a=this.local;for(let s=0;s<n.length;s+=3){let i,u=n[s]+t,l=n[s+1]+t;for(let f=0,h;f<e.length;f++)(h=e[f])&&h.from>u&&h.to<l&&(e[f]=null,(i||(i=[])).push(h));if(!i)continue;n==this.children&&(n=this.children.slice());let c=n[s+2].removeInner(i,u+1);c!=en?n[s+2]=c:(n.splice(s,3),s-=3)}if(a.length){for(let s=0,i;s<e.length;s++)if(i=e[s])for(let u=0;u<a.length;u++)a[u].eq(i,t)&&(a==this.local&&(a=this.local.slice()),a.splice(u--,1))}return n==this.children&&a==this.local?this:a.length||n.length?new gr(a,n):en}forChild(e,t){if(this==en)return this;if(t.isLeaf)return gr.empty;let n,a;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(n=this.children[u+2]);break}let s=e+1,i=s+t.content.size;for(let u=0;u<this.local.length;u++){let l=this.local[u];if(l.from<i&&l.to>s&&l.type instanceof qs){let c=Math.max(s,l.from)-s,f=Math.min(i,l.to)-s;c<f&&(a||(a=[])).push(l.copy(c,f))}}if(a){let u=new gr(a.sort(yi),ro);return n?new As([u,n]):u}return n||en}eq(e){if(this==e)return!0;if(!(e instanceof gr)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return A0(this.localsInner(e))}localsInner(e){if(this==en)return ro;if(e.inlineContent||!this.local.some(qs.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof qs||t.push(this.local[n]);return t}forEachSet(e){e(this)}}gr.empty=new gr([],[]);gr.removeOverlap=A0;const en=gr.empty;class As{constructor(e){this.members=e}map(e,t){const n=this.members.map(a=>a.map(e,t,_i));return As.from(n)}forChild(e,t){if(t.isLeaf)return gr.empty;let n=[];for(let a=0;a<this.members.length;a++){let s=this.members[a].forChild(e,t);s!=en&&(s instanceof As?n=n.concat(s.members):n.push(s))}return As.from(n)}eq(e){if(!(e instanceof As)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let a=0;a<this.members.length;a++){let s=this.members[a].localsInner(e);if(s.length)if(!t)t=s;else{n&&(t=t.slice(),n=!1);for(let i=0;i<s.length;i++)t.push(s[i])}}return t?A0(n?t:t.sort(yi)):ro}static from(e){switch(e.length){case 0:return en;case 1:return e[0];default:return new As(e.every(t=>t instanceof gr)?e:e.reduce((t,n)=>t.concat(n instanceof gr?n:n.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function Eq(r,e,t,n,a,s,i){let u=r.slice();for(let c=0,f=s;c<t.maps.length;c++){let h=0;t.maps[c].forEach((m,g,b,y)=>{let x=y-b-(g-m);for(let k=0;k<u.length;k+=3){let S=u[k+1];if(S<0||m>S+f-h)continue;let A=u[k]+f-h;g>=A?u[k+1]=m<=A?-2:-1:m>=f&&x&&(u[k]+=x,u[k+1]+=x)}h+=x}),f=t.maps[c].map(f,-1)}let l=!1;for(let c=0;c<u.length;c+=3)if(u[c+1]<0){if(u[c+1]==-2){l=!0,u[c+1]=-1;continue}let f=t.map(r[c]+s),h=f-a;if(h<0||h>=n.content.size){l=!0;continue}let m=t.map(r[c+1]+s,-1),g=m-a,{index:b,offset:y}=n.content.findIndex(h),x=n.maybeChild(b);if(x&&y==h&&y+x.nodeSize==g){let k=u[c+2].mapInner(t,x,f+1,r[c]+s+1,i);k!=en?(u[c]=h,u[c+1]=g,u[c+2]=k):(u[c+1]=-2,l=!0)}else l=!0}if(l){let c=Sq(u,r,e,t,a,s,i),f=Ac(c,n,0,i);e=f.local;for(let h=0;h<u.length;h+=3)u[h+1]<0&&(u.splice(h,3),h-=3);for(let h=0,m=0;h<f.children.length;h+=3){let g=f.children[h];for(;m<u.length&&u[m]<g;)m+=3;u.splice(m,0,f.children[h],f.children[h+1],f.children[h+2])}}return new gr(e.sort(yi),u)}function Fy(r,e){if(!e||!r.length)return r;let t=[];for(let n=0;n<r.length;n++){let a=r[n];t.push(new dn(a.from+e,a.to+e,a.type))}return t}function Sq(r,e,t,n,a,s,i){function u(l,c){for(let f=0;f<l.local.length;f++){let h=l.local[f].map(n,a,c);h?t.push(h):i.onRemove&&i.onRemove(l.local[f].spec)}for(let f=0;f<l.children.length;f+=3)u(l.children[f+2],l.children[f]+c+1)}for(let l=0;l<r.length;l+=3)r[l+1]==-1&&u(r[l+2],e[l]+s+1);return t}function zy(r,e,t){if(e.isLeaf)return null;let n=t+e.nodeSize,a=null;for(let s=0,i;s<r.length;s++)(i=r[s])&&i.from>t&&i.to<n&&((a||(a=[])).push(i),r[s]=null);return a}function qy(r){let e=[];for(let t=0;t<r.length;t++)r[t]!=null&&e.push(r[t]);return e}function Ac(r,e,t,n){let a=[],s=!1;e.forEach((u,l)=>{let c=zy(r,u,l+t);if(c){s=!0;let f=Ac(c,u,t+l+1,n);f!=en&&a.push(l,l+u.nodeSize,f)}});let i=Fy(s?qy(r):r,-t).sort(yi);for(let u=0;u<i.length;u++)i[u].type.valid(e,i[u])||(n.onRemove&&n.onRemove(i[u].spec),i.splice(u--,1));return i.length||a.length?new gr(i,a):en}function yi(r,e){return r.from-e.from||r.to-e.to}function A0(r){let e=r;for(let t=0;t<e.length-1;t++){let n=e[t];if(n.from!=n.to)for(let a=t+1;a<e.length;a++){let s=e[a];if(s.from==n.from){s.to!=n.to&&(e==r&&(e=r.slice()),e[a]=s.copy(s.from,n.to),M1(e,a+1,s.copy(n.to,s.to)));continue}else{s.from<n.to&&(e==r&&(e=r.slice()),e[t]=n.copy(n.from,s.from),M1(e,a,n.copy(s.from,n.to)));break}}}return e}function M1(r,e,t){for(;e<r.length&&yi(t,r[e])>0;)e++;r.splice(e,0,t)}function Bf(r){let e=[];return r.someProp("decorations",t=>{let n=t(r.state);n&&n!=en&&e.push(n)}),r.cursorWrapper&&e.push(gr.create(r.state.doc,[r.cursorWrapper.deco])),As.from(e)}const Aq={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Dq=kn&&Fs<=11;class Cq{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Iq{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Cq,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let a=0;a<n.length;a++)this.queue.push(n[a]);kn&&Fs<=11&&n.some(a=>a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():this.flush()}),Dq&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Aq)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(k1(this.view)){if(this.suppressingSelectionUpdates)return cs(this.view);if(kn&&Fs<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ii(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,n;for(let s=e.focusNode;s;s=xo(s))t.add(s);for(let s=e.anchorNode;s;s=xo(s))if(t.has(s)){n=s;break}let a=n&&this.view.docView.nearestDesc(n);if(a&&a.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),a=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&k1(e)&&!this.ignoreSelectionChange(n),s=-1,i=-1,u=!1,l=[];if(e.editable)for(let f=0;f<t.length;f++){let h=this.registerMutation(t[f],l);h&&(s=s<0?h.from:Math.min(h.from,s),i=i<0?h.to:Math.max(h.to,i),h.typeOver&&(u=!0))}if(Xn&&l.length){let f=l.filter(h=>h.nodeName=="BR");if(f.length==2){let[h,m]=f;h.parentNode&&h.parentNode.parentNode==m.parentNode?m.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let m of f){let g=m.parentNode;g&&g.nodeName=="LI"&&(!h||Rq(e,h)!=g)&&m.remove()}}}else if((zr||an)&&l.some(f=>f.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let f of l)if(f.nodeName=="BR"&&f.parentNode){let h=f.nextSibling;h&&h.nodeType==1&&h.contentEditable=="false"&&f.parentNode.removeChild(f)}}let c=null;s<0&&a&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Wd(n)&&(c=_0(e))&&c.eq(Tt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,cs(e),this.currentSelection.set(n),e.scrollToSelection()):(s>-1||a)&&(s>-1&&(e.docView.markDirty(s,i),Tq(e)),this.handleDOMChange(s,i,u,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||cs(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let h=e.addedNodes[f];t.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let a=e.previousSibling,s=e.nextSibling;if(kn&&Fs<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:h,nextSibling:m}=e.addedNodes[f];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(a=h),(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m)}let i=a&&a.parentNode==e.target?Qr(a)+1:0,u=n.localPosFromDOM(e.target,i,-1),l=s&&s.parentNode==e.target?Qr(s):e.target.childNodes.length,c=n.localPosFromDOM(e.target,l,1);return{from:u,to:c}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let R1=new WeakMap,N1=!1;function Tq(r){if(!R1.has(r)&&(R1.set(r,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(r.dom).whiteSpace)!==-1)){if(r.requiresGeckoHackNode=Xn,N1)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),N1=!0}}function P1(r,e){let t=e.startContainer,n=e.startOffset,a=e.endContainer,s=e.endOffset,i=r.domAtPos(r.state.selection.anchor);return Ii(i.node,i.offset,a,s)&&([t,n,a,s]=[a,s,t,n]),{anchorNode:t,anchorOffset:n,focusNode:a,focusOffset:s}}function Mq(r,e){if(e.getComposedRanges){let a=e.getComposedRanges(r.root)[0];if(a)return P1(r,a)}let t;function n(a){a.preventDefault(),a.stopImmediatePropagation(),t=a.getTargetRanges()[0]}return r.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),r.dom.removeEventListener("beforeinput",n,!0),t?P1(r,t):null}function Rq(r,e){for(let t=e.parentNode;t&&t!=r.dom;t=t.parentNode){let n=r.docView.nearestDesc(t,!0);if(n&&n.node.isBlock)return t}return null}function Nq(r,e,t){let{node:n,fromOffset:a,toOffset:s,from:i,to:u}=r.docView.parseRange(e,t),l=r.domSelectionRange(),c,f=l.anchorNode;if(f&&r.dom.contains(f.nodeType==1?f:f.parentNode)&&(c=[{node:f,offset:l.anchorOffset}],Wd(l)||c.push({node:l.focusNode,offset:l.focusOffset})),zr&&r.input.lastKeyCode===8)for(let x=s;x>a;x--){let k=n.childNodes[x-1],S=k.pmViewDesc;if(k.nodeName=="BR"&&!S){s=x;break}if(!S||S.size)break}let h=r.state.doc,m=r.someProp("domParser")||Yn.fromSchema(r.state.schema),g=h.resolve(i),b=null,y=m.parse(n,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:a,to:s,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:Pq,context:g});if(c&&c[0].pos!=null){let x=c[0].pos,k=c[1]&&c[1].pos;k==null&&(k=x),b={anchor:x+i,head:k+i}}return{doc:y,sel:b,from:i,to:u}}function Pq(r){let e=r.pmViewDesc;if(e)return e.parseRule();if(r.nodeName=="BR"&&r.parentNode){if(an&&/^(ul|ol)$/i.test(r.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(r.parentNode.lastChild==r||an&&/^(tr|table)$/i.test(r.parentNode.nodeName))return{ignore:!0}}else if(r.nodeName=="IMG"&&r.getAttribute("mark-placeholder"))return{ignore:!0};return null}const $q=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Lq(r,e,t,n,a){let s=r.input.compositionPendingChanges||(r.composing?r.input.compositionID:0);if(r.input.compositionPendingChanges=0,e<0){let T=r.input.lastSelectionTime>Date.now()-50?r.input.lastSelectionOrigin:null,j=_0(r,T);if(j&&!r.state.selection.eq(j)){if(zr&&ns&&r.input.lastKeyCode===13&&Date.now()-100<r.input.lastKeyCodeTime&&r.someProp("handleKeyDown",G=>G(r,ai(13,"Enter"))))return;let U=r.state.tr.setSelection(j);T=="pointer"?U.setMeta("pointer",!0):T=="key"&&U.scrollIntoView(),s&&U.setMeta("composition",s),r.dispatch(U)}return}let i=r.state.doc.resolve(e),u=i.sharedDepth(t);e=i.before(u+1),t=r.state.doc.resolve(t).after(u+1);let l=r.state.selection,c=Nq(r,e,t),f=r.state.doc,h=f.slice(c.from,c.to),m,g;r.input.lastKeyCode===8&&Date.now()-100<r.input.lastKeyCodeTime?(m=r.state.selection.to,g="end"):(m=r.state.selection.from,g="start"),r.input.lastKeyCode=null;let b=Fq(h.content,c.doc.content,c.from,m,g);if(b&&r.input.domChangeCount++,(wo&&r.input.lastIOSEnter>Date.now()-225||ns)&&a.some(T=>T.nodeType==1&&!$q.test(T.nodeName))&&(!b||b.endA>=b.endB)&&r.someProp("handleKeyDown",T=>T(r,ai(13,"Enter")))){r.input.lastIOSEnter=0;return}if(!b)if(n&&l instanceof yt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!r.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))b={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let T=$1(r,r.state.doc,c.sel);if(T&&!T.eq(r.state.selection)){let j=r.state.tr.setSelection(T);s&&j.setMeta("composition",s),r.dispatch(j)}}return}r.state.selection.from<r.state.selection.to&&b.start==b.endB&&r.state.selection instanceof yt&&(b.start>r.state.selection.from&&b.start<=r.state.selection.from+2&&r.state.selection.from>=c.from?b.start=r.state.selection.from:b.endA<r.state.selection.to&&b.endA>=r.state.selection.to-2&&r.state.selection.to<=c.to&&(b.endB+=r.state.selection.to-b.endA,b.endA=r.state.selection.to)),kn&&Fs<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>c.from&&c.doc.textBetween(b.start-c.from-1,b.start-c.from+1)==" Â "&&(b.start--,b.endA--,b.endB--);let y=c.doc.resolveNoCache(b.start-c.from),x=c.doc.resolveNoCache(b.endB-c.from),k=f.resolve(b.start),S=y.sameParent(x)&&y.parent.inlineContent&&k.end()>=b.endA;if((wo&&r.input.lastIOSEnter>Date.now()-225&&(!S||a.some(T=>T.nodeName=="DIV"||T.nodeName=="P"))||!S&&y.pos<c.doc.content.size&&(!y.sameParent(x)||!y.parent.inlineContent)&&y.pos<x.pos&&!/\S/.test(c.doc.textBetween(y.pos,x.pos,"","")))&&r.someProp("handleKeyDown",T=>T(r,ai(13,"Enter")))){r.input.lastIOSEnter=0;return}if(r.state.selection.anchor>b.start&&Bq(f,b.start,b.endA,y,x)&&r.someProp("handleKeyDown",T=>T(r,ai(8,"Backspace")))){ns&&zr&&r.domObserver.suppressSelectionUpdates();return}zr&&b.endB==b.start&&(r.input.lastChromeDelete=Date.now()),ns&&!S&&y.start()!=x.start()&&x.parentOffset==0&&y.depth==x.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==b.endA&&(b.endB-=2,x=c.doc.resolveNoCache(b.endB-c.from),setTimeout(()=>{r.someProp("handleKeyDown",function(T){return T(r,ai(13,"Enter"))})},20));let A=b.start,C=b.endA,E=T=>{let j=T||r.state.tr.replace(A,C,c.doc.slice(b.start-c.from,b.endB-c.from));if(c.sel){let U=$1(r,j.doc,c.sel);U&&!(zr&&r.composing&&U.empty&&(b.start!=b.endB||r.input.lastChromeDelete<Date.now()-100)&&(U.head==A||U.head==j.mapping.map(C)-1)||kn&&U.empty&&U.head==A)&&j.setSelection(U)}return s&&j.setMeta("composition",s),j.scrollIntoView()},I;if(S)if(y.pos==x.pos){kn&&Fs<=11&&y.parentOffset==0&&(r.domObserver.suppressSelectionUpdates(),setTimeout(()=>cs(r),20));let T=E(r.state.tr.delete(A,C)),j=f.resolve(b.start).marksAcross(f.resolve(b.endA));j&&T.ensureMarks(j),r.dispatch(T)}else if(b.endA==b.endB&&(I=Oq(y.parent.content.cut(y.parentOffset,x.parentOffset),k.parent.content.cut(k.parentOffset,b.endA-k.start())))){let T=E(r.state.tr);I.type=="add"?T.addMark(A,C,I.mark):T.removeMark(A,C,I.mark),r.dispatch(T)}else if(y.parent.child(y.index()).isText&&y.index()==x.index()-(x.textOffset?0:1)){let T=y.parent.textBetween(y.parentOffset,x.parentOffset),j=()=>E(r.state.tr.insertText(T,A,C));r.someProp("handleTextInput",U=>U(r,A,C,T,j))||r.dispatch(j())}else r.dispatch(E());else r.dispatch(E())}function $1(r,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:y0(r,e.resolve(t.anchor),e.resolve(t.head))}function Oq(r,e){let t=r.firstChild.marks,n=e.firstChild.marks,a=t,s=n,i,u,l;for(let f=0;f<n.length;f++)a=n[f].removeFromSet(a);for(let f=0;f<t.length;f++)s=t[f].removeFromSet(s);if(a.length==1&&s.length==0)u=a[0],i="add",l=f=>f.mark(u.addToSet(f.marks));else if(a.length==0&&s.length==1)u=s[0],i="remove",l=f=>f.mark(u.removeFromSet(f.marks));else return null;let c=[];for(let f=0;f<e.childCount;f++)c.push(l(e.child(f)));if(Ze.from(c).eq(r))return{mark:u,type:i}}function Bq(r,e,t,n,a){if(t-e<=a.pos-n.pos||Ff(n,!0,!1)<a.pos)return!1;let s=r.resolve(e);if(!n.parent.isTextblock){let u=s.nodeAfter;return u!=null&&t==e+u.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let i=r.resolve(Ff(s,!0,!0));return!i.parent.isTextblock||i.pos>t||Ff(i,!0,!1)<t?!1:n.parent.content.cut(n.parentOffset).eq(i.parent.content)}function Ff(r,e,t){let n=r.depth,a=e?r.end():r.pos;for(;n>0&&(e||r.indexAfter(n)==r.node(n).childCount);)n--,a++,e=!1;if(t){let s=r.node(n).maybeChild(r.indexAfter(n));for(;s&&!s.isLeaf;)s=s.firstChild,a++}return a}function Fq(r,e,t,n,a){let s=r.findDiffStart(e,t);if(s==null)return null;let{a:i,b:u}=r.findDiffEnd(e,t+r.size,t+e.size);if(a=="end"){let l=Math.max(0,s-Math.min(i,u));n-=i+l-s}if(i<s&&r.size<e.size){let l=n<=s&&n>=i?s-n:0;s-=l,s&&s<e.size&&L1(e.textBetween(s-1,s+1))&&(s+=l?1:-1),u=s+(u-i),i=s}else if(u<s){let l=n<=s&&n>=u?s-n:0;s-=l,s&&s<r.size&&L1(r.textBetween(s-1,s+1))&&(s+=l?1:-1),i=s+(i-u),u=s}return{start:s,endA:i,endB:u}}function L1(r){if(r.length!=2)return!1;let e=r.charCodeAt(0),t=r.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class jy{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new rq,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(q1),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=F1(this),B1(this),this.nodeViews=z1(this),this.docView=g1(this.state.doc,O1(this),Bf(this),this.dom,this),this.domObserver=new Iq(this,(n,a,s,i)=>Lq(this,n,a,s,i)),this.domObserver.start(),nq(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Qh(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(q1),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let a=this.state,s=!1,i=!1;e.storedMarks&&this.composing&&($y(this),i=!0),this.state=e;let u=a.plugins!=e.plugins||this._props.plugins!=t.plugins;if(u||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let g=z1(this);qq(g,this.nodeViews)&&(this.nodeViews=g,s=!0)}(u||t.handleDOMEvents!=this._props.handleDOMEvents)&&Qh(this),this.editable=F1(this),B1(this);let l=Bf(this),c=O1(this),f=a.plugins!=e.plugins&&!a.doc.eq(e.doc)?"reset":e.scrollToSelection>a.scrollToSelection?"to selection":"preserve",h=s||!this.docView.matchesNode(e.doc,c,l);(h||!e.selection.eq(a.selection))&&(i=!0);let m=f=="preserve"&&i&&this.dom.style.overflowAnchor==null&&gz(this);if(i){this.domObserver.stop();let g=h&&(kn||zr)&&!this.composing&&!a.selection.empty&&!e.selection.empty&&zq(a.selection,e.selection);if(h){let b=zr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=gq(this)),(s||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=g1(e.doc,c,l,this.dom,this)),b&&!this.trackWrites&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&qz(this))?cs(this,g):(ky(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(a),!((n=this.dragging)===null||n===void 0)&&n.node&&!a.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,a),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():m&&bz(m)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof xt){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&d1(this,t.getBoundingClientRect(),e)}else d1(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let n=this.directPlugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let n=this.state.plugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}}updateDraggedNode(e,t){let n=e.node,a=-1;if(this.state.doc.nodeAt(n.from)==n.node)a=n.from;else{let s=n.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==n.node&&(a=s)}this.dragging=new Oy(e.slice,e.move,a<0?void 0:xt.create(this.state.doc,a))}someProp(e,t){let n=this._props&&this._props[e],a;if(n!=null&&(a=t?t(n):n))return a;for(let i=0;i<this.directPlugins.length;i++){let u=this.directPlugins[i].props[e];if(u!=null&&(a=t?t(u):u))return a}let s=this.state.plugins;if(s)for(let i=0;i<s.length;i++){let u=s[i].props[e];if(u!=null&&(a=t?t(u):u))return a}}hasFocus(){if(kn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&_z(this.dom),cs(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Ez(this,e)}coordsAtPos(e,t=1){return vy(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let a=this.docView.posFromDOM(e,t,n);if(a==null)throw new RangeError("DOM position not inside the editor");return a}endOfTextblock(e,t){return Iz(this,t||this.state,e)}pasteHTML(e,t){return Ou(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Ou(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return x0(this,e)}destroy(){this.docView&&(aq(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Bf(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,oz())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return iq(this,e)}domSelectionRange(){let e=this.domSelection();return e?an&&this.root.nodeType===11&&fz(this.dom.ownerDocument)==this.dom&&Mq(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}jy.prototype.dispatch=function(r){let e=this._props.dispatchTransaction;e?e.call(this,r):this.updateState(this.state.apply(r))};function O1(r){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(r.editable),r.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(r.state)),t)for(let n in t)n=="class"?e.class+=" "+t[n]:n=="style"?e.style=(e.style?e.style+";":"")+t[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(t[n]))}),e.translate||(e.translate="no"),[dn.node(0,r.state.doc.content.size,e)]}function B1(r){if(r.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),r.cursorWrapper={dom:e,deco:dn.widget(r.state.selection.from,e,{raw:!0,marks:r.markCursor})}}else r.cursorWrapper=null}function F1(r){return!r.someProp("editable",e=>e(r.state)===!1)}function zq(r,e){let t=Math.min(r.$anchor.sharedDepth(r.head),e.$anchor.sharedDepth(e.head));return r.$anchor.start(t)!=e.$anchor.start(t)}function z1(r){let e=Object.create(null);function t(n){for(let a in n)Object.prototype.hasOwnProperty.call(e,a)||(e[a]=n[a])}return r.someProp("nodeViews",t),r.someProp("markViews",t),e}function qq(r,e){let t=0,n=0;for(let a in r){if(r[a]!=e[a])return!0;t++}for(let a in e)n++;return t!=n}function q1(r){if(r.spec.state||r.spec.filterTransaction||r.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Hs={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Dc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},jq=typeof navigator<"u"&&/Mac/.test(navigator.platform),Hq=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Gr=0;Gr<10;Gr++)Hs[48+Gr]=Hs[96+Gr]=String(Gr);for(var Gr=1;Gr<=24;Gr++)Hs[Gr+111]="F"+Gr;for(var Gr=65;Gr<=90;Gr++)Hs[Gr]=String.fromCharCode(Gr+32),Dc[Gr]=String.fromCharCode(Gr);for(var zf in Hs)Dc.hasOwnProperty(zf)||(Dc[zf]=Hs[zf]);function Uq(r){var e=jq&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||Hq&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?Dc:Hs)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const Vq=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Wq=typeof navigator<"u"&&/Win/.test(navigator.platform);function Qq(r){let e=r.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let n,a,s,i;for(let u=0;u<e.length-1;u++){let l=e[u];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))a=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Vq?i=!0:a=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(t="Alt-"+t),a&&(t="Ctrl-"+t),i&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function Gq(r){let e=Object.create(null);for(let t in r)e[Qq(t)]=r[t];return e}function qf(r,e,t=!0){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t&&e.shiftKey&&(r="Shift-"+r),r}function Kq(r){return new Jt({props:{handleKeyDown:Hy(r)}})}function Hy(r){let e=Gq(r);return function(t,n){let a=Uq(n),s,i=e[qf(a,n)];if(i&&i(t.state,t.dispatch,t))return!0;if(a.length==1&&a!=" "){if(n.shiftKey){let u=e[qf(a,n,!1)];if(u&&u(t.state,t.dispatch,t))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(Wq&&n.ctrlKey&&n.altKey)&&(s=Hs[n.keyCode])&&s!=a){let u=e[qf(s,n)];if(u&&u(t.state,t.dispatch,t))return!0}}return!1}}var Jq=Object.defineProperty,D0=(r,e)=>{for(var t in e)Jq(r,t,{get:e[t],enumerable:!0})};function Kd(r){const{state:e,transaction:t}=r;let{selection:n}=t,{doc:a}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return n},get doc(){return a},get tr(){return n=t.selection,a=t.doc,s=t.storedMarks,t}}}var Jd=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:a}=t,{tr:s}=n,i=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([u,l])=>[u,(...f)=>{const h=l(...f)(i);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(s),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:a,state:s}=this,{view:i}=a,u=[],l=!!e,c=e||s.tr,f=()=>(!l&&t&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(c),u.every(m=>m===!0)),h={...Object.fromEntries(Object.entries(n).map(([m,g])=>[m,(...y)=>{const x=this.buildProps(c,t),k=g(...y)(x);return u.push(k),h}])),run:f};return h}createCan(e){const{rawCommands:t,state:n}=this,a=!1,s=e||n.tr,i=this.buildProps(s,a);return{...Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...f)=>c(...f)({...i,dispatch:void 0})])),chain:()=>this.createChain(s,a)}}buildProps(e,t=!0){const{rawCommands:n,editor:a,state:s}=this,{view:i}=a,u={tr:e,editor:a,view:i,state:Kd({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...f)=>c(...f)(u)]))}};return u}},Uy={};D0(Uy,{blur:()=>Zq,clearContent:()=>Yq,clearNodes:()=>Xq,command:()=>ej,createParagraphNear:()=>tj,cut:()=>rj,deleteCurrentNode:()=>nj,deleteNode:()=>aj,deleteRange:()=>sj,deleteSelection:()=>ij,enter:()=>oj,exitCode:()=>uj,extendMarkRange:()=>lj,first:()=>cj,focus:()=>fj,forEach:()=>hj,insertContent:()=>pj,insertContentAt:()=>gj,joinBackward:()=>yj,joinDown:()=>_j,joinForward:()=>xj,joinItemBackward:()=>wj,joinItemForward:()=>kj,joinTextblockBackward:()=>Ej,joinTextblockForward:()=>Sj,joinUp:()=>bj,keyboardShortcut:()=>Dj,lift:()=>Cj,liftEmptyBlock:()=>Ij,liftListItem:()=>Tj,newlineInCode:()=>Mj,resetAttributes:()=>Rj,scrollIntoView:()=>Nj,selectAll:()=>Pj,selectNodeBackward:()=>$j,selectNodeForward:()=>Lj,selectParentNode:()=>Oj,selectTextblockEnd:()=>Bj,selectTextblockStart:()=>Fj,setContent:()=>zj,setMark:()=>iH,setMeta:()=>oH,setNode:()=>uH,setNodeSelection:()=>lH,setTextDirection:()=>cH,setTextSelection:()=>dH,sinkListItem:()=>fH,splitBlock:()=>hH,splitListItem:()=>pH,toggleList:()=>vH,toggleMark:()=>mH,toggleNode:()=>gH,toggleWrap:()=>bH,undoInputRule:()=>_H,unsetAllMarks:()=>yH,unsetMark:()=>xH,unsetTextDirection:()=>wH,updateAttributes:()=>kH,wrapIn:()=>EH,wrapInList:()=>SH});var Zq=()=>({editor:r,view:e})=>(requestAnimationFrame(()=>{var t;r.isDestroyed||(e.dom.blur(),(t=window?.getSelection())==null||t.removeAllRanges())}),!0),Yq=(r=!0)=>({commands:e})=>e.setContent("",{emitUpdate:r}),Xq=()=>({state:r,tr:e,dispatch:t})=>{const{selection:n}=e,{ranges:a}=n;return t&&a.forEach(({$from:s,$to:i})=>{r.doc.nodesBetween(s.pos,i.pos,(u,l)=>{if(u.type.isText)return;const{doc:c,mapping:f}=e,h=c.resolve(f.map(l)),m=c.resolve(f.map(l+u.nodeSize)),g=h.blockRange(m);if(!g)return;const b=Wi(g);if(u.type.isTextblock){const{defaultType:y}=h.parent.contentMatchAt(h.index());e.setNodeMarkup(g.start,y)}(b||b===0)&&e.lift(g,b)})}),!0},ej=r=>e=>r(e),tj=()=>({state:r,dispatch:e})=>v0(r,e),rj=(r,e)=>({editor:t,tr:n})=>{const{state:a}=t,s=a.doc.slice(r.from,r.to);n.deleteRange(r.from,r.to);const i=n.mapping.map(e);return n.insert(i,s.content),n.setSelection(new yt(n.doc.resolve(Math.max(i-1,0)))),!0},nj=()=>({tr:r,dispatch:e})=>{const{selection:t}=r,n=t.$anchor.node();if(n.content.size>0)return!1;const a=r.selection.$anchor;for(let s=a.depth;s>0;s-=1)if(a.node(s).type===n.type){if(e){const u=a.before(s),l=a.after(s);r.delete(u,l).scrollIntoView()}return!0}return!1};function Tr(r,e){if(typeof r=="string"){if(!e.nodes[r])throw Error(`There is no node type named '${r}'. Maybe you forgot to add the extension?`);return e.nodes[r]}return r}var aj=r=>({tr:e,state:t,dispatch:n})=>{const a=Tr(r,t.schema),s=e.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===a){if(n){const l=s.before(i),c=s.after(i);e.delete(l,c).scrollIntoView()}return!0}return!1},sj=r=>({tr:e,dispatch:t})=>{const{from:n,to:a}=r;return t&&e.delete(n,a),!0},ij=()=>({state:r,dispatch:e})=>Vd(r,e),oj=()=>({commands:r})=>r.keyboardShortcut("Enter"),uj=()=>({state:r,dispatch:e})=>Y_(r,e);function C0(r){return Object.prototype.toString.call(r)==="[object RegExp]"}function Cc(r,e,t={strict:!0}){const n=Object.keys(e);return n.length?n.every(a=>t.strict?e[a]===r[a]:C0(e[a])?e[a].test(r[a]):e[a]===r[a]):!0}function Vy(r,e,t={}){return r.find(n=>n.type===e&&Cc(Object.fromEntries(Object.keys(t).map(a=>[a,n.attrs[a]])),t))}function j1(r,e,t={}){return!!Vy(r,e,t)}function I0(r,e,t){var n;if(!r||!e)return;let a=r.parent.childAfter(r.parentOffset);if((!a.node||!a.node.marks.some(f=>f.type===e))&&(a=r.parent.childBefore(r.parentOffset)),!a.node||!a.node.marks.some(f=>f.type===e)||(t=t||((n=a.node.marks[0])==null?void 0:n.attrs),!Vy([...a.node.marks],e,t)))return;let i=a.index,u=r.start()+a.offset,l=i+1,c=u+a.node.nodeSize;for(;i>0&&j1([...r.parent.child(i-1).marks],e,t);)i-=1,u-=r.parent.child(i).nodeSize;for(;l<r.parent.childCount&&j1([...r.parent.child(l).marks],e,t);)c+=r.parent.child(l).nodeSize,l+=1;return{from:u,to:c}}function gs(r,e){if(typeof r=="string"){if(!e.marks[r])throw Error(`There is no mark type named '${r}'. Maybe you forgot to add the extension?`);return e.marks[r]}return r}var lj=(r,e={})=>({tr:t,state:n,dispatch:a})=>{const s=gs(r,n.schema),{doc:i,selection:u}=t,{$from:l,from:c,to:f}=u;if(a){const h=I0(l,s,e);if(h&&h.from<=c&&h.to>=f){const m=yt.create(i,h.from,h.to);t.setSelection(m)}}return!0},cj=r=>e=>{const t=typeof r=="function"?r(e):r;for(let n=0;n<t.length;n+=1)if(t[n](e))return!0;return!1};function Wy(r){return r instanceof yt}function ci(r=0,e=0,t=0){return Math.min(Math.max(r,e),t)}function Qy(r,e=null){if(!e)return null;const t=Tt.atStart(r),n=Tt.atEnd(r);if(e==="start"||e===!0)return t;if(e==="end")return n;const a=t.from,s=n.to;return e==="all"?yt.create(r,ci(0,a,s),ci(r.content.size,a,s)):yt.create(r,ci(e,a,s),ci(e,a,s))}function H1(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Ic(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function dj(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var fj=(r=null,e={})=>({editor:t,view:n,tr:a,dispatch:s})=>{e={scrollIntoView:!0,...e};const i=()=>{(Ic()||H1())&&n.dom.focus(),dj()&&!Ic()&&!H1()&&n.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{t.isDestroyed||(n.focus(),e?.scrollIntoView&&t.commands.scrollIntoView())})};if(n.hasFocus()&&r===null||r===!1)return!0;if(s&&r===null&&!Wy(t.state.selection))return i(),!0;const u=Qy(a.doc,r)||t.state.selection,l=t.state.selection.eq(u);return s&&(l||a.setSelection(u),l&&a.storedMarks&&a.setStoredMarks(a.storedMarks),i()),!0},hj=(r,e)=>t=>r.every((n,a)=>e(n,{...t,index:a})),pj=(r,e)=>({tr:t,commands:n})=>n.insertContentAt({from:t.selection.from,to:t.selection.to},r,e),Gy=r=>{const e=r.childNodes;for(let t=e.length-1;t>=0;t-=1){const n=e[t];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?r.removeChild(n):n.nodeType===1&&Gy(n)}return r};function $l(r){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${r}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return Gy(t)}function Fu(r,e,t){if(r instanceof ls||r instanceof Ze)return r;t={slice:!0,parseOptions:{},...t};const n=typeof r=="object"&&r!==null,a=typeof r=="string";if(n)try{if(Array.isArray(r)&&r.length>0)return Ze.fromArray(r.map(u=>e.nodeFromJSON(u)));const i=e.nodeFromJSON(r);return t.errorOnInvalidContent&&i.check(),i}catch(s){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",r,"Error:",s),Fu("",e,t)}if(a){if(t.errorOnInvalidContent){let i=!1,u="";const l=new jd({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(i=!0,u=typeof c=="string"?c:c.outerHTML,null)}]}})});if(t.slice?Yn.fromSchema(l).parseSlice($l(r),t.parseOptions):Yn.fromSchema(l).parse($l(r),t.parseOptions),t.errorOnInvalidContent&&i)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const s=Yn.fromSchema(e);return t.slice?s.parseSlice($l(r),t.parseOptions).content:s.parse($l(r),t.parseOptions)}return Fu("",e,t)}function vj(r,e,t){const n=r.steps.length-1;if(n<e)return;const a=r.steps[n];if(!(a instanceof Rr||a instanceof Nr))return;const s=r.mapping.maps[n];let i=0;s.forEach((u,l,c,f)=>{i===0&&(i=f)}),r.setSelection(Tt.near(r.doc.resolve(i),t))}var mj=r=>!("type"in r),gj=(r,e,t)=>({tr:n,dispatch:a,editor:s})=>{var i;if(a){t={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let u;const l=x=>{s.emit("contentError",{editor:s,error:x,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Fu(e,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(x){l(x)}try{u=Fu(e,s.schema,{parseOptions:c,errorOnInvalidContent:(i=t.errorOnInvalidContent)!=null?i:s.options.enableContentCheck})}catch(x){return l(x),!1}let{from:f,to:h}=typeof r=="number"?{from:r,to:r}:{from:r.from,to:r.to},m=!0,g=!0;if((mj(u)?u:[u]).forEach(x=>{x.check(),m=m?x.isText&&x.marks.length===0:!1,g=g?x.isBlock:!1}),f===h&&g){const{parent:x}=n.doc.resolve(f);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(f-=1,h+=1)}let y;if(m){if(Array.isArray(e))y=e.map(x=>x.text||"").join("");else if(e instanceof Ze){let x="";e.forEach(k=>{k.text&&(x+=k.text)}),y=x}else typeof e=="object"&&e&&e.text?y=e.text:y=e;n.insertText(y,f,h)}else{y=u;const x=n.doc.resolve(f),k=x.node(),S=x.parentOffset===0,A=k.isText||k.isTextblock,C=k.content.size>0;S&&A&&C&&(f=Math.max(0,f-1)),n.replaceWith(f,h,y)}t.updateSelection&&vj(n,n.steps.length-1,-1),t.applyInputRules&&n.setMeta("applyInputRules",{from:f,text:y}),t.applyPasteRules&&n.setMeta("applyPasteRules",{from:f,text:y})}return!0},bj=()=>({state:r,dispatch:e})=>K_(r,e),_j=()=>({state:r,dispatch:e})=>J_(r,e),yj=()=>({state:r,dispatch:e})=>o0(r,e),xj=()=>({state:r,dispatch:e})=>c0(r,e),wj=()=>({state:r,dispatch:e,tr:t})=>{try{const n=Lo(r.doc,r.selection.$from.pos,-1);return n==null?!1:(t.join(n,2),e&&e(t),!0)}catch{return!1}},kj=()=>({state:r,dispatch:e,tr:t})=>{try{const n=Lo(r.doc,r.selection.$from.pos,1);return n==null?!1:(t.join(n,2),e&&e(t),!0)}catch{return!1}},Ej=()=>({state:r,dispatch:e})=>V_(r,e),Sj=()=>({state:r,dispatch:e})=>W_(r,e);function Ky(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Aj(r){const e=r.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let n,a,s,i;for(let u=0;u<e.length-1;u+=1){const l=e[u];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))a=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Ic()||Ky()?i=!0:a=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return n&&(t=`Alt-${t}`),a&&(t=`Ctrl-${t}`),i&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}var Dj=r=>({editor:e,view:t,tr:n,dispatch:a})=>{const s=Aj(r).split(/-(?!$)/),i=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),u=new KeyboardEvent("keydown",{key:i==="Space"?" ":i,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{t.someProp("handleKeyDown",c=>c(t,u))});return l?.steps.forEach(c=>{const f=c.map(n.mapping);f&&a&&n.maybeStep(f)}),!0};function Us(r,e,t={}){const{from:n,to:a,empty:s}=r.selection,i=e?Tr(e,r.schema):null,u=[];r.doc.nodesBetween(n,a,(h,m)=>{if(h.isText)return;const g=Math.max(n,m),b=Math.min(a,m+h.nodeSize);u.push({node:h,from:g,to:b})});const l=a-n,c=u.filter(h=>i?i.name===h.node.type.name:!0).filter(h=>Cc(h.node.attrs,t,{strict:!1}));return s?!!c.length:c.reduce((h,m)=>h+m.to-m.from,0)>=l}var Cj=(r,e={})=>({state:t,dispatch:n})=>{const a=Tr(r,t.schema);return Us(t,a,e)?Z_(t,n):!1},Ij=()=>({state:r,dispatch:e})=>m0(r,e),Tj=r=>({state:e,dispatch:t})=>{const n=Tr(r,e.schema);return iy(n)(e,t)},Mj=()=>({state:r,dispatch:e})=>h0(r,e);function Zd(r,e){return e.nodes[r]?"node":e.marks[r]?"mark":null}function U1(r,e){const t=typeof e=="string"?[e]:e;return Object.keys(r).reduce((n,a)=>(t.includes(a)||(n[a]=r[a]),n),{})}var Rj=(r,e)=>({tr:t,state:n,dispatch:a})=>{let s=null,i=null;const u=Zd(typeof r=="string"?r:r.name,n.schema);if(!u)return!1;u==="node"&&(s=Tr(r,n.schema)),u==="mark"&&(i=gs(r,n.schema));let l=!1;return t.selection.ranges.forEach(c=>{n.doc.nodesBetween(c.$from.pos,c.$to.pos,(f,h)=>{s&&s===f.type&&(l=!0,a&&t.setNodeMarkup(h,void 0,U1(f.attrs,e))),i&&f.marks.length&&f.marks.forEach(m=>{i===m.type&&(l=!0,a&&t.addMark(h,h+f.nodeSize,i.create(U1(m.attrs,e))))})})}),l},Nj=()=>({tr:r,dispatch:e})=>(e&&r.scrollIntoView(),!0),Pj=()=>({tr:r,dispatch:e})=>{if(e){const t=new wn(r.doc);r.setSelection(t)}return!0},$j=()=>({state:r,dispatch:e})=>u0(r,e),Lj=()=>({state:r,dispatch:e})=>d0(r,e),Oj=()=>({state:r,dispatch:e})=>X_(r,e),Bj=()=>({state:r,dispatch:e})=>ny(r,e),Fj=()=>({state:r,dispatch:e})=>ry(r,e);function Gh(r,e,t={},n={}){return Fu(r,e,{slice:!1,parseOptions:t,errorOnInvalidContent:n.errorOnInvalidContent})}var zj=(r,{errorOnInvalidContent:e,emitUpdate:t=!0,parseOptions:n={}}={})=>({editor:a,tr:s,dispatch:i,commands:u})=>{const{doc:l}=s;if(n.preserveWhitespace!=="full"){const c=Gh(r,a.schema,n,{errorOnInvalidContent:e??a.options.enableContentCheck});return i&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!t),!0}return i&&s.setMeta("preventUpdate",!t),u.insertContentAt({from:0,to:l.content.size},r,{parseOptions:n,errorOnInvalidContent:e??a.options.enableContentCheck})};function Jy(r,e){const t=gs(e,r.schema),{from:n,to:a,empty:s}=r.selection,i=[];s?(r.storedMarks&&i.push(...r.storedMarks),i.push(...r.selection.$head.marks())):r.doc.nodesBetween(n,a,l=>{i.push(...l.marks)});const u=i.find(l=>l.type.name===t.name);return u?{...u.attrs}:{}}function Zy(r,e){const t=new s0(r);return e.forEach(n=>{n.steps.forEach(a=>{t.step(a)})}),t}function qj(r){for(let e=0;e<r.edgeCount;e+=1){const{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function jj(r,e,t){const n=[];return r.nodesBetween(e.from,e.to,(a,s)=>{t(a)&&n.push({node:a,pos:s})}),n}function Hj(r,e){for(let t=r.depth;t>0;t-=1){const n=r.node(t);if(e(n))return{pos:t>0?r.before(t):0,start:r.start(t),depth:t,node:n}}}function Yd(r){return e=>Hj(e.$from,r)}function wt(r,e,t){return r.config[e]===void 0&&r.parent?wt(r.parent,e,t):typeof r.config[e]=="function"?r.config[e].bind({...t,parent:r.parent?wt(r.parent,e,t):null}):r.config[e]}function T0(r){return r.map(e=>{const t={name:e.name,options:e.options,storage:e.storage},n=wt(e,"addExtensions",t);return n?[e,...T0(n())]:e}).flat(10)}function vl(r,e){const t=Vi.fromSchema(e).serializeFragment(r),a=document.implementation.createHTMLDocument().createElement("div");return a.appendChild(t),a.innerHTML}function Yy(r){return typeof r=="function"}function er(r,e=void 0,...t){return Yy(r)?e?r.bind(e)(...t):r(...t):r}function Uj(r={}){return Object.keys(r).length===0&&r.constructor===Object}function ko(r){const e=r.filter(a=>a.type==="extension"),t=r.filter(a=>a.type==="node"),n=r.filter(a=>a.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:n}}function Xy(r){const e=[],{nodeExtensions:t,markExtensions:n}=ko(r),a=[...t,...n],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return r.forEach(i=>{const u={name:i.name,options:i.options,storage:i.storage,extensions:a},l=wt(i,"addGlobalAttributes",u);if(!l)return;l().forEach(f=>{f.types.forEach(h=>{Object.entries(f.attributes).forEach(([m,g])=>{e.push({type:h,name:m,attribute:{...s,...g}})})})})}),a.forEach(i=>{const u={name:i.name,options:i.options,storage:i.storage},l=wt(i,"addAttributes",u);if(!l)return;const c=l();Object.entries(c).forEach(([f,h])=>{const m={...s,...h};typeof m?.default=="function"&&(m.default=m.default()),m?.isRequired&&m?.default===void 0&&delete m.default,e.push({type:i.name,name:f,attribute:m})})}),e}function Sr(...r){return r.filter(e=>!!e).reduce((e,t)=>{const n={...e};return Object.entries(t).forEach(([a,s])=>{if(!n[a]){n[a]=s;return}if(a==="class"){const u=s?String(s).split(" "):[],l=n[a]?n[a].split(" "):[],c=u.filter(f=>!l.includes(f));n[a]=[...l,...c].join(" ")}else if(a==="style"){const u=s?s.split(";").map(f=>f.trim()).filter(Boolean):[],l=n[a]?n[a].split(";").map(f=>f.trim()).filter(Boolean):[],c=new Map;l.forEach(f=>{const[h,m]=f.split(":").map(g=>g.trim());c.set(h,m)}),u.forEach(f=>{const[h,m]=f.split(":").map(g=>g.trim());c.set(h,m)}),n[a]=Array.from(c.entries()).map(([f,h])=>`${f}: ${h}`).join("; ")}else n[a]=s}),n},{})}function Tc(r,e){return e.filter(t=>t.type===r.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(r.attrs)||{}:{[t.name]:r.attrs[t.name]}).reduce((t,n)=>Sr(t,n),{})}function Vj(r){return typeof r!="string"?r:r.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(r):r==="true"?!0:r==="false"?!1:r}function V1(r,e){return"style"in r?r:{...r,getAttrs:t=>{const n=r.getAttrs?r.getAttrs(t):r.attrs;if(n===!1)return!1;const a=e.reduce((s,i)=>{const u=i.attribute.parseHTML?i.attribute.parseHTML(t):Vj(t.getAttribute(i.name));return u==null?s:{...s,[i.name]:u}},{});return{...n,...a}}}}function W1(r){return Object.fromEntries(Object.entries(r).filter(([e,t])=>e==="attrs"&&Uj(t)?!1:t!=null))}function Q1(r){var e,t;const n={};return!((e=r?.attribute)!=null&&e.isRequired)&&"default"in(r?.attribute||{})&&(n.default=r.attribute.default),((t=r?.attribute)==null?void 0:t.validate)!==void 0&&(n.validate=r.attribute.validate),[r.name,n]}function Wj(r,e){var t;const n=Xy(r),{nodeExtensions:a,markExtensions:s}=ko(r),i=(t=a.find(c=>wt(c,"topNode")))==null?void 0:t.name,u=Object.fromEntries(a.map(c=>{const f=n.filter(k=>k.type===c.name),h={name:c.name,options:c.options,storage:c.storage,editor:e},m=r.reduce((k,S)=>{const A=wt(S,"extendNodeSchema",h);return{...k,...A?A(c):{}}},{}),g=W1({...m,content:er(wt(c,"content",h)),marks:er(wt(c,"marks",h)),group:er(wt(c,"group",h)),inline:er(wt(c,"inline",h)),atom:er(wt(c,"atom",h)),selectable:er(wt(c,"selectable",h)),draggable:er(wt(c,"draggable",h)),code:er(wt(c,"code",h)),whitespace:er(wt(c,"whitespace",h)),linebreakReplacement:er(wt(c,"linebreakReplacement",h)),defining:er(wt(c,"defining",h)),isolating:er(wt(c,"isolating",h)),attrs:Object.fromEntries(f.map(Q1))}),b=er(wt(c,"parseHTML",h));b&&(g.parseDOM=b.map(k=>V1(k,f)));const y=wt(c,"renderHTML",h);y&&(g.toDOM=k=>y({node:k,HTMLAttributes:Tc(k,f)}));const x=wt(c,"renderText",h);return x&&(g.toText=x),[c.name,g]})),l=Object.fromEntries(s.map(c=>{const f=n.filter(x=>x.type===c.name),h={name:c.name,options:c.options,storage:c.storage,editor:e},m=r.reduce((x,k)=>{const S=wt(k,"extendMarkSchema",h);return{...x,...S?S(c):{}}},{}),g=W1({...m,inclusive:er(wt(c,"inclusive",h)),excludes:er(wt(c,"excludes",h)),group:er(wt(c,"group",h)),spanning:er(wt(c,"spanning",h)),code:er(wt(c,"code",h)),attrs:Object.fromEntries(f.map(Q1))}),b=er(wt(c,"parseHTML",h));b&&(g.parseDOM=b.map(x=>V1(x,f)));const y=wt(c,"renderHTML",h);return y&&(g.toDOM=x=>y({mark:x,HTMLAttributes:Tc(x,f)})),[c.name,g]}));return new jd({topNode:i,nodes:u,marks:l})}function Qj(r){const e=r.filter((t,n)=>r.indexOf(t)!==n);return Array.from(new Set(e))}function Mc(r){return r.sort((t,n)=>{const a=wt(t,"priority")||100,s=wt(n,"priority")||100;return a>s?-1:a<s?1:0})}function ex(r){const e=Mc(T0(r)),t=Qj(e.map(n=>n.name));return t.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${t.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),e}function tx(r,e,t){const{from:n,to:a}=e,{blockSeparator:s=`

`,textSerializers:i={}}=t||{};let u="";return r.nodesBetween(n,a,(l,c,f,h)=>{var m;l.isBlock&&c>n&&(u+=s);const g=i?.[l.type.name];if(g)return f&&(u+=g({node:l,pos:c,parent:f,index:h,range:e})),!1;l.isText&&(u+=(m=l?.text)==null?void 0:m.slice(Math.max(n,c)-c,a-c))}),u}function Gj(r,e){const t={from:0,to:r.content.size};return tx(r,t,e)}function rx(r){return Object.fromEntries(Object.entries(r.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}function Kj(r,e){const t=Tr(e,r.schema),{from:n,to:a}=r.selection,s=[];r.doc.nodesBetween(n,a,u=>{s.push(u)});const i=s.reverse().find(u=>u.type.name===t.name);return i?{...i.attrs}:{}}function nx(r,e){const t=Zd(typeof e=="string"?e:e.name,r.schema);return t==="node"?Kj(r,e):t==="mark"?Jy(r,e):{}}function Jj(r,e=JSON.stringify){const t={};return r.filter(n=>{const a=e(n);return Object.prototype.hasOwnProperty.call(t,a)?!1:t[a]=!0})}function Zj(r){const e=Jj(r);return e.length===1?e:e.filter((t,n)=>!e.filter((s,i)=>i!==n).some(s=>t.oldRange.from>=s.oldRange.from&&t.oldRange.to<=s.oldRange.to&&t.newRange.from>=s.newRange.from&&t.newRange.to<=s.newRange.to))}function ax(r){const{mapping:e,steps:t}=r,n=[];return e.maps.forEach((a,s)=>{const i=[];if(a.ranges.length)a.forEach((u,l)=>{i.push({from:u,to:l})});else{const{from:u,to:l}=t[s];if(u===void 0||l===void 0)return;i.push({from:u,to:l})}i.forEach(({from:u,to:l})=>{const c=e.slice(s).map(u,-1),f=e.slice(s).map(l),h=e.invert().map(c,-1),m=e.invert().map(f);n.push({oldRange:{from:h,to:m},newRange:{from:c,to:f}})})}),Zj(n)}function M0(r,e,t){const n=[];return r===e?t.resolve(r).marks().forEach(a=>{const s=t.resolve(r),i=I0(s,a.type);i&&n.push({mark:a,...i})}):t.nodesBetween(r,e,(a,s)=>{!a||a?.nodeSize===void 0||n.push(...a.marks.map(i=>({from:s,to:s+a.nodeSize,mark:i})))}),n}var Yj=(r,e,t,n=20)=>{const a=r.doc.resolve(t);let s=n,i=null;for(;s>0&&i===null;){const u=a.node(s);u?.type.name===e?i=u:s-=1}return[i,s]};function Ll(r,e){return e.nodes[r]||e.marks[r]||null}function ec(r,e,t){return Object.fromEntries(Object.entries(t).filter(([n])=>{const a=r.find(s=>s.type===e&&s.name===n);return a?a.attribute.keepOnSplit:!1}))}var Xj=(r,e=500)=>{let t="";const n=r.parentOffset;return r.parent.nodesBetween(Math.max(0,n-e),n,(a,s,i,u)=>{var l,c;const f=((c=(l=a.type.spec).toText)==null?void 0:c.call(l,{node:a,pos:s,parent:i,index:u}))||a.textContent||"%leaf%";t+=a.isAtom&&!a.isText?f:f.slice(0,Math.max(0,n-s))}),t};function Kh(r,e,t={}){const{empty:n,ranges:a}=r.selection,s=e?gs(e,r.schema):null;if(n)return!!(r.storedMarks||r.selection.$from.marks()).filter(h=>s?s.name===h.type.name:!0).find(h=>Cc(h.attrs,t,{strict:!1}));let i=0;const u=[];if(a.forEach(({$from:h,$to:m})=>{const g=h.pos,b=m.pos;r.doc.nodesBetween(g,b,(y,x)=>{if(!y.isText&&!y.marks.length)return;const k=Math.max(g,x),S=Math.min(b,x+y.nodeSize),A=S-k;i+=A,u.push(...y.marks.map(C=>({mark:C,from:k,to:S})))})}),i===0)return!1;const l=u.filter(h=>s?s.name===h.mark.type.name:!0).filter(h=>Cc(h.mark.attrs,t,{strict:!1})).reduce((h,m)=>h+m.to-m.from,0),c=u.filter(h=>s?h.mark.type!==s&&h.mark.type.excludes(s):!0).reduce((h,m)=>h+m.to-m.from,0);return(l>0?l+c:l)>=i}function eH(r,e,t={}){if(!e)return Us(r,null,t)||Kh(r,null,t);const n=Zd(e,r.schema);return n==="node"?Us(r,e,t):n==="mark"?Kh(r,e,t):!1}var tH=(r,e)=>{const{$from:t,$to:n,$anchor:a}=r.selection;if(e){const s=Yd(u=>u.type.name===e)(r.selection);if(!s)return!1;const i=r.doc.resolve(s.pos+1);return a.pos+1===i.end()}return!(n.parentOffset<n.parent.nodeSize-2||t.pos!==n.pos)},rH=r=>{const{$from:e,$to:t}=r.selection;return!(e.parentOffset>0||e.pos!==t.pos)};function G1(r,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===r.name):e}function K1(r,e){const{nodeExtensions:t}=ko(e),n=t.find(i=>i.name===r);if(!n)return!1;const a={name:n.name,options:n.options,storage:n.storage},s=er(wt(n,"group",a));return typeof s!="string"?!1:s.split(" ").includes("list")}function Xd(r,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var n;if(t){if(r.type.name==="hardBreak")return!0;if(r.isText)return/^\s*$/m.test((n=r.text)!=null?n:"")}if(r.isText)return!r.text;if(r.isAtom||r.isLeaf)return!1;if(r.content.childCount===0)return!0;if(e){let a=!0;return r.content.forEach(s=>{a!==!1&&(Xd(s,{ignoreWhitespace:t,checkChildren:e})||(a=!1))}),a}return!1}function sx(r){return r instanceof xt}var ix=class ox{constructor(e){this.position=e}static fromJSON(e){return new ox(e.position)}toJSON(){return{position:this.position}}};function nH(r,e){const t=e.mapping.mapResult(r.position);return{position:new ix(t.pos),mapResult:t}}function aH(r){return new ix(r)}function sH(r,e,t){var n;const{selection:a}=e;let s=null;if(Wy(a)&&(s=a.$cursor),s){const u=(n=r.storedMarks)!=null?n:s.marks();return s.parent.type.allowsMarkType(t)&&(!!t.isInSet(u)||!u.some(c=>c.type.excludes(t)))}const{ranges:i}=a;return i.some(({$from:u,$to:l})=>{let c=u.depth===0?r.doc.inlineContent&&r.doc.type.allowsMarkType(t):!1;return r.doc.nodesBetween(u.pos,l.pos,(f,h,m)=>{if(c)return!1;if(f.isInline){const g=!m||m.type.allowsMarkType(t),b=!!t.isInSet(f.marks)||!f.marks.some(y=>y.type.excludes(t));c=g&&b}return!c}),c})}var iH=(r,e={})=>({tr:t,state:n,dispatch:a})=>{const{selection:s}=t,{empty:i,ranges:u}=s,l=gs(r,n.schema);if(a)if(i){const c=Jy(n,l);t.addStoredMark(l.create({...c,...e}))}else u.forEach(c=>{const f=c.$from.pos,h=c.$to.pos;n.doc.nodesBetween(f,h,(m,g)=>{const b=Math.max(g,f),y=Math.min(g+m.nodeSize,h);m.marks.find(k=>k.type===l)?m.marks.forEach(k=>{l===k.type&&t.addMark(b,y,l.create({...k.attrs,...e}))}):t.addMark(b,y,l.create(e))})});return sH(n,t,l)},oH=(r,e)=>({tr:t})=>(t.setMeta(r,e),!0),uH=(r,e={})=>({state:t,dispatch:n,chain:a})=>{const s=Tr(r,t.schema);let i;return t.selection.$anchor.sameParent(t.selection.$head)&&(i=t.selection.$anchor.parent.attrs),s.isTextblock?a().command(({commands:u})=>xc(s,{...i,...e})(t)?!0:u.clearNodes()).command(({state:u})=>xc(s,{...i,...e})(u,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},lH=r=>({tr:e,dispatch:t})=>{if(t){const{doc:n}=e,a=ci(r,0,n.content.size),s=xt.create(n,a);e.setSelection(s)}return!0},cH=(r,e)=>({tr:t,state:n,dispatch:a})=>{const{selection:s}=n;let i,u;return typeof e=="number"?(i=e,u=e):e&&"from"in e&&"to"in e?(i=e.from,u=e.to):(i=s.from,u=s.to),a&&t.doc.nodesBetween(i,u,(l,c)=>{l.isText||t.setNodeMarkup(c,void 0,{...l.attrs,dir:r})}),!0},dH=r=>({tr:e,dispatch:t})=>{if(t){const{doc:n}=e,{from:a,to:s}=typeof r=="number"?{from:r,to:r}:r,i=yt.atStart(n).from,u=yt.atEnd(n).to,l=ci(a,i,u),c=ci(s,i,u),f=yt.create(n,l,c);e.setSelection(f)}return!0},fH=r=>({state:e,dispatch:t})=>{const n=Tr(r,e.schema);return oy(n)(e,t)};function J1(r,e){const t=r.storedMarks||r.selection.$to.parentOffset&&r.selection.$from.marks();if(t){const n=t.filter(a=>e?.includes(a.type.name));r.tr.ensureMarks(n)}}var hH=({keepMarks:r=!0}={})=>({tr:e,state:t,dispatch:n,editor:a})=>{const{selection:s,doc:i}=e,{$from:u,$to:l}=s,c=a.extensionManager.attributes,f=ec(c,u.node().type.name,u.node().attrs);if(s instanceof xt&&s.node.isBlock)return!u.parentOffset||!On(i,u.pos)?!1:(n&&(r&&J1(t,a.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const h=l.parentOffset===l.parent.content.size,m=u.depth===0?void 0:qj(u.node(-1).contentMatchAt(u.indexAfter(-1)));let g=h&&m?[{type:m,attrs:f}]:void 0,b=On(e.doc,e.mapping.map(u.pos),1,g);if(!g&&!b&&On(e.doc,e.mapping.map(u.pos),1,m?[{type:m}]:void 0)&&(b=!0,g=m?[{type:m,attrs:f}]:void 0),n){if(b&&(s instanceof yt&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,g),m&&!h&&!u.parentOffset&&u.parent.type!==m)){const y=e.mapping.map(u.before()),x=e.doc.resolve(y);u.node(-1).canReplaceWith(x.index(),x.index()+1,m)&&e.setNodeMarkup(e.mapping.map(u.before()),m)}r&&J1(t,a.extensionManager.splittableMarks),e.scrollIntoView()}return b},pH=(r,e={})=>({tr:t,state:n,dispatch:a,editor:s})=>{var i;const u=Tr(r,n.schema),{$from:l,$to:c}=n.selection,f=n.selection.node;if(f&&f.isBlock||l.depth<2||!l.sameParent(c))return!1;const h=l.node(-1);if(h.type!==u)return!1;const m=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==u||l.index(-2)!==l.node(-2).childCount-1)return!1;if(a){let k=Ze.empty;const S=l.index(-1)?1:l.index(-2)?2:3;for(let j=l.depth-S;j>=l.depth-3;j-=1)k=Ze.from(l.node(j).copy(k));const A=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...ec(m,l.node().type.name,l.node().attrs),...e},E=((i=u.contentMatch.defaultType)==null?void 0:i.createAndFill(C))||void 0;k=k.append(Ze.from(u.createAndFill(null,E)||void 0));const I=l.before(l.depth-(S-1));t.replace(I,l.after(-A),new mt(k,4-S,0));let T=-1;t.doc.nodesBetween(I,t.doc.content.size,(j,U)=>{if(T>-1)return!1;j.isTextblock&&j.content.size===0&&(T=U+1)}),T>-1&&t.setSelection(yt.near(t.doc.resolve(T))),t.scrollIntoView()}return!0}const g=c.pos===l.end()?h.contentMatchAt(0).defaultType:null,b={...ec(m,h.type.name,h.attrs),...e},y={...ec(m,l.node().type.name,l.node().attrs),...e};t.delete(l.pos,c.pos);const x=g?[{type:u,attrs:b},{type:g,attrs:y}]:[{type:u,attrs:b}];if(!On(t.doc,l.pos,2))return!1;if(a){const{selection:k,storedMarks:S}=n,{splittableMarks:A}=s.extensionManager,C=S||k.$to.parentOffset&&k.$from.marks();if(t.split(l.pos,2,x).scrollIntoView(),!C||!a)return!0;const E=C.filter(I=>A.includes(I.type.name));t.ensureMarks(E)}return!0},jf=(r,e)=>{const t=Yd(i=>i.type===e)(r.selection);if(!t)return!0;const n=r.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(n===void 0)return!0;const a=r.doc.nodeAt(n);return t.node.type===a?.type&&ja(r.doc,t.pos)&&r.join(t.pos),!0},Hf=(r,e)=>{const t=Yd(i=>i.type===e)(r.selection);if(!t)return!0;const n=r.doc.resolve(t.start).after(t.depth);if(n===void 0)return!0;const a=r.doc.nodeAt(n);return t.node.type===a?.type&&ja(r.doc,n)&&r.join(n),!0},vH=(r,e,t,n={})=>({editor:a,tr:s,state:i,dispatch:u,chain:l,commands:c,can:f})=>{const{extensions:h,splittableMarks:m}=a.extensionManager,g=Tr(r,i.schema),b=Tr(e,i.schema),{selection:y,storedMarks:x}=i,{$from:k,$to:S}=y,A=k.blockRange(S),C=x||y.$to.parentOffset&&y.$from.marks();if(!A)return!1;const E=Yd(I=>K1(I.type.name,h))(y);if(A.depth>=1&&E&&A.depth-E.depth<=1){if(E.node.type===g)return c.liftListItem(b);if(K1(E.node.type.name,h)&&g.validContent(E.node.content)&&u)return l().command(()=>(s.setNodeMarkup(E.pos,g),!0)).command(()=>jf(s,g)).command(()=>Hf(s,g)).run()}return!t||!C||!u?l().command(()=>f().wrapInList(g,n)?!0:c.clearNodes()).wrapInList(g,n).command(()=>jf(s,g)).command(()=>Hf(s,g)).run():l().command(()=>{const I=f().wrapInList(g,n),T=C.filter(j=>m.includes(j.type.name));return s.ensureMarks(T),I?!0:c.clearNodes()}).wrapInList(g,n).command(()=>jf(s,g)).command(()=>Hf(s,g)).run()},mH=(r,e={},t={})=>({state:n,commands:a})=>{const{extendEmptyMarkRange:s=!1}=t,i=gs(r,n.schema);return Kh(n,i,e)?a.unsetMark(i,{extendEmptyMarkRange:s}):a.setMark(i,e)},gH=(r,e,t={})=>({state:n,commands:a})=>{const s=Tr(r,n.schema),i=Tr(e,n.schema),u=Us(n,s,t);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),u?a.setNode(i,l):a.setNode(s,{...l,...t})},bH=(r,e={})=>({state:t,commands:n})=>{const a=Tr(r,t.schema);return Us(t,a,e)?n.lift(a):n.wrapIn(a,e)},_H=()=>({state:r,dispatch:e})=>{const t=r.plugins;for(let n=0;n<t.length;n+=1){const a=t[n];let s;if(a.spec.isInputRules&&(s=a.getState(r))){if(e){const i=r.tr,u=s.transform;for(let l=u.steps.length-1;l>=0;l-=1)i.step(u.steps[l].invert(u.docs[l]));if(s.text){const l=i.doc.resolve(s.from).marks();i.replaceWith(s.from,s.to,r.schema.text(s.text,l))}else i.delete(s.from,s.to)}return!0}}return!1},yH=()=>({tr:r,dispatch:e})=>{const{selection:t}=r,{empty:n,ranges:a}=t;return n||e&&a.forEach(s=>{r.removeMark(s.$from.pos,s.$to.pos)}),!0},xH=(r,e={})=>({tr:t,state:n,dispatch:a})=>{var s;const{extendEmptyMarkRange:i=!1}=e,{selection:u}=t,l=gs(r,n.schema),{$from:c,empty:f,ranges:h}=u;if(!a)return!0;if(f&&i){let{from:m,to:g}=u;const b=(s=c.marks().find(x=>x.type===l))==null?void 0:s.attrs,y=I0(c,l,b);y&&(m=y.from,g=y.to),t.removeMark(m,g,l)}else h.forEach(m=>{t.removeMark(m.$from.pos,m.$to.pos,l)});return t.removeStoredMark(l),!0},wH=r=>({tr:e,state:t,dispatch:n})=>{const{selection:a}=t;let s,i;return typeof r=="number"?(s=r,i=r):r&&"from"in r&&"to"in r?(s=r.from,i=r.to):(s=a.from,i=a.to),n&&e.doc.nodesBetween(s,i,(u,l)=>{if(u.isText)return;const c={...u.attrs};delete c.dir,e.setNodeMarkup(l,void 0,c)}),!0},kH=(r,e={})=>({tr:t,state:n,dispatch:a})=>{let s=null,i=null;const u=Zd(typeof r=="string"?r:r.name,n.schema);if(!u)return!1;u==="node"&&(s=Tr(r,n.schema)),u==="mark"&&(i=gs(r,n.schema));let l=!1;return t.selection.ranges.forEach(c=>{const f=c.$from.pos,h=c.$to.pos;let m,g,b,y;t.selection.empty?n.doc.nodesBetween(f,h,(x,k)=>{s&&s===x.type&&(l=!0,b=Math.max(k,f),y=Math.min(k+x.nodeSize,h),m=k,g=x)}):n.doc.nodesBetween(f,h,(x,k)=>{k<f&&s&&s===x.type&&(l=!0,b=Math.max(k,f),y=Math.min(k+x.nodeSize,h),m=k,g=x),k>=f&&k<=h&&(s&&s===x.type&&(l=!0,a&&t.setNodeMarkup(k,void 0,{...x.attrs,...e})),i&&x.marks.length&&x.marks.forEach(S=>{if(i===S.type&&(l=!0,a)){const A=Math.max(k,f),C=Math.min(k+x.nodeSize,h);t.addMark(A,C,i.create({...S.attrs,...e}))}}))}),g&&(m!==void 0&&a&&t.setNodeMarkup(m,void 0,{...g.attrs,...e}),i&&g.marks.length&&g.marks.forEach(x=>{i===x.type&&a&&t.addMark(b,y,i.create({...x.attrs,...e}))}))}),l},EH=(r,e={})=>({state:t,dispatch:n})=>{const a=Tr(r,t.schema);return ay(a,e)(t,n)},SH=(r,e={})=>({state:t,dispatch:n})=>{const a=Tr(r,t.schema);return sy(a,e)(t,n)},AH=class{constructor(){this.callbacks={}}on(r,e){return this.callbacks[r]||(this.callbacks[r]=[]),this.callbacks[r].push(e),this}emit(r,...e){const t=this.callbacks[r];return t&&t.forEach(n=>n.apply(this,e)),this}off(r,e){const t=this.callbacks[r];return t&&(e?this.callbacks[r]=t.filter(n=>n!==e):delete this.callbacks[r]),this}once(r,e){const t=(...n)=>{this.off(r,t),e.apply(this,n)};return this.on(r,t)}removeAllListeners(){this.callbacks={}}},ef=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},DH=(r,e)=>{if(C0(e))return e.exec(r);const t=e(r);if(!t)return null;const n=[t.text];return n.index=t.index,n.input=r,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(t.replaceWith)),n};function Ol(r){var e;const{editor:t,from:n,to:a,text:s,rules:i,plugin:u}=r,{view:l}=t;if(l.composing)return!1;const c=l.state.doc.resolve(n);if(c.parent.type.spec.code||(e=c.nodeBefore||c.nodeAfter)!=null&&e.marks.find(m=>m.type.spec.code))return!1;let f=!1;const h=Xj(c)+s;return i.forEach(m=>{if(f)return;const g=DH(h,m.find);if(!g)return;const b=l.state.tr,y=Kd({state:l.state,transaction:b}),x={from:n-(g[0].length-s.length),to:a},{commands:k,chain:S,can:A}=new Jd({editor:t,state:y});m.handler({state:y,range:x,match:g,commands:k,chain:S,can:A})===null||!b.steps.length||(m.undoable&&b.setMeta(u,{transform:b,from:n,to:a,text:s}),l.dispatch(b),f=!0)}),f}function CH(r){const{editor:e,rules:t}=r,n=new Jt({state:{init(){return null},apply(a,s,i){const u=a.getMeta(n);if(u)return u;const l=a.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:f}=l;typeof f=="string"?f=f:f=vl(Ze.from(f),i.schema);const{from:h}=l,m=h+f.length;Ol({editor:e,from:h,to:m,text:f,rules:t,plugin:n})}),a.selectionSet||a.docChanged?null:s}},props:{handleTextInput(a,s,i,u){return Ol({editor:e,from:s,to:i,text:u,rules:t,plugin:n})},handleDOMEvents:{compositionend:a=>(setTimeout(()=>{const{$cursor:s}=a.state.selection;s&&Ol({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:n})}),!1)},handleKeyDown(a,s){if(s.key!=="Enter")return!1;const{$cursor:i}=a.state.selection;return i?Ol({editor:e,from:i.pos,to:i.pos,text:`
`,rules:t,plugin:n}):!1}},isInputRules:!0});return n}function IH(r){return Object.prototype.toString.call(r).slice(8,-1)}function Bl(r){return IH(r)!=="Object"?!1:r.constructor===Object&&Object.getPrototypeOf(r)===Object.prototype}function ux(r,e){const t={...r};return Bl(r)&&Bl(e)&&Object.keys(e).forEach(n=>{Bl(e[n])&&Bl(r[n])?t[n]=ux(r[n],e[n]):t[n]=e[n]}),t}var R0=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...er(wt(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...er(wt(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>ux(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},Cn=class lx extends R0{constructor(){super(...arguments),this.type="mark"}static create(e={}){const t=typeof e=="function"?e():e;return new lx(t)}static handleExit({editor:e,mark:t}){const{tr:n}=e.state,a=e.state.selection.$from;if(a.pos===a.end()){const i=a.marks();if(!!!i.find(c=>c?.type.name===t.name))return!1;const l=i.find(c=>c?.type.name===t.name);return l&&n.removeStoredMark(l),n.insertText(" ",a.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function TH(r){return typeof r=="number"}var MH=class{constructor(r){this.find=r.find,this.handler=r.handler}},RH=(r,e,t)=>{if(C0(e))return[...r.matchAll(e)];const n=e(r,t);return n?n.map(a=>{const s=[a.text];return s.index=a.index,s.input=r,s.data=a.data,a.replaceWith&&(a.text.includes(a.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(a.replaceWith)),s}):[]};function NH(r){const{editor:e,state:t,from:n,to:a,rule:s,pasteEvent:i,dropEvent:u}=r,{commands:l,chain:c,can:f}=new Jd({editor:e,state:t}),h=[];return t.doc.nodesBetween(n,a,(g,b)=>{var y,x,k,S,A;if((x=(y=g.type)==null?void 0:y.spec)!=null&&x.code||!(g.isText||g.isTextblock||g.isInline))return;const C=(A=(S=(k=g.content)==null?void 0:k.size)!=null?S:g.nodeSize)!=null?A:0,E=Math.max(n,b),I=Math.min(a,b+C);if(E>=I)return;const T=g.isText?g.text||"":g.textBetween(E-b,I-b,void 0,"ï¿¼");RH(T,s.find,i).forEach(U=>{if(U.index===void 0)return;const G=E+U.index+1,Q=G+U[0].length,ee={from:t.tr.mapping.map(G),to:t.tr.mapping.map(Q)},oe=s.handler({state:t,range:ee,match:U,commands:l,chain:c,can:f,pasteEvent:i,dropEvent:u});h.push(oe)})}),h.every(g=>g!==null)}var Fl=null,PH=r=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)==null||e.setData("text/html",r),t};function $H(r){const{editor:e,rules:t}=r;let n=null,a=!1,s=!1,i=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const l=({state:f,from:h,to:m,rule:g,pasteEvt:b})=>{const y=f.tr,x=Kd({state:f,transaction:y});if(!(!NH({editor:e,state:x,from:Math.max(h-1,0),to:m.b-1,rule:g,pasteEvent:b,dropEvent:u})||!y.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return i=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,y}};return t.map(f=>new Jt({view(h){const m=b=>{var y;n=(y=h.dom.parentElement)!=null&&y.contains(b.target)?h.dom.parentElement:null,n&&(Fl=e)},g=()=>{Fl&&(Fl=null)};return window.addEventListener("dragstart",m),window.addEventListener("dragend",g),{destroy(){window.removeEventListener("dragstart",m),window.removeEventListener("dragend",g)}}},props:{handleDOMEvents:{drop:(h,m)=>{if(s=n===h.dom.parentElement,u=m,!s){const g=Fl;g?.isEditable&&setTimeout(()=>{const b=g.state.selection;b&&g.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(h,m)=>{var g;const b=(g=m.clipboardData)==null?void 0:g.getData("text/html");return i=m,a=!!b?.includes("data-pm-slice"),!1}}},appendTransaction:(h,m,g)=>{const b=h[0],y=b.getMeta("uiEvent")==="paste"&&!a,x=b.getMeta("uiEvent")==="drop"&&!s,k=b.getMeta("applyPasteRules"),S=!!k;if(!y&&!x&&!S)return;if(S){let{text:E}=k;typeof E=="string"?E=E:E=vl(Ze.from(E),g.schema);const{from:I}=k,T=I+E.length,j=PH(E);return l({rule:f,state:g,from:I,to:{b:T},pasteEvt:j})}const A=m.doc.content.findDiffStart(g.doc.content),C=m.doc.content.findDiffEnd(g.doc.content);if(!(!TH(A)||!C||A===C.b))return l({rule:f,state:g,from:A,to:C,pasteEvt:i})}}))}var tf=class{constructor(r,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=r,this.extensions=ex(r),this.schema=Wj(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((r,e)=>{const t={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ll(e.name,this.schema)},n=wt(e,"addCommands",t);return n?{...r,...n()}:r},{})}get plugins(){const{editor:r}=this;return Mc([...this.extensions].reverse()).flatMap(n=>{const a={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:r,type:Ll(n.name,this.schema)},s=[],i=wt(n,"addKeyboardShortcuts",a);let u={};if(n.type==="mark"&&wt(n,"exitable",a)&&(u.ArrowRight=()=>Cn.handleExit({editor:r,mark:n})),i){const m=Object.fromEntries(Object.entries(i()).map(([g,b])=>[g,()=>b({editor:r})]));u={...u,...m}}const l=Kq(u);s.push(l);const c=wt(n,"addInputRules",a);if(G1(n,r.options.enableInputRules)&&c){const m=c();if(m&&m.length){const g=CH({editor:r,rules:m}),b=Array.isArray(g)?g:[g];s.push(...b)}}const f=wt(n,"addPasteRules",a);if(G1(n,r.options.enablePasteRules)&&f){const m=f();if(m&&m.length){const g=$H({editor:r,rules:m});s.push(...g)}}const h=wt(n,"addProseMirrorPlugins",a);if(h){const m=h();s.push(...m)}return s})}get attributes(){return Xy(this.extensions)}get nodeViews(){const{editor:r}=this,{nodeExtensions:e}=ko(this.extensions);return Object.fromEntries(e.filter(t=>!!wt(t,"addNodeView")).map(t=>{const n=this.attributes.filter(l=>l.type===t.name),a={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:r,type:Tr(t.name,this.schema)},s=wt(t,"addNodeView",a);if(!s)return[];const i=s();if(!i)return[];const u=(l,c,f,h,m)=>{const g=Tc(l,n);return i({node:l,view:c,getPos:f,decorations:h,innerDecorations:m,editor:r,extension:t,HTMLAttributes:g})};return[t.name,u]}))}dispatchTransaction(r){const{editor:e}=this;return Mc([...this.extensions].reverse()).reduceRight((n,a)=>{const s={name:a.name,options:a.options,storage:this.editor.extensionStorage[a.name],editor:e,type:Ll(a.name,this.schema)},i=wt(a,"dispatchTransaction",s);return i?u=>{i.call(s,{transaction:u,next:n})}:n},r)}get markViews(){const{editor:r}=this,{markExtensions:e}=ko(this.extensions);return Object.fromEntries(e.filter(t=>!!wt(t,"addMarkView")).map(t=>{const n=this.attributes.filter(u=>u.type===t.name),a={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:r,type:gs(t.name,this.schema)},s=wt(t,"addMarkView",a);if(!s)return[];const i=(u,l,c)=>{const f=Tc(u,n);return s()({mark:u,view:l,inline:c,editor:r,extension:t,HTMLAttributes:f,updateAttributes:h=>{QH(u,r,h)}})};return[t.name,i]}))}setupExtensions(){const r=this.extensions;this.editor.extensionStorage=Object.fromEntries(r.map(e=>[e.name,e.storage])),r.forEach(e=>{var t;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ll(e.name,this.schema)};e.type==="mark"&&((t=er(wt(e,"keepOnSplit",n)))==null||t)&&this.splittableMarks.push(e.name);const a=wt(e,"onBeforeCreate",n),s=wt(e,"onCreate",n),i=wt(e,"onUpdate",n),u=wt(e,"onSelectionUpdate",n),l=wt(e,"onTransaction",n),c=wt(e,"onFocus",n),f=wt(e,"onBlur",n),h=wt(e,"onDestroy",n);a&&this.editor.on("beforeCreate",a),s&&this.editor.on("create",s),i&&this.editor.on("update",i),u&&this.editor.on("selectionUpdate",u),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),f&&this.editor.on("blur",f),h&&this.editor.on("destroy",h)})}};tf.resolve=ex;tf.sort=Mc;tf.flatten=T0;var cx={};D0(cx,{ClipboardTextSerializer:()=>fx,Commands:()=>hx,Delete:()=>px,Drop:()=>vx,Editable:()=>mx,FocusEvents:()=>bx,Keymap:()=>_x,Paste:()=>yx,Tabindex:()=>xx,TextDirection:()=>wx,focusEventsPluginKey:()=>gx});var br=class dx extends R0{constructor(){super(...arguments),this.type="extension"}static create(e={}){const t=typeof e=="function"?e():e;return new dx(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}},fx=br.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Jt({key:new or("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:r}=this,{state:e,schema:t}=r,{doc:n,selection:a}=e,{ranges:s}=a,i=Math.min(...s.map(f=>f.$from.pos)),u=Math.max(...s.map(f=>f.$to.pos)),l=rx(t);return tx(n,{from:i,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),hx=br.create({name:"commands",addCommands(){return{...Uy}}}),px=br.create({name:"delete",onUpdate({transaction:r,appendedTransactions:e}){var t,n,a;const s=()=>{var i,u,l,c;if((c=(l=(u=(i=this.editor.options.coreExtensionOptions)==null?void 0:i.delete)==null?void 0:u.filterTransaction)==null?void 0:l.call(u,r))!=null?c:r.getMeta("y-sync$"))return;const f=Zy(r.before,[r,...e]);ax(f).forEach(g=>{f.mapping.mapResult(g.oldRange.from).deletedAfter&&f.mapping.mapResult(g.oldRange.to).deletedBefore&&f.before.nodesBetween(g.oldRange.from,g.oldRange.to,(b,y)=>{const x=y+b.nodeSize-2,k=g.oldRange.from<=y&&x<=g.oldRange.to;this.editor.emit("delete",{type:"node",node:b,from:y,to:x,newFrom:f.mapping.map(y),newTo:f.mapping.map(x),deletedRange:g.oldRange,newRange:g.newRange,partial:!k,editor:this.editor,transaction:r,combinedTransform:f})})});const m=f.mapping;f.steps.forEach((g,b)=>{var y,x;if(g instanceof Gn){const k=m.slice(b).map(g.from,-1),S=m.slice(b).map(g.to),A=m.invert().map(k,-1),C=m.invert().map(S),E=(y=f.doc.nodeAt(k-1))==null?void 0:y.marks.some(T=>T.eq(g.mark)),I=(x=f.doc.nodeAt(S))==null?void 0:x.marks.some(T=>T.eq(g.mark));this.editor.emit("delete",{type:"mark",mark:g.mark,from:g.from,to:g.to,deletedRange:{from:A,to:C},newRange:{from:k,to:S},partial:!!(I||E),editor:this.editor,transaction:r,combinedTransform:f})}})};(a=(n=(t=this.editor.options.coreExtensionOptions)==null?void 0:t.delete)==null?void 0:n.async)==null||a?setTimeout(s,0):s()}}),vx=br.create({name:"drop",addProseMirrorPlugins(){return[new Jt({key:new or("tiptapDrop"),props:{handleDrop:(r,e,t,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:n})}}})]}}),mx=br.create({name:"editable",addProseMirrorPlugins(){return[new Jt({key:new or("editable"),props:{editable:()=>this.editor.options.editable}})]}}),gx=new or("focusEvents"),bx=br.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:r}=this;return[new Jt({key:gx,props:{handleDOMEvents:{focus:(e,t)=>{r.isFocused=!0;const n=r.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,t)=>{r.isFocused=!1;const n=r.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),_x=br.create({name:"keymap",addKeyboardShortcuts(){const r=()=>this.editor.commands.first(({commands:i})=>[()=>i.undoInputRule(),()=>i.command(({tr:u})=>{const{selection:l,doc:c}=u,{empty:f,$anchor:h}=l,{pos:m,parent:g}=h,b=h.parent.isTextblock&&m>0?u.doc.resolve(m-1):h,y=b.parent.type.spec.isolating,x=h.pos-h.parentOffset,k=y&&b.parent.childCount===1?x===h.pos:Tt.atStart(c).from===m;return!f||!g.type.isTextblock||g.textContent.length||!k||k&&h.parent.type.name==="paragraph"?!1:i.clearNodes()}),()=>i.deleteSelection(),()=>i.joinBackward(),()=>i.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:i})=>[()=>i.deleteSelection(),()=>i.deleteCurrentNode(),()=>i.joinForward(),()=>i.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:i})=>[()=>i.newlineInCode(),()=>i.createParagraphNear(),()=>i.liftEmptyBlock(),()=>i.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:r,"Mod-Backspace":r,"Shift-Backspace":r,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},a={...n},s={...n,"Ctrl-h":r,"Alt-Backspace":r,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Ic()||Ky()?s:a},addProseMirrorPlugins(){return[new Jt({key:new or("clearDocument"),appendTransaction:(r,e,t)=>{if(r.some(y=>y.getMeta("composition")))return;const n=r.some(y=>y.docChanged)&&!e.doc.eq(t.doc),a=r.some(y=>y.getMeta("preventClearDocument"));if(!n||a)return;const{empty:s,from:i,to:u}=e.selection,l=Tt.atStart(e.doc).from,c=Tt.atEnd(e.doc).to;if(s||!(i===l&&u===c)||!Xd(t.doc))return;const m=t.tr,g=Kd({state:t,transaction:m}),{commands:b}=new Jd({editor:this.editor,state:g});if(b.clearNodes(),!!m.steps.length)return m}})]}}),yx=br.create({name:"paste",addProseMirrorPlugins(){return[new Jt({key:new or("tiptapPaste"),props:{handlePaste:(r,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),xx=br.create({name:"tabindex",addProseMirrorPlugins(){return[new Jt({key:new or("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),wx=br.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:r}=ko(this.extensions);return[{types:r.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const t=e.getAttribute("dir");return t&&(t==="ltr"||t==="rtl"||t==="auto")?t:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Jt({key:new or("textDirection"),props:{attributes:()=>{const r=this.options.direction;return r?{dir:r}:{}}}})]}}),LH=class no{constructor(e,t,n=!1,a=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=t,this.currentNode=a}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You canât set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new no(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new no(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new no(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,n)=>{const a=t.isBlock&&!t.isTextblock,s=t.isAtom&&!t.isText,i=this.pos+n+(s?0:1);if(i<0||i>this.resolvedPos.doc.nodeSize-2)return;const u=this.resolvedPos.doc.resolve(i);if(!a&&u.depth<=this.depth)return;const l=new no(u,this.editor,a,a?t:null);a&&(l.actualDepth=this.depth+1),e.push(new no(u,this.editor,a,a?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let n=null,a=this.parent;for(;a&&!n;){if(a.node.type.name===e)if(Object.keys(t).length>0){const s=a.node.attrs,i=Object.keys(t);for(let u=0;u<i.length;u+=1){const l=i[u];if(s[l]!==t[l])break}}else n=a;a=a.parent}return n}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},n=!1){let a=[];if(!this.children||this.children.length===0)return a;const s=Object.keys(t);return this.children.forEach(i=>{n&&a.length>0||(i.node.type.name===e&&s.every(l=>t[l]===i.node.attrs[l])&&a.push(i),!(n&&a.length>0)&&(a=a.concat(i.querySelectorAll(e,t,n))))}),a}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}},OH=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function BH(r,e,t){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const a=document.createElement("style");return e&&a.setAttribute("nonce",e),a.setAttribute("data-tiptap-style",""),a.innerHTML=r,document.getElementsByTagName("head")[0].appendChild(a),a}var kx=class extends AH{constructor(r={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:nH,createMappablePosition:aH},this.setOptions(r),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:a,moved:s})=>this.options.onDrop(n,a,s)),this.on("paste",({event:n,slice:a})=>this.options.onPaste(n,a)),this.on("delete",this.options.onDelete);const e=this.createDoc(),t=Qy(e,this.options.autofocus);this.editorState=so.create({doc:e,schema:this.schema,selection:t||void 0}),this.options.element&&this.mount(this.options.element)}mount(r){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(r),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const r=this.editorView.dom;r?.editor&&delete r.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(r){console.warn("Failed to remove CSS element:",r)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=BH(OH,this.options.injectNonce))}setOptions(r={}){this.options={...this.options,...r},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(r,e=!0){this.setOptions({editable:r}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:r=>{this.editorState=r},dispatch:r=>{this.dispatchTransaction(r)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(r,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in r)return Reflect.get(r,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(r,e){const t=Yy(e)?e(r,[...this.state.plugins]):[...this.state.plugins,r],n=this.state.reconfigure({plugins:t});return this.view.updateState(n),n}unregisterPlugin(r){if(this.isDestroyed)return;const e=this.state.plugins;let t=e;if([].concat(r).forEach(a=>{const s=typeof a=="string"?`${a}$`:a.key;t=t.filter(i=>!i.key.startsWith(s))}),e.length===t.length)return;const n=this.state.reconfigure({plugins:t});return this.view.updateState(n),n}createExtensionManager(){var r,e;const n=[...this.options.enableCoreExtensions?[mx,fx.configure({blockSeparator:(e=(r=this.options.coreExtensionOptions)==null?void 0:r.clipboardTextSerializer)==null?void 0:e.blockSeparator}),hx,bx,_x,xx,vx,yx,px,wx.configure({direction:this.options.textDirection})].filter(a=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[a.name]!==!1:!0):[],...this.options.extensions].filter(a=>["extension","node","mark"].includes(a?.type));this.extensionManager=new tf(n,this)}createCommandManager(){this.commandManager=new Jd({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let r;try{r=Gh(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(t=>t.name!=="collaboration"),this.createExtensionManager()}}),r=Gh(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return r}createView(r){const{editorProps:e,enableExtensionDispatchTransaction:t}=this.options,n=e.dispatchTransaction||this.dispatchTransaction.bind(this),a=t?this.extensionManager.dispatchTransaction(n):n;this.editorView=new jy(r,{...e,attributes:{role:"textbox",...e?.attributes},dispatchTransaction:a,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.prependClass(),this.injectCSS();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(r){this.isCapturingTransaction=!0,r(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(r){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=r;return}r.steps.forEach(c=>{var f;return(f=this.capturedTransaction)==null?void 0:f.step(c)});return}const{state:e,transactions:t}=this.state.applyTransaction(r),n=!this.state.selection.eq(e.selection),a=t.includes(r),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:r,nextState:e}),!a)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:r,appendedTransactions:t.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:r});const i=t.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),u=i?.getMeta("focus"),l=i?.getMeta("blur");u&&this.emit("focus",{editor:this,event:u.event,transaction:i}),l&&this.emit("blur",{editor:this,event:l.event,transaction:i}),!(r.getMeta("preventUpdate")||!t.some(c=>c.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:r,appendedTransactions:t.slice(1)})}getAttributes(r){return nx(this.state,r)}isActive(r,e){const t=typeof r=="string"?r:null,n=typeof r=="string"?e:r;return eH(this.state,t,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return vl(this.state.doc.content,this.schema)}getText(r){const{blockSeparator:e=`

`,textSerializers:t={}}=r||{};return Gj(this.state.doc,{blockSeparator:e,textSerializers:{...rx(this.schema),...t}})}get isEmpty(){return Xd(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var r,e;return(e=(r=this.editorView)==null?void 0:r.isDestroyed)!=null?e:!0}$node(r,e){var t;return((t=this.$doc)==null?void 0:t.querySelector(r,e))||null}$nodes(r,e){var t;return((t=this.$doc)==null?void 0:t.querySelectorAll(r,e))||null}$pos(r){const e=this.state.doc.resolve(r);return new LH(e,this)}get $doc(){return this.$pos(0)}};function Mi(r){return new ef({find:r.find,handler:({state:e,range:t,match:n})=>{const a=er(r.getAttributes,void 0,n);if(a===!1||a===null)return null;const{tr:s}=e,i=n[n.length-1],u=n[0];if(i){const l=u.search(/\S/),c=t.from+u.indexOf(i),f=c+i.length;if(M0(t.from,t.to,e.doc).filter(g=>g.mark.type.excluded.find(y=>y===r.type&&y!==g.mark.type)).filter(g=>g.to>c).length)return null;f<t.to&&s.delete(f,t.to),c>t.from&&s.delete(t.from+l,c);const m=t.from+l+i.length;s.addMark(t.from+l,m,r.type.create(a||{})),s.removeStoredMark(r.type)}},undoable:r.undoable})}function FH(r){return new ef({find:r.find,handler:({state:e,range:t,match:n})=>{const a=er(r.getAttributes,void 0,n)||{},{tr:s}=e,i=t.from;let u=t.to;const l=r.type.create(a);if(n[1]){const c=n[0].lastIndexOf(n[1]);let f=i+c;f>u?f=u:u=f+n[1].length;const h=n[0][n[0].length-1];s.insertText(h,i+n[0].length-1),s.replaceWith(f,u,l)}else if(n[0]){const c=r.type.isInline?i:i-1;s.insert(c,r.type.create(a)).delete(s.mapping.map(i),s.mapping.map(u))}s.scrollIntoView()},undoable:r.undoable})}function Jh(r){return new ef({find:r.find,handler:({state:e,range:t,match:n})=>{const a=e.doc.resolve(t.from),s=er(r.getAttributes,void 0,n)||{};if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),r.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,r.type,s)},undoable:r.undoable})}function Eo(r){return new ef({find:r.find,handler:({state:e,range:t,match:n,chain:a})=>{const s=er(r.getAttributes,void 0,n)||{},i=e.tr.delete(t.from,t.to),l=i.doc.resolve(t.from).blockRange(),c=l&&a0(l,r.type,s);if(!c)return null;if(i.wrap(l,c),r.keepMarks&&r.editor){const{selection:h,storedMarks:m}=e,{splittableMarks:g}=r.editor.extensionManager,b=m||h.$to.parentOffset&&h.$from.marks();if(b){const y=b.filter(x=>g.includes(x.type.name));i.ensureMarks(y)}}if(r.keepAttributes){const h=r.type.name==="bulletList"||r.type.name==="orderedList"?"listItem":"taskList";a().updateAttributes(h,s).run()}const f=i.doc.resolve(t.from-1).nodeBefore;f&&f.type===r.type&&ja(i.doc,t.from-1)&&(!r.joinPredicate||r.joinPredicate(n,f))&&i.join(t.from-1)},undoable:r.undoable})}function zH(r,e){const{selection:t}=r,{$from:n}=t;if(t instanceof xt){const s=n.index();return n.parent.canReplaceWith(s,s+1,e)}let a=n.depth;for(;a>=0;){const s=n.index(a);if(n.node(a).contentMatchAt(s).matchType(e))return!0;a-=1}return!1}var qH={};D0(qH,{createAtomBlockMarkdownSpec:()=>jH,createBlockMarkdownSpec:()=>HH,createInlineMarkdownSpec:()=>WH,parseAttributes:()=>N0,parseIndentedBlocks:()=>Zh,renderNestedMarkdownContent:()=>$0,serializeAttributes:()=>P0});function N0(r){if(!r?.trim())return{};const e={},t=[],n=r.replace(/["']([^"']*)["']/g,c=>(t.push(c),`__QUOTED_${t.length-1}__`)),a=n.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(a){const c=a.map(f=>f.trim().slice(1));e.class=c.join(" ")}const s=n.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(e.id=s[1]);const i=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(n.matchAll(i)).forEach(([,c,f])=>{var h;const m=parseInt(((h=f.match(/__QUOTED_(\d+)__/))==null?void 0:h[1])||"0",10),g=t[m];g&&(e[c]=g.slice(1,-1))});const l=n.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(f=>{f.match(/^[a-zA-Z][\w-]*$/)&&(e[f]=!0)}),e}function P0(r){if(!r||Object.keys(r).length===0)return"";const e=[];return r.class&&String(r.class).split(/\s+/).filter(Boolean).forEach(n=>e.push(`.${n}`)),r.id&&e.push(`#${r.id}`),Object.entries(r).forEach(([t,n])=>{t==="class"||t==="id"||(n===!0?e.push(t):n!==!1&&n!=null&&e.push(`${t}="${String(n)}"`))}),e.join(" ")}function jH(r){const{nodeName:e,name:t,parseAttributes:n=N0,serializeAttributes:a=P0,defaultAttributes:s={},requiredAttributes:i=[],allowedAttributes:u}=r,l=t||e,c=f=>{if(!u)return f;const h={};return u.forEach(m=>{m in f&&(h[m]=f[m])}),h};return{parseMarkdown:(f,h)=>{const m={...s,...f.attributes};return h.createNode(e,m,[])},markdownTokenizer:{name:e,level:"block",start(f){var h;const m=new RegExp(`^:::${l}(?:\\s|$)`,"m"),g=(h=f.match(m))==null?void 0:h.index;return g!==void 0?g:-1},tokenize(f,h,m){const g=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),b=f.match(g);if(!b)return;const y=b[1]||"",x=n(y);if(!i.find(S=>!(S in x)))return{type:e,raw:b[0],attributes:x}}},renderMarkdown:f=>{const h=c(f.attrs||{}),m=a(h),g=m?` {${m}}`:"";return`:::${l}${g} :::`}}}function HH(r){const{nodeName:e,name:t,getContent:n,parseAttributes:a=N0,serializeAttributes:s=P0,defaultAttributes:i={},content:u="block",allowedAttributes:l}=r,c=t||e,f=h=>{if(!l)return h;const m={};return l.forEach(g=>{g in h&&(m[g]=h[g])}),m};return{parseMarkdown:(h,m)=>{let g;if(n){const y=n(h);g=typeof y=="string"?[{type:"text",text:y}]:y}else u==="block"?g=m.parseChildren(h.tokens||[]):g=m.parseInline(h.tokens||[]);const b={...i,...h.attributes};return m.createNode(e,b,g)},markdownTokenizer:{name:e,level:"block",start(h){var m;const g=new RegExp(`^:::${c}`,"m"),b=(m=h.match(g))==null?void 0:m.index;return b!==void 0?b:-1},tokenize(h,m,g){var b;const y=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),x=h.match(y);if(!x)return;const[k,S=""]=x,A=a(S);let C=1;const E=k.length;let I="";const T=/^:::([\w-]*)(\s.*)?/gm,j=h.slice(E);for(T.lastIndex=0;;){const U=T.exec(j);if(U===null)break;const G=U.index,Q=U[1];if(!((b=U[2])!=null&&b.endsWith(":::"))){if(Q)C+=1;else if(C-=1,C===0){const ee=j.slice(0,G);I=ee.trim();const oe=h.slice(0,E+G+U[0].length);let H=[];if(I)if(u==="block")for(H=g.blockTokens(ee),H.forEach(J=>{J.text&&(!J.tokens||J.tokens.length===0)&&(J.tokens=g.inlineTokens(J.text))});H.length>0;){const J=H[H.length-1];if(J.type==="paragraph"&&(!J.text||J.text.trim()===""))H.pop();else break}else H=g.inlineTokens(I);return{type:e,raw:oe,attributes:A,content:I,tokens:H}}}}}},renderMarkdown:(h,m)=>{const g=f(h.attrs||{}),b=s(g),y=b?` {${b}}`:"",x=m.renderChildren(h.content||[],`

`);return`:::${c}${y}

${x}

:::`}}}function UH(r){if(!r.trim())return{};const e={},t=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let n=t.exec(r);for(;n!==null;){const[,a,s,i]=n;e[a]=s||i,n=t.exec(r)}return e}function VH(r){return Object.entries(r).filter(([,e])=>e!=null).map(([e,t])=>`${e}="${t}"`).join(" ")}function WH(r){const{nodeName:e,name:t,getContent:n,parseAttributes:a=UH,serializeAttributes:s=VH,defaultAttributes:i={},selfClosing:u=!1,allowedAttributes:l}=r,c=t||e,f=m=>{if(!l)return m;const g={};return l.forEach(b=>{const y=typeof b=="string"?b:b.name,x=typeof b=="string"?void 0:b.skipIfDefault;if(y in m){const k=m[y];if(x!==void 0&&k===x)return;g[y]=k}}),g},h=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(m,g)=>{const b={...i,...m.attributes};if(u)return g.createNode(e,b);const y=n?n(m):m.content||"";return y?g.createNode(e,b,[g.createTextNode(y)]):g.createNode(e,b,[])},markdownTokenizer:{name:e,level:"inline",start(m){const g=u?new RegExp(`\\[${h}\\s*[^\\]]*\\]`):new RegExp(`\\[${h}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${h}\\]`),b=m.match(g),y=b?.index;return y!==void 0?y:-1},tokenize(m,g,b){const y=u?new RegExp(`^\\[${h}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${h}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${h}\\]`),x=m.match(y);if(!x)return;let k="",S="";if(u){const[,C]=x;S=C}else{const[,C,E]=x;S=C,k=E||""}const A=a(S.trim());return{type:e,raw:x[0],content:k.trim(),attributes:A}}},renderMarkdown:m=>{let g="";n?g=n(m):m.content&&m.content.length>0&&(g=m.content.filter(k=>k.type==="text").map(k=>k.text).join(""));const b=f(m.attrs||{}),y=s(b),x=y?` ${y}`:"";return u?`[${c}${x}]`:`[${c}${x}]${g}[/${c}]`}}}function Zh(r,e,t){var n,a,s,i;const u=r.split(`
`),l=[];let c="",f=0;const h=e.baseIndentSize||2;for(;f<u.length;){const m=u[f],g=m.match(e.itemPattern);if(!g){if(l.length>0)break;if(m.trim()===""){f+=1,c=`${c}${m}
`;continue}else return}const b=e.extractItemData(g),{indentLevel:y,mainContent:x}=b;c=`${c}${m}
`;const k=[x];for(f+=1;f<u.length;){const E=u[f];if(E.trim()===""){const T=u.slice(f+1).findIndex(G=>G.trim()!=="");if(T===-1)break;if((((a=(n=u[f+1+T].match(/^(\s*)/))==null?void 0:n[1])==null?void 0:a.length)||0)>y){k.push(E),c=`${c}${E}
`,f+=1;continue}else break}if((((i=(s=E.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:i.length)||0)>y)k.push(E),c=`${c}${E}
`,f+=1;else break}let S;const A=k.slice(1);if(A.length>0){const E=A.map(I=>I.slice(y+h)).join(`
`);E.trim()&&(e.customNestedParser?S=e.customNestedParser(E):S=t.blockTokens(E))}const C=e.createToken(b,S);l.push(C)}if(l.length!==0)return{items:l,raw:c}}function $0(r,e,t,n){if(!r||!Array.isArray(r.content))return"";const a=typeof t=="function"?t(n):t,[s,...i]=r.content,u=e.renderChildren([s]),l=[`${a}${u}`];return i&&i.length>0&&i.forEach(c=>{const f=e.renderChildren([c]);if(f){const h=f.split(`
`).map(m=>m?e.indent(m):"").join(`
`);l.push(h)}}),l.join(`
`)}function QH(r,e,t={}){const{state:n}=e,{doc:a,tr:s}=n,i=r;a.descendants((u,l)=>{const c=s.mapping.map(l),f=s.mapping.map(l)+u.nodeSize;let h=null;if(u.marks.forEach(g=>{if(g!==i)return!1;h=g}),!h)return;let m=!1;if(Object.keys(t).forEach(g=>{t[g]!==h.attrs[g]&&(m=!0)}),m){const g=r.type.create({...r.attrs,...t});s.removeMark(c,f,r.type),s.addMark(c,f,g)}}),s.docChanged&&e.view.dispatch(s)}var ur=class Ex extends R0{constructor(){super(...arguments),this.type="node"}static create(e={}){const t=typeof e=="function"?e():e;return new Ex(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function Vs(r){return new MH({find:r.find,handler:({state:e,range:t,match:n,pasteEvent:a})=>{const s=er(r.getAttributes,void 0,n,a);if(s===!1||s===null)return null;const{tr:i}=e,u=n[n.length-1],l=n[0];let c=t.to;if(u){const f=l.search(/\S/),h=t.from+l.indexOf(u),m=h+u.length;if(M0(t.from,t.to,e.doc).filter(b=>b.mark.type.excluded.find(x=>x===r.type&&x!==b.mark.type)).filter(b=>b.to>h).length)return null;m<t.to&&i.delete(m,t.to),h>t.from&&i.delete(t.from+f,h),c=t.from+f+u.length,i.addMark(t.from+f,c,r.type.create(s||{})),i.removeStoredMark(r.type)}}})}var GH=Object.defineProperty,L0=(r,e)=>{for(var t in e)GH(r,t,{get:e[t],enumerable:!0})};function Sx(r){const{state:e,transaction:t}=r;let{selection:n}=t,{doc:a}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return n},get doc(){return a},get tr(){return n=t.selection,a=t.doc,s=t.storedMarks,t}}}var KH=class{constructor(r){this.editor=r.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=r.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:r,editor:e,state:t}=this,{view:n}=e,{tr:a}=t,s=this.buildProps(a);return Object.fromEntries(Object.entries(r).map(([i,u])=>[i,(...c)=>{const f=u(...c)(s);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(a),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(r,e=!0){const{rawCommands:t,editor:n,state:a}=this,{view:s}=n,i=[],u=!!r,l=r||a.tr,c=()=>(!u&&e&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(l),i.every(h=>h===!0)),f={...Object.fromEntries(Object.entries(t).map(([h,m])=>[h,(...b)=>{const y=this.buildProps(l,e),x=m(...b)(y);return i.push(x),f}])),run:c};return f}createCan(r){const{rawCommands:e,state:t}=this,n=!1,a=r||t.tr,s=this.buildProps(a,n);return{...Object.fromEntries(Object.entries(e).map(([u,l])=>[u,(...c)=>l(...c)({...s,dispatch:void 0})])),chain:()=>this.createChain(a,n)}}buildProps(r,e=!0){const{rawCommands:t,editor:n,state:a}=this,{view:s}=n,i={tr:r,editor:n,view:s,state:Sx({state:a,transaction:r}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(r,e),can:()=>this.createCan(r),get commands(){return Object.fromEntries(Object.entries(t).map(([u,l])=>[u,(...c)=>l(...c)(i)]))}};return i}},Ax={};L0(Ax,{blur:()=>JH,clearContent:()=>ZH,clearNodes:()=>YH,command:()=>XH,createParagraphNear:()=>eU,cut:()=>tU,deleteCurrentNode:()=>rU,deleteNode:()=>nU,deleteRange:()=>aU,deleteSelection:()=>sU,enter:()=>iU,exitCode:()=>oU,extendMarkRange:()=>lU,first:()=>cU,focus:()=>hU,forEach:()=>pU,insertContent:()=>vU,insertContentAt:()=>bU,joinBackward:()=>xU,joinDown:()=>yU,joinForward:()=>wU,joinItemBackward:()=>kU,joinItemForward:()=>EU,joinTextblockBackward:()=>SU,joinTextblockForward:()=>AU,joinUp:()=>_U,keyboardShortcut:()=>CU,lift:()=>IU,liftEmptyBlock:()=>TU,liftListItem:()=>MU,newlineInCode:()=>RU,resetAttributes:()=>NU,scrollIntoView:()=>PU,selectAll:()=>$U,selectNodeBackward:()=>LU,selectNodeForward:()=>OU,selectParentNode:()=>BU,selectTextblockEnd:()=>FU,selectTextblockStart:()=>zU,setContent:()=>jU,setMark:()=>rV,setMeta:()=>nV,setNode:()=>aV,setNodeSelection:()=>sV,setTextDirection:()=>iV,setTextSelection:()=>oV,sinkListItem:()=>uV,splitBlock:()=>lV,splitListItem:()=>cV,toggleList:()=>dV,toggleMark:()=>fV,toggleNode:()=>hV,toggleWrap:()=>pV,undoInputRule:()=>vV,unsetAllMarks:()=>mV,unsetMark:()=>gV,unsetTextDirection:()=>bV,updateAttributes:()=>_V,wrapIn:()=>yV,wrapInList:()=>xV});var JH=()=>({editor:r,view:e})=>(requestAnimationFrame(()=>{var t;r.isDestroyed||(e.dom.blur(),(t=window?.getSelection())==null||t.removeAllRanges())}),!0),ZH=(r=!0)=>({commands:e})=>e.setContent("",{emitUpdate:r}),YH=()=>({state:r,tr:e,dispatch:t})=>{const{selection:n}=e,{ranges:a}=n;return t&&a.forEach(({$from:s,$to:i})=>{r.doc.nodesBetween(s.pos,i.pos,(u,l)=>{if(u.type.isText)return;const{doc:c,mapping:f}=e,h=c.resolve(f.map(l)),m=c.resolve(f.map(l+u.nodeSize)),g=h.blockRange(m);if(!g)return;const b=Wi(g);if(u.type.isTextblock){const{defaultType:y}=h.parent.contentMatchAt(h.index());e.setNodeMarkup(g.start,y)}(b||b===0)&&e.lift(g,b)})}),!0},XH=r=>e=>r(e),eU=()=>({state:r,dispatch:e})=>v0(r,e),tU=(r,e)=>({editor:t,tr:n})=>{const{state:a}=t,s=a.doc.slice(r.from,r.to);n.deleteRange(r.from,r.to);const i=n.mapping.map(e);return n.insert(i,s.content),n.setSelection(new yt(n.doc.resolve(Math.max(i-1,0)))),!0},rU=()=>({tr:r,dispatch:e})=>{const{selection:t}=r,n=t.$anchor.node();if(n.content.size>0)return!1;const a=r.selection.$anchor;for(let s=a.depth;s>0;s-=1)if(a.node(s).type===n.type){if(e){const u=a.before(s),l=a.after(s);r.delete(u,l).scrollIntoView()}return!0}return!1};function sn(r,e){if(typeof r=="string"){if(!e.nodes[r])throw Error(`There is no node type named '${r}'. Maybe you forgot to add the extension?`);return e.nodes[r]}return r}var nU=r=>({tr:e,state:t,dispatch:n})=>{const a=sn(r,t.schema),s=e.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===a){if(n){const l=s.before(i),c=s.after(i);e.delete(l,c).scrollIntoView()}return!0}return!1},aU=r=>({tr:e,dispatch:t})=>{const{from:n,to:a}=r;return t&&e.delete(n,a),!0},sU=()=>({state:r,dispatch:e})=>Vd(r,e),iU=()=>({commands:r})=>r.keyboardShortcut("Enter"),oU=()=>({state:r,dispatch:e})=>Y_(r,e);function uU(r){return Object.prototype.toString.call(r)==="[object RegExp]"}function Rc(r,e,t={strict:!0}){const n=Object.keys(e);return n.length?n.every(a=>t.strict?e[a]===r[a]:uU(e[a])?e[a].test(r[a]):e[a]===r[a]):!0}function Dx(r,e,t={}){return r.find(n=>n.type===e&&Rc(Object.fromEntries(Object.keys(t).map(a=>[a,n.attrs[a]])),t))}function Z1(r,e,t={}){return!!Dx(r,e,t)}function Cx(r,e,t){var n;if(!r||!e)return;let a=r.parent.childAfter(r.parentOffset);if((!a.node||!a.node.marks.some(f=>f.type===e))&&(a=r.parent.childBefore(r.parentOffset)),!a.node||!a.node.marks.some(f=>f.type===e)||(t=t||((n=a.node.marks[0])==null?void 0:n.attrs),!Dx([...a.node.marks],e,t)))return;let i=a.index,u=r.start()+a.offset,l=i+1,c=u+a.node.nodeSize;for(;i>0&&Z1([...r.parent.child(i-1).marks],e,t);)i-=1,u-=r.parent.child(i).nodeSize;for(;l<r.parent.childCount&&Z1([...r.parent.child(l).marks],e,t);)c+=r.parent.child(l).nodeSize,l+=1;return{from:u,to:c}}function Ys(r,e){if(typeof r=="string"){if(!e.marks[r])throw Error(`There is no mark type named '${r}'. Maybe you forgot to add the extension?`);return e.marks[r]}return r}var lU=(r,e={})=>({tr:t,state:n,dispatch:a})=>{const s=Ys(r,n.schema),{doc:i,selection:u}=t,{$from:l,from:c,to:f}=u;if(a){const h=Cx(l,s,e);if(h&&h.from<=c&&h.to>=f){const m=yt.create(i,h.from,h.to);t.setSelection(m)}}return!0},cU=r=>e=>{const t=typeof r=="function"?r(e):r;for(let n=0;n<t.length;n+=1)if(t[n](e))return!0;return!1};function Ix(r){return r instanceof yt}function di(r=0,e=0,t=0){return Math.min(Math.max(r,e),t)}function dU(r,e=null){if(!e)return null;const t=Tt.atStart(r),n=Tt.atEnd(r);if(e==="start"||e===!0)return t;if(e==="end")return n;const a=t.from,s=n.to;return e==="all"?yt.create(r,di(0,a,s),di(r.content.size,a,s)):yt.create(r,di(e,a,s),di(e,a,s))}function fU(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function O0(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var hU=(r=null,e={})=>({editor:t,view:n,tr:a,dispatch:s})=>{e={scrollIntoView:!0,...e};const i=()=>{(O0()||fU())&&n.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(n.focus(),e?.scrollIntoView&&t.commands.scrollIntoView())})};if(n.hasFocus()&&r===null||r===!1)return!0;if(s&&r===null&&!Ix(t.state.selection))return i(),!0;const u=dU(a.doc,r)||t.state.selection,l=t.state.selection.eq(u);return s&&(l||a.setSelection(u),l&&a.storedMarks&&a.setStoredMarks(a.storedMarks),i()),!0},pU=(r,e)=>t=>r.every((n,a)=>e(n,{...t,index:a})),vU=(r,e)=>({tr:t,commands:n})=>n.insertContentAt({from:t.selection.from,to:t.selection.to},r,e),Tx=r=>{const e=r.childNodes;for(let t=e.length-1;t>=0;t-=1){const n=e[t];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?r.removeChild(n):n.nodeType===1&&Tx(n)}return r};function zl(r){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${r}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return Tx(t)}function zu(r,e,t){if(r instanceof ls||r instanceof Ze)return r;t={slice:!0,parseOptions:{},...t};const n=typeof r=="object"&&r!==null,a=typeof r=="string";if(n)try{if(Array.isArray(r)&&r.length>0)return Ze.fromArray(r.map(u=>e.nodeFromJSON(u)));const i=e.nodeFromJSON(r);return t.errorOnInvalidContent&&i.check(),i}catch(s){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",r,"Error:",s),zu("",e,t)}if(a){if(t.errorOnInvalidContent){let i=!1,u="";const l=new jd({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(i=!0,u=typeof c=="string"?c:c.outerHTML,null)}]}})});if(t.slice?Yn.fromSchema(l).parseSlice(zl(r),t.parseOptions):Yn.fromSchema(l).parse(zl(r),t.parseOptions),t.errorOnInvalidContent&&i)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const s=Yn.fromSchema(e);return t.slice?s.parseSlice(zl(r),t.parseOptions).content:s.parse(zl(r),t.parseOptions)}return zu("",e,t)}function mU(r,e,t){const n=r.steps.length-1;if(n<e)return;const a=r.steps[n];if(!(a instanceof Rr||a instanceof Nr))return;const s=r.mapping.maps[n];let i=0;s.forEach((u,l,c,f)=>{i===0&&(i=f)}),r.setSelection(Tt.near(r.doc.resolve(i),t))}var gU=r=>!("type"in r),bU=(r,e,t)=>({tr:n,dispatch:a,editor:s})=>{var i;if(a){t={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let u;const l=x=>{s.emit("contentError",{editor:s,error:x,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{zu(e,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(x){l(x)}try{u=zu(e,s.schema,{parseOptions:c,errorOnInvalidContent:(i=t.errorOnInvalidContent)!=null?i:s.options.enableContentCheck})}catch(x){return l(x),!1}let{from:f,to:h}=typeof r=="number"?{from:r,to:r}:{from:r.from,to:r.to},m=!0,g=!0;if((gU(u)?u:[u]).forEach(x=>{x.check(),m=m?x.isText&&x.marks.length===0:!1,g=g?x.isBlock:!1}),f===h&&g){const{parent:x}=n.doc.resolve(f);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(f-=1,h+=1)}let y;if(m){if(Array.isArray(e))y=e.map(x=>x.text||"").join("");else if(e instanceof Ze){let x="";e.forEach(k=>{k.text&&(x+=k.text)}),y=x}else typeof e=="object"&&e&&e.text?y=e.text:y=e;n.insertText(y,f,h)}else{y=u;const x=n.doc.resolve(f),k=x.node(),S=x.parentOffset===0,A=k.isText||k.isTextblock,C=k.content.size>0;S&&A&&C&&(f=Math.max(0,f-1)),n.replaceWith(f,h,y)}t.updateSelection&&mU(n,n.steps.length-1,-1),t.applyInputRules&&n.setMeta("applyInputRules",{from:f,text:y}),t.applyPasteRules&&n.setMeta("applyPasteRules",{from:f,text:y})}return!0},_U=()=>({state:r,dispatch:e})=>K_(r,e),yU=()=>({state:r,dispatch:e})=>J_(r,e),xU=()=>({state:r,dispatch:e})=>o0(r,e),wU=()=>({state:r,dispatch:e})=>c0(r,e),kU=()=>({state:r,dispatch:e,tr:t})=>{try{const n=Lo(r.doc,r.selection.$from.pos,-1);return n==null?!1:(t.join(n,2),e&&e(t),!0)}catch{return!1}},EU=()=>({state:r,dispatch:e,tr:t})=>{try{const n=Lo(r.doc,r.selection.$from.pos,1);return n==null?!1:(t.join(n,2),e&&e(t),!0)}catch{return!1}},SU=()=>({state:r,dispatch:e})=>V_(r,e),AU=()=>({state:r,dispatch:e})=>W_(r,e);function Mx(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function DU(r){const e=r.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let n,a,s,i;for(let u=0;u<e.length-1;u+=1){const l=e[u];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))a=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))O0()||Mx()?i=!0:a=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return n&&(t=`Alt-${t}`),a&&(t=`Ctrl-${t}`),i&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}var CU=r=>({editor:e,view:t,tr:n,dispatch:a})=>{const s=DU(r).split(/-(?!$)/),i=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),u=new KeyboardEvent("keydown",{key:i==="Space"?" ":i,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{t.someProp("handleKeyDown",c=>c(t,u))});return l?.steps.forEach(c=>{const f=c.map(n.mapping);f&&a&&n.maybeStep(f)}),!0};function B0(r,e,t={}){const{from:n,to:a,empty:s}=r.selection,i=e?sn(e,r.schema):null,u=[];r.doc.nodesBetween(n,a,(h,m)=>{if(h.isText)return;const g=Math.max(n,m),b=Math.min(a,m+h.nodeSize);u.push({node:h,from:g,to:b})});const l=a-n,c=u.filter(h=>i?i.name===h.node.type.name:!0).filter(h=>Rc(h.node.attrs,t,{strict:!1}));return s?!!c.length:c.reduce((h,m)=>h+m.to-m.from,0)>=l}var IU=(r,e={})=>({state:t,dispatch:n})=>{const a=sn(r,t.schema);return B0(t,a,e)?Z_(t,n):!1},TU=()=>({state:r,dispatch:e})=>m0(r,e),MU=r=>({state:e,dispatch:t})=>{const n=sn(r,e.schema);return iy(n)(e,t)},RU=()=>({state:r,dispatch:e})=>h0(r,e);function Rx(r,e){return e.nodes[r]?"node":e.marks[r]?"mark":null}function Y1(r,e){const t=typeof e=="string"?[e]:e;return Object.keys(r).reduce((n,a)=>(t.includes(a)||(n[a]=r[a]),n),{})}var NU=(r,e)=>({tr:t,state:n,dispatch:a})=>{let s=null,i=null;const u=Rx(typeof r=="string"?r:r.name,n.schema);if(!u)return!1;u==="node"&&(s=sn(r,n.schema)),u==="mark"&&(i=Ys(r,n.schema));let l=!1;return t.selection.ranges.forEach(c=>{n.doc.nodesBetween(c.$from.pos,c.$to.pos,(f,h)=>{s&&s===f.type&&(l=!0,a&&t.setNodeMarkup(h,void 0,Y1(f.attrs,e))),i&&f.marks.length&&f.marks.forEach(m=>{i===m.type&&(l=!0,a&&t.addMark(h,h+f.nodeSize,i.create(Y1(m.attrs,e))))})})}),l},PU=()=>({tr:r,dispatch:e})=>(e&&r.scrollIntoView(),!0),$U=()=>({tr:r,dispatch:e})=>{if(e){const t=new wn(r.doc);r.setSelection(t)}return!0},LU=()=>({state:r,dispatch:e})=>u0(r,e),OU=()=>({state:r,dispatch:e})=>d0(r,e),BU=()=>({state:r,dispatch:e})=>X_(r,e),FU=()=>({state:r,dispatch:e})=>ny(r,e),zU=()=>({state:r,dispatch:e})=>ry(r,e);function qU(r,e,t={},n={}){return zu(r,e,{slice:!1,parseOptions:t,errorOnInvalidContent:n.errorOnInvalidContent})}var jU=(r,{errorOnInvalidContent:e,emitUpdate:t=!0,parseOptions:n={}}={})=>({editor:a,tr:s,dispatch:i,commands:u})=>{const{doc:l}=s;if(n.preserveWhitespace!=="full"){const c=qU(r,a.schema,n,{errorOnInvalidContent:e??a.options.enableContentCheck});return i&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!t),!0}return i&&s.setMeta("preventUpdate",!t),u.insertContentAt({from:0,to:l.content.size},r,{parseOptions:n,errorOnInvalidContent:e??a.options.enableContentCheck})};function HU(r,e){const t=Ys(e,r.schema),{from:n,to:a,empty:s}=r.selection,i=[];s?(r.storedMarks&&i.push(...r.storedMarks),i.push(...r.selection.$head.marks())):r.doc.nodesBetween(n,a,l=>{i.push(...l.marks)});const u=i.find(l=>l.type.name===t.name);return u?{...u.attrs}:{}}function UU(r,e){const t=new s0(r);return e.forEach(n=>{n.steps.forEach(a=>{t.step(a)})}),t}function VU(r){for(let e=0;e<r.edgeCount;e+=1){const{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function WU(r,e){for(let t=r.depth;t>0;t-=1){const n=r.node(t);if(e(n))return{pos:t>0?r.before(t):0,start:r.start(t),depth:t,node:n}}}function F0(r){return e=>WU(e.$from,r)}function qu(r,e,t){return r.config[e]===void 0&&r.parent?qu(r.parent,e,t):typeof r.config[e]=="function"?r.config[e].bind({...t,parent:r.parent?qu(r.parent,e,t):null}):r.config[e]}function QU(r){return typeof r=="function"}function ju(r,e=void 0,...t){return QU(r)?e?r.bind(e)(...t):r(...t):r}function Nx(r){const e=r.filter(a=>a.type==="extension"),t=r.filter(a=>a.type==="node"),n=r.filter(a=>a.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:n}}function Px(...r){return r.filter(e=>!!e).reduce((e,t)=>{const n={...e};return Object.entries(t).forEach(([a,s])=>{if(!n[a]){n[a]=s;return}if(a==="class"){const u=s?String(s).split(" "):[],l=n[a]?n[a].split(" "):[],c=u.filter(f=>!l.includes(f));n[a]=[...l,...c].join(" ")}else if(a==="style"){const u=s?s.split(";").map(f=>f.trim()).filter(Boolean):[],l=n[a]?n[a].split(";").map(f=>f.trim()).filter(Boolean):[],c=new Map;l.forEach(f=>{const[h,m]=f.split(":").map(g=>g.trim());c.set(h,m)}),u.forEach(f=>{const[h,m]=f.split(":").map(g=>g.trim());c.set(h,m)}),n[a]=Array.from(c.entries()).map(([f,h])=>`${f}: ${h}`).join("; ")}else n[a]=s}),n},{})}function GU(r,e,t){const{from:n,to:a}=e,{blockSeparator:s=`

`,textSerializers:i={}}=t||{};let u="";return r.nodesBetween(n,a,(l,c,f,h)=>{var m;l.isBlock&&c>n&&(u+=s);const g=i?.[l.type.name];if(g)return f&&(u+=g({node:l,pos:c,parent:f,index:h,range:e})),!1;l.isText&&(u+=(m=l?.text)==null?void 0:m.slice(Math.max(n,c)-c,a-c))}),u}function KU(r){return Object.fromEntries(Object.entries(r.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}function JU(r,e=JSON.stringify){const t={};return r.filter(n=>{const a=e(n);return Object.prototype.hasOwnProperty.call(t,a)?!1:t[a]=!0})}function ZU(r){const e=JU(r);return e.length===1?e:e.filter((t,n)=>!e.filter((s,i)=>i!==n).some(s=>t.oldRange.from>=s.oldRange.from&&t.oldRange.to<=s.oldRange.to&&t.newRange.from>=s.newRange.from&&t.newRange.to<=s.newRange.to))}function YU(r){const{mapping:e,steps:t}=r,n=[];return e.maps.forEach((a,s)=>{const i=[];if(a.ranges.length)a.forEach((u,l)=>{i.push({from:u,to:l})});else{const{from:u,to:l}=t[s];if(u===void 0||l===void 0)return;i.push({from:u,to:l})}i.forEach(({from:u,to:l})=>{const c=e.slice(s).map(u,-1),f=e.slice(s).map(l),h=e.invert().map(c,-1),m=e.invert().map(f);n.push({oldRange:{from:h,to:m},newRange:{from:c,to:f}})})}),ZU(n)}function tc(r,e,t){return Object.fromEntries(Object.entries(t).filter(([n])=>{const a=r.find(s=>s.type===e&&s.name===n);return a?a.attribute.keepOnSplit:!1}))}function XU(r,e,t={}){const{empty:n,ranges:a}=r.selection,s=e?Ys(e,r.schema):null;if(n)return!!(r.storedMarks||r.selection.$from.marks()).filter(h=>s?s.name===h.type.name:!0).find(h=>Rc(h.attrs,t,{strict:!1}));let i=0;const u=[];if(a.forEach(({$from:h,$to:m})=>{const g=h.pos,b=m.pos;r.doc.nodesBetween(g,b,(y,x)=>{if(!y.isText&&!y.marks.length)return;const k=Math.max(g,x),S=Math.min(b,x+y.nodeSize),A=S-k;i+=A,u.push(...y.marks.map(C=>({mark:C,from:k,to:S})))})}),i===0)return!1;const l=u.filter(h=>s?s.name===h.mark.type.name:!0).filter(h=>Rc(h.mark.attrs,t,{strict:!1})).reduce((h,m)=>h+m.to-m.from,0),c=u.filter(h=>s?h.mark.type!==s&&h.mark.type.excludes(s):!0).reduce((h,m)=>h+m.to-m.from,0);return(l>0?l+c:l)>=i}function X1(r,e){const{nodeExtensions:t}=Nx(e),n=t.find(i=>i.name===r);if(!n)return!1;const a={name:n.name,options:n.options,storage:n.storage},s=ju(qu(n,"group",a));return typeof s!="string"?!1:s.split(" ").includes("list")}function $x(r,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var n;if(t){if(r.type.name==="hardBreak")return!0;if(r.isText)return/^\s*$/m.test((n=r.text)!=null?n:"")}if(r.isText)return!r.text;if(r.isAtom||r.isLeaf)return!1;if(r.content.childCount===0)return!0;if(e){let a=!0;return r.content.forEach(s=>{a!==!1&&($x(s,{ignoreWhitespace:t,checkChildren:e})||(a=!1))}),a}return!1}function eV(r){return r instanceof xt}function tV(r,e,t){var n;const{selection:a}=e;let s=null;if(Ix(a)&&(s=a.$cursor),s){const u=(n=r.storedMarks)!=null?n:s.marks();return s.parent.type.allowsMarkType(t)&&(!!t.isInSet(u)||!u.some(c=>c.type.excludes(t)))}const{ranges:i}=a;return i.some(({$from:u,$to:l})=>{let c=u.depth===0?r.doc.inlineContent&&r.doc.type.allowsMarkType(t):!1;return r.doc.nodesBetween(u.pos,l.pos,(f,h,m)=>{if(c)return!1;if(f.isInline){const g=!m||m.type.allowsMarkType(t),b=!!t.isInSet(f.marks)||!f.marks.some(y=>y.type.excludes(t));c=g&&b}return!c}),c})}var rV=(r,e={})=>({tr:t,state:n,dispatch:a})=>{const{selection:s}=t,{empty:i,ranges:u}=s,l=Ys(r,n.schema);if(a)if(i){const c=HU(n,l);t.addStoredMark(l.create({...c,...e}))}else u.forEach(c=>{const f=c.$from.pos,h=c.$to.pos;n.doc.nodesBetween(f,h,(m,g)=>{const b=Math.max(g,f),y=Math.min(g+m.nodeSize,h);m.marks.find(k=>k.type===l)?m.marks.forEach(k=>{l===k.type&&t.addMark(b,y,l.create({...k.attrs,...e}))}):t.addMark(b,y,l.create(e))})});return tV(n,t,l)},nV=(r,e)=>({tr:t})=>(t.setMeta(r,e),!0),aV=(r,e={})=>({state:t,dispatch:n,chain:a})=>{const s=sn(r,t.schema);let i;return t.selection.$anchor.sameParent(t.selection.$head)&&(i=t.selection.$anchor.parent.attrs),s.isTextblock?a().command(({commands:u})=>xc(s,{...i,...e})(t)?!0:u.clearNodes()).command(({state:u})=>xc(s,{...i,...e})(u,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},sV=r=>({tr:e,dispatch:t})=>{if(t){const{doc:n}=e,a=di(r,0,n.content.size),s=xt.create(n,a);e.setSelection(s)}return!0},iV=(r,e)=>({tr:t,state:n,dispatch:a})=>{const{selection:s}=n;let i,u;return typeof e=="number"?(i=e,u=e):e&&"from"in e&&"to"in e?(i=e.from,u=e.to):(i=s.from,u=s.to),a&&t.doc.nodesBetween(i,u,(l,c)=>{l.isText||t.setNodeMarkup(c,void 0,{...l.attrs,dir:r})}),!0},oV=r=>({tr:e,dispatch:t})=>{if(t){const{doc:n}=e,{from:a,to:s}=typeof r=="number"?{from:r,to:r}:r,i=yt.atStart(n).from,u=yt.atEnd(n).to,l=di(a,i,u),c=di(s,i,u),f=yt.create(n,l,c);e.setSelection(f)}return!0},uV=r=>({state:e,dispatch:t})=>{const n=sn(r,e.schema);return oy(n)(e,t)};function eg(r,e){const t=r.storedMarks||r.selection.$to.parentOffset&&r.selection.$from.marks();if(t){const n=t.filter(a=>e?.includes(a.type.name));r.tr.ensureMarks(n)}}var lV=({keepMarks:r=!0}={})=>({tr:e,state:t,dispatch:n,editor:a})=>{const{selection:s,doc:i}=e,{$from:u,$to:l}=s,c=a.extensionManager.attributes,f=tc(c,u.node().type.name,u.node().attrs);if(s instanceof xt&&s.node.isBlock)return!u.parentOffset||!On(i,u.pos)?!1:(n&&(r&&eg(t,a.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const h=l.parentOffset===l.parent.content.size,m=u.depth===0?void 0:VU(u.node(-1).contentMatchAt(u.indexAfter(-1)));let g=h&&m?[{type:m,attrs:f}]:void 0,b=On(e.doc,e.mapping.map(u.pos),1,g);if(!g&&!b&&On(e.doc,e.mapping.map(u.pos),1,m?[{type:m}]:void 0)&&(b=!0,g=m?[{type:m,attrs:f}]:void 0),n){if(b&&(s instanceof yt&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,g),m&&!h&&!u.parentOffset&&u.parent.type!==m)){const y=e.mapping.map(u.before()),x=e.doc.resolve(y);u.node(-1).canReplaceWith(x.index(),x.index()+1,m)&&e.setNodeMarkup(e.mapping.map(u.before()),m)}r&&eg(t,a.extensionManager.splittableMarks),e.scrollIntoView()}return b},cV=(r,e={})=>({tr:t,state:n,dispatch:a,editor:s})=>{var i;const u=sn(r,n.schema),{$from:l,$to:c}=n.selection,f=n.selection.node;if(f&&f.isBlock||l.depth<2||!l.sameParent(c))return!1;const h=l.node(-1);if(h.type!==u)return!1;const m=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==u||l.index(-2)!==l.node(-2).childCount-1)return!1;if(a){let k=Ze.empty;const S=l.index(-1)?1:l.index(-2)?2:3;for(let j=l.depth-S;j>=l.depth-3;j-=1)k=Ze.from(l.node(j).copy(k));const A=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...tc(m,l.node().type.name,l.node().attrs),...e},E=((i=u.contentMatch.defaultType)==null?void 0:i.createAndFill(C))||void 0;k=k.append(Ze.from(u.createAndFill(null,E)||void 0));const I=l.before(l.depth-(S-1));t.replace(I,l.after(-A),new mt(k,4-S,0));let T=-1;t.doc.nodesBetween(I,t.doc.content.size,(j,U)=>{if(T>-1)return!1;j.isTextblock&&j.content.size===0&&(T=U+1)}),T>-1&&t.setSelection(yt.near(t.doc.resolve(T))),t.scrollIntoView()}return!0}const g=c.pos===l.end()?h.contentMatchAt(0).defaultType:null,b={...tc(m,h.type.name,h.attrs),...e},y={...tc(m,l.node().type.name,l.node().attrs),...e};t.delete(l.pos,c.pos);const x=g?[{type:u,attrs:b},{type:g,attrs:y}]:[{type:u,attrs:b}];if(!On(t.doc,l.pos,2))return!1;if(a){const{selection:k,storedMarks:S}=n,{splittableMarks:A}=s.extensionManager,C=S||k.$to.parentOffset&&k.$from.marks();if(t.split(l.pos,2,x).scrollIntoView(),!C||!a)return!0;const E=C.filter(I=>A.includes(I.type.name));t.ensureMarks(E)}return!0},Uf=(r,e)=>{const t=F0(i=>i.type===e)(r.selection);if(!t)return!0;const n=r.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(n===void 0)return!0;const a=r.doc.nodeAt(n);return t.node.type===a?.type&&ja(r.doc,t.pos)&&r.join(t.pos),!0},Vf=(r,e)=>{const t=F0(i=>i.type===e)(r.selection);if(!t)return!0;const n=r.doc.resolve(t.start).after(t.depth);if(n===void 0)return!0;const a=r.doc.nodeAt(n);return t.node.type===a?.type&&ja(r.doc,n)&&r.join(n),!0},dV=(r,e,t,n={})=>({editor:a,tr:s,state:i,dispatch:u,chain:l,commands:c,can:f})=>{const{extensions:h,splittableMarks:m}=a.extensionManager,g=sn(r,i.schema),b=sn(e,i.schema),{selection:y,storedMarks:x}=i,{$from:k,$to:S}=y,A=k.blockRange(S),C=x||y.$to.parentOffset&&y.$from.marks();if(!A)return!1;const E=F0(I=>X1(I.type.name,h))(y);if(A.depth>=1&&E&&A.depth-E.depth<=1){if(E.node.type===g)return c.liftListItem(b);if(X1(E.node.type.name,h)&&g.validContent(E.node.content)&&u)return l().command(()=>(s.setNodeMarkup(E.pos,g),!0)).command(()=>Uf(s,g)).command(()=>Vf(s,g)).run()}return!t||!C||!u?l().command(()=>f().wrapInList(g,n)?!0:c.clearNodes()).wrapInList(g,n).command(()=>Uf(s,g)).command(()=>Vf(s,g)).run():l().command(()=>{const I=f().wrapInList(g,n),T=C.filter(j=>m.includes(j.type.name));return s.ensureMarks(T),I?!0:c.clearNodes()}).wrapInList(g,n).command(()=>Uf(s,g)).command(()=>Vf(s,g)).run()},fV=(r,e={},t={})=>({state:n,commands:a})=>{const{extendEmptyMarkRange:s=!1}=t,i=Ys(r,n.schema);return XU(n,i,e)?a.unsetMark(i,{extendEmptyMarkRange:s}):a.setMark(i,e)},hV=(r,e,t={})=>({state:n,commands:a})=>{const s=sn(r,n.schema),i=sn(e,n.schema),u=B0(n,s,t);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),u?a.setNode(i,l):a.setNode(s,{...l,...t})},pV=(r,e={})=>({state:t,commands:n})=>{const a=sn(r,t.schema);return B0(t,a,e)?n.lift(a):n.wrapIn(a,e)},vV=()=>({state:r,dispatch:e})=>{const t=r.plugins;for(let n=0;n<t.length;n+=1){const a=t[n];let s;if(a.spec.isInputRules&&(s=a.getState(r))){if(e){const i=r.tr,u=s.transform;for(let l=u.steps.length-1;l>=0;l-=1)i.step(u.steps[l].invert(u.docs[l]));if(s.text){const l=i.doc.resolve(s.from).marks();i.replaceWith(s.from,s.to,r.schema.text(s.text,l))}else i.delete(s.from,s.to)}return!0}}return!1},mV=()=>({tr:r,dispatch:e})=>{const{selection:t}=r,{empty:n,ranges:a}=t;return n||e&&a.forEach(s=>{r.removeMark(s.$from.pos,s.$to.pos)}),!0},gV=(r,e={})=>({tr:t,state:n,dispatch:a})=>{var s;const{extendEmptyMarkRange:i=!1}=e,{selection:u}=t,l=Ys(r,n.schema),{$from:c,empty:f,ranges:h}=u;if(!a)return!0;if(f&&i){let{from:m,to:g}=u;const b=(s=c.marks().find(x=>x.type===l))==null?void 0:s.attrs,y=Cx(c,l,b);y&&(m=y.from,g=y.to),t.removeMark(m,g,l)}else h.forEach(m=>{t.removeMark(m.$from.pos,m.$to.pos,l)});return t.removeStoredMark(l),!0},bV=r=>({tr:e,state:t,dispatch:n})=>{const{selection:a}=t;let s,i;return typeof r=="number"?(s=r,i=r):r&&"from"in r&&"to"in r?(s=r.from,i=r.to):(s=a.from,i=a.to),n&&e.doc.nodesBetween(s,i,(u,l)=>{if(u.isText)return;const c={...u.attrs};delete c.dir,e.setNodeMarkup(l,void 0,c)}),!0},_V=(r,e={})=>({tr:t,state:n,dispatch:a})=>{let s=null,i=null;const u=Rx(typeof r=="string"?r:r.name,n.schema);if(!u)return!1;u==="node"&&(s=sn(r,n.schema)),u==="mark"&&(i=Ys(r,n.schema));let l=!1;return t.selection.ranges.forEach(c=>{const f=c.$from.pos,h=c.$to.pos;let m,g,b,y;t.selection.empty?n.doc.nodesBetween(f,h,(x,k)=>{s&&s===x.type&&(l=!0,b=Math.max(k,f),y=Math.min(k+x.nodeSize,h),m=k,g=x)}):n.doc.nodesBetween(f,h,(x,k)=>{k<f&&s&&s===x.type&&(l=!0,b=Math.max(k,f),y=Math.min(k+x.nodeSize,h),m=k,g=x),k>=f&&k<=h&&(s&&s===x.type&&(l=!0,a&&t.setNodeMarkup(k,void 0,{...x.attrs,...e})),i&&x.marks.length&&x.marks.forEach(S=>{if(i===S.type&&(l=!0,a)){const A=Math.max(k,f),C=Math.min(k+x.nodeSize,h);t.addMark(A,C,i.create({...S.attrs,...e}))}}))}),g&&(m!==void 0&&a&&t.setNodeMarkup(m,void 0,{...g.attrs,...e}),i&&g.marks.length&&g.marks.forEach(x=>{i===x.type&&a&&t.addMark(b,y,i.create({...x.attrs,...e}))}))}),l},yV=(r,e={})=>({state:t,dispatch:n})=>{const a=sn(r,t.schema);return ay(a,e)(t,n)},xV=(r,e={})=>({state:t,dispatch:n})=>{const a=sn(r,t.schema);return sy(a,e)(t,n)},Lx=class{constructor(r){var e;this.find=r.find,this.handler=r.handler,this.undoable=(e=r.undoable)!=null?e:!0}};function wV(r){return Object.prototype.toString.call(r).slice(8,-1)}function ql(r){return wV(r)!=="Object"?!1:r.constructor===Object&&Object.getPrototypeOf(r)===Object.prototype}function Ox(r,e){const t={...r};return ql(r)&&ql(e)&&Object.keys(e).forEach(n=>{ql(e[n])&&ql(r[n])?t[n]=Ox(r[n],e[n]):t[n]=e[n]}),t}var Bx=class{constructor(r={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...r},this.name=this.config.name}get options(){return{...ju(qu(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...ju(qu(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(r={}){const e=this.extend({...this.config,addOptions:()=>Ox(this.options,r)});return e.name=this.name,e.parent=this.parent,e}extend(r={}){const e=new this.constructor({...this.config,...r});return e.parent=this,this.child=e,e.name="name"in r?r.name:e.parent.name,e}},kV={};L0(kV,{ClipboardTextSerializer:()=>EV,Commands:()=>SV,Delete:()=>AV,Drop:()=>DV,Editable:()=>CV,FocusEvents:()=>IV,Keymap:()=>TV,Paste:()=>MV,Tabindex:()=>RV,TextDirection:()=>NV,focusEventsPluginKey:()=>zx});var ga=class Fx extends Bx{constructor(){super(...arguments),this.type="extension"}static create(e={}){const t=typeof e=="function"?e():e;return new Fx(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}},EV=ga.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Jt({key:new or("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:r}=this,{state:e,schema:t}=r,{doc:n,selection:a}=e,{ranges:s}=a,i=Math.min(...s.map(f=>f.$from.pos)),u=Math.max(...s.map(f=>f.$to.pos)),l=KU(t);return GU(n,{from:i,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),SV=ga.create({name:"commands",addCommands(){return{...Ax}}}),AV=ga.create({name:"delete",onUpdate({transaction:r,appendedTransactions:e}){var t,n,a;const s=()=>{var i,u,l,c;if((c=(l=(u=(i=this.editor.options.coreExtensionOptions)==null?void 0:i.delete)==null?void 0:u.filterTransaction)==null?void 0:l.call(u,r))!=null?c:r.getMeta("y-sync$"))return;const f=UU(r.before,[r,...e]);YU(f).forEach(g=>{f.mapping.mapResult(g.oldRange.from).deletedAfter&&f.mapping.mapResult(g.oldRange.to).deletedBefore&&f.before.nodesBetween(g.oldRange.from,g.oldRange.to,(b,y)=>{const x=y+b.nodeSize-2,k=g.oldRange.from<=y&&x<=g.oldRange.to;this.editor.emit("delete",{type:"node",node:b,from:y,to:x,newFrom:f.mapping.map(y),newTo:f.mapping.map(x),deletedRange:g.oldRange,newRange:g.newRange,partial:!k,editor:this.editor,transaction:r,combinedTransform:f})})});const m=f.mapping;f.steps.forEach((g,b)=>{var y,x;if(g instanceof Gn){const k=m.slice(b).map(g.from,-1),S=m.slice(b).map(g.to),A=m.invert().map(k,-1),C=m.invert().map(S),E=(y=f.doc.nodeAt(k-1))==null?void 0:y.marks.some(T=>T.eq(g.mark)),I=(x=f.doc.nodeAt(S))==null?void 0:x.marks.some(T=>T.eq(g.mark));this.editor.emit("delete",{type:"mark",mark:g.mark,from:g.from,to:g.to,deletedRange:{from:A,to:C},newRange:{from:k,to:S},partial:!!(I||E),editor:this.editor,transaction:r,combinedTransform:f})}})};(a=(n=(t=this.editor.options.coreExtensionOptions)==null?void 0:t.delete)==null?void 0:n.async)==null||a?setTimeout(s,0):s()}}),DV=ga.create({name:"drop",addProseMirrorPlugins(){return[new Jt({key:new or("tiptapDrop"),props:{handleDrop:(r,e,t,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:n})}}})]}}),CV=ga.create({name:"editable",addProseMirrorPlugins(){return[new Jt({key:new or("editable"),props:{editable:()=>this.editor.options.editable}})]}}),zx=new or("focusEvents"),IV=ga.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:r}=this;return[new Jt({key:zx,props:{handleDOMEvents:{focus:(e,t)=>{r.isFocused=!0;const n=r.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,t)=>{r.isFocused=!1;const n=r.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),TV=ga.create({name:"keymap",addKeyboardShortcuts(){const r=()=>this.editor.commands.first(({commands:i})=>[()=>i.undoInputRule(),()=>i.command(({tr:u})=>{const{selection:l,doc:c}=u,{empty:f,$anchor:h}=l,{pos:m,parent:g}=h,b=h.parent.isTextblock&&m>0?u.doc.resolve(m-1):h,y=b.parent.type.spec.isolating,x=h.pos-h.parentOffset,k=y&&b.parent.childCount===1?x===h.pos:Tt.atStart(c).from===m;return!f||!g.type.isTextblock||g.textContent.length||!k||k&&h.parent.type.name==="paragraph"?!1:i.clearNodes()}),()=>i.deleteSelection(),()=>i.joinBackward(),()=>i.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:i})=>[()=>i.deleteSelection(),()=>i.deleteCurrentNode(),()=>i.joinForward(),()=>i.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:i})=>[()=>i.newlineInCode(),()=>i.createParagraphNear(),()=>i.liftEmptyBlock(),()=>i.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:r,"Mod-Backspace":r,"Shift-Backspace":r,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},a={...n},s={...n,"Ctrl-h":r,"Alt-Backspace":r,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return O0()||Mx()?s:a},addProseMirrorPlugins(){return[new Jt({key:new or("clearDocument"),appendTransaction:(r,e,t)=>{if(r.some(y=>y.getMeta("composition")))return;const n=r.some(y=>y.docChanged)&&!e.doc.eq(t.doc),a=r.some(y=>y.getMeta("preventClearDocument"));if(!n||a)return;const{empty:s,from:i,to:u}=e.selection,l=Tt.atStart(e.doc).from,c=Tt.atEnd(e.doc).to;if(s||!(i===l&&u===c)||!$x(t.doc))return;const m=t.tr,g=Sx({state:t,transaction:m}),{commands:b}=new KH({editor:this.editor,state:g});if(b.clearNodes(),!!m.steps.length)return m}})]}}),MV=ga.create({name:"paste",addProseMirrorPlugins(){return[new Jt({key:new or("tiptapPaste"),props:{handlePaste:(r,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),RV=ga.create({name:"tabindex",addProseMirrorPlugins(){return[new Jt({key:new or("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),NV=ga.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:r}=Nx(this.extensions);return[{types:r.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const t=e.getAttribute("dir");return t&&(t==="ltr"||t==="rtl"||t==="auto")?t:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Jt({key:new or("textDirection"),props:{attributes:()=>{const r=this.options.direction;return r?{dir:r}:{}}}})]}});function PV(r){return new Lx({find:r.find,handler:({state:e,range:t,match:n})=>{const a=ju(r.getAttributes,void 0,n)||{},{tr:s}=e,i=t.from;let u=t.to;const l=r.type.create(a);if(n[1]){const c=n[0].lastIndexOf(n[1]);let f=i+c;f>u?f=u:u=f+n[1].length;const h=n[0][n[0].length-1];s.insertText(h,i+n[0].length-1),s.replaceWith(f,u,l)}else if(n[0]){const c=r.type.isInline?i:i-1;s.insert(c,r.type.create(a)).delete(s.mapping.map(i),s.mapping.map(u))}s.scrollIntoView()},undoable:r.undoable})}function $V(r){return new Lx({find:r.find,handler:({state:e,range:t,match:n})=>{const a=e.doc.resolve(t.from),s=ju(r.getAttributes,void 0,n)||{};if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),r.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,r.type,s)},undoable:r.undoable})}function LV(r,e){const{selection:t}=r,{$from:n}=t;if(t instanceof xt){const s=n.index();return n.parent.canReplaceWith(s,s+1,e)}let a=n.depth;for(;a>=0;){const s=n.index(a);if(n.node(a).contentMatchAt(s).matchType(e))return!0;a-=1}return!1}var OV={};L0(OV,{createAtomBlockMarkdownSpec:()=>BV,createBlockMarkdownSpec:()=>FV,createInlineMarkdownSpec:()=>jV,parseAttributes:()=>z0,parseIndentedBlocks:()=>HV,renderNestedMarkdownContent:()=>UV,serializeAttributes:()=>q0});function z0(r){if(!r?.trim())return{};const e={},t=[],n=r.replace(/["']([^"']*)["']/g,c=>(t.push(c),`__QUOTED_${t.length-1}__`)),a=n.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(a){const c=a.map(f=>f.trim().slice(1));e.class=c.join(" ")}const s=n.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(e.id=s[1]);const i=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(n.matchAll(i)).forEach(([,c,f])=>{var h;const m=parseInt(((h=f.match(/__QUOTED_(\d+)__/))==null?void 0:h[1])||"0",10),g=t[m];g&&(e[c]=g.slice(1,-1))});const l=n.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(f=>{f.match(/^[a-zA-Z][\w-]*$/)&&(e[f]=!0)}),e}function q0(r){if(!r||Object.keys(r).length===0)return"";const e=[];return r.class&&String(r.class).split(/\s+/).filter(Boolean).forEach(n=>e.push(`.${n}`)),r.id&&e.push(`#${r.id}`),Object.entries(r).forEach(([t,n])=>{t==="class"||t==="id"||(n===!0?e.push(t):n!==!1&&n!=null&&e.push(`${t}="${String(n)}"`))}),e.join(" ")}function BV(r){const{nodeName:e,name:t,parseAttributes:n=z0,serializeAttributes:a=q0,defaultAttributes:s={},requiredAttributes:i=[],allowedAttributes:u}=r,l=t||e,c=f=>{if(!u)return f;const h={};return u.forEach(m=>{m in f&&(h[m]=f[m])}),h};return{parseMarkdown:(f,h)=>{const m={...s,...f.attributes};return h.createNode(e,m,[])},markdownTokenizer:{name:e,level:"block",start(f){var h;const m=new RegExp(`^:::${l}(?:\\s|$)`,"m"),g=(h=f.match(m))==null?void 0:h.index;return g!==void 0?g:-1},tokenize(f,h,m){const g=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),b=f.match(g);if(!b)return;const y=b[1]||"",x=n(y);if(!i.find(S=>!(S in x)))return{type:e,raw:b[0],attributes:x}}},renderMarkdown:f=>{const h=c(f.attrs||{}),m=a(h),g=m?` {${m}}`:"";return`:::${l}${g} :::`}}}function FV(r){const{nodeName:e,name:t,getContent:n,parseAttributes:a=z0,serializeAttributes:s=q0,defaultAttributes:i={},content:u="block",allowedAttributes:l}=r,c=t||e,f=h=>{if(!l)return h;const m={};return l.forEach(g=>{g in h&&(m[g]=h[g])}),m};return{parseMarkdown:(h,m)=>{let g;if(n){const y=n(h);g=typeof y=="string"?[{type:"text",text:y}]:y}else u==="block"?g=m.parseChildren(h.tokens||[]):g=m.parseInline(h.tokens||[]);const b={...i,...h.attributes};return m.createNode(e,b,g)},markdownTokenizer:{name:e,level:"block",start(h){var m;const g=new RegExp(`^:::${c}`,"m"),b=(m=h.match(g))==null?void 0:m.index;return b!==void 0?b:-1},tokenize(h,m,g){var b;const y=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),x=h.match(y);if(!x)return;const[k,S=""]=x,A=a(S);let C=1;const E=k.length;let I="";const T=/^:::([\w-]*)(\s.*)?/gm,j=h.slice(E);for(T.lastIndex=0;;){const U=T.exec(j);if(U===null)break;const G=U.index,Q=U[1];if(!((b=U[2])!=null&&b.endsWith(":::"))){if(Q)C+=1;else if(C-=1,C===0){const ee=j.slice(0,G);I=ee.trim();const oe=h.slice(0,E+G+U[0].length);let H=[];if(I)if(u==="block")for(H=g.blockTokens(ee),H.forEach(J=>{J.text&&(!J.tokens||J.tokens.length===0)&&(J.tokens=g.inlineTokens(J.text))});H.length>0;){const J=H[H.length-1];if(J.type==="paragraph"&&(!J.text||J.text.trim()===""))H.pop();else break}else H=g.inlineTokens(I);return{type:e,raw:oe,attributes:A,content:I,tokens:H}}}}}},renderMarkdown:(h,m)=>{const g=f(h.attrs||{}),b=s(g),y=b?` {${b}}`:"",x=m.renderChildren(h.content||[],`

`);return`:::${c}${y}

${x}

:::`}}}function zV(r){if(!r.trim())return{};const e={},t=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let n=t.exec(r);for(;n!==null;){const[,a,s,i]=n;e[a]=s||i,n=t.exec(r)}return e}function qV(r){return Object.entries(r).filter(([,e])=>e!=null).map(([e,t])=>`${e}="${t}"`).join(" ")}function jV(r){const{nodeName:e,name:t,getContent:n,parseAttributes:a=zV,serializeAttributes:s=qV,defaultAttributes:i={},selfClosing:u=!1,allowedAttributes:l}=r,c=t||e,f=m=>{if(!l)return m;const g={};return l.forEach(b=>{const y=typeof b=="string"?b:b.name,x=typeof b=="string"?void 0:b.skipIfDefault;if(y in m){const k=m[y];if(x!==void 0&&k===x)return;g[y]=k}}),g},h=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(m,g)=>{const b={...i,...m.attributes};if(u)return g.createNode(e,b);const y=n?n(m):m.content||"";return y?g.createNode(e,b,[g.createTextNode(y)]):g.createNode(e,b,[])},markdownTokenizer:{name:e,level:"inline",start(m){const g=u?new RegExp(`\\[${h}\\s*[^\\]]*\\]`):new RegExp(`\\[${h}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${h}\\]`),b=m.match(g),y=b?.index;return y!==void 0?y:-1},tokenize(m,g,b){const y=u?new RegExp(`^\\[${h}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${h}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${h}\\]`),x=m.match(y);if(!x)return;let k="",S="";if(u){const[,C]=x;S=C}else{const[,C,E]=x;S=C,k=E||""}const A=a(S.trim());return{type:e,raw:x[0],content:k.trim(),attributes:A}}},renderMarkdown:m=>{let g="";n?g=n(m):m.content&&m.content.length>0&&(g=m.content.filter(k=>k.type==="text").map(k=>k.text).join(""));const b=f(m.attrs||{}),y=s(b),x=y?` ${y}`:"";return u?`[${c}${x}]`:`[${c}${x}]${g}[/${c}]`}}}function HV(r,e,t){var n,a,s,i;const u=r.split(`
`),l=[];let c="",f=0;const h=e.baseIndentSize||2;for(;f<u.length;){const m=u[f],g=m.match(e.itemPattern);if(!g){if(l.length>0)break;if(m.trim()===""){f+=1,c=`${c}${m}
`;continue}else return}const b=e.extractItemData(g),{indentLevel:y,mainContent:x}=b;c=`${c}${m}
`;const k=[x];for(f+=1;f<u.length;){const E=u[f];if(E.trim()===""){const T=u.slice(f+1).findIndex(G=>G.trim()!=="");if(T===-1)break;if((((a=(n=u[f+1+T].match(/^(\s*)/))==null?void 0:n[1])==null?void 0:a.length)||0)>y){k.push(E),c=`${c}${E}
`,f+=1;continue}else break}if((((i=(s=E.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:i.length)||0)>y)k.push(E),c=`${c}${E}
`,f+=1;else break}let S;const A=k.slice(1);if(A.length>0){const E=A.map(I=>I.slice(y+h)).join(`
`);E.trim()&&(e.customNestedParser?S=e.customNestedParser(E):S=t.blockTokens(E))}const C=e.createToken(b,S);l.push(C)}if(l.length!==0)return{items:l,raw:c}}function UV(r,e,t,n){if(!r||!Array.isArray(r.content))return"";const a=typeof t=="function"?t(n):t,[s,...i]=r.content,u=e.renderChildren([s]),l=[`${a}${u}`];return i&&i.length>0&&i.forEach(c=>{const f=e.renderChildren([c]);if(f){const h=f.split(`
`).map(m=>m?e.indent(m):"").join(`
`);l.push(h)}}),l.join(`
`)}var qx=class jx extends Bx{constructor(){super(...arguments),this.type="node"}static create(e={}){const t=typeof e=="function"?e():e;return new jx(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}},Nc=(r,e)=>{if(r==="slot")return 0;if(r instanceof Function)return r(e);const{children:t,...n}=e??{};if(r==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[r,n,t]},VV=/^\s*>\s$/,WV=ur.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:r}){return Nc("blockquote",{...Sr(this.options.HTMLAttributes,r),children:Nc("slot",{})})},parseMarkdown:(r,e)=>e.createNode("blockquote",void 0,e.parseChildren(r.tokens||[])),renderMarkdown:(r,e)=>{if(!r.content)return"";const t=">",n=[];return r.content.forEach(a=>{const u=e.renderChildren([a]).split(`
`).map(l=>l.trim()===""?t:`${t} ${l}`);n.push(u.join(`
`))}),n.join(`
${t}
`)},addCommands(){return{setBlockquote:()=>({commands:r})=>r.wrapIn(this.name),toggleBlockquote:()=>({commands:r})=>r.toggleWrap(this.name),unsetBlockquote:()=>({commands:r})=>r.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Eo({find:VV,type:this.type})]}}),QV=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,GV=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,KV=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,JV=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,ZV=Cn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:r=>r.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:r=>r.type.name===this.name},{style:"font-weight",getAttrs:r=>/^(bold(er)?|[5-9]\d{2,})$/.test(r)&&null}]},renderHTML({HTMLAttributes:r}){return Nc("strong",{...Sr(this.options.HTMLAttributes,r),children:Nc("slot",{})})},markdownTokenName:"strong",parseMarkdown:(r,e)=>e.applyMark("bold",e.parseInline(r.tokens||[])),renderMarkdown:(r,e)=>`**${e.renderChildren(r)}**`,addCommands(){return{setBold:()=>({commands:r})=>r.setMark(this.name),toggleBold:()=>({commands:r})=>r.toggleMark(this.name),unsetBold:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Mi({find:QV,type:this.type}),Mi({find:KV,type:this.type})]},addPasteRules(){return[Vs({find:GV,type:this.type}),Vs({find:JV,type:this.type})]}}),YV=/(^|[^`])`([^`]+)`(?!`)$/,XV=/(^|[^`])`([^`]+)`(?!`)/g,eW=Cn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:r}){return["code",Sr(this.options.HTMLAttributes,r),0]},markdownTokenName:"codespan",parseMarkdown:(r,e)=>e.applyMark("code",[{type:"text",text:r.text||""}]),renderMarkdown:(r,e)=>r.content?`\`${e.renderChildren(r.content)}\``:"",addCommands(){return{setCode:()=>({commands:r})=>r.setMark(this.name),toggleCode:()=>({commands:r})=>r.toggleMark(this.name),unsetCode:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Mi({find:YV,type:this.type})]},addPasteRules(){return[Vs({find:XV,type:this.type})]}}),Wf=4,tW=/^```([a-z]+)?[\s\n]$/,rW=/^~~~([a-z]+)?[\s\n]$/,nW=ur.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Wf,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:r=>{var e;const{languageClassPrefix:t}=this.options;if(!t)return null;const s=[...((e=r.firstElementChild)==null?void 0:e.classList)||[]].filter(i=>i.startsWith(t)).map(i=>i.replace(t,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:r,HTMLAttributes:e}){return["pre",Sr(this.options.HTMLAttributes,e),["code",{class:r.attrs.language?this.options.languageClassPrefix+r.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(r,e)=>{var t;return((t=r.raw)==null?void 0:t.startsWith("```"))===!1&&r.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:r.lang||null},r.text?[e.createTextNode(r.text)]:[])},renderMarkdown:(r,e)=>{var t;let n="";const a=((t=r.attrs)==null?void 0:t.language)||"";return r.content?n=[`\`\`\`${a}`,e.renderChildren(r.content),"```"].join(`
`):n=`\`\`\`${a}

\`\`\``,n},addCommands(){return{setCodeBlock:r=>({commands:e})=>e.setNode(this.name,r),toggleCodeBlock:r=>({commands:e})=>e.toggleNode(this.name,"paragraph",r)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:r,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!r||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:r})=>{var e;if(!this.options.enableTabIndentation)return!1;const t=(e=this.options.tabSize)!=null?e:Wf,{state:n}=r,{selection:a}=n,{$from:s,empty:i}=a;if(s.parent.type!==this.type)return!1;const u=" ".repeat(t);return i?r.commands.insertContent(u):r.commands.command(({tr:l})=>{const{from:c,to:f}=a,g=n.doc.textBetween(c,f,`
`,`
`).split(`
`).map(b=>u+b).join(`
`);return l.replaceWith(c,f,n.schema.text(g)),!0})},"Shift-Tab":({editor:r})=>{var e;if(!this.options.enableTabIndentation)return!1;const t=(e=this.options.tabSize)!=null?e:Wf,{state:n}=r,{selection:a}=n,{$from:s,empty:i}=a;return s.parent.type!==this.type?!1:i?r.commands.command(({tr:u})=>{var l;const{pos:c}=s,f=s.start(),h=s.end(),g=n.doc.textBetween(f,h,`
`,`
`).split(`
`);let b=0,y=0;const x=c-f;for(let I=0;I<g.length;I+=1){if(y+g[I].length>=x){b=I;break}y+=g[I].length+1}const S=((l=g[b].match(/^ */))==null?void 0:l[0])||"",A=Math.min(S.length,t);if(A===0)return!0;let C=f;for(let I=0;I<b;I+=1)C+=g[I].length+1;return u.delete(C,C+A),c-C<=A&&u.setSelection(yt.create(u.doc,C)),!0}):r.commands.command(({tr:u})=>{const{from:l,to:c}=a,m=n.doc.textBetween(l,c,`
`,`
`).split(`
`).map(g=>{var b;const y=((b=g.match(/^ */))==null?void 0:b[0])||"",x=Math.min(y.length,t);return g.slice(x)}).join(`
`);return u.replaceWith(l,c,n.schema.text(m)),!0})},Enter:({editor:r})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=r,{selection:t}=e,{$from:n,empty:a}=t;if(!a||n.parent.type!==this.type)return!1;const s=n.parentOffset===n.parent.nodeSize-2,i=n.parent.textContent.endsWith(`

`);return!s||!i?!1:r.chain().command(({tr:u})=>(u.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:r})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=r,{selection:t,doc:n}=e,{$from:a,empty:s}=t;if(!s||a.parent.type!==this.type||!(a.parentOffset===a.parent.nodeSize-2))return!1;const u=a.after();return u===void 0?!1:n.nodeAt(u)?r.commands.command(({tr:c})=>(c.setSelection(Tt.near(n.resolve(u))),!0)):r.commands.exitCode()}}},addInputRules(){return[Jh({find:tW,type:this.type,getAttributes:r=>({language:r[1]})}),Jh({find:rW,type:this.type,getAttributes:r=>({language:r[1]})})]},addProseMirrorPlugins(){return[new Jt({key:new or("codeBlockVSCodeHandler"),props:{handlePaste:(r,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),a=n?JSON.parse(n):void 0,s=a?.mode;if(!t||!s)return!1;const{tr:i,schema:u}=r.state,l=u.text(t.replace(/\r\n?/g,`
`));return i.replaceSelectionWith(this.type.create({language:s},l)),i.selection.$from.parent.type!==this.type&&i.setSelection(yt.near(i.doc.resolve(Math.max(0,i.selection.from-2)))),i.setMeta("paste",!0),r.dispatch(i),!0}}})]}}),aW=ur.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(r,e)=>r.content?e.renderChildren(r.content,`

`):""}),sW=ur.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:r}){return["br",Sr(this.options.HTMLAttributes,r)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:r,chain:e,state:t,editor:n})=>r.first([()=>r.exitCode(),()=>r.command(()=>{const{selection:a,storedMarks:s}=t;if(a.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:u}=n.extensionManager,l=s||a.$to.parentOffset&&a.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:f})=>{if(f&&l&&i){const h=l.filter(m=>u.includes(m.type.name));c.ensureMarks(h)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),iW=qx.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(r=>({tag:`h${r}`,attrs:{level:r}}))},renderHTML({node:r,HTMLAttributes:e}){return[`h${this.options.levels.includes(r.attrs.level)?r.attrs.level:this.options.levels[0]}`,Px(this.options.HTMLAttributes,e),0]},parseMarkdown:(r,e)=>e.createNode("heading",{level:r.depth||1},e.parseInline(r.tokens||[])),renderMarkdown:(r,e)=>{var t;const n=(t=r.attrs)!=null&&t.level?parseInt(r.attrs.level,10):1,a="#".repeat(n);return r.content?`${a} ${e.renderChildren(r.content)}`:""},addCommands(){return{setHeading:r=>({commands:e})=>this.options.levels.includes(r.level)?e.setNode(this.name,r):!1,toggleHeading:r=>({commands:e})=>this.options.levels.includes(r.level)?e.toggleNode(this.name,"paragraph",r):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((r,e)=>({...r,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(r=>$V({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${r}})\\s$`),type:this.type,getAttributes:{level:r}}))}}),oW=qx.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:r}){return["hr",Px(this.options.HTMLAttributes,r)]},markdownTokenName:"hr",parseMarkdown:(r,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:r,state:e})=>{if(!LV(e,e.schema.nodes[this.name]))return!1;const{selection:t}=e,{$to:n}=t,a=r();return eV(t)?a.insertContentAt(n.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({state:s,tr:i,dispatch:u})=>{if(u){const{$to:l}=i.selection,c=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?i.setSelection(yt.create(i.doc,l.pos+1)):l.nodeAfter.isBlock?i.setSelection(xt.create(i.doc,l.pos)):i.setSelection(yt.create(i.doc,l.pos));else{const f=s.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,h=f?.create();h&&(i.insert(c,h),i.setSelection(yt.create(i.doc,c+1)))}i.scrollIntoView()}return!0}).run()}}},addInputRules(){return[PV({find:/^(?:---|â-|___\s|\*\*\*\s)$/,type:this.type})]}}),uW=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,lW=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,cW=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,dW=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,fW=Cn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:r=>r.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:r=>r.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:r}){return["em",Sr(this.options.HTMLAttributes,r),0]},addCommands(){return{setItalic:()=>({commands:r})=>r.setMark(this.name),toggleItalic:()=>({commands:r})=>r.toggleMark(this.name),unsetItalic:()=>({commands:r})=>r.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(r,e)=>e.applyMark("italic",e.parseInline(r.tokens||[])),renderMarkdown:(r,e)=>`*${e.renderChildren(r)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Mi({find:uW,type:this.type}),Mi({find:cW,type:this.type})]},addPasteRules(){return[Vs({find:lW,type:this.type}),Vs({find:dW,type:this.type})]}});const hW="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mÃ¶gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",pW="ÎµÎ»1Ï2Ð±Ð³1ÐµÐ»3Ð´ÐµÑÐ¸4ÐµÑ2ÐºÐ°ÑÐ¾Ð»Ð¸Ðº6Ð¾Ð¼3Ð¼ÐºÐ´2Ð¾Ð½1ÑÐºÐ²Ð°6Ð¾Ð½Ð»Ð°Ð¹Ð½5ÑÐ³3ÑÑÑ2Ñ2ÑÐ°Ð¹Ñ3ÑÐ±3ÑÐºÑ3ÒÐ°Ð·3Õ°Õ¡Õµ3××©×¨××5×§××3Ø§Ø¨ÙØ¸Ø¨Ù5Ø±Ø§ÙÙÙ5ÙØ§Ø±Ø¯Ù4Ø¨Ø­Ø±ÙÙ5Ø¬Ø²Ø§Ø¦Ø±5Ø³Ø¹ÙØ¯ÙØ©6Ø¹ÙÙØ§Ù5ÙØºØ±Ø¨5ÙØ§Ø±Ø§Øª5ÛØ±Ø§Ù5Ø¨Ø§Ø±Øª2Ø²Ø§Ø±4ÙØªÙ3Ú¾Ø§Ø±Øª5ØªÙÙØ³4Ø³ÙØ¯Ø§Ù3Ø±ÙØ©5Ø´Ø¨ÙØ©4Ø¹Ø±Ø§Ù2Ø¨2ÙØ§Ù4ÙÙØ³Ø·ÙÙ6ÙØ·Ø±3ÙØ§Ø«ÙÙÙÙ6ÙÙ3ÙØµØ±2ÙÙØ³ÙØ§5ÙØ±ÙØªØ§ÙÙØ§7ÙØ¹4ÙÙØ±Ø§Ù5Ù¾Ø§Ú©Ø³ØªØ§Ù7ÚØ§Ø±Øª4à¤à¥à¤®3à¤¨à¥à¤3à¤­à¤¾à¤°à¤¤0à¤®à¥3à¥à¤¤5à¤¸à¤à¤à¤ à¤¨5à¦¬à¦¾à¦à¦²à¦¾5à¦­à¦¾à¦°à¦¤2à§°à¦¤4à¨­à¨¾à¨°à¨¤4àª­àª¾àª°àª¤4à¬­à¬¾à¬°à¬¤4à®à®¨à¯à®¤à®¿à®¯à®¾6à®²à®à¯à®à¯6à®à®¿à®à¯à®à®ªà¯à®ªà¯à®°à¯11à°­à°¾à°°à°¤à±5à²­à²¾à²°à²¤4à´­à´¾à´°à´¤à´5à¶½à¶à¶à·4à¸à¸­à¸¡3à¹à¸à¸¢3àº¥àº²àº§3áá2ã¿ããª3ã¢ãã¾ã³4ã¯ã©ã¦ã4ã°ã¼ã°ã«4ã³ã 2ã¹ãã¢3ã»ã¼ã«3ãã¡ãã·ã§ã³6ãã¤ã³ã4ä¸ç2ä¸­ä¿¡1å½1å1æç½3äºé©¬é3ä¼ä¸2ä½å±±2ä¿¡æ¯2å¥åº·2å«å¦2å¬å¸1ç2å°æ¹¾1ç£2åå1åº1æ 2åé0å¤§éåº5å¨çº¿2å¤§æ¿2å¤©ä¸»æ3å¨±ä¹2å®¶é»2å¹¿ä¸2å¾®å2æå2æç±ä½ 3ææº2æè2æ¿å¡1åº2æ°å å¡2é»2æ¶å°2æ¸ç±2æºæ2æ·¡é©¬é¡3æ¸¸æ2æ¾³é2ç¹ç2ç§»å¨2ç»ç»æºæ4ç½å1åº1ç«1ç»2èé2è°·æ­2è´­ç©2éè²©2éå¢2é»è¨çç§4é£å©æµ¦3é£å2é¤å2é¦æ ¼éæ3æ¸¯2ë·ë·1ì»´2ì¼ì±2íêµ­2",Yh="numeric",Xh="ascii",ep="alpha",gu="asciinumeric",ou="alphanumeric",tp="domain",Hx="emoji",vW="scheme",mW="slashscheme",Qf="whitespace";function gW(r,e){return r in e||(e[r]=[]),e[r]}function fi(r,e,t){e[Yh]&&(e[gu]=!0,e[ou]=!0),e[Xh]&&(e[gu]=!0,e[ep]=!0),e[gu]&&(e[ou]=!0),e[ep]&&(e[ou]=!0),e[ou]&&(e[tp]=!0),e[Hx]&&(e[tp]=!0);for(const n in e){const a=gW(n,t);a.indexOf(r)<0&&a.push(r)}}function bW(r,e){const t={};for(const n in e)e[n].indexOf(r)>=0&&(t[n]=!0);return t}function bn(r=null){this.j={},this.jr=[],this.jd=null,this.t=r}bn.groups={};bn.prototype={accepts(){return!!this.t},go(r){const e=this,t=e.j[r];if(t)return t;for(let n=0;n<e.jr.length;n++){const a=e.jr[n][0],s=e.jr[n][1];if(s&&a.test(r))return s}return e.jd},has(r,e=!1){return e?r in this.j:!!this.go(r)},ta(r,e,t,n){for(let a=0;a<r.length;a++)this.tt(r[a],e,t,n)},tr(r,e,t,n){n=n||bn.groups;let a;return e&&e.j?a=e:(a=new bn(e),t&&n&&fi(e,t,n)),this.jr.push([r,a]),a},ts(r,e,t,n){let a=this;const s=r.length;if(!s)return a;for(let i=0;i<s-1;i++)a=a.tt(r[i]);return a.tt(r[s-1],e,t,n)},tt(r,e,t,n){n=n||bn.groups;const a=this;if(e&&e.j)return a.j[r]=e,e;const s=e;let i,u=a.go(r);if(u?(i=new bn,Object.assign(i.j,u.j),i.jr.push.apply(i.jr,u.jr),i.jd=u.jd,i.t=u.t):i=new bn,s){if(n)if(i.t&&typeof i.t=="string"){const l=Object.assign(bW(i.t,n),t);fi(s,l,n)}else t&&fi(s,t,n);i.t=s}return a.j[r]=i,i}};const Lt=(r,e,t,n,a)=>r.ta(e,t,n,a),_r=(r,e,t,n,a)=>r.tr(e,t,n,a),tg=(r,e,t,n,a)=>r.ts(e,t,n,a),it=(r,e,t,n,a)=>r.tt(e,t,n,a),Ya="WORD",rp="UWORD",Ux="ASCIINUMERICAL",Vx="ALPHANUMERICAL",Hu="LOCALHOST",np="TLD",ap="UTLD",rc="SCHEME",ao="SLASH_SCHEME",j0="NUM",sp="WS",H0="NL",bu="OPENBRACE",_u="CLOSEBRACE",Pc="OPENBRACKET",$c="CLOSEBRACKET",Lc="OPENPAREN",Oc="CLOSEPAREN",Bc="OPENANGLEBRACKET",Fc="CLOSEANGLEBRACKET",zc="FULLWIDTHLEFTPAREN",qc="FULLWIDTHRIGHTPAREN",jc="LEFTCORNERBRACKET",Hc="RIGHTCORNERBRACKET",Uc="LEFTWHITECORNERBRACKET",Vc="RIGHTWHITECORNERBRACKET",Wc="FULLWIDTHLESSTHAN",Qc="FULLWIDTHGREATERTHAN",Gc="AMPERSAND",Kc="APOSTROPHE",Jc="ASTERISK",ks="AT",Zc="BACKSLASH",Yc="BACKTICK",Xc="CARET",Ds="COLON",U0="COMMA",ed="DOLLAR",wa="DOT",td="EQUALS",V0="EXCLAMATION",Hn="HYPHEN",yu="PERCENT",rd="PIPE",nd="PLUS",ad="POUND",xu="QUERY",W0="QUOTE",Wx="FULLWIDTHMIDDLEDOT",Q0="SEMI",ka="SLASH",wu="TILDE",sd="UNDERSCORE",Qx="EMOJI",id="SYM";var Gx=Object.freeze({__proto__:null,ALPHANUMERICAL:Vx,AMPERSAND:Gc,APOSTROPHE:Kc,ASCIINUMERICAL:Ux,ASTERISK:Jc,AT:ks,BACKSLASH:Zc,BACKTICK:Yc,CARET:Xc,CLOSEANGLEBRACKET:Fc,CLOSEBRACE:_u,CLOSEBRACKET:$c,CLOSEPAREN:Oc,COLON:Ds,COMMA:U0,DOLLAR:ed,DOT:wa,EMOJI:Qx,EQUALS:td,EXCLAMATION:V0,FULLWIDTHGREATERTHAN:Qc,FULLWIDTHLEFTPAREN:zc,FULLWIDTHLESSTHAN:Wc,FULLWIDTHMIDDLEDOT:Wx,FULLWIDTHRIGHTPAREN:qc,HYPHEN:Hn,LEFTCORNERBRACKET:jc,LEFTWHITECORNERBRACKET:Uc,LOCALHOST:Hu,NL:H0,NUM:j0,OPENANGLEBRACKET:Bc,OPENBRACE:bu,OPENBRACKET:Pc,OPENPAREN:Lc,PERCENT:yu,PIPE:rd,PLUS:nd,POUND:ad,QUERY:xu,QUOTE:W0,RIGHTCORNERBRACKET:Hc,RIGHTWHITECORNERBRACKET:Vc,SCHEME:rc,SEMI:Q0,SLASH:ka,SLASH_SCHEME:ao,SYM:id,TILDE:wu,TLD:np,UNDERSCORE:sd,UTLD:ap,UWORD:rp,WORD:Ya,WS:sp});const Qa=/[a-z]/,Jo=new RegExp("\\p{L}","u"),Gf=new RegExp("\\p{Emoji}","u"),Ga=/\d/,Kf=/\s/,rg="\r",Jf=`
`,_W="ï¸",yW="â",Zf="ï¿¼";let jl=null,Hl=null;function xW(r=[]){const e={};bn.groups=e;const t=new bn;jl==null&&(jl=ng(hW)),Hl==null&&(Hl=ng(pW)),it(t,"'",Kc),it(t,"{",bu),it(t,"}",_u),it(t,"[",Pc),it(t,"]",$c),it(t,"(",Lc),it(t,")",Oc),it(t,"<",Bc),it(t,">",Fc),it(t,"ï¼",zc),it(t,"ï¼",qc),it(t,"ã",jc),it(t,"ã",Hc),it(t,"ã",Uc),it(t,"ã",Vc),it(t,"ï¼",Wc),it(t,"ï¼",Qc),it(t,"&",Gc),it(t,"*",Jc),it(t,"@",ks),it(t,"`",Yc),it(t,"^",Xc),it(t,":",Ds),it(t,",",U0),it(t,"$",ed),it(t,".",wa),it(t,"=",td),it(t,"!",V0),it(t,"-",Hn),it(t,"%",yu),it(t,"|",rd),it(t,"+",nd),it(t,"#",ad),it(t,"?",xu),it(t,'"',W0),it(t,"/",ka),it(t,";",Q0),it(t,"~",wu),it(t,"_",sd),it(t,"\\",Zc),it(t,"ã»",Wx);const n=_r(t,Ga,j0,{[Yh]:!0});_r(n,Ga,n);const a=_r(n,Qa,Ux,{[gu]:!0}),s=_r(n,Jo,Vx,{[ou]:!0}),i=_r(t,Qa,Ya,{[Xh]:!0});_r(i,Ga,a),_r(i,Qa,i),_r(a,Ga,a),_r(a,Qa,a);const u=_r(t,Jo,rp,{[ep]:!0});_r(u,Qa),_r(u,Ga,s),_r(u,Jo,u),_r(s,Ga,s),_r(s,Qa),_r(s,Jo,s);const l=it(t,Jf,H0,{[Qf]:!0}),c=it(t,rg,sp,{[Qf]:!0}),f=_r(t,Kf,sp,{[Qf]:!0});it(t,Zf,f),it(c,Jf,l),it(c,Zf,f),_r(c,Kf,f),it(f,rg),it(f,Jf),_r(f,Kf,f),it(f,Zf,f);const h=_r(t,Gf,Qx,{[Hx]:!0});it(h,"#"),_r(h,Gf,h),it(h,_W,h);const m=it(h,yW);it(m,"#"),_r(m,Gf,h);const g=[[Qa,i],[Ga,a]],b=[[Qa,null],[Jo,u],[Ga,s]];for(let y=0;y<jl.length;y++)_s(t,jl[y],np,Ya,g);for(let y=0;y<Hl.length;y++)_s(t,Hl[y],ap,rp,b);fi(np,{tld:!0,ascii:!0},e),fi(ap,{utld:!0,alpha:!0},e),_s(t,"file",rc,Ya,g),_s(t,"mailto",rc,Ya,g),_s(t,"http",ao,Ya,g),_s(t,"https",ao,Ya,g),_s(t,"ftp",ao,Ya,g),_s(t,"ftps",ao,Ya,g),fi(rc,{scheme:!0,ascii:!0},e),fi(ao,{slashscheme:!0,ascii:!0},e),r=r.sort((y,x)=>y[0]>x[0]?1:-1);for(let y=0;y<r.length;y++){const x=r[y][0],S=r[y][1]?{[vW]:!0}:{[mW]:!0};x.indexOf("-")>=0?S[tp]=!0:Qa.test(x)?Ga.test(x)?S[gu]=!0:S[Xh]=!0:S[Yh]=!0,tg(t,x,x,S)}return tg(t,"localhost",Hu,{ascii:!0}),t.jd=new bn(id),{start:t,tokens:Object.assign({groups:e},Gx)}}function Kx(r,e){const t=wW(e.replace(/[A-Z]/g,u=>u.toLowerCase())),n=t.length,a=[];let s=0,i=0;for(;i<n;){let u=r,l=null,c=0,f=null,h=-1,m=-1;for(;i<n&&(l=u.go(t[i]));)u=l,u.accepts()?(h=0,m=0,f=u):h>=0&&(h+=t[i].length,m++),c+=t[i].length,s+=t[i].length,i++;s-=h,i-=m,c-=h,a.push({t:f.t,v:e.slice(s-c,s),s:s-c,e:s})}return a}function wW(r){const e=[],t=r.length;let n=0;for(;n<t;){let a=r.charCodeAt(n),s,i=a<55296||a>56319||n+1===t||(s=r.charCodeAt(n+1))<56320||s>57343?r[n]:r.slice(n,n+2);e.push(i),n+=i.length}return e}function _s(r,e,t,n,a){let s;const i=e.length;for(let u=0;u<i-1;u++){const l=e[u];r.j[l]?s=r.j[l]:(s=new bn(n),s.jr=a.slice(),r.j[l]=s),r=s}return s=new bn(t),s.jr=a.slice(),r.j[e[i-1]]=s,s}function ng(r){const e=[],t=[];let n=0,a="0123456789";for(;n<r.length;){let s=0;for(;a.indexOf(r[n+s])>=0;)s++;if(s>0){e.push(t.join(""));for(let i=parseInt(r.substring(n,n+s),10);i>0;i--)t.pop();n+=s}else t.push(r[n]),n++}return e}const Uu={defaultProtocol:"http",events:null,format:ag,formatHref:ag,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function G0(r,e=null){let t=Object.assign({},Uu);r&&(t=Object.assign(t,r instanceof G0?r.o:r));const n=t.ignoreTags,a=[];for(let s=0;s<n.length;s++)a.push(n[s].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=a}G0.prototype={o:Uu,ignoreTags:[],defaultRender(r){return r},check(r){return this.get("validate",r.toString(),r)},get(r,e,t){const n=e!=null;let a=this.o[r];return a&&(typeof a=="object"?(a=t.t in a?a[t.t]:Uu[r],typeof a=="function"&&n&&(a=a(e,t))):typeof a=="function"&&n&&(a=a(e,t.t,t)),a)},getObj(r,e,t){let n=this.o[r];return typeof n=="function"&&e!=null&&(n=n(e,t.t,t)),n},render(r){const e=r.render(this);return(this.get("render",null,r)||this.defaultRender)(e,r.t,r)}};function ag(r){return r}function Jx(r,e){this.t="token",this.v=r,this.tk=e}Jx.prototype={isLink:!1,toString(){return this.v},toHref(r){return this.toString()},toFormattedString(r){const e=this.toString(),t=r.get("truncate",e,this),n=r.get("format",e,this);return t&&n.length>t?n.substring(0,t)+"â¦":n},toFormattedHref(r){return r.get("formatHref",this.toHref(r.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(r=Uu.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(r),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(r){return{type:this.t,value:this.toFormattedString(r),isLink:this.isLink,href:this.toFormattedHref(r),start:this.startIndex(),end:this.endIndex()}},validate(r){return r.get("validate",this.toString(),this)},render(r){const e=this,t=this.toHref(r.get("defaultProtocol")),n=r.get("formatHref",t,this),a=r.get("tagName",t,e),s=this.toFormattedString(r),i={},u=r.get("className",t,e),l=r.get("target",t,e),c=r.get("rel",t,e),f=r.getObj("attributes",t,e),h=r.getObj("events",t,e);return i.href=n,u&&(i.class=u),l&&(i.target=l),c&&(i.rel=c),f&&Object.assign(i,f),{tagName:a,attributes:i,content:s,eventListeners:h}}};function rf(r,e){class t extends Jx{constructor(a,s){super(a,s),this.t=r}}for(const n in e)t.prototype[n]=e[n];return t.t=r,t}const sg=rf("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),ig=rf("text"),kW=rf("nl"),Ul=rf("url",{isLink:!0,toHref(r=Uu.defaultProtocol){return this.hasProtocol()?this.v:`${r}://${this.v}`},hasProtocol(){const r=this.tk;return r.length>=2&&r[0].t!==Hu&&r[1].t===Ds}}),jn=r=>new bn(r);function EW({groups:r}){const e=r.domain.concat([Gc,Jc,ks,Zc,Yc,Xc,ed,td,Hn,j0,yu,rd,nd,ad,ka,id,wu,sd]),t=[Kc,Ds,U0,wa,V0,yu,xu,W0,Q0,Bc,Fc,bu,_u,$c,Pc,Lc,Oc,zc,qc,jc,Hc,Uc,Vc,Wc,Qc],n=[Gc,Kc,Jc,Zc,Yc,Xc,ed,td,Hn,bu,_u,yu,rd,nd,ad,xu,ka,id,wu,sd],a=jn(),s=it(a,wu);Lt(s,n,s),Lt(s,r.domain,s);const i=jn(),u=jn(),l=jn();Lt(a,r.domain,i),Lt(a,r.scheme,u),Lt(a,r.slashscheme,l),Lt(i,n,s),Lt(i,r.domain,i);const c=it(i,ks);it(s,ks,c),it(u,ks,c),it(l,ks,c);const f=it(s,wa);Lt(f,n,s),Lt(f,r.domain,s);const h=jn();Lt(c,r.domain,h),Lt(h,r.domain,h);const m=it(h,wa);Lt(m,r.domain,h);const g=jn(sg);Lt(m,r.tld,g),Lt(m,r.utld,g),it(c,Hu,g);const b=it(h,Hn);it(b,Hn,b),Lt(b,r.domain,h),Lt(g,r.domain,h),it(g,wa,m),it(g,Hn,b);const y=it(g,Ds);Lt(y,r.numeric,sg);const x=it(i,Hn),k=it(i,wa);it(x,Hn,x),Lt(x,r.domain,i),Lt(k,n,s),Lt(k,r.domain,i);const S=jn(Ul);Lt(k,r.tld,S),Lt(k,r.utld,S),Lt(S,r.domain,i),Lt(S,n,s),it(S,wa,k),it(S,Hn,x),it(S,ks,c);const A=it(S,Ds),C=jn(Ul);Lt(A,r.numeric,C);const E=jn(Ul),I=jn();Lt(E,e,E),Lt(E,t,I),Lt(I,e,E),Lt(I,t,I),it(S,ka,E),it(C,ka,E);const T=it(u,Ds),j=it(l,Ds),U=it(j,ka),G=it(U,ka);Lt(u,r.domain,i),it(u,wa,k),it(u,Hn,x),Lt(l,r.domain,i),it(l,wa,k),it(l,Hn,x),Lt(T,r.domain,E),it(T,ka,E),it(T,xu,E),Lt(G,r.domain,E),Lt(G,e,E),it(G,ka,E);const Q=[[bu,_u],[Pc,$c],[Lc,Oc],[Bc,Fc],[zc,qc],[jc,Hc],[Uc,Vc],[Wc,Qc]];for(let ee=0;ee<Q.length;ee++){const[oe,H]=Q[ee],J=it(E,oe);it(I,oe,J),it(J,H,E);const K=jn(Ul);Lt(J,e,K);const te=jn();Lt(J,t),Lt(K,e,K),Lt(K,t,te),Lt(te,e,K),Lt(te,t,te),it(K,H,E),it(te,H,E)}return it(a,Hu,S),it(a,H0,kW),{start:a,tokens:Gx}}function SW(r,e,t){let n=t.length,a=0,s=[],i=[];for(;a<n;){let u=r,l=null,c=null,f=0,h=null,m=-1;for(;a<n&&!(l=u.go(t[a].t));)i.push(t[a++]);for(;a<n&&(c=l||u.go(t[a].t));)l=null,u=c,u.accepts()?(m=0,h=u):m>=0&&m++,a++,f++;if(m<0)a-=f,a<n&&(i.push(t[a]),a++);else{i.length>0&&(s.push(Yf(ig,e,i)),i=[]),a-=m,f-=m;const g=h.t,b=t.slice(a-f,a);s.push(Yf(g,e,b))}}return i.length>0&&s.push(Yf(ig,e,i)),s}function Yf(r,e,t){const n=t[0].s,a=t[t.length-1].e,s=e.slice(n,a);return new r(s,t)}const AW=typeof console<"u"&&console&&console.warn||(()=>{}),DW="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",dr={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function CW(){return bn.groups={},dr.scanner=null,dr.parser=null,dr.tokenQueue=[],dr.pluginQueue=[],dr.customSchemes=[],dr.initialized=!1,dr}function og(r,e=!1){if(dr.initialized&&AW(`linkifyjs: already initialized - will not register custom scheme "${r}" ${DW}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(r))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);dr.customSchemes.push([r,e])}function IW(){dr.scanner=xW(dr.customSchemes);for(let r=0;r<dr.tokenQueue.length;r++)dr.tokenQueue[r][1]({scanner:dr.scanner});dr.parser=EW(dr.scanner.tokens);for(let r=0;r<dr.pluginQueue.length;r++)dr.pluginQueue[r][1]({scanner:dr.scanner,parser:dr.parser});return dr.initialized=!0,dr}function K0(r){return dr.initialized||IW(),SW(dr.parser.start,r,Kx(dr.scanner.start,r))}K0.scan=Kx;function Zx(r,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const n=new G0(t),a=K0(r),s=[];for(let i=0;i<a.length;i++){const u=a[i];u.isLink&&(!e||u.t===e)&&n.check(u)&&s.push(u.toFormattedObject(n))}return s}var J0="[\0- Â áá â-\u2029âã]",TW=new RegExp(J0),MW=new RegExp(`${J0}$`),RW=new RegExp(J0,"g");function NW(r){return r.length===1?r[0].isLink:r.length===3&&r[1].isLink?["()","[]"].includes(r[0].value+r[2].value):!1}function PW(r){return new Jt({key:new or("autolink"),appendTransaction:(e,t,n)=>{const a=e.some(c=>c.docChanged)&&!t.doc.eq(n.doc),s=e.some(c=>c.getMeta("preventAutolink"));if(!a||s)return;const{tr:i}=n,u=Zy(t.doc,[...e]);if(ax(u).forEach(({newRange:c})=>{const f=jj(n.doc,c,g=>g.isTextblock);let h,m;if(f.length>1)h=f[0],m=n.doc.textBetween(h.pos,h.pos+h.node.nodeSize,void 0," ");else if(f.length){const g=n.doc.textBetween(c.from,c.to," "," ");if(!MW.test(g))return;h=f[0],m=n.doc.textBetween(h.pos,c.to,void 0," ")}if(h&&m){const g=m.split(TW).filter(Boolean);if(g.length<=0)return!1;const b=g[g.length-1],y=h.pos+m.lastIndexOf(b);if(!b)return!1;const x=K0(b).map(k=>k.toObject(r.defaultProtocol));if(!NW(x))return!1;x.filter(k=>k.isLink).map(k=>({...k,from:y+k.start+1,to:y+k.end+1})).filter(k=>n.schema.marks.code?!n.doc.rangeHasMark(k.from,k.to,n.schema.marks.code):!0).filter(k=>r.validate(k.value)).filter(k=>r.shouldAutoLink(k.value)).forEach(k=>{M0(k.from,k.to,n.doc).some(S=>S.mark.type===r.type)||i.addMark(k.from,k.to,r.type.create({href:k.href}))})}}),!!i.steps.length)return i}})}function $W(r){return new Jt({key:new or("handleClickLink"),props:{handleClick:(e,t,n)=>{var a,s;if(n.button!==0||!e.editable)return!1;let i=!1;if(r.enableClickSelection&&(i=r.editor.commands.extendMarkRange(r.type.name)),r.openOnClick){let u=null;if(n.target instanceof HTMLAnchorElement)u=n.target;else{let h=n.target;const m=[];for(;h.nodeName!=="DIV";)m.push(h),h=h.parentNode;u=m.find(g=>g.nodeName==="A")}if(!u)return i;const l=nx(e.state,r.type.name),c=(a=u?.href)!=null?a:l.href,f=(s=u?.target)!=null?s:l.target;u&&c&&(window.open(c,f),i=!0)}return i}}})}function LW(r){return new Jt({key:new or("handlePasteLink"),props:{handlePaste:(e,t,n)=>{const{shouldAutoLink:a}=r,{state:s}=e,{selection:i}=s,{empty:u}=i;if(u)return!1;let l="";n.content.forEach(f=>{l+=f.textContent});const c=Zx(l,{defaultProtocol:r.defaultProtocol}).find(f=>f.isLink&&f.value===l);return!l||!c||a!==void 0&&!a(c.href)?!1:r.editor.commands.setMark(r.type,{href:c.href})}}})}function ti(r,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{const a=typeof n=="string"?n:n.scheme;a&&t.push(a)}),!r||r.replace(RW,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var OW=Cn.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(r=>{if(typeof r=="string"){og(r);return}og(r.scheme,r.optionalSlashes)})},onDestroy(){CW()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(r,e)=>!!ti(r,e.protocols),validate:r=>!!r,shouldAutoLink:r=>!!r}},addAttributes(){return{href:{default:null,parseHTML(r){return r.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:r=>{const e=r.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!ti(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:r}){return this.options.isAllowedUri(r.href,{defaultValidate:e=>!!ti(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Sr(this.options.HTMLAttributes,r),0]:["a",Sr(this.options.HTMLAttributes,{...r,href:""}),0]},markdownTokenName:"link",parseMarkdown:(r,e)=>e.applyMark("link",e.parseInline(r.tokens||[]),{href:r.href,title:r.title||null}),renderMarkdown:(r,e)=>{var t;const n=((t=r.attrs)==null?void 0:t.href)||"";return`[${e.renderChildren(r)}](${n})`},addCommands(){return{setLink:r=>({chain:e})=>{const{href:t}=r;return this.options.isAllowedUri(t,{defaultValidate:n=>!!ti(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,r).setMeta("preventAutolink",!0).run():!1},toggleLink:r=>({chain:e})=>{const{href:t}=r||{};return t&&!this.options.isAllowedUri(t,{defaultValidate:n=>!!ti(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,r,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:r})=>r().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Vs({find:r=>{const e=[];if(r){const{protocols:t,defaultProtocol:n}=this.options,a=Zx(r).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:i=>!!ti(i,t),protocols:t,defaultProtocol:n}));a.length&&a.forEach(s=>{this.options.shouldAutoLink(s.value)&&e.push({text:s.value,data:{href:s.href},index:s.start})})}return e},type:this.type,getAttributes:r=>{var e;return{href:(e=r.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const r=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&r.push(PW({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:a=>!!ti(a,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),r.push($W({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&r.push(LW({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),r}}),BW=Object.defineProperty,FW=(r,e)=>{for(var t in e)BW(r,t,{get:e[t],enumerable:!0})},zW="listItem",ug="textStyle",lg=/^\s*([-+*])\s$/,Yx=ur.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:r}){return["ul",Sr(this.options.HTMLAttributes,r),0]},markdownTokenName:"list",parseMarkdown:(r,e)=>r.type!=="list"||r.ordered?[]:{type:"bulletList",content:r.items?e.parseChildren(r.items):[]},renderMarkdown:(r,e)=>r.content?e.renderChildren(r.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:r,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(zW,this.editor.getAttributes(ug)).run():r.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let r=Eo({find:lg,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(r=Eo({find:lg,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(ug),editor:this.editor})),[r]}}),Xx=ur.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:r}){return["li",Sr(this.options.HTMLAttributes,r),0]},markdownTokenName:"list_item",parseMarkdown:(r,e)=>{if(r.type!=="list_item")return[];let t=[];if(r.tokens&&r.tokens.length>0)if(r.tokens.some(a=>a.type==="paragraph"))t=e.parseChildren(r.tokens);else{const a=r.tokens[0];if(a&&a.type==="text"&&a.tokens&&a.tokens.length>0){if(t=[{type:"paragraph",content:e.parseInline(a.tokens)}],r.tokens.length>1){const i=r.tokens.slice(1),u=e.parseChildren(i);t.push(...u)}}else t=e.parseChildren(r.tokens)}return t.length===0&&(t=[{type:"paragraph",content:[]}]),{type:"listItem",content:t}},renderMarkdown:(r,e,t)=>$0(r,e,n=>n.parentType==="bulletList"?"- ":n.parentType==="orderedList"?`${n.index+1}. `:"- ",t),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),qW={};FW(qW,{findListItemPos:()=>ml,getNextListDepth:()=>Z0,handleBackspace:()=>ip,handleDelete:()=>op,hasListBefore:()=>e3,hasListItemAfter:()=>jW,hasListItemBefore:()=>t3,listItemHasSubList:()=>r3,nextListIsDeeper:()=>n3,nextListIsHigher:()=>a3});var ml=(r,e)=>{const{$from:t}=e.selection,n=Tr(r,e.schema);let a=null,s=t.depth,i=t.pos,u=null;for(;s>0&&u===null;)a=t.node(s),a.type===n?u=s:(s-=1,i-=1);return u===null?null:{$pos:e.doc.resolve(i),depth:u}},Z0=(r,e)=>{const t=ml(r,e);if(!t)return!1;const[,n]=Yj(e,r,t.$pos.pos+4);return n},e3=(r,e,t)=>{const{$anchor:n}=r.selection,a=Math.max(0,n.pos-2),s=r.doc.resolve(a).node();return!(!s||!t.includes(s.type.name))},t3=(r,e)=>{var t;const{$anchor:n}=e.selection,a=e.doc.resolve(n.pos-2);return!(a.index()===0||((t=a.nodeBefore)==null?void 0:t.type.name)!==r)},r3=(r,e,t)=>{if(!t)return!1;const n=Tr(r,e.schema);let a=!1;return t.descendants(s=>{s.type===n&&(a=!0)}),a},ip=(r,e,t)=>{if(r.commands.undoInputRule())return!0;if(r.state.selection.from!==r.state.selection.to)return!1;if(!Us(r.state,e)&&e3(r.state,e,t)){const{$anchor:u}=r.state.selection,l=r.state.doc.resolve(u.before()-1),c=[];l.node().descendants((m,g)=>{m.type.name===e&&c.push({node:m,pos:g})});const f=c.at(-1);if(!f)return!1;const h=r.state.doc.resolve(l.start()+f.pos+1);return r.chain().cut({from:u.start()-1,to:u.end()+1},h.end()).joinForward().run()}if(!Us(r.state,e)||!rH(r.state))return!1;const n=ml(e,r.state);if(!n)return!1;const s=r.state.doc.resolve(n.$pos.pos-2).node(n.depth),i=r3(e,r.state,s);return t3(e,r.state)&&!i?r.commands.joinItemBackward():r.chain().liftListItem(e).run()},n3=(r,e)=>{const t=Z0(r,e),n=ml(r,e);return!n||!t?!1:t>n.depth},a3=(r,e)=>{const t=Z0(r,e),n=ml(r,e);return!n||!t?!1:t<n.depth},op=(r,e)=>{if(!Us(r.state,e)||!tH(r.state,e))return!1;const{selection:t}=r.state,{$from:n,$to:a}=t;return!t.empty&&n.sameParent(a)?!1:n3(e,r.state)?r.chain().focus(r.state.selection.from+4).lift(e).joinBackward().run():a3(e,r.state)?r.chain().joinForward().joinBackward().run():r.commands.joinItemForward()},jW=(r,e)=>{var t;const{$anchor:n}=e.selection,a=e.doc.resolve(n.pos-n.parentOffset-2);return!(a.index()===a.parent.childCount-1||((t=a.nodeAfter)==null?void 0:t.type.name)!==r)},s3=br.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:r})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{r.state.schema.nodes[t]!==void 0&&op(r,t)&&(e=!0)}),e},"Mod-Delete":({editor:r})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{r.state.schema.nodes[t]!==void 0&&op(r,t)&&(e=!0)}),e},Backspace:({editor:r})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:n})=>{r.state.schema.nodes[t]!==void 0&&ip(r,t,n)&&(e=!0)}),e},"Mod-Backspace":({editor:r})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:n})=>{r.state.schema.nodes[t]!==void 0&&ip(r,t,n)&&(e=!0)}),e}}}}),cg=/^(\s*)(\d+)\.\s+(.*)$/,HW=/^\s/;function UW(r){const e=[];let t=0,n=0;for(;t<r.length;){const a=r[t],s=a.match(cg);if(!s)break;const[,i,u,l]=s,c=i.length;let f=l,h=t+1;const m=[a];for(;h<r.length;){const g=r[h];if(g.match(cg))break;if(g.trim()==="")m.push(g),f+=`
`,h+=1;else if(g.match(HW))m.push(g),f+=`
${g.slice(c+2)}`,h+=1;else break}e.push({indent:c,number:parseInt(u,10),content:f.trim(),raw:m.join(`
`)}),n=h,t=h}return[e,n]}function i3(r,e,t){var n;const a=[];let s=0;for(;s<r.length;){const i=r[s];if(i.indent===e){const u=i.content.split(`
`),l=((n=u[0])==null?void 0:n.trim())||"",c=[];l&&c.push({type:"paragraph",raw:l,tokens:t.inlineTokens(l)});const f=u.slice(1).join(`
`).trim();if(f){const g=t.blockTokens(f);c.push(...g)}let h=s+1;const m=[];for(;h<r.length&&r[h].indent>e;)m.push(r[h]),h+=1;if(m.length>0){const g=Math.min(...m.map(y=>y.indent)),b=i3(m,g,t);c.push({type:"list",ordered:!0,start:m[0].number,items:b,raw:m.map(y=>y.raw).join(`
`)})}a.push({type:"list_item",raw:i.raw,tokens:c}),s=h}else s+=1}return a}function VW(r,e){return r.map(t=>{if(t.type!=="list_item")return e.parseChildren([t])[0];const n=[];return t.tokens&&t.tokens.length>0&&t.tokens.forEach(a=>{if(a.type==="paragraph"||a.type==="list"||a.type==="blockquote"||a.type==="code")n.push(...e.parseChildren([a]));else if(a.type==="text"&&a.tokens){const s=e.parseChildren([a]);n.push({type:"paragraph",content:s})}else{const s=e.parseChildren([a]);s.length>0&&n.push(...s)}}),{type:"listItem",content:n}})}var WW="listItem",dg="textStyle",fg=/^(\d+)\.\s$/,o3=ur.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:r=>r.hasAttribute("start")?parseInt(r.getAttribute("start")||"",10):1},type:{default:null,parseHTML:r=>r.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:r}){const{start:e,...t}=r;return e===1?["ol",Sr(this.options.HTMLAttributes,t),0]:["ol",Sr(this.options.HTMLAttributes,r),0]},markdownTokenName:"list",parseMarkdown:(r,e)=>{if(r.type!=="list"||!r.ordered)return[];const t=r.start||1,n=r.items?VW(r.items,e):[];return t!==1?{type:"orderedList",attrs:{start:t},content:n}:{type:"orderedList",content:n}},renderMarkdown:(r,e)=>r.content?e.renderChildren(r.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:r=>{const e=r.match(/^(\s*)(\d+)\.\s+/),t=e?.index;return t!==void 0?t:-1},tokenize:(r,e,t)=>{var n;const a=r.split(`
`),[s,i]=UW(a);if(s.length===0)return;const u=i3(s,0,t);return u.length===0?void 0:{type:"list",ordered:!0,start:((n=s[0])==null?void 0:n.number)||1,items:u,raw:a.slice(0,i).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:r,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(WW,this.editor.getAttributes(dg)).run():r.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let r=Eo({find:fg,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(r=Eo({find:fg,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(dg)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[r]}}),QW=/^\s*(\[([( |x])?\])\s$/,GW=ur.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:r=>{const e=r.getAttribute("data-checked");return e===""||e==="true"},renderHTML:r=>({"data-checked":r.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:r,HTMLAttributes:e}){return["li",Sr(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:r.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(r,e)=>{const t=[];if(r.tokens&&r.tokens.length>0?t.push(e.createNode("paragraph",{},e.parseInline(r.tokens))):r.text?t.push(e.createNode("paragraph",{},[e.createNode("text",{text:r.text})])):t.push(e.createNode("paragraph",{},[])),r.nestedTokens&&r.nestedTokens.length>0){const n=e.parseChildren(r.nestedTokens);t.push(...n)}return e.createNode("taskItem",{checked:r.checked||!1},t)},renderMarkdown:(r,e)=>{var t;const a=`- [${(t=r.attrs)!=null&&t.checked?"x":" "}] `;return $0(r,e,a)},addKeyboardShortcuts(){const r={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...r,Tab:()=>this.editor.commands.sinkListItem(this.name)}:r},addNodeView(){return({node:r,HTMLAttributes:e,getPos:t,editor:n})=>{const a=document.createElement("li"),s=document.createElement("label"),i=document.createElement("span"),u=document.createElement("input"),l=document.createElement("div"),c=f=>{var h,m;u.ariaLabel=((m=(h=this.options.a11y)==null?void 0:h.checkboxLabel)==null?void 0:m.call(h,f,u.checked))||`Task item checkbox for ${f.textContent||"empty task item"}`};return c(r),s.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",f=>f.preventDefault()),u.addEventListener("change",f=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:h}=f.target;n.isEditable&&typeof t=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:m})=>{const g=t();if(typeof g!="number")return!1;const b=m.doc.nodeAt(g);return m.setNodeMarkup(g,void 0,{...b?.attrs,checked:h}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(r,h)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([f,h])=>{a.setAttribute(f,h)}),a.dataset.checked=r.attrs.checked,u.checked=r.attrs.checked,s.append(u,i),a.append(s,l),Object.entries(e).forEach(([f,h])=>{a.setAttribute(f,h)}),{dom:a,contentDOM:l,update:f=>f.type!==this.type?!1:(a.dataset.checked=f.attrs.checked,u.checked=f.attrs.checked,c(f),!0)}}},addInputRules(){return[Eo({find:QW,type:this.type,getAttributes:r=>({checked:r[r.length-1]==="x"})})]}}),KW=ur.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:r}){return["ul",Sr(this.options.HTMLAttributes,r,{"data-type":this.name}),0]},parseMarkdown:(r,e)=>e.createNode("taskList",{},e.parseChildren(r.items||[])),renderMarkdown:(r,e)=>r.content?e.renderChildren(r.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(r){var e;const t=(e=r.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return t!==void 0?t:-1},tokenize(r,e,t){const n=s=>{const i=Zh(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:u=>({indentLevel:u[1].length,mainContent:u[4],checked:u[3].toLowerCase()==="x"}),createToken:(u,l)=>({type:"taskItem",raw:"",mainContent:u.mainContent,indentLevel:u.indentLevel,checked:u.checked,text:u.mainContent,tokens:t.inlineTokens(u.mainContent),nestedTokens:l}),customNestedParser:n},t);return i?[{type:"taskList",raw:i.raw,items:i.items}]:t.blockTokens(s)},a=Zh(r,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,i)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:t.inlineTokens(s.mainContent),nestedTokens:i}),customNestedParser:n},t);if(a)return{type:"taskList",raw:a.raw,items:a.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:r})=>r.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});br.create({name:"listKit",addExtensions(){const r=[];return this.options.bulletList!==!1&&r.push(Yx.configure(this.options.bulletList)),this.options.listItem!==!1&&r.push(Xx.configure(this.options.listItem)),this.options.listKeymap!==!1&&r.push(s3.configure(this.options.listKeymap)),this.options.orderedList!==!1&&r.push(o3.configure(this.options.orderedList)),this.options.taskItem!==!1&&r.push(GW.configure(this.options.taskItem)),this.options.taskList!==!1&&r.push(KW.configure(this.options.taskList)),r}});var JW=ur.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:r}){return["p",Sr(this.options.HTMLAttributes,r),0]},parseMarkdown:(r,e)=>{const t=r.tokens||[];return t.length===1&&t[0].type==="image"?e.parseChildren([t[0]]):e.createNode("paragraph",void 0,e.parseInline(t))},renderMarkdown:(r,e)=>!r||!Array.isArray(r.content)?"":e.renderChildren(r.content),addCommands(){return{setParagraph:()=>({commands:r})=>r.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),ZW=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,YW=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,XW=Cn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:r=>r.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["s",Sr(this.options.HTMLAttributes,r),0]},markdownTokenName:"del",parseMarkdown:(r,e)=>e.applyMark("strike",e.parseInline(r.tokens||[])),renderMarkdown:(r,e)=>`~~${e.renderChildren(r)}~~`,addCommands(){return{setStrike:()=>({commands:r})=>r.setMark(this.name),toggleStrike:()=>({commands:r})=>r.toggleMark(this.name),unsetStrike:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Mi({find:ZW,type:this.type})]},addPasteRules(){return[Vs({find:YW,type:this.type})]}}),eQ=ur.create({name:"text",group:"inline",parseMarkdown:r=>({type:"text",text:r.text||""}),renderMarkdown:r=>r.text||""}),tQ=Cn.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:r=>r.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["u",Sr(this.options.HTMLAttributes,r),0]},parseMarkdown(r,e){return e.applyMark(this.name||"underline",e.parseInline(r.tokens||[]))},renderMarkdown(r,e){return`++${e.renderChildren(r)}++`},markdownTokenizer:{name:"underline",level:"inline",start(r){return r.indexOf("++")},tokenize(r,e,t){const a=/^(\+\+)([\s\S]+?)(\+\+)/.exec(r);if(!a)return;const s=a[2].trim();return{type:"underline",raw:a[0],text:s,tokens:t.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:r})=>r.setMark(this.name),toggleUnderline:()=>({commands:r})=>r.toggleMark(this.name),unsetUnderline:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function rQ(r={}){return new Jt({view(e){return new nQ(e,r)}})}class nQ{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=t.width)!==null&&n!==void 0?n:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(a=>{let s=i=>{this[a](i)};return e.dom.addEventListener(a,s),{name:a,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,n,a=this.editorView.dom,s=a.getBoundingClientRect(),i=s.width/a.offsetWidth,u=s.height/a.offsetHeight;if(t){let h=e.nodeBefore,m=e.nodeAfter;if(h||m){let g=this.editorView.nodeDOM(this.cursorPos-(h?h.nodeSize:0));if(g){let b=g.getBoundingClientRect(),y=h?b.bottom:b.top;h&&m&&(y=(y+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let x=this.width/2*u;n={left:b.left,right:b.right,top:y-x,bottom:y+x}}}}if(!n){let h=this.editorView.coordsAtPos(this.cursorPos),m=this.width/2*i;n={left:h.left-m,right:h.left+m,top:h.top,bottom:h.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let c,f;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,f=-pageYOffset;else{let h=l.getBoundingClientRect(),m=h.width/l.offsetWidth,g=h.height/l.offsetHeight;c=h.left-l.scrollLeft*m,f=h.top-l.scrollTop*g}this.element.style.left=(n.left-c)/i+"px",this.element.style.top=(n.top-f)/u+"px",this.element.style.width=(n.right-n.left)/i+"px",this.element.style.height=(n.bottom-n.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),a=n&&n.type.spec.disableDropCursor,s=typeof a=="function"?a(this.editorView,t,e):a;if(t&&!s){let i=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=O_(this.editorView.state.doc,i,this.editorView.dragging.slice);u!=null&&(i=u)}this.setCursor(i),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class yr extends Tt{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return yr.valid(n)?new yr(n):Tt.near(n)}content(){return mt.empty}eq(e){return e instanceof yr&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new yr(e.resolve(t.pos))}getBookmark(){return new Y0(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!aQ(e)||!sQ(e))return!1;let n=t.type.spec.allowGapCursor;if(n!=null)return n;let a=t.contentMatchAt(e.index()).defaultType;return a&&a.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&yr.valid(e))return e;let a=e.pos,s=null;for(let i=e.depth;;i--){let u=e.node(i);if(t>0?e.indexAfter(i)<u.childCount:e.index(i)>0){s=u.child(t>0?e.indexAfter(i):e.index(i)-1);break}else if(i==0)return null;a+=t;let l=e.doc.resolve(a);if(yr.valid(l))return l}for(;;){let i=t>0?s.firstChild:s.lastChild;if(!i){if(s.isAtom&&!s.isText&&!xt.isSelectable(s)){e=e.doc.resolve(a+s.nodeSize*t),n=!1;continue e}break}s=i,a+=t;let u=e.doc.resolve(a);if(yr.valid(u))return u}return null}}}yr.prototype.visible=!1;yr.findFrom=yr.findGapCursorFrom;Tt.jsonID("gapcursor",yr);class Y0{constructor(e){this.pos=e}map(e){return new Y0(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return yr.valid(t)?new yr(t):Tt.near(t)}}function u3(r){return r.isAtom||r.spec.isolating||r.spec.createGapCursor}function aQ(r){for(let e=r.depth;e>=0;e--){let t=r.index(e),n=r.node(e);if(t==0){if(n.type.spec.isolating)return!0;continue}for(let a=n.child(t-1);;a=a.lastChild){if(a.childCount==0&&!a.inlineContent||u3(a.type))return!0;if(a.inlineContent)return!1}}return!0}function sQ(r){for(let e=r.depth;e>=0;e--){let t=r.indexAfter(e),n=r.node(e);if(t==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let a=n.child(t);;a=a.firstChild){if(a.childCount==0&&!a.inlineContent||u3(a.type))return!0;if(a.inlineContent)return!1}}return!0}function iQ(){return new Jt({props:{decorations:cQ,createSelectionBetween(r,e,t){return e.pos==t.pos&&yr.valid(t)?new yr(t):null},handleClick:uQ,handleKeyDown:oQ,handleDOMEvents:{beforeinput:lQ}}})}const oQ=Hy({ArrowLeft:Vl("horiz",-1),ArrowRight:Vl("horiz",1),ArrowUp:Vl("vert",-1),ArrowDown:Vl("vert",1)});function Vl(r,e){const t=r=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,a,s){let i=n.selection,u=e>0?i.$to:i.$from,l=i.empty;if(i instanceof yt){if(!s.endOfTextblock(t)||u.depth==0)return!1;l=!1,u=n.doc.resolve(e>0?u.after():u.before())}let c=yr.findGapCursorFrom(u,e,l);return c?(a&&a(n.tr.setSelection(new yr(c))),!0):!1}}function uQ(r,e,t){if(!r||!r.editable)return!1;let n=r.state.doc.resolve(e);if(!yr.valid(n))return!1;let a=r.posAtCoords({left:t.clientX,top:t.clientY});return a&&a.inside>-1&&xt.isSelectable(r.state.doc.nodeAt(a.inside))?!1:(r.dispatch(r.state.tr.setSelection(new yr(n))),!0)}function lQ(r,e){if(e.inputType!="insertCompositionText"||!(r.state.selection instanceof yr))return!1;let{$from:t}=r.state.selection,n=t.parent.contentMatchAt(t.index()).findWrapping(r.state.schema.nodes.text);if(!n)return!1;let a=Ze.empty;for(let i=n.length-1;i>=0;i--)a=Ze.from(n[i].createAndFill(null,a));let s=r.state.tr.replace(t.pos,t.pos,new mt(a,0,0));return s.setSelection(yt.near(s.doc.resolve(t.pos+1))),r.dispatch(s),!1}function cQ(r){if(!(r.selection instanceof yr))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",gr.create(r.doc,[dn.widget(r.selection.head,e,{key:"gapcursor"})])}var od=200,jr=function(){};jr.prototype.append=function(e){return e.length?(e=jr.from(e),!this.length&&e||e.length<od&&this.leafAppend(e)||this.length<od&&e.leafPrepend(this)||this.appendInner(e)):this};jr.prototype.prepend=function(e){return e.length?jr.from(e).append(this):this};jr.prototype.appendInner=function(e){return new dQ(this,e)};jr.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?jr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};jr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};jr.prototype.forEach=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)};jr.prototype.map=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length);var a=[];return this.forEach(function(s,i){return a.push(e(s,i))},t,n),a};jr.from=function(e){return e instanceof jr?e:e&&e.length?new l3(e):jr.empty};var l3=(function(r){function e(n){r.call(this),this.values=n}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(a,s){return a==0&&s==this.length?this:new e(this.values.slice(a,s))},e.prototype.getInner=function(a){return this.values[a]},e.prototype.forEachInner=function(a,s,i,u){for(var l=s;l<i;l++)if(a(this.values[l],u+l)===!1)return!1},e.prototype.forEachInvertedInner=function(a,s,i,u){for(var l=s-1;l>=i;l--)if(a(this.values[l],u+l)===!1)return!1},e.prototype.leafAppend=function(a){if(this.length+a.length<=od)return new e(this.values.concat(a.flatten()))},e.prototype.leafPrepend=function(a){if(this.length+a.length<=od)return new e(a.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e})(jr);jr.empty=new l3([]);var dQ=(function(r){function e(t,n){r.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,a,s,i){var u=this.left.length;if(a<u&&this.left.forEachInner(n,a,Math.min(s,u),i)===!1||s>u&&this.right.forEachInner(n,Math.max(a-u,0),Math.min(this.length,s)-u,i+u)===!1)return!1},e.prototype.forEachInvertedInner=function(n,a,s,i){var u=this.left.length;if(a>u&&this.right.forEachInvertedInner(n,a-u,Math.max(s,u)-u,i+u)===!1||s<u&&this.left.forEachInvertedInner(n,Math.min(a,u),s,i)===!1)return!1},e.prototype.sliceInner=function(n,a){if(n==0&&a==this.length)return this;var s=this.left.length;return a<=s?this.left.slice(n,a):n>=s?this.right.slice(n-s,a-s):this.left.slice(n,s).append(this.right.slice(0,a-s))},e.prototype.leafAppend=function(n){var a=this.right.leafAppend(n);if(a)return new e(this.left,a)},e.prototype.leafPrepend=function(n){var a=this.left.leafPrepend(n);if(a)return new e(a,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e})(jr);const fQ=500;class ua{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let a,s;t&&(a=this.remapping(n,this.items.length),s=a.maps.length);let i=e.tr,u,l,c=[],f=[];return this.items.forEach((h,m)=>{if(!h.step){a||(a=this.remapping(n,m+1),s=a.maps.length),s--,f.push(h);return}if(a){f.push(new Ea(h.map));let g=h.step.map(a.slice(s)),b;g&&i.maybeStep(g).doc&&(b=i.mapping.maps[i.mapping.maps.length-1],c.push(new Ea(b,void 0,void 0,c.length+f.length))),s--,b&&a.appendMap(b,s)}else i.maybeStep(h.step);if(h.selection)return u=a?h.selection.map(a.slice(s)):h.selection,l=new ua(this.items.slice(0,n).append(f.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:i,selection:u}}addTransform(e,t,n,a){let s=[],i=this.eventCount,u=this.items,l=!a&&u.length?u.get(u.length-1):null;for(let f=0;f<e.steps.length;f++){let h=e.steps[f].invert(e.docs[f]),m=new Ea(e.mapping.maps[f],h,t),g;(g=l&&l.merge(m))&&(m=g,f?s.pop():u=u.slice(0,u.length-1)),s.push(m),t&&(i++,t=void 0),a||(l=m)}let c=i-n.depth;return c>pQ&&(u=hQ(u,c),i-=c),new ua(u.append(s),i)}remapping(e,t){let n=new Pu;return this.items.forEach((a,s)=>{let i=a.mirrorOffset!=null&&s-a.mirrorOffset>=e?n.maps.length-a.mirrorOffset:void 0;n.appendMap(a.map,i)},e,t),n}addMaps(e){return this.eventCount==0?this:new ua(this.items.append(e.map(t=>new Ea(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],a=Math.max(0,this.items.length-t),s=e.mapping,i=e.steps.length,u=this.eventCount;this.items.forEach(m=>{m.selection&&u--},a);let l=t;this.items.forEach(m=>{let g=s.getMirror(--l);if(g==null)return;i=Math.min(i,g);let b=s.maps[g];if(m.step){let y=e.steps[g].invert(e.docs[g]),x=m.selection&&m.selection.map(s.slice(l+1,g));x&&u++,n.push(new Ea(b,y,x))}else n.push(new Ea(b))},a);let c=[];for(let m=t;m<i;m++)c.push(new Ea(s.maps[m]));let f=this.items.slice(0,a).append(c).append(n),h=new ua(f,u);return h.emptyItemCount()>fQ&&(h=h.compress(this.items.length-n.length)),h}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,a=[],s=0;return this.items.forEach((i,u)=>{if(u>=e)a.push(i),i.selection&&s++;else if(i.step){let l=i.step.map(t.slice(n)),c=l&&l.getMap();if(n--,c&&t.appendMap(c,n),l){let f=i.selection&&i.selection.map(t.slice(n));f&&s++;let h=new Ea(c.invert(),l,f),m,g=a.length-1;(m=a.length&&a[g].merge(h))?a[g]=m:a.push(h)}}else i.map&&n--},this.items.length,0),new ua(jr.from(a.reverse()),s)}}ua.empty=new ua(jr.empty,0);function hQ(r,e){let t;return r.forEach((n,a)=>{if(n.selection&&e--==0)return t=a,!1}),r.slice(t)}class Ea{constructor(e,t,n,a){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=a}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Ea(t.getMap().invert(),t,this.selection)}}}class Es{constructor(e,t,n,a,s){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=a,this.prevComposition=s}}const pQ=20;function vQ(r,e,t,n){let a=t.getMeta(xi),s;if(a)return a.historyState;t.getMeta(bQ)&&(r=new Es(r.done,r.undone,null,0,-1));let i=t.getMeta("appendedTransaction");if(t.steps.length==0)return r;if(i&&i.getMeta(xi))return i.getMeta(xi).redo?new Es(r.done.addTransform(t,void 0,n,nc(e)),r.undone,hg(t.mapping.maps),r.prevTime,r.prevComposition):new Es(r.done,r.undone.addTransform(t,void 0,n,nc(e)),null,r.prevTime,r.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(i&&i.getMeta("addToHistory")===!1)){let u=t.getMeta("composition"),l=r.prevTime==0||!i&&r.prevComposition!=u&&(r.prevTime<(t.time||0)-n.newGroupDelay||!mQ(t,r.prevRanges)),c=i?Xf(r.prevRanges,t.mapping):hg(t.mapping.maps);return new Es(r.done.addTransform(t,l?e.selection.getBookmark():void 0,n,nc(e)),ua.empty,c,t.time,u??r.prevComposition)}else return(s=t.getMeta("rebased"))?new Es(r.done.rebased(t,s),r.undone.rebased(t,s),Xf(r.prevRanges,t.mapping),r.prevTime,r.prevComposition):new Es(r.done.addMaps(t.mapping.maps),r.undone.addMaps(t.mapping.maps),Xf(r.prevRanges,t.mapping),r.prevTime,r.prevComposition)}function mQ(r,e){if(!e)return!1;if(!r.docChanged)return!0;let t=!1;return r.mapping.maps[0].forEach((n,a)=>{for(let s=0;s<e.length;s+=2)n<=e[s+1]&&a>=e[s]&&(t=!0)}),t}function hg(r){let e=[];for(let t=r.length-1;t>=0&&e.length==0;t--)r[t].forEach((n,a,s,i)=>e.push(s,i));return e}function Xf(r,e){if(!r)return null;let t=[];for(let n=0;n<r.length;n+=2){let a=e.map(r[n],1),s=e.map(r[n+1],-1);a<=s&&t.push(a,s)}return t}function gQ(r,e,t){let n=nc(e),a=xi.get(e).spec.config,s=(t?r.undone:r.done).popEvent(e,n);if(!s)return null;let i=s.selection.resolve(s.transform.doc),u=(t?r.done:r.undone).addTransform(s.transform,e.selection.getBookmark(),a,n),l=new Es(t?u:s.remaining,t?s.remaining:u,null,0,-1);return s.transform.setSelection(i).setMeta(xi,{redo:t,historyState:l})}let eh=!1,pg=null;function nc(r){let e=r.plugins;if(pg!=e){eh=!1,pg=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){eh=!0;break}}return eh}const xi=new or("history"),bQ=new or("closeHistory");function _Q(r={}){return r={depth:r.depth||100,newGroupDelay:r.newGroupDelay||500},new Jt({key:xi,state:{init(){return new Es(ua.empty,ua.empty,null,0,-1)},apply(e,t,n){return vQ(t,n,e,r)}},config:r,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,a=n=="historyUndo"?d3:n=="historyRedo"?f3:null;return!a||!e.editable?!1:(t.preventDefault(),a(e.state,e.dispatch))}}}})}function c3(r,e){return(t,n)=>{let a=xi.getState(t);if(!a||(r?a.undone:a.done).eventCount==0)return!1;if(n){let s=gQ(a,t,r);s&&n(e?s.scrollIntoView():s)}return!0}}const d3=c3(!1,!0),f3=c3(!0,!0);br.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:r=>r.length,wordCounter:r=>r.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=r=>{const e=r?.node||this.editor.state.doc;if((r?.mode||this.options.mode)==="textSize"){const n=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(n)}return e.nodeSize},this.storage.words=r=>{const e=r?.node||this.editor.state.doc,t=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(t)}},addProseMirrorPlugins(){let r=!1;return[new Jt({key:new or("characterCount"),appendTransaction:(e,t,n)=>{if(r)return;const a=this.options.limit;if(a==null||a===0){r=!0;return}const s=this.storage.characters({node:n.doc});if(s>a){const i=s-a,u=0,l=i;console.warn(`[CharacterCount] Initial content exceeded limit of ${a} characters. Content was automatically trimmed.`);const c=n.tr.deleteRange(u,l);return r=!0,c}r=!0},filterTransaction:(e,t)=>{const n=this.options.limit;if(!e.docChanged||n===0||n===null||n===void 0)return!0;const a=this.storage.characters({node:t.doc}),s=this.storage.characters({node:e.doc});if(s<=n||a>n&&s>n&&s<=a)return!0;if(a>n&&s>n&&s>a||!e.getMeta("paste"))return!1;const u=e.selection.$head.pos,l=s-n,c=u-l,f=u;return e.deleteRange(c,f),!(this.storage.characters({node:e.doc})>n)}})]}});var yQ=br.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[rQ(this.options)]}});br.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Jt({key:new or("focus"),props:{decorations:({doc:r,selection:e})=>{const{isEditable:t,isFocused:n}=this.editor,{anchor:a}=e,s=[];if(!t||!n)return gr.create(r,[]);let i=0;this.options.mode==="deepest"&&r.descendants((l,c)=>{if(l.isText)return;if(!(a>=c&&a<=c+l.nodeSize-1))return!1;i+=1});let u=0;return r.descendants((l,c)=>{if(l.isText||!(a>=c&&a<=c+l.nodeSize-1))return!1;if(u+=1,this.options.mode==="deepest"&&i-u>0||this.options.mode==="shallowest"&&u>1)return this.options.mode==="deepest";s.push(dn.node(c,c+l.nodeSize,{class:this.options.className}))}),gr.create(r,s)}}})]}});var xQ=br.create({name:"gapCursor",addProseMirrorPlugins(){return[iQ()]},extendNodeSchema(r){var e;const t={name:r.name,options:r.options,storage:r.storage};return{allowGapCursor:(e=er(wt(r,"allowGapCursor",t)))!=null?e:null}}});br.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something â¦",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Jt({key:new or("placeholder"),props:{decorations:({doc:r,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=e,a=[];if(!t)return null;const s=this.editor.isEmpty;return r.descendants((i,u)=>{const l=n>=u&&n<=u+i.nodeSize,c=!i.isLeaf&&Xd(i);if((l||!this.options.showOnlyCurrent)&&c){const f=[this.options.emptyNodeClass];s&&f.push(this.options.emptyEditorClass);const h=dn.node(u,u+i.nodeSize,{class:f.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:i,pos:u,hasAnchor:l}):this.options.placeholder});a.push(h)}return this.options.includeChildren}),gr.create(r,a)}}})]}});br.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:r,options:e}=this;return[new Jt({key:new or("selection"),props:{decorations(t){return t.selection.empty||r.isFocused||!r.isEditable||sx(t.selection)||r.view.dragging?null:gr.create(t.doc,[dn.inline(t.selection.from,t.selection.to,{class:e.className})])}}})]}});function vg({types:r,node:e}){return e&&Array.isArray(r)&&r.includes(e.type)||e?.type===r}var wQ=br.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var r;const e=new or(this.name),t=this.options.node||((r=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:r.name)||"paragraph",n=Object.entries(this.editor.schema.nodes).map(([,a])=>a).filter(a=>(this.options.notAfter||[]).concat(t).includes(a.name));return[new Jt({key:e,appendTransaction:(a,s,i)=>{const{doc:u,tr:l,schema:c}=i,f=e.getState(i),h=u.content.size,m=c.nodes[t];if(f)return l.insert(h,m.create())},state:{init:(a,s)=>{const i=s.tr.doc.lastChild;return!vg({node:i,types:n})},apply:(a,s)=>{if(!a.docChanged||a.getMeta("__uniqueIDTransaction"))return s;const i=a.doc.lastChild;return!vg({node:i,types:n})}}})]}}),kQ=br.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:r,dispatch:e})=>d3(r,e),redo:()=>({state:r,dispatch:e})=>f3(r,e)}},addProseMirrorPlugins(){return[_Q(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-Ñ":()=>this.editor.commands.undo(),"Shift-Mod-Ñ":()=>this.editor.commands.redo()}}}),EQ=ga.create({name:"starterKit",addExtensions(){var r,e,t,n;const a=[];return this.options.bold!==!1&&a.push(ZV.configure(this.options.bold)),this.options.blockquote!==!1&&a.push(WV.configure(this.options.blockquote)),this.options.bulletList!==!1&&a.push(Yx.configure(this.options.bulletList)),this.options.code!==!1&&a.push(eW.configure(this.options.code)),this.options.codeBlock!==!1&&a.push(nW.configure(this.options.codeBlock)),this.options.document!==!1&&a.push(aW.configure(this.options.document)),this.options.dropcursor!==!1&&a.push(yQ.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&a.push(xQ.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&a.push(sW.configure(this.options.hardBreak)),this.options.heading!==!1&&a.push(iW.configure(this.options.heading)),this.options.undoRedo!==!1&&a.push(kQ.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&a.push(oW.configure(this.options.horizontalRule)),this.options.italic!==!1&&a.push(fW.configure(this.options.italic)),this.options.listItem!==!1&&a.push(Xx.configure(this.options.listItem)),this.options.listKeymap!==!1&&a.push(s3.configure((r=this.options)==null?void 0:r.listKeymap)),this.options.link!==!1&&a.push(OW.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&a.push(o3.configure(this.options.orderedList)),this.options.paragraph!==!1&&a.push(JW.configure(this.options.paragraph)),this.options.strike!==!1&&a.push(XW.configure(this.options.strike)),this.options.text!==!1&&a.push(eQ.configure(this.options.text)),this.options.underline!==!1&&a.push(tQ.configure((t=this.options)==null?void 0:t.underline)),this.options.trailingNode!==!1&&a.push(wQ.configure((n=this.options)==null?void 0:n.trailingNode)),a}}),h3=EQ;const mg={};function SQ(r){let e=mg[r];if(e)return e;e=mg[r]=[];for(let t=0;t<128;t++){const n=String.fromCharCode(t);e.push(n)}for(let t=0;t<r.length;t++){const n=r.charCodeAt(t);e[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2)}return e}function So(r,e){typeof e!="string"&&(e=So.defaultChars);const t=SQ(e);return r.replace(/(%[a-f0-9]{2})+/gi,function(n){let a="";for(let s=0,i=n.length;s<i;s+=3){const u=parseInt(n.slice(s+1,s+3),16);if(u<128){a+=t[u];continue}if((u&224)===192&&s+3<i){const l=parseInt(n.slice(s+4,s+6),16);if((l&192)===128){const c=u<<6&1984|l&63;c<128?a+="ï¿½ï¿½":a+=String.fromCharCode(c),s+=3;continue}}if((u&240)===224&&s+6<i){const l=parseInt(n.slice(s+4,s+6),16),c=parseInt(n.slice(s+7,s+9),16);if((l&192)===128&&(c&192)===128){const f=u<<12&61440|l<<6&4032|c&63;f<2048||f>=55296&&f<=57343?a+="ï¿½ï¿½ï¿½":a+=String.fromCharCode(f),s+=6;continue}}if((u&248)===240&&s+9<i){const l=parseInt(n.slice(s+4,s+6),16),c=parseInt(n.slice(s+7,s+9),16),f=parseInt(n.slice(s+10,s+12),16);if((l&192)===128&&(c&192)===128&&(f&192)===128){let h=u<<18&1835008|l<<12&258048|c<<6&4032|f&63;h<65536||h>1114111?a+="ï¿½ï¿½ï¿½ï¿½":(h-=65536,a+=String.fromCharCode(55296+(h>>10),56320+(h&1023))),s+=9;continue}}a+="ï¿½"}return a})}So.defaultChars=";/?:@&=+$,#";So.componentChars="";const gg={};function AQ(r){let e=gg[r];if(e)return e;e=gg[r]=[];for(let t=0;t<128;t++){const n=String.fromCharCode(t);/^[0-9a-z]$/i.test(n)?e.push(n):e.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2))}for(let t=0;t<r.length;t++)e[r.charCodeAt(t)]=r[t];return e}function gl(r,e,t){typeof e!="string"&&(t=e,e=gl.defaultChars),typeof t>"u"&&(t=!0);const n=AQ(e);let a="";for(let s=0,i=r.length;s<i;s++){const u=r.charCodeAt(s);if(t&&u===37&&s+2<i&&/^[0-9a-f]{2}$/i.test(r.slice(s+1,s+3))){a+=r.slice(s,s+3),s+=2;continue}if(u<128){a+=n[u];continue}if(u>=55296&&u<=57343){if(u>=55296&&u<=56319&&s+1<i){const l=r.charCodeAt(s+1);if(l>=56320&&l<=57343){a+=encodeURIComponent(r[s]+r[s+1]),s++;continue}}a+="%EF%BF%BD";continue}a+=encodeURIComponent(r[s])}return a}gl.defaultChars=";/?:@&=+$,-_.!~*'()#";gl.componentChars="-_.!~*'()";function X0(r){let e="";return e+=r.protocol||"",e+=r.slashes?"//":"",e+=r.auth?r.auth+"@":"",r.hostname&&r.hostname.indexOf(":")!==-1?e+="["+r.hostname+"]":e+=r.hostname||"",e+=r.port?":"+r.port:"",e+=r.pathname||"",e+=r.search||"",e+=r.hash||"",e}function ud(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const DQ=/^([a-z0-9.+-]+:)/i,CQ=/:[0-9]*$/,IQ=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,TQ=["<",">",'"',"`"," ","\r",`
`,"	"],MQ=["{","}","|","\\","^","`"].concat(TQ),RQ=["'"].concat(MQ),bg=["%","/","?",";","#"].concat(RQ),_g=["/","?","#"],NQ=255,yg=/^[+a-z0-9A-Z_-]{0,63}$/,PQ=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,xg={javascript:!0,"javascript:":!0},wg={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function ev(r,e){if(r&&r instanceof ud)return r;const t=new ud;return t.parse(r,e),t}ud.prototype.parse=function(r,e){let t,n,a,s=r;if(s=s.trim(),!e&&r.split("#").length===1){const c=IQ.exec(s);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}let i=DQ.exec(s);if(i&&(i=i[0],t=i.toLowerCase(),this.protocol=i,s=s.substr(i.length)),(e||i||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(a=s.substr(0,2)==="//",a&&!(i&&xg[i])&&(s=s.substr(2),this.slashes=!0)),!xg[i]&&(a||i&&!wg[i])){let c=-1;for(let b=0;b<_g.length;b++)n=s.indexOf(_g[b]),n!==-1&&(c===-1||n<c)&&(c=n);let f,h;c===-1?h=s.lastIndexOf("@"):h=s.lastIndexOf("@",c),h!==-1&&(f=s.slice(0,h),s=s.slice(h+1),this.auth=f),c=-1;for(let b=0;b<bg.length;b++)n=s.indexOf(bg[b]),n!==-1&&(c===-1||n<c)&&(c=n);c===-1&&(c=s.length),s[c-1]===":"&&c--;const m=s.slice(0,c);s=s.slice(c),this.parseHost(m),this.hostname=this.hostname||"";const g=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!g){const b=this.hostname.split(/\./);for(let y=0,x=b.length;y<x;y++){const k=b[y];if(k&&!k.match(yg)){let S="";for(let A=0,C=k.length;A<C;A++)k.charCodeAt(A)>127?S+="x":S+=k[A];if(!S.match(yg)){const A=b.slice(0,y),C=b.slice(y+1),E=k.match(PQ);E&&(A.push(E[1]),C.unshift(E[2])),C.length&&(s=C.join(".")+s),this.hostname=A.join(".");break}}}}this.hostname.length>NQ&&(this.hostname=""),g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const u=s.indexOf("#");u!==-1&&(this.hash=s.substr(u),s=s.slice(0,u));const l=s.indexOf("?");return l!==-1&&(this.search=s.substr(l),s=s.slice(0,l)),s&&(this.pathname=s),wg[t]&&this.hostname&&!this.pathname&&(this.pathname=""),this};ud.prototype.parseHost=function(r){let e=CQ.exec(r);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),r=r.substr(0,r.length-e.length)),r&&(this.hostname=r)};const $Q=Object.freeze(Object.defineProperty({__proto__:null,decode:So,encode:gl,format:X0,parse:ev},Symbol.toStringTag,{value:"Module"})),p3=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,v3=/[\0-\x1F\x7F-\x9F]/,LQ=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,tv=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,m3=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,g3=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,OQ=Object.freeze(Object.defineProperty({__proto__:null,Any:p3,Cc:v3,Cf:LQ,P:tv,S:m3,Z:g3},Symbol.toStringTag,{value:"Module"})),BQ=new Uint16Array('áµ<ÃÄ±ÊÒÕ»×ÙµÛÞ¢ßà à©àªà¶¡à¹­à¼à¼¦áá¨á¡ááááá¥\0\0\0\0\0\0á«áá¦á°á·á½¾â â°âââ»ââ ¤â¤â´â¹â¿ããºã¹ã¬ã£¾ã¨¨ã©±ã« ã¬®à EMabcfglmnoprstu\\bfmsÂÂÂÂÂÂ¦Â³Â¹ÃÃligè»ÃäPè»&ä¦cuteè»Ãäreve;äÄiyx}rcè»Ãä;är;ìðraveè»Ãäpha;äacr;äd;æ©ÄgpÂÂ¡on;äf;ìð¸plyFunction;æ¡ingè»ÃäÄcsÂ¾Ãr;ìðign;æildeè»Ãämlè»ÃäÐaceforsuÃ¥Ã»Ã¾ÄÄÄ¢Ä§ÄªÄcrÃªÃ²kslash;æÅ¶Ã¶Ã¸;æ«§ed;æy;äÆcrtÄÄÄause;æµnoullis;æ¬a;är;ìðpf;ìð¹eve;äcÃ²Ämpeq;æÜHOacdefhilorsuÅÅÅÆÆÆ¢ÆµÆ·ÆºÇÈÉ³É¸É¾cy;ä§PYè»Â©ä©ÆcpyÅÅ¢Åºute;äÄ;iÅ§Å¨ætalDifferentialD;æleys;æ­ÈaeioÆÆÆÆron;ädilè»Ãärc;änint;æ°ot;äÄdnÆ§Æ­illa;ä¸terDot;ä·Ã²Å¿i;ä§rcleÈDMPTÇÇÇÇot;æinus;ælus;æimes;æoÄcsÇ¢Ç¸kwiseContourIntegral;æ²eCurlyÄDQÈÈoubleQuote;æuote;æÈlnpuÈÈ¨ÉÉonÄ;eÈ¥È¦æ·;æ©´ÆgitÈ¯È¶Èºruent;æ¡nt;æ¯ourIntegral;æ®ÄfrÉÉ;æoduct;ænterClockwiseContourIntegral;æ³oss;æ¨¯cr;ìðpÄ;CÊÊæap;æÖDJSZacefiosÊ Ê¬Ê°Ê´Ê¸ËËË¡Ë¦Ì³ÒÄ;oÅ¹Ê¥trahd;æ¤cy;äcy;äcy;äÆgrsÊ¿ËËger;æ¡r;æ¡hv;æ«¤ÄayËËron;ä;älÄ;tËËæa;är;ìðÄafË«Ì§ÄcmË°Ì¢riticalÈADGTÌÌÌÌcute;ä´oÅ´ÌÌ;äbleAcute;ärave;ä ilde;äond;æferentialD;æÑ°Ì½\0\0\0ÍÍ\0Ðf;ìð»Æ;DEÍÍÍä¨ot;æqual;æbleÌCDLRUVÍ£Í²ÎÏÏ¢Ï¸ontourIntegraÃ¬È¹oÉ´Í¹\0\0Í»Â»ÍnArrow;æÄeoÎÎ¤ftÆARTÎÎÎ¡rrow;æightArrow;æeÃ¥ËngÄLRÎ«ÏeftÄARÎ³Î¹rrow;æ¸ightArrow;æºightArrow;æ¹ightÄATÏÏrrow;æee;æ¨pÉÏ©\0\0Ï¯rrow;æownArrow;æerticalBar;æ¥nÌABLRTaÐÐªÐ°ÑÑ¿Í¼rrowÆ;BUÐÐÐ¢æar;æ¤pArrow;æµreve;äeftËÐº\0Ñ\0ÑightVector;æ¥eeVector;æ¥ectorÄ;BÑÑæ½ar;æ¥ightÇÑ§\0Ñ±eeVector;æ¥ectorÄ;BÑºÑ»æar;æ¥eeÄ;AÒÒæ¤rrow;æ§ÄctÒÒr;ìðrok;äà NTacdfglmopqstuxÒ½ÓÓÓÓÓ¢Ó§Ó®ÓµÔ¡Ô¯Ô¶ÕÕÕ Õ¥G;äHè»Ãäcuteè»ÃäÆaiyÓÓÓron;ärcè»Ãä;ä­ot;är;ìðraveè»Ãäement;æÄapÓºÓ¾cr;ätyÉÔ\0\0ÔmallSquare;æ»erySmallSquare;æ«ÄgpÔ¦Ôªon;äf;ìð¼silon;äuÄaiÔ¼ÕlÄ;TÕÕæ©µilde;ælibrium;æÄciÕÕr;æ°m;æ©³a;ämlè»ÃäÄipÕªÕ¯sts;æonentialE;æÊcfiosÖÖÖÖ²×y;ä¤r;ìðlledÉÖ\0\0Ö£mallSquare;æ¼erySmallSquare;æªÍ°Öº\0Ö¿\0\0×f;ìð½All;æriertrf;æ±cÃ²×ØJTabcdfgorst×¨×¬×¯×ºØØØØØØ£Ù¬Ù²cy;äè»>ä¾mmaÄ;d×·×¸ä;äreve;äÆeiyØØØdil;ä¢rc;ä;äot;ä r;ìð;æpf;ìð¾eaterÌEFGLSTØµÙÙÙÙÙ¦qualÄ;LØ¾Ø¿æ¥ess;æullEqual;æ§reater;æª¢ess;æ·lantEqual;æ©¾ilde;æ³cr;ìð¢;æ«ÐAacfiosuÚÚÚÚÚÚªÚ¾ÛRDcy;äªÄctÚÚek;ä;äirc;ä¤r;ælbertSpace;æÇ°Ú¯\0Ú²f;æizontalLine;æÄctÛÛÃ²Ú©rok;ä¦mpÅÛÛownHumÃ°Ä¯qual;æÜEJOacdfgmnostuÛºÛ¾ÜÜÜÜÜÜ¡Ü¨ÝÝ¸ÞÞÞcy;älig;ä²cy;äcuteè»ÃäÄiyÜÜrcè»Ãä;äot;ä°r;æraveè»ÃäÆ;apÜ Ü¯Ü¿ÄcgÜ´Ü·r;äªinaryI;ælieÃ³ÏÇ´Ý\0Ý¢Ä;eÝÝæ¬ÄgrÝÝral;æ«section;æisibleÄCTÝ¬Ý²omma;æ£imes;æ¢ÆgptÝ¿ÞÞon;ä®f;ìða;äcr;æilde;ä¨Ç«Þ\0Þcy;älè»ÃäÊcfosuÞ¬Þ·Þ¼ßßÄiyÞ±Þµrc;ä´;är;ìðpf;ìðÇ£ß\0ßr;ìð¥rcy;äkcy;äÎHJacfosß¤ß¨ß¬ß±ß½à à cy;ä¥cy;äppa;äÄeyß¶ß»dil;ä¶;är;ìðpf;ìðcr;ìð¦ÖJTaceflmostà ¥à ©à ¬à¡à¡£à¦³à¦¸à§à§à¨·à©cy;äè»<ä¼Êcmnprà ·à ¼à¡à¡à¡ute;ä¹bda;äg;æªlacetrf;ær;æÆaeyà¡à¡à¡¡ron;ä½dil;ä»;äÄfsà¡¨à¥°tÔACDFRTUVarà¡¾à¢©à¢±à£ à£¦à£¼à¤¯à¥Îà¥ªÄnrà¢à¢gleBracket;æ¨rowÆ;BRà¢à¢à¢æar;æ¤ightArrow;æeiling;æoÇµà¢·\0à£bleBracket;æ¦nÇà£\0à£eeVector;æ¥¡ectorÄ;Bà£à£æar;æ¥loor;æightÄAVà£¯à£µrrow;æector;æ¥Äerà¤à¤eÆ;AVà¤à¤à¤æ£rrow;æ¤ector;æ¥iangleÆ;BEà¤¤à¤¥à¤©æ²ar;æ§qual;æ´pÆDTVà¤·à¥à¥ownVector;æ¥eeVector;æ¥ ectorÄ;Bà¥à¥æ¿ar;æ¥ectorÄ;Bà¥¥à¥¦æ¼ar;æ¥ightÃ¡ÎsÌEFGLSTà¥¾à¦à¦à¦à¦¢à¦­qualGreater;æullEqual;æ¦reater;æ¶ess;æª¡lantEqual;æ©½ilde;æ²r;ìðÄ;eà¦½à¦¾æftarrow;æidot;ä¿Ænpwà§à¨à¨gÈLRlrà§à§·à¨à¨eftÄARà§¦à§¬rrow;æµightArrow;æ·ightArrow;æ¶eftÄarÎ³à¨ightÃ¡Î¿ightÃ¡Ïf;ìðerÄLRà¨¢à¨¬eftArrow;æightArrow;æÆchtà¨¾à©à©Ã²à¡;æ°rok;ä;æªÐacefiosuà©à©à© à©·à©¼àªàªàªp;æ¤y;äÄdlà©¥à©¯iumSpace;ælintrf;æ³r;ìðnusPlus;æpf;ìðcÃ²à©¶;äÒJacefostuàª£àª§àª­à«à¬à¬à¶à¶à¶cy;äcute;äÆaeyàª´àª¹àª¾ron;ädil;ä;äÆgswà«à«°à¬ativeÆMTVà«à«à«¨ediumSpace;æhiÄcnà«¦à«Ã«à«eryThiÃ®à«tedÄGLà«¸à¬reaterGreateÃ²Ù³essLesÃ³à©Line;är;ìðÈBnptà¬¢à¬¨à¬·à¬ºreak;æ BreakingSpace;ä f;æÚ;CDEGHLNPRSTVà­à­à­ªà­¼à®¡à¯«à°à±à²à²¦à³àµ¡à¶æ«¬Äouà­à­¤ngruent;æ¢pCap;æ­oubleVerticalBar;æ¦Ælqxà®à®à®ement;æualÄ;Tà®à®æ ilde;ìâÌ¸ists;æreaterÎ;EFGLSTà®¶à®·à®½à¯à¯à¯à¯¥æ¯qual;æ±ullEqual;ìâ§Ì¸reater;ìâ«Ì¸ess;æ¹lantEqual;ìâ©¾Ì¸ilde;æµumpÅà¯²à¯½ownHump;ìâÌ¸qual;ìâÌ¸eÄfsà°à°§tTriangleÆ;BEà°à°à°¡æªar;ìâ§Ì¸qual;æ¬sÌ;EGLSTà°µà°¶à°¼à±à±à±æ®qual;æ°reater;æ¸ess;ìâªÌ¸lantEqual;ìâ©½Ì¸ilde;æ´estedÄGLà±¨à±¹reaterGreater;ìâª¢Ì¸essLess;ìâª¡Ì¸recedesÆ;ESà²à²à²æqual;ìâª¯Ì¸lantEqual;æ Äeià²«à²¹verseElement;æghtTriangleÆ;BEà³à³à³æ«ar;ìâ§Ì¸qual;æ­Äquà³à´uareSuÄbpà³¨à³¹setÄ;Eà³°à³³ìâÌ¸qual;æ¢ersetÄ;Eà´à´ìâÌ¸qual;æ£Æbcpà´à´¤àµsetÄ;Eà´à´ìââqual;æceedsÈ;ESTà´²à´³à´»àµæqual;ìâª°Ì¸lantEqual;æ¡ilde;ìâ¿Ì¸ersetÄ;Eàµàµìââqual;æildeÈ;EFTàµ®àµ¯àµµàµ¿æqual;æullEqual;æilde;æerticalBar;æ¤cr;ìð©ildeè»Ãä;äÜEacdfgmoprstuvà¶½à·à·à·à·à· à·§à·¼à¸à¸ à¸¢à¸²à¸¿à¹lig;äcuteè»ÃäÄiyà·à·rcè»Ãä;äblac;är;ìðraveè»ÃäÆaeià·®à·²à·¶cr;äga;ä©cron;äpf;ìðenCurlyÄDQà¸à¸oubleQuote;æuote;æ;æ©Äclà¸§à¸¬r;ìðªashè»ÃäiÅ¬à¸·à¸¼deè»Ãäes;æ¨·mlè»ÃäerÄBPà¹à¹ Äarà¹à¹r;æ¾acÄekà¹à¹;æet;æ´arenthesis;æÒacfhilorsà¹¿àºàºàºàºàºàºàº°à»¼rtialD;æy;är;ìði;ä¦;ä usMinus;ä±Äipàº¢àº­ncareplanÃ¥Úf;æÈ;eioàº¹àººà» à»¤æª»cedesÈ;ESTà»à»à»à»æºqual;æª¯lantEqual;æ¼ilde;æ¾me;æ³Ädpà»©à»®uct;æortionÄ;aÈ¥à»¹l;æÄcià¼à¼r;ìð«;ä¨ÈUfosà¼à¼à¼à¼OTè»"ä¢r;ìðpf;æcr;ìð¬ØBEacefhiorsuà¼¾à½à½à½ à½³à¾§à¾ªà¾­áá©á´á¾arr;æ¤Gè»Â®ä®Æcnrà½à½à½ute;äg;æ«rÄ;tà½à½æ l;æ¤Æaeyà½§à½¬à½±ron;ädil;ä;ä Ä;và½¸à½¹æerseÄEUà¾à¾Älqà¾à¾ement;æuilibrium;æpEquilibrium;æ¥¯rÂ»à½¹o;ä¡ghtÐACDFTUVaà¿à¿«à¿³á¢á¨ááÏÄnrà¿à¿gleBracket;æ©rowÆ;BLà¿à¿à¿¡æar;æ¥eftArrow;æeiling;æoÇµà¿¹\0ábleBracket;æ§nÇá\0áeeVector;æ¥ectorÄ;Bááæar;æ¥loor;æÄerá­áeÆ;AVáµá¶á¼æ¢rrow;æ¦ector;æ¥iangleÆ;BEáááæ³ar;æ§qual;æµpÆDTVá£á®á¸ownVector;æ¥eeVector;æ¥ectorÄ;Bááæ¾ar;æ¥ectorÄ;Bááæar;æ¥Äpuááf;ændImplies;æ¥°ightarrow;æÄchá¹á¼r;æ;æ±leDelayed;æ§´ÚHOacfhimoqstuá¤á±á·á½ááááá¡á§áµá»á¿ÄCcá©á®Hcy;ä©y;ä¨FTcy;ä¬cute;äÊ;aeiyáááááæª¼ron;ä dil;ärc;ä;ä¡r;ìðortÈDLRUáªá´á¾áownArrowÂ»ÐeftArrowÂ»à¢ightArrowÂ»à¿pArrow;ægma;ä£allCircle;æpf;ìðÉ²á­\0\0á°t;æareÈ;ISUá»á¼áá¯æ¡ntersection;æuÄbpáásetÄ;Eááæqual;æersetÄ;Eá¨á©æqual;ænion;æcr;ìð®ar;æÈbcmpááááÄ;sááæetÄ;Eááqual;æÄchá áeedsÈ;ESTá­á®á´á¿æ»qual;æª°lantEqual;æ½ilde;æ¿ThÃ¡à¾;æÆ;esááá£ærsetÄ;Eááæqual;æetÂ»áÖHRSacfhiorsá¾ááááá±á¶ááááORNè»ÃäADE;æ¢ÄHcáácy;äy;ä¦Äbuáá;ä;ä¤Æaeyá¥áªá¯ron;ä¤dil;ä¢;ä¢r;ìðÄeiá»áÇ²á\0áefore;æ´a;äÄcnáákSpace;ìââSpace;ældeÈ;EFTá«á¬á²á¼æ¼qual;æullEqual;æilde;æpf;ìðipleDot;æÄctáár;ìð¯rok;ä¦à«¡á·ááá¦\0á¬á±\0\0\0\0\0á¸á½á·á\0á¿áááÄcrá»áuteè»ÃärÄ;oááæcir;æ¥rÇ£á\0áy;äve;ä¬Äiyáá£rcè»Ãä;ä£blac;ä°r;ìðraveè»Ãäacr;äªÄdiáá©erÄBPááÄaráár;äacÄekáá;æet;æµarenthesis;æonÄ;Pá°á±ælus;æÄgpá»á¿on;ä²f;ìðÐADETadpsáá®á¸áÏ¨ááá³rrowÆ;BDáá á¤ar;æ¤ownArrow;æownArrow;æquilibrium;æ¥®eeÄ;Aááæ¥rrow;æ¥ownÃ¡Ï³erÄLRáá¨eftArrow;æightArrow;æiÄ;lá¹áºäon;ä¥ing;ä®cr;ìð°ilde;ä¨mlè»ÃäÒDbcdefosvá§á¬á°á³á¾ááááash;æ«ar;æ««y;äashÄ;lá»á¼æ©;æ«¦Äeráá;æÆbtyáááºar;æÄ;iáácalÈBLSTá¡á¥áªá´ar;æ£ine;ä¼eparator;æilde;æThinSpace;ær;ìðpf;ìðcr;ìð±dash;æªÊcefosá§á¬á±á¶á¼irc;ä´dge;ær;ìðpf;ìðcr;ìð²Èfiosáááár;ìð;äpf;ìðcr;ìð³ÒAIUacfosuá±áµá¹á½ááááá cy;ä¯cy;äcy;ä®cuteè»ÃäÄiyáárc;ä¶;ä«r;ìðpf;ìðcr;ìð´ml;ä¸ÐHacdefosáµá¹á¿áááá á¤cy;äcute;ä¹Äayááron;ä½;äot;ä»Ç²á\0áoWidtÃ¨à«a;är;æ¨pf;æ¤cr;ìðµà¯¡ááá\0á°á¶á¿\0\0\0\0ááá«áá­\0ááá²á¹\0á¾cuteè»Ã¡ä¡reve;äÌ;Ediuyááá¡á£á¨á­æ¾;ìâ¾Ì³;æ¿rcè»Ã¢ä¢teè»Â´Ì;ä°ligè»Ã¦ä¦Ä;rÂ²áº;ìðraveè»Ã ä ÄepááÄfpáásym;æµÃ¨áha;ä±ÄapácÄclá¤á§r;äg;æ¨¿É¤á°\0\0áÊ;adsváºá»á¿ááæ§nd;æ©;æ©lope;æ©;æ©Î;elmrszááááá¿ááæ ;æ¦¤eÂ»ásdÄ;aá¥á¦æ¡Ñ¡á°á²á´á¶á¸áºá¼á¾;æ¦¨;æ¦©;æ¦ª;æ¦«;æ¦¬;æ¦­;æ¦®;æ¦¯tÄ;vááæbÄ;dááæ¾;æ¦Äptááh;æ¢Â»Â¹arr;æ¼Ägpá£á§on;äf;ìðÎ;Eaeiopáá»á½áááá;æ©°cir;æ©¯;æd;æs;ä§roxÄ;eááÃ±áingè»Ã¥ä¥Æctyá¡á¦á¨r;ìð¶;äªmpÄ;eáá¯Ã±Êildeè»Ã£ä£mlè»Ã¤ä¤ÄciááoninÃ´É²nt;æ¨à Nabcdefiklnoprsuá­á±á°á¼ááá¸á½á á¦á ¹á¡áá¤½á¥á¥°ot;æ«­Äcrá¶ákÈcepsááááong;æpsilon;ä¶rime;æµimÄ;eááæ½q;æÅ¶á¢á¦ee;æ½edÄ;gá¬á­æeÂ»á­rkÄ;táá·brk;æ¶Äoyáá;ä±quo;æÊcmprtááá¡á¤á¨ausÄ;eÄÄptyv;æ¦°sÃ©ánoÃµÄÆahwá¯á±á³;ä²;æ¶een;æ¬r;ìðgÎcostuvwááá³ááááÆaiuáááÃ°Ý rc;æ¯pÂ»á±Ædptá¤á¨á­ot;æ¨lus;æ¨imes;æ¨É±á¹\0\0á¾cup;æ¨ar;æriangleÄduááown;æ½p;æ³plus;æ¨eÃ¥áÃ¥á­arow;æ¤Æakoá­á ¦á µÄcná²á £kÆlstáºÖ«á ozenge;æ§«riangleÈ;dlrá á á á æ´own;æ¾eft;æight;æ¸k;æ£Æ±á «\0á ³Æ²á ¯\0á ±;æ;æ4;æck;æÄeoá ¾á¡Ä;qá¡á¡ì=â¥uiv;ìâ¡â¥t;æÈptwxá¡á¡á¡§á¡¬f;ìðÄ;táá¡£omÂ»átie;æØDHUVbdhmptuvá¢á¢á¢ªá¢»á£á£á£¬á£¿á¤á¤á¤á¤¡ÈLRlrá¢á¢á¢á¢;æ;æ;æ;æÊ;DUduá¢¡á¢¢á¢¤á¢¦á¢¨æ;æ¦;æ©;æ¤;æ§ÈLRlrá¢³á¢µá¢·á¢¹;æ;æ;æ;æÎ;HLRhlrá£á£á£á£á£á£á£æ;æ¬;æ£;æ ;æ«;æ¢;æox;æ§ÈLRlrá£¤á£¦á£¨á£ª;æ;æ;æ;æÊ;DUduÚ½á£·á£¹á£»á£½;æ¥;æ¨;æ¬;æ´inus;ælus;æimes;æ ÈLRlrá¤á¤á¤á¤;æ;æ;æ;æÎ;HLRhlrá¤°á¤±á¤³á¤µá¤·á¤¹á¤»æ;æª;æ¡;æ;æ¼;æ¤;æÄevÄ£á¥barè»Â¦ä¦Èceioá¥á¥á¥á¥ r;ìð·mi;æmÄ;eáálÆ;bhá¥¨á¥©á¥«ä;æ§sub;æÅ¬á¥´á¥¾lÄ;eá¥¹á¥ºæ¢tÂ»á¥ºpÆ;EeÄ¯á¦á¦;æª®Ä;qÛÛà³¡á¦§\0á§¨á¨á¨á¨²\0á¨·á©\0\0áª´\0\0á«\0\0á¬¡á¬®á­á­\0á¯½\0á°Æcprá¦­á¦²á§ute;äÌ;abcdsá¦¿á§á§á§á§á§æ©nd;æ©rcup;æ©Äauá§á§p;æ©p;æ©ot;æ©;ìâ©ï¸Äeoá§¢á§¥t;æÃ®ÚÈaeiuá§°á§»á¨á¨Ç°á§µ\0á§¸s;æ©on;ädilè»Ã§ä§rc;äpsÄ;sá¨á¨æ©m;æ©ot;äÆdmná¨á¨ á¨¦ilè»Â¸Æ­ptyv;æ¦²tèÂ¢;eá¨­á¨®ä¢rÃ¤Æ²r;ìð Æceiá¨½á©á©y;äckÄ;má©á©æarkÂ»á©;ärÎ;Ecefmsá©á© á©¢á©«áª¤áªªáª®æ;æ§Æ;elá©©á©ªá©­äq;æeÉ¡á©´\0\0áªrrowÄlrá©¼áªeft;æºight;æ»ÊRSacdáªáªáªáªáªÂ»à½;æst;æirc;æash;ænint;æ¨id;æ«¯cir;æ§ubsÄ;uáª»áª¼æ£itÂ»áª¼Ë¬á«á«á«º\0á¬onÄ;eá«á«äºÄ;qÃÃÉ­á«\0\0á«¢aÄ;tá«á«ä¬;äÆ;flá«¨á«©á««æÃ®á eÄmxá«±á«¶entÂ»á«©eÃ³ÉÇ§á«¾\0á¬Ä;dá»á¬ot;æ©­nÃ´ÉÆfryá¬á¬á¬;ìðoÃ¤ÉèÂ©;sÅá¬r;æÄaoá¬¥á¬©rr;æµss;æÄcuá¬²á¬·r;ìð¸Äbpá¬¼á­Ä;eá­á­æ«;æ«Ä;eá­á­æ«;æ«dot;æ¯Îdelprvwá­ á­¬á­·á®á®¬á¯á¯¹arrÄlrá­¨á­ª;æ¤¸;æ¤µÉ°á­²\0\0á­µr;æc;æarrÄ;pá­¿á®æ¶;æ¤½Ì;bcdosá®á®á®á®¡á®¥á®¨æªrcap;æ©Äauá®á®p;æ©p;æ©ot;ær;æ©;ìâªï¸Èalrvá®µá®¿á¯á¯£rrÄ;má®¼á®½æ·;æ¤¼yÆevwá¯á¯á¯qÉ°á¯\0\0á¯reÃ£á­³uÃ£á­µee;æedge;æenè»Â¤ä¤earrowÄlrá¯®á¯³eftÂ»á®ightÂ»á®½eÃ¤á¯Äciá°á°oninÃ´Ç·nt;æ±lcty;æ­à¦AHabcdefhijlorstuwzá°¸á°»á°¿á±á±©á±µá²á²á²¬á²·á³»á³¿á´áµ»á¶á¶«á¶»á·á·rÃ²Îar;æ¥¥Èglrsá±á±á±á±ger;æ eth;æ¸Ã²á³hÄ;vá±á±æÂ»à¤Å«á±¡á±§arow;æ¤aÃ£ÌÄayá±®á±³ron;ä;ä´Æ;aoÌ²á±¼á²ÄgrÊ¿á²r;ætseq;æ©·Æglmá²á²á²è»Â°ä°ta;ä´ptyv;æ¦±Äirá²£á²¨sht;æ¥¿;ìð¡arÄlrá²³á²µÂ»à£Â»áÊaegsvá³Í¸á³á³á³ mÆ;osÌ¦á³á³ndÄ;sÌ¦á³uit;æ¦amma;äin;æ²Æ;ioá³§á³¨á³¸ä·deèÃ·;oá³§á³°ntimes;ænÃ¸á³·cy;äcÉ¯á´\0\0á´rn;æop;æÊlptuwá´á´á´¢áµáµlar;ä¤f;ìðÊ;empsÌá´­á´·á´½áµqÄ;dÍá´³ot;æinus;æ¸lus;æquare;æ¡blebarwedgÃ¥ÃºnÆadhá®áµáµ§ownarrowÃ³á²arpoonÄlráµ²áµ¶efÃ´á²´ighÃ´á²¶Å¢áµ¿á¶karoÃ·à½É¯á¶\0\0á¶rn;æop;æÆcotá¶á¶£á¶¦Äryá¶á¶¡;ìð¹;äl;æ§¶rok;äÄdrá¶°á¶´ot;æ±iÄ;fá¶ºá æ¿Äahá·á·rÃ²Ð©aÃ²à¾¦angle;æ¦¦Äciá·á·y;ägrarr;æ¿à¤Dacdefglmnopqrstuxá¸á¸á¸á¸¸Õ¸á¸¼á¹á¹¡á¹¾áº¥áº¯áº½á»¡á¼ªá¼·á½á½á½ÄDoá¸á´´oÃ´á²Äcsá¸á¸uteè»Ã©ä©ter;æ©®Èaioyá¸¢á¸§á¸±á¸¶ron;ärÄ;cá¸­á¸®æè»Ãªäªlon;æ;äot;äÄDrá¹á¹ot;æ;ìð¢Æ;rsá¹á¹á¹æªaveè»Ã¨ä¨Ä;dá¹á¹æªot;æªÈ;ilsá¹ªá¹«á¹²á¹´æªnters;æ§;æÄ;dá¹¹á¹ºæªot;æªÆapsáºáºáºcr;ätyÆ;sváºáºáºæetÂ»áºpÄ1;áºáº¤Ä³áº¡áº£;æ;ææÄgsáºªáº¬;äp;æÄgpáº´áº¸on;äf;ìðÆalsá»á»á»rÄ;sá»á»æl;æ§£us;æ©±iÆ;lvá»á»á»äµonÂ»á»;äµÈcsuvá»ªá»³á¼á¼£Äioá»¯á¸±rcÂ»á¸®É©á»¹\0\0á»»Ã­ÕantÄglá¼á¼trÂ»á¹essÂ»á¹ºÆaeiá¼á¼á¼ls;ä½st;ævÄ;DÈµá¼ D;æ©¸parsl;æ§¥ÄDaá¼¯á¼³ot;ærr;æ¥±Æcdiá¼¾á½á»¸r;æ¯oÃ´ÍÄahá½á½;ä·è»Ã°ä°Ämrá½á½lè»Ã«ä«o;æ¬Æcipá½¡á½¤á½§l;ä¡sÃ´Õ®Äeoá½¬á½´ctatioÃ®ÕnentialÃ¥Õ¹à§¡á¾\0á¾\0á¾¡á¾§\0\0á¿á¿\0á¿\0á¿¦á¿ªâ\0ââllingdotseÃ±á¹y;ämale;æÆilrá¾­á¾³á¿lig;èï¬É©á¾¹\0\0á¾½g;èï¬ig;èï¬;ìð£lig;èï¬lig;ìfjÆaltá¿á¿á¿¡t;æ­ig;èï¬ns;æ±of;äÇ°á¿®\0á¿³f;ìðÄakÖ¿á¿·Ä;vá¿¼á¿½æ;æ«artint;æ¨ÄaoââÄcsââÎ±ââ°â¸ââ\0âÎ²â¢â¥â§âªâ¬\0â®è»Â½ä½;æè»Â¼ä¼;æ;æ;æÆ³â´\0â¶;æ;æÊ´â¾â\0\0âè»Â¾ä¾;æ;æ5;æÆ¶â\0â;æ;æ8;æl;æwn;æ¢cr;ìð»à¢Eabcdefgijlnorstvââââ¥â°â´â°âµâºâ¿âââ¸Ìâ¾ââÄ;lÙâ;æªÆcmpâââute;äµmaÄ;dâá³ä³;æªreve;äÄiyâªâ®rc;ä;ä³ot;ä¡È;lqsØ¾Ùâ½âÆ;qsØ¾ÙâlanÃ´Ù¥È;cdlÙ¥âââ¥c;æª©otÄ;oââæªÄ;lâ¢â£æª;æªÄ;eâªâ­ìâï¸s;æªr;ìð¤Ä;gÙ³Ømel;æ·cy;äÈ;EajÙâââ;æª;æª¥;æª¤ÈEaesâââ©â´;æ©pÄ;pâ£â¤æªroxÂ»â¤Ä;qâ®â¯æªÄ;qâ®âim;æ§pf;ìðÄciââr;æmÆ;elÙ«ââ;æª;æªè>;cdlqr×®â âªâ®â³â¹Äciâ¥â§;æª§r;æ©ºot;æPar;æ¦uest;æ©¼ÊadelsââªâÙâÇ°â\0âproÃ¸âr;æ¥¸qÄlqØ¿âlesÃ³âiÃ­Ù«Äenâ£â­rtneqq;ìâ©ï¸ÃâªÔAabcefkosyâââ±âµâºâââ¯â¨â½rÃ²Î ÈilmrâââârsÃ°áfÂ»â¤ilÃ´Ú©Ädrâ â¤cy;äÆ;cwà£´â«â¯ir;æ¥;æ­ar;æirc;ä¥ÆalrââârtsÄ;uââæ¥itÂ»âlip;æ¦con;æ¹r;ìð¥sÄewâ£â©arow;æ¤¥arow;æ¤¦Êamoprâºâ¾âââ£rr;æ¿tht;æ»kÄlrââeftarrow;æ©ightarrow;æªf;ìðbar;æÆcltâ¯â´â¸r;ìð½asÃ¨â´rok;ä§Äbpââull;æhenÂ»á±à«¡â£\0âª\0â¸ââ\0ââ³\0\0â¸â¢â§â¢â¿\0ââªâ´cuteè»Ã­ä­Æ;iyÝ±â°âµrcè»Ã®ä®;ä¸Äcxâ¼â¿y;äµclè»Â¡ä¡ÄfrÎâ;ìð¦raveè»Ã¬ä¬È;inoÜ¾ââ©â®Äinâ¢â¦nt;æ¨t;æ­fin;æ§ta;æ©lig;ä³Æaopâ¾ââÆcgtâââr;ä«ÆelpÜââinÃ¥ÞarÃ´Ü h;ä±f;æ·ed;äµÊ;cfotÓ´â¬â±â½âare;æinÄ;tâ¸â¹æie;æ§doÃ´âÊ;celpÝââââ¡al;æºÄgrââerÃ³á£Ã£âarhk;æ¨rod;æ¨¼Ècgptâ¯â²â¶â»y;äon;ä¯f;ìða;ä¹uestè»Â¿ä¿Äciââr;ìð¾nÊ;EdsvÓ´âââ¡Ó³;æ¹ot;æµÄ;vâ¦â§æ´;æ³Ä;iÝ·â®lde;ä©Ç«â¸\0â¼cy;älè»Ã¯ä¯Ìcfmosuââââ¡â§âµÄiyâârc;äµ;ä¹r;ìð§ath;ä·pf;ìðÇ£â¬\0â±r;ìð¿rcy;äkcy;äÐacfghjosâââ¢â§â­â±âµâ»ppaÄ;vââäº;ä°Äeyââ dil;ä·;äºr;ìð¨reen;ä¸cy;äcy;äpf;ìðcr;ìðà®ABEHabcdefghjlmnoprstuvâ°ââââââ½âââââ¥â¹â½ââ²âââ¨âââ â Æartâ·âºâ¼rÃ²à§Ã²Îail;æ¤arr;æ¤Ä;gà¦â;æªar;æ¥¢à¥£â¥\0âª\0â±\0\0\0\0\0âµâº\0âââ\0â¹ute;äºmptyv;æ¦´raÃ®à¡bda;ä»gÆ;dlà¢ââ;æ¦Ã¥à¢;æªuoè»Â«ä«rÐ;bfhlpstà¢ââ¦â©â«â®â±âµÄ;fà¢â£s;æ¤s;æ¤Ã«âp;æ«l;æ¤¹im;æ¥³l;æ¢Æ;aeâ¿ââæª«il;æ¤Ä;sââæª­;ìâª­ï¸Æabrââârr;æ¤rk;æ²Äakâ¢â¬cÄekâ¨âª;ä»;äÄesâ±â³;æ¦lÄduâ¹â»;æ¦;æ¦Èaeuyââââron;ä¾Ädiââil;ä¼Ã¬à¢°Ã¢â©;ä»Ècqrsâ£â¦â­â½a;æ¤¶uoÄ;rà¸áÄduâ²â·har;æ¥§shar;æ¥h;æ²Ê;fgqsââà¦â³â¿æ¤tÊahlrtââ¤â·ââ¨rrowÄ;tà¢â¡aÃ©â¶arpoonÄduâ¯â´ownÂ»ÑpÂ»à¥¦eftarrows;æightÆahsââârrowÄ;sà£´à¢§arpoonÃ³à¾quigarroÃ·â°hreetimes;æÆ;qsâà¦âºlanÃ´à¦¬Ê;cdgsà¦¬ââââ¨c;æª¨otÄ;oââæ©¿Ä;rââæª;æªÄ;eâ¢â¥ìâï¸s;æªÊadegsâ³â¹â½ââpproÃ¸âot;æqÄgqââÃ´à¦gtÃ²âÃ´à¦iÃ­à¦²Æilrâà£¡âsht;æ¥¼;ìð©Ä;Eà¦â£;æªÅ¡â©â¶rÄduâ²â®Ä;là¥¥â³;æ¥ªlk;æcy;äÊ;achtà©âââârÃ²âorneÃ²á´ard;æ¥«ri;æºÄioââ¤dot;äustÄ;aâ¬â­æ°cheÂ»â­ÈEaesâ»â½ââ;æ¨pÄ;pââæªroxÂ»âÄ;qââæªÄ;qââ»im;æ¦Ðabnoptwzâ©â´â·ââ¯âââÄnrâ®â±g;æ¬r;æ½rÃ«à£gÆlmrâ¿ââeftÄarà§¦âightÃ¡à§²apsto;æ¼ightÃ¡à§½parrowÄlrâ¥â©efÃ´â­ight;æ¬Æaflâ¶â¹â½r;æ¦;ìðus;æ¨­imes;æ¨´Å¡ââst;æÃ¡áÆ;efââá ængeÂ»âarÄ;lâ¤â¥ä¨t;æ¦Êachmtâ³â¶â¼âârÃ²à¢¨orneÃ²á¶arÄ;dà¾â;æ¥­;æri;æ¿Ìachiqtââà©â¢â®â»quo;æ¹r;ìðmÆ;egà¦²âªâ¬;æª;æªÄbuâªâ³oÄ;rà¸â¹;ærok;äè<;cdhilqrà «ââ¹ââ â¥âªâ°Äciââ;æª¦r;æ©¹reÃ¥â²mes;æarr;æ¥¶uest;æ©»ÄPiâµâ¹ar;æ¦Æ;efâ à¤­á ærÄduâ â shar;æ¥har;æ¥¦Äenâ â ¡rtneqq;ìâ¨ï¸Ãâ ÜDacdefhilnopsuâ¡â¡â¢â¢â¢â¢ â¢¥â¢¨â£â£¢â£¤àªâ£³â¤Dot;æºÈclprâ¡â¡â¡£â¡½rè»Â¯ä¯Äetâ¡â¡;æÄ;eâ¡â¡æ seÂ»â¡Ä;sá»â¡¨toÈ;dluá»â¡³â¡·â¡»owÃ®ÒefÃ´à¤Ã°áker;æ®Äoyâ¢â¢mma;æ¨©;ä¼ash;æasuredangleÂ»á¦r;ìðªo;æ§Æcdnâ¢¯â¢´â£roè»ÂµäµÈ;acdá¤â¢½â£â£sÃ´á§ir;æ«°otè»Â·ÆµusÆ;bdâ£á¤â£æÄ;uá´¼â£;æ¨ªÅ£â£â£¡p;æ«Ã²âÃ°àªÄdpâ£©â£®els;æ§f;ìðÄctâ£¸â£½r;ìðposÂ»áÆ;lmâ¤â¤â¤ä¼timap;æ¸à°GLRVabcdefghijlmoprstuvwâ¥â¥â¥¾â¦â¦â§â§©â¨â¨â©â©âªâªâª¤âª¨â¬â¬â­â­¿â®®â°´â±§â±¼â³©Ägtâ¥â¥;ìâÌ¸Ä;vâ¥à¯ìâ«âÆeltâ¥â¥²â¥¶ftÄarâ¥¡â¥§rrow;æightarrow;æ;ìâÌ¸Ä;vâ¥»à±ìâªâightarrow;æÄDdâ¦â¦ash;æ¯ash;æ®Êbcnptâ¦£â¦§â¦¬â¦±â§laÂ»Ëute;äg;ìâ âÊ;Eiopà¶â¦¼â§â§â§;ìâ©°Ì¸d;ìâÌ¸s;äroÃ¸à¶urÄ;aâ§â§æ®lÄ;sâ§à¬¸Ç³â§\0â§£pè»Â à¬·mpÄ;eà¯¹à°Êaeouyâ§´â§¾â¨â¨â¨Ç°â§¹\0â§»;æ©on;ädil;ängÄ;dàµ¾â¨ot;ìâ©­Ì¸p;æ©;ä½ash;æÎ;Aadqsxà®â¨©â¨­â¨»â©â©â©rr;ærÄhrâ¨³â¨¶k;æ¤¤Ä;oá²á°ot;ìâÌ¸uiÃ¶à­£Äeiâ©â©ar;æ¤¨Ã­à®istÄ;sà® à®r;ìð«ÈEestà¯â©¦â©¹â©¼Æ;qsà®¼â©­à¯¡Æ;qsà®¼à¯â©´lanÃ´à¯¢iÃ­à¯ªÄ;rà®¶âªÂ»à®·ÆAapâªâªâªrÃ²â¥±rr;æ®ar;æ«²Æ;svà¾âªà¾Ä;dâª¡âª¢æ¼;æºcy;äÎAEadestâª·âªºâª¾â«â«â«¶â«¹rÃ²â¥¦;ìâ¦Ì¸rr;ær;æ¥È;fqsà°»â«â«£â«¯tÄarâ«â«rroÃ·â«ightarroÃ·âªÆ;qsà°»âªºâ«ªlanÃ´à±Ä;sà±â«´Â»à°¶iÃ­à±Ä;rà°µâ«¾iÄ;eà°à°¥iÃ¤à¶Äptâ¬â¬f;ìðèÂ¬;inâ¬â¬â¬¶ä¬nÈ;Edvà®â¬¤â¬¨â¬®;ìâ¹Ì¸ot;ìâµÌ¸Ç¡à®â¬³â¬µ;æ·;æ¶iÄ;và²¸â¬¼Ç¡à²¸â­â­;æ¾;æ½Æaorâ­â­£â­©rÈ;astà­»â­â­â­lleÃ¬à­»l;ìâ«½â¥;ìâÌ¸lint;æ¨Æ;ceà²â­°â­³uÃ¥à²¥Ä;cà²â­¸Ä;eà²â­½Ã±à²ÈAaitâ®â®â®â®§rÃ²â¦rrÆ;cwâ®â®â®æ;ìâ¤³Ì¸;ìâÌ¸ghtarrowÂ»â®riÄ;eà³à³Îchimpquâ®½â¯â¯â¬à­¸â¯¤â¯¯È;cerà´²â¯à´·â¯uÃ¥àµ;ìðortÉ­â¬\0\0â¯arÃ¡â­mÄ;eàµ®â¯Ä;qàµ´àµ³suÄbpâ¯«â¯­Ã¥à³¸Ã¥à´Æbcpâ¯¶â°â°È;Eesâ¯¿â°à´¢â°æ;ìâ«Ì¸etÄ;eà´â°qÄ;qà´£â°cÄ;eà´²â°Ã±à´¸È;Eesâ°¢â°£àµâ°§æ;ìâ«Ì¸etÄ;eàµâ°®qÄ;qàµ â°£Ègilrâ°½â°¿â±â±Ã¬à¯ldeè»Ã±ä±Ã§à±iangleÄlrâ±â±eftÄ;eà°â±Ã±à°¦ightÄ;eà³â±¥Ã±à³Ä;mâ±¬â±­ä½Æ;esâ±´â±µâ±¹ä£ro;æp;æÒDHadgilrsâ²â²â²â²â²£â²°â²¶â³â³£ash;æ­arr;æ¤p;ìââash;æ¬Äetâ²¨â²¬;ìâ¥â;ì>ânfin;æ§ÆAetâ²½â³â³rr;æ¤;ìâ¤âÄ;râ³â³ì<âie;ìâ´âÄAtâ³â³rr;æ¤rie;ìâµâim;ìâ¼âÆAanâ³°â³´â´rr;ærÄhrâ³ºâ³½k;æ¤£Ä;oá§á¥ear;æ¤§ááª\0\0\0\0\0\0\0\0\0\0\0\0\0â´­\0â´¸âµâµ âµ¥âµ²â¶á¬\0\0â¶â¶«\0â·â·\0â·â¸â¸«â¸¾â¹Äcsâ´±áªuteè»Ã³ä³Äiyâ´¼âµrÄ;cáªâµè»Ã´ä´;ä¾Êabiosáª âµâµÇâµlac;äv;æ¨¸old;æ¦¼lig;äÄcrâµ©âµ­ir;æ¦¿;ìð¬Í¯âµ¹\0\0âµ¼\0â¶n;äaveè»Ã²ä²;æ§Äbmâ¶à·´ar;æ¦µÈacitâ¶â¶â¶¥â¶¨rÃ²áªÄirâ¶â¶ r;æ¦¾oss;æ¦»nÃ¥à¹;æ§Æaeiâ¶±â¶µâ¶¹cr;äga;äÆcdnâ·â·Çron;ä¿;æ¦¶pf;ìð Æaelâ·â·Çr;æ¦·rp;æ¦¹Î;adiosvâ·ªâ·«â·®â¸â¸â¸â¸æ¨rÃ²áªÈ;efmâ··â·¸â¸â¸æ©rÄ;oâ·¾â·¿æ´fÂ»â·¿è»Âªäªè»Âºäºgof;æ¶r;æ©lope;æ©;æ©Æcloâ¸â¸¡â¸§Ã²â¸ashè»Ã¸ä¸l;æiÅ¬â¸¯â¸´deè»ÃµäµesÄ;aÇâ¸ºs;æ¨¶mlè»Ã¶ä¶bar;æ½à«¡â¹\0â¹½\0âºâº\0âº¢âº¹\0\0â»àº\0â¼\0\0â¼«â¾¼\0â¿rÈ;astÐâ¹§â¹²àºèÂ¶;lâ¹­â¹®ä¶leÃ¬ÐÉ©â¹¸\0\0â¹»m;æ«³;æ«½y;ä¿rÊcimptâºâºâºá¡¥âºnt;ä¥od;ä®il;æ°enk;æ±r;ìð­Æimoâº¨âº°âº´Ä;vâº­âº®ä;ämaÃ´à©¶ne;æÆ;tvâº¿â»â»ächforkÂ»á¿½;äÄauâ»â»nÄckâ»â»kÄ;hâ´â»;æÃ¶â´sÒ;abcdemstâ»³â»´á¤â»¹â»½â¼â¼â¼â¼ä«cir;æ¨£ir;æ¨¢Äouáµâ¼;æ¨¥;æ©²nè»Â±àºim;æ¨¦wo;æ¨§Æipuâ¼â¼ â¼¥ntint;æ¨f;ìð¡ndè»Â£ä£Ô;Eaceinosuà»â¼¿â½â½â½â¾â¾â¾â½¾â¾¶;æª³p;æª·uÃ¥à»Ä;cà»â½Ì;acensà»â½â½â½¦â½¨â½¾pproÃ¸â½urlyeÃ±à»Ã±à»Æaesâ½¯â½¶â½ºpprox;æª¹qq;æªµim;æ¨iÃ­à»meÄ;sâ¾àº®æ²ÆEasâ½¸â¾â½ºÃ°â½µÆdfpà»¬â¾â¾¯Æalsâ¾ â¾¥â¾ªlar;æ®ine;æurf;æÄ;tà»»â¾´Ã¯à»»rel;æ°Äciâ¿â¿r;ìð;äncsp;æÌfiopsuâ¿â¢â¿â¿¥â¿«â¿±r;ìð®pf;ìð¢rime;æcr;ìðÆaeoâ¿¸ããtÄeiâ¿¾ãrnionÃ³Ú°nt;æ¨stÄ;eããä¿Ã±á¼Ã´à¼àªABHabcdefhilmnoprstuxããããã ãã«ãã¢ã²ãããã¤ã©ãã®ã²ãã°ã·ÆartãããrÃ²á³Ã²Ïail;æ¤arÃ²á±¥ar;æ¥¤Îcdenqrtã¨ãµã¸ã¿ãããÄeuã­ã±;ìâ½Ì±te;äiÃ£á®mptyv;æ¦³gÈ;delà¿ããã;æ¦;æ¦¥Ã¥à¿uoè»Â»ä»rÖ;abcfhlpstwà¿ã¬ã¯ã·ã¹ã¼ã¾ããããp;æ¥µÄ;fà¿ ã´s;æ¤ ;æ¤³s;æ¤Ã«âÃ°â®l;æ¥im;æ¥´l;æ£;æÄaiããil;æ¤oÄ;nããæ¶alÃ³à¼Æabrã§ãªã®rÃ²á¥rk;æ³Äakã³ã½cÄekã¹ã»;ä½;äÄesãã;æ¦lÄduãã;æ¦;æ¦Èaeuyããã§ã©ron;äÄdiã¡ã¥il;äÃ¬à¿²Ã¢ãº;äÈclqsã´ã·ã½ãa;æ¤·dhar;æ¥©uoÄ;rÈÈh;æ³Æacgããà½lÈ;ipsà½¸ããánÃ¥á»arÃ´à¾©t;æ­Æilrã©á£ã®sht;æ¥½;ìð¯Äaoã·ãrÄduã½ã¿Â»Ñ»Ä;láã;æ¥¬Ä;vããä;ä±Ægnsãã¹ã¼htÌahlrstã¤ã°ããã¤ã®rrowÄ;tà¿ã­aÃ©ãarpoonÄduã»ã¿owÃ®ã¾pÂ»áeftÄahããrrowÃ³à¿ªarpoonÃ³Õightarrows;æquigarroÃ·ãhreetimes;æg;äingdotseÃ±á¼²ÆahmãããrÃ²à¿ªaÃ²Õ;æoustÄ;aããæ±cheÂ»ãmid;æ«®Èabptã²ã½ããÄnrã·ãºg;æ­r;æ¾rÃ«áÆaflãããr;æ¦;ìð£us;æ¨®imes;æ¨µÄapãã§rÄ;gã£ã¤ä©t;æ¦olint;æ¨arÃ²ã£Èachqã»ãá¼ãquo;æºr;ìðÄbuã»ãoÄ;rÈÈÆhirããã reÃ¥ã¸mes;æiÈ;eflãªáá ¡ã«æ¹tri;æ§luhar;æ¥¨;æàµ¡ãããã¬ã¸ã±\0ãºã¤\0\0ã¬ã°\0ã¨ããã­ã±ãã±\0ã\0\0ã³cute;äquÃ¯âºÔ;Eaceinpsyá­ã³ãµã¿ããããã¦ã©;æª´Ç°ãº\0ã¼;æª¸on;ä¡uÃ¥á¾Ä;dá³ãil;ärc;äÆEasããã;æª¶p;æªºim;æ©olint;æ¨iÃ­á;äotÆ;beã´áµãµæ;æ©¦ÎAacmstxãããããã£ã­rr;ærÄhrããÃ«â¨Ä;oà¨¶à¨´tè»Â§ä§i;ä»war;æ¤©mÄinã©Ã°nuÃ³Ã±t;æ¶rÄ;oã¶âìð°Èacoyãããã rp;æ¯Ähyããcy;ä;ärtÉ­ã\0\0ãiÃ¤á¤araÃ¬â¹¯è»Â­ä­Ägmã¨ã´maÆ;fvã±ã²ã²ä;äÐ;deglnprá«ãããããã¡ã¦ot;æ©ªÄ;qá±á°Ä;Eããæª;æª Ä;Eããæª;æªe;ælus;æ¨¤arr;æ¥²arÃ²á½Èaeitã¸ãããÄlsã½ãlsetmÃ©ãªhp;æ¨³parsl;æ§¤Ädlá£ãe;æ£Ä;eããæªªÄ;sã¢ã£æª¬;ìâª¬ï¸Æflpã®ã³ãtcy;äÄ;bã¸ã¹ä¯Ä;aã¾ã¿æ§r;æ¿f;ìð¤aÄdrãÐesÄ;uããæ itÂ»ãÆcsuã ã¹ãÄauã¥ã¯pÄ;sáã«;ìâï¸pÄ;sá´ãµ;ìâï¸uÄbpã¿ãÆ;esááãetÄ;eáãÃ±áÆ;esá¨á­ãetÄ;eá¨ãÃ±á®Æ;afá»ã¦Ö°rÅ¥ã«Ö±Â»á¼arÃ²áÈcemtã¹ã¾ããr;ìðtmÃ®Ã±iÃ¬ãarÃ¦á¾ÄarããrÄ;fãá¿æÄanãã­ightÄepã£ãªpsiloÃ®á» hÃ©âº¯sÂ»â¡Êbcmnpã»ãáããÒ;Edemnprsãããããã£ã¬ã±ã¶æ;æ«ot;æª½Ä;dáãot;æ«ult;æ«ÄEeã¨ãª;æ«;ælus;æª¿arr;æ¥¹Æeiuã½ããtÆ;enãããqÄ;qáãeqÄ;qã«ã¨m;æ«Äbpãã;æ«;æ«cÌ;acensá­ã¬ã²ã¹ã»ã¦pproÃ¸ãºurlyeÃ±á¾Ã±á³ÆaesãããpproÃ¸ãqÃ±ãg;æªÚ123;Edehlmnpsã©ã¬ã¯áã²ã´ãããããã¨ã­è»Â¹ä¹è»Â²ä²è»Â³ä³;æ«Äosã¹ã¼t;æª¾ub;æ«Ä;dá¢ãot;æ«sÄouããl;æb;æ«arr;æ¥»ult;æ«ÄEeã¤ã¦;æ«;ælus;æ«Æeiuã´ããtÆ;enáã¼ãqÄ;qá¢ã²eqÄ;qã§ã¤m;æ«Äbpãã;æ«;æ«ÆAanãã ã­rr;ærÄhrã¦ã¨Ã«â®Ä;oà¨«à¨©war;æ¤ªligè»Ãäà¯¡ããã áã³ã¹\0ã¾ã\0\0\0\0\0ãã\0ãã¬\0\0\0ãÉ²ã\0\0ãget;æ;ärÃ«à¹Æaeyã¦ã«ã°ron;ä¥dil;ä£;älrec;ær;ìð±Èeikoãããµã¼Ç²ã\0ãeÄ4fááaÆ;svãããä¸ym;äÄcnã¢ã²kÄasã¨ã®pproÃ¸áimÂ»á¬sÃ°áÄasãºã®Ã°árnè»Ã¾ä¾Ç¬Ìãâ§esèÃ;bdãããäÄ;aá¤ãr;æ¨±;æ¨°Æepsã¡ã£ãÃ¡â©È;bcfÒã¬ã°ã´ot;æ¶ir;æ«±Ä;oã¹ã¼ìð¥rk;æ«Ã¡ã¢rime;æ´Æaipããã¤dÃ¥áÎadempstã¡ããããããngleÊ;dlqrã°ã±ã¶ããæµownÂ»á¶»eftÄ;eâ ã¾Ã±à¤®;æightÄ;eãªãÃ±áot;æ¬inus;æ¨ºlus;æ¨¹b;æ§ime;æ¨»ezium;æ¢Æchtã²ã½ãÄryã·ã»;ìð;äcy;ärok;ä§ÄioããxÃ´á·headÄlrãã eftarroÃ·à¡ightarrowÂ»à½à¤AHabcdfghlmoprstuwãããã¤ã°ã¼ã ã ã £ã ´ã¡ã¡ã¡«ã¢©ã£ã£ã£ªã£¶rÃ²Ï­ar;æ¥£Äcrãã¢uteè»ÃºäºÃ²árÇ£ãª\0ã­y;äve;ä­Äiyãµãºrcè»Ã»ä»;äÆabhã ã ã rÃ²á­lac;ä±aÃ²áÄirã ã sht;æ¥¾;ìð²raveè»Ã¹ä¹Å¡ã §ã ±rÄlrã ¬ã ®Â»à¥Â»álk;æÄctã ¹ã¡É¯ã ¿\0\0ã¡rnÄ;eã¡ã¡ærÂ»ã¡op;æri;æ¸Äalã¡ã¡cr;ä«è»Â¨ÍÄgpã¡¢ã¡¦on;ä³f;ìð¦Ìadhlsuáã¡¸ã¡½á²ã¢ã¢ ownÃ¡á³arpoonÄlrã¢ã¢efÃ´ã ­ighÃ´ã ¯iÆ;hlã¢ã¢ã¢äÂ»áºonÂ»ã¢parrows;æÆcitã¢°ã£ã£É¯ã¢¶\0\0ã£rnÄ;eã¢¼ã¢½ærÂ»ã¢½op;æng;ä¯ri;æ¹cr;ìðÆdirã£ã£ã£¢ot;æ°lde;ä©iÄ;fã°ã£¨Â»á Äamã£¯ã£²rÃ²ã¢¨lè»Ã¼ä¼angle;æ¦§ÞABDacdeflnoprszã¤ã¤ã¤©ã¤­ã¦µã¦¸ã¦½ã§ã§¤ã§¨ã§³ã§¹ã§½ã¨ã¨ rÃ²Ï·arÄ;vã¤¦ã¤§æ«¨;æ«©asÃ¨Ï¡Änrã¤²ã¤·grt;æ¦Îeknprstã£ã¥ã¥ã¥ã¥ã¥¤ã¦appÃ¡âothinÃ§áºÆhirã«â»ã¥opÃ´â¾µÄ;há·ã¥¢Ã¯ãÄiuã¥©ã¥­gmÃ¡ã³Äbpã¥²ã¦setneqÄ;qã¥½ã¦ìâï¸;ìâ«ï¸setneqÄ;qã¦ã¦ìâï¸;ìâ«ï¸Ährã¦ã¦etÃ¡ãiangleÄlrã¦ªã¦¯eftÂ»à¤¥ightÂ»áy;ä²ashÂ»á¶Æelrã§ã§ã§Æ;beâ·ªã§ã§ar;æ»q;ælip;æ®Äbtã§á¨aÃ²á©r;ìð³trÃ©ã¦®suÄbpã§¯ã§±Â»à´Â»àµpf;ìð§roÃ°à»»trÃ©ã¦´Äcuã¨ã¨r;ìðÄbpã¨ã¨nÄEeã¦ã¨Â»ã¥¾nÄEeã¦ã¨Â»ã¦igzag;æ¦Îcefoprsã¨¶ã¨»ã©ã©ã©ã©¡ã©ªirc;äµÄdiã©ã©Äbgã©ã©ar;æ©eÄ;qáºã©;æerp;ær;ìð´pf;ìð¨Ä;eá¹ã©¦atÃ¨á¹cr;ìðà«£áãª\0ãª\0ãªãª\0\0ãªãª¨ãª«ãª¯\0\0ã«ã«\0ã«áátrÃ©ár;ìðµÄAaãªãªrÃ²ÏrÃ²à§¶;ä¾ÄAaãª¡ãª¤rÃ²Î¸rÃ²à§«aÃ°âis;æ»Ædptá¤ãªµãª¾Äflãªºá©;ìð©imÃ¥á²ÄAaã«ã«rÃ²ÏrÃ²à¨Äcqã«á¸r;ìðÄptáã«rÃ©áÐacefiosuã«°ã«½ã¬ã¬ã¬ã¬ã¬ã¬¡cÄuyã«¶ã«»teè»Ã½ä½;äÄiyã¬ã¬rc;ä·;änè»Â¥ä¥r;ìð¶cy;äpf;ìðªcr;ìðÄcmã¬¦ã¬©y;älè»Ã¿ä¿Ôacdefhioswã­ã­ã­ã­ã­¤ã­©ã­­ã­´ã­ºã®cute;äºÄayã­ã­ron;ä¾;ä·ot;ä¼Äetã­ã­¡trÃ¦áa;ä¶r;ìð·cy;ä¶grarr;æpf;ìð«cr;ìðÄjnã®ã®;æj;æ'.split("").map(r=>r.charCodeAt(0))),FQ=new Uint16Array("Èaglq	\x1BÉ­\0\0p;ä¦os;ä§t;ä¾t;ä¼uot;ä¢".split("").map(r=>r.charCodeAt(0)));var th;const zQ=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),qQ=(th=String.fromCodePoint)!==null&&th!==void 0?th:function(r){let e="";return r>65535&&(r-=65536,e+=String.fromCharCode(r>>>10&1023|55296),r=56320|r&1023),e+=String.fromCharCode(r),e};function jQ(r){var e;return r>=55296&&r<=57343||r>1114111?65533:(e=zQ.get(r))!==null&&e!==void 0?e:r}var Fr;(function(r){r[r.NUM=35]="NUM",r[r.SEMI=59]="SEMI",r[r.EQUALS=61]="EQUALS",r[r.ZERO=48]="ZERO",r[r.NINE=57]="NINE",r[r.LOWER_A=97]="LOWER_A",r[r.LOWER_F=102]="LOWER_F",r[r.LOWER_X=120]="LOWER_X",r[r.LOWER_Z=122]="LOWER_Z",r[r.UPPER_A=65]="UPPER_A",r[r.UPPER_F=70]="UPPER_F",r[r.UPPER_Z=90]="UPPER_Z"})(Fr||(Fr={}));const HQ=32;var $s;(function(r){r[r.VALUE_LENGTH=49152]="VALUE_LENGTH",r[r.BRANCH_LENGTH=16256]="BRANCH_LENGTH",r[r.JUMP_TABLE=127]="JUMP_TABLE"})($s||($s={}));function up(r){return r>=Fr.ZERO&&r<=Fr.NINE}function UQ(r){return r>=Fr.UPPER_A&&r<=Fr.UPPER_F||r>=Fr.LOWER_A&&r<=Fr.LOWER_F}function VQ(r){return r>=Fr.UPPER_A&&r<=Fr.UPPER_Z||r>=Fr.LOWER_A&&r<=Fr.LOWER_Z||up(r)}function WQ(r){return r===Fr.EQUALS||VQ(r)}var Or;(function(r){r[r.EntityStart=0]="EntityStart",r[r.NumericStart=1]="NumericStart",r[r.NumericDecimal=2]="NumericDecimal",r[r.NumericHex=3]="NumericHex",r[r.NamedEntity=4]="NamedEntity"})(Or||(Or={}));var Cs;(function(r){r[r.Legacy=0]="Legacy",r[r.Strict=1]="Strict",r[r.Attribute=2]="Attribute"})(Cs||(Cs={}));class QQ{constructor(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=Or.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Cs.Strict}startEntity(e){this.decodeMode=e,this.state=Or.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case Or.EntityStart:return e.charCodeAt(t)===Fr.NUM?(this.state=Or.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=Or.NamedEntity,this.stateNamedEntity(e,t));case Or.NumericStart:return this.stateNumericStart(e,t);case Or.NumericDecimal:return this.stateNumericDecimal(e,t);case Or.NumericHex:return this.stateNumericHex(e,t);case Or.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(e.charCodeAt(t)|HQ)===Fr.LOWER_X?(this.state=Or.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=Or.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,n,a){if(t!==n){const s=n-t;this.result=this.result*Math.pow(a,s)+parseInt(e.substr(t,s),a),this.consumed+=s}}stateNumericHex(e,t){const n=t;for(;t<e.length;){const a=e.charCodeAt(t);if(up(a)||UQ(a))t+=1;else return this.addToNumericResult(e,n,t,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(e,n,t,16),-1}stateNumericDecimal(e,t){const n=t;for(;t<e.length;){const a=e.charCodeAt(t);if(up(a))t+=1;else return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(e,n,t,10),-1}emitNumericEntity(e,t){var n;if(this.consumed<=t)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Fr.SEMI)this.consumed+=1;else if(this.decodeMode===Cs.Strict)return 0;return this.emitCodePoint(jQ(this.result),this.consumed),this.errors&&(e!==Fr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:n}=this;let a=n[this.treeIndex],s=(a&$s.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const i=e.charCodeAt(t);if(this.treeIndex=GQ(n,a,this.treeIndex+Math.max(1,s),i),this.treeIndex<0)return this.result===0||this.decodeMode===Cs.Attribute&&(s===0||WQ(i))?0:this.emitNotTerminatedNamedEntity();if(a=n[this.treeIndex],s=(a&$s.VALUE_LENGTH)>>14,s!==0){if(i===Fr.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Cs.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:n}=this,a=(n[t]&$s.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,a,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,n){const{decodeTree:a}=this;return this.emitCodePoint(t===1?a[e]&~$s.VALUE_LENGTH:a[e+1],n),t===3&&this.emitCodePoint(a[e+2],n),n}end(){var e;switch(this.state){case Or.NamedEntity:return this.result!==0&&(this.decodeMode!==Cs.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Or.NumericDecimal:return this.emitNumericEntity(0,2);case Or.NumericHex:return this.emitNumericEntity(0,3);case Or.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Or.EntityStart:return 0}}}function b3(r){let e="";const t=new QQ(r,n=>e+=qQ(n));return function(a,s){let i=0,u=0;for(;(u=a.indexOf("&",u))>=0;){e+=a.slice(i,u),t.startEntity(s);const c=t.write(a,u+1);if(c<0){i=u+t.end();break}i=u+c,u=c===0?i+1:i}const l=e+a.slice(i);return e="",l}}function GQ(r,e,t,n){const a=(e&$s.BRANCH_LENGTH)>>7,s=e&$s.JUMP_TABLE;if(a===0)return s!==0&&n===s?t:-1;if(s){const l=n-s;return l<0||l>=a?-1:r[t+l]-1}let i=t,u=i+a-1;for(;i<=u;){const l=i+u>>>1,c=r[l];if(c<n)i=l+1;else if(c>n)u=l-1;else return r[l+a]}return-1}const KQ=b3(BQ);b3(FQ);function _3(r,e=Cs.Legacy){return KQ(r,e)}function JQ(r){return Object.prototype.toString.call(r)}function rv(r){return JQ(r)==="[object String]"}const ZQ=Object.prototype.hasOwnProperty;function YQ(r,e){return ZQ.call(r,e)}function nf(r){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t){if(typeof t!="object")throw new TypeError(t+"must be object");Object.keys(t).forEach(function(n){r[n]=t[n]})}}),r}function y3(r,e,t){return[].concat(r.slice(0,e),t,r.slice(e+1))}function nv(r){return!(r>=55296&&r<=57343||r>=64976&&r<=65007||(r&65535)===65535||(r&65535)===65534||r>=0&&r<=8||r===11||r>=14&&r<=31||r>=127&&r<=159||r>1114111)}function ld(r){if(r>65535){r-=65536;const e=55296+(r>>10),t=56320+(r&1023);return String.fromCharCode(e,t)}return String.fromCharCode(r)}const x3=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,XQ=/&([a-z#][a-z0-9]{1,31});/gi,eG=new RegExp(x3.source+"|"+XQ.source,"gi"),tG=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function rG(r,e){if(e.charCodeAt(0)===35&&tG.test(e)){const n=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return nv(n)?ld(n):r}const t=_3(r);return t!==r?t:r}function nG(r){return r.indexOf("\\")<0?r:r.replace(x3,"$1")}function Ao(r){return r.indexOf("\\")<0&&r.indexOf("&")<0?r:r.replace(eG,function(e,t,n){return t||rG(e,n)})}const aG=/[&<>"]/,sG=/[&<>"]/g,iG={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function oG(r){return iG[r]}function Ws(r){return aG.test(r)?r.replace(sG,oG):r}const uG=/[.?*+^$[\]\\(){}|-]/g;function lG(r){return r.replace(uG,"\\$&")}function cr(r){switch(r){case 9:case 32:return!0}return!1}function Vu(r){if(r>=8192&&r<=8202)return!0;switch(r){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function Wu(r){return tv.test(r)||m3.test(r)}function Qu(r){switch(r){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function af(r){return r=r.trim().replace(/\s+/g," "),"áº".toLowerCase()==="á¹¾"&&(r=r.replace(/áº/g,"Ã")),r.toLowerCase().toUpperCase()}const cG={mdurl:$Q,ucmicro:OQ},dG=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:y3,assign:nf,escapeHtml:Ws,escapeRE:lG,fromCodePoint:ld,has:YQ,isMdAsciiPunct:Qu,isPunctChar:Wu,isSpace:cr,isString:rv,isValidEntityCode:nv,isWhiteSpace:Vu,lib:cG,normalizeReference:af,unescapeAll:Ao,unescapeMd:nG},Symbol.toStringTag,{value:"Module"}));function fG(r,e,t){let n,a,s,i;const u=r.posMax,l=r.pos;for(r.pos=e+1,n=1;r.pos<u;){if(s=r.src.charCodeAt(r.pos),s===93&&(n--,n===0)){a=!0;break}if(i=r.pos,r.md.inline.skipToken(r),s===91){if(i===r.pos-1)n++;else if(t)return r.pos=l,-1}}let c=-1;return a&&(c=r.pos),r.pos=l,c}function hG(r,e,t){let n,a=e;const s={ok:!1,pos:0,str:""};if(r.charCodeAt(a)===60){for(a++;a<t;){if(n=r.charCodeAt(a),n===10||n===60)return s;if(n===62)return s.pos=a+1,s.str=Ao(r.slice(e+1,a)),s.ok=!0,s;if(n===92&&a+1<t){a+=2;continue}a++}return s}let i=0;for(;a<t&&(n=r.charCodeAt(a),!(n===32||n<32||n===127));){if(n===92&&a+1<t){if(r.charCodeAt(a+1)===32)break;a+=2;continue}if(n===40&&(i++,i>32))return s;if(n===41){if(i===0)break;i--}a++}return e===a||i!==0||(s.str=Ao(r.slice(e,a)),s.pos=a,s.ok=!0),s}function pG(r,e,t,n){let a,s=e;const i={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(n)i.str=n.str,i.marker=n.marker;else{if(s>=t)return i;let u=r.charCodeAt(s);if(u!==34&&u!==39&&u!==40)return i;e++,s++,u===40&&(u=41),i.marker=u}for(;s<t;){if(a=r.charCodeAt(s),a===i.marker)return i.pos=s+1,i.str+=Ao(r.slice(e,s)),i.ok=!0,i;if(a===40&&i.marker===41)return i;a===92&&s+1<t&&s++,s++}return i.can_continue=!0,i.str+=Ao(r.slice(e,s)),i}const vG=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:hG,parseLinkLabel:fG,parseLinkTitle:pG},Symbol.toStringTag,{value:"Module"})),Ha={};Ha.code_inline=function(r,e,t,n,a){const s=r[e];return"<code"+a.renderAttrs(s)+">"+Ws(s.content)+"</code>"};Ha.code_block=function(r,e,t,n,a){const s=r[e];return"<pre"+a.renderAttrs(s)+"><code>"+Ws(r[e].content)+`</code></pre>
`};Ha.fence=function(r,e,t,n,a){const s=r[e],i=s.info?Ao(s.info).trim():"";let u="",l="";if(i){const f=i.split(/(\s+)/g);u=f[0],l=f.slice(2).join("")}let c;if(t.highlight?c=t.highlight(s.content,u,l)||Ws(s.content):c=Ws(s.content),c.indexOf("<pre")===0)return c+`
`;if(i){const f=s.attrIndex("class"),h=s.attrs?s.attrs.slice():[];f<0?h.push(["class",t.langPrefix+u]):(h[f]=h[f].slice(),h[f][1]+=" "+t.langPrefix+u);const m={attrs:h};return`<pre><code${a.renderAttrs(m)}>${c}</code></pre>
`}return`<pre><code${a.renderAttrs(s)}>${c}</code></pre>
`};Ha.image=function(r,e,t,n,a){const s=r[e];return s.attrs[s.attrIndex("alt")][1]=a.renderInlineAsText(s.children,t,n),a.renderToken(r,e,t)};Ha.hardbreak=function(r,e,t){return t.xhtmlOut?`<br />
`:`<br>
`};Ha.softbreak=function(r,e,t){return t.breaks?t.xhtmlOut?`<br />
`:`<br>
`:`
`};Ha.text=function(r,e){return Ws(r[e].content)};Ha.html_block=function(r,e){return r[e].content};Ha.html_inline=function(r,e){return r[e].content};function Oo(){this.rules=nf({},Ha)}Oo.prototype.renderAttrs=function(e){let t,n,a;if(!e.attrs)return"";for(a="",t=0,n=e.attrs.length;t<n;t++)a+=" "+Ws(e.attrs[t][0])+'="'+Ws(e.attrs[t][1])+'"';return a};Oo.prototype.renderToken=function(e,t,n){const a=e[t];let s="";if(a.hidden)return"";a.block&&a.nesting!==-1&&t&&e[t-1].hidden&&(s+=`
`),s+=(a.nesting===-1?"</":"<")+a.tag,s+=this.renderAttrs(a),a.nesting===0&&n.xhtmlOut&&(s+=" /");let i=!1;if(a.block&&(i=!0,a.nesting===1&&t+1<e.length)){const u=e[t+1];(u.type==="inline"||u.hidden||u.nesting===-1&&u.tag===a.tag)&&(i=!1)}return s+=i?`>
`:">",s};Oo.prototype.renderInline=function(r,e,t){let n="";const a=this.rules;for(let s=0,i=r.length;s<i;s++){const u=r[s].type;typeof a[u]<"u"?n+=a[u](r,s,e,t,this):n+=this.renderToken(r,s,e)}return n};Oo.prototype.renderInlineAsText=function(r,e,t){let n="";for(let a=0,s=r.length;a<s;a++)switch(r[a].type){case"text":n+=r[a].content;break;case"image":n+=this.renderInlineAsText(r[a].children,e,t);break;case"html_inline":case"html_block":n+=r[a].content;break;case"softbreak":case"hardbreak":n+=`
`;break}return n};Oo.prototype.render=function(r,e,t){let n="";const a=this.rules;for(let s=0,i=r.length;s<i;s++){const u=r[s].type;u==="inline"?n+=this.renderInline(r[s].children,e,t):typeof a[u]<"u"?n+=a[u](r,s,e,t,this):n+=this.renderToken(r,s,e,t)}return n};function An(){this.__rules__=[],this.__cache__=null}An.prototype.__find__=function(r){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===r)return e;return-1};An.prototype.__compile__=function(){const r=this,e=[""];r.__rules__.forEach(function(t){t.enabled&&t.alt.forEach(function(n){e.indexOf(n)<0&&e.push(n)})}),r.__cache__={},e.forEach(function(t){r.__cache__[t]=[],r.__rules__.forEach(function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||r.__cache__[t].push(n.fn))})})};An.prototype.at=function(r,e,t){const n=this.__find__(r),a=t||{};if(n===-1)throw new Error("Parser rule not found: "+r);this.__rules__[n].fn=e,this.__rules__[n].alt=a.alt||[],this.__cache__=null};An.prototype.before=function(r,e,t,n){const a=this.__find__(r),s=n||{};if(a===-1)throw new Error("Parser rule not found: "+r);this.__rules__.splice(a,0,{name:e,enabled:!0,fn:t,alt:s.alt||[]}),this.__cache__=null};An.prototype.after=function(r,e,t,n){const a=this.__find__(r),s=n||{};if(a===-1)throw new Error("Parser rule not found: "+r);this.__rules__.splice(a+1,0,{name:e,enabled:!0,fn:t,alt:s.alt||[]}),this.__cache__=null};An.prototype.push=function(r,e,t){const n=t||{};this.__rules__.push({name:r,enabled:!0,fn:e,alt:n.alt||[]}),this.__cache__=null};An.prototype.enable=function(r,e){Array.isArray(r)||(r=[r]);const t=[];return r.forEach(function(n){const a=this.__find__(n);if(a<0){if(e)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[a].enabled=!0,t.push(n)},this),this.__cache__=null,t};An.prototype.enableOnly=function(r,e){Array.isArray(r)||(r=[r]),this.__rules__.forEach(function(t){t.enabled=!1}),this.enable(r,e)};An.prototype.disable=function(r,e){Array.isArray(r)||(r=[r]);const t=[];return r.forEach(function(n){const a=this.__find__(n);if(a<0){if(e)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[a].enabled=!1,t.push(n)},this),this.__cache__=null,t};An.prototype.getRules=function(r){return this.__cache__===null&&this.__compile__(),this.__cache__[r]||[]};function ba(r,e,t){this.type=r,this.tag=e,this.attrs=null,this.map=null,this.nesting=t,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}ba.prototype.attrIndex=function(e){if(!this.attrs)return-1;const t=this.attrs;for(let n=0,a=t.length;n<a;n++)if(t[n][0]===e)return n;return-1};ba.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};ba.prototype.attrSet=function(e,t){const n=this.attrIndex(e),a=[e,t];n<0?this.attrPush(a):this.attrs[n]=a};ba.prototype.attrGet=function(e){const t=this.attrIndex(e);let n=null;return t>=0&&(n=this.attrs[t][1]),n};ba.prototype.attrJoin=function(e,t){const n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t};function w3(r,e,t){this.src=r,this.env=t,this.tokens=[],this.inlineMode=!1,this.md=e}w3.prototype.Token=ba;const mG=/\r\n?|\n/g,gG=/\0/g;function bG(r){let e;e=r.src.replace(mG,`
`),e=e.replace(gG,"ï¿½"),r.src=e}function _G(r){let e;r.inlineMode?(e=new r.Token("inline","",0),e.content=r.src,e.map=[0,1],e.children=[],r.tokens.push(e)):r.md.block.parse(r.src,r.md,r.env,r.tokens)}function yG(r){const e=r.tokens;for(let t=0,n=e.length;t<n;t++){const a=e[t];a.type==="inline"&&r.md.inline.parse(a.content,r.md,r.env,a.children)}}function xG(r){return/^<a[>\s]/i.test(r)}function wG(r){return/^<\/a\s*>/i.test(r)}function kG(r){const e=r.tokens;if(r.md.options.linkify)for(let t=0,n=e.length;t<n;t++){if(e[t].type!=="inline"||!r.md.linkify.pretest(e[t].content))continue;let a=e[t].children,s=0;for(let i=a.length-1;i>=0;i--){const u=a[i];if(u.type==="link_close"){for(i--;a[i].level!==u.level&&a[i].type!=="link_open";)i--;continue}if(u.type==="html_inline"&&(xG(u.content)&&s>0&&s--,wG(u.content)&&s++),!(s>0)&&u.type==="text"&&r.md.linkify.test(u.content)){const l=u.content;let c=r.md.linkify.match(l);const f=[];let h=u.level,m=0;c.length>0&&c[0].index===0&&i>0&&a[i-1].type==="text_special"&&(c=c.slice(1));for(let g=0;g<c.length;g++){const b=c[g].url,y=r.md.normalizeLink(b);if(!r.md.validateLink(y))continue;let x=c[g].text;c[g].schema?c[g].schema==="mailto:"&&!/^mailto:/i.test(x)?x=r.md.normalizeLinkText("mailto:"+x).replace(/^mailto:/,""):x=r.md.normalizeLinkText(x):x=r.md.normalizeLinkText("http://"+x).replace(/^http:\/\//,"");const k=c[g].index;if(k>m){const E=new r.Token("text","",0);E.content=l.slice(m,k),E.level=h,f.push(E)}const S=new r.Token("link_open","a",1);S.attrs=[["href",y]],S.level=h++,S.markup="linkify",S.info="auto",f.push(S);const A=new r.Token("text","",0);A.content=x,A.level=h,f.push(A);const C=new r.Token("link_close","a",-1);C.level=--h,C.markup="linkify",C.info="auto",f.push(C),m=c[g].lastIndex}if(m<l.length){const g=new r.Token("text","",0);g.content=l.slice(m),g.level=h,f.push(g)}e[t].children=a=y3(a,i,f)}}}}const k3=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,EG=/\((c|tm|r)\)/i,SG=/\((c|tm|r)\)/ig,AG={c:"Â©",r:"Â®",tm:"â¢"};function DG(r,e){return AG[e.toLowerCase()]}function CG(r){let e=0;for(let t=r.length-1;t>=0;t--){const n=r[t];n.type==="text"&&!e&&(n.content=n.content.replace(SG,DG)),n.type==="link_open"&&n.info==="auto"&&e--,n.type==="link_close"&&n.info==="auto"&&e++}}function IG(r){let e=0;for(let t=r.length-1;t>=0;t--){const n=r[t];n.type==="text"&&!e&&k3.test(n.content)&&(n.content=n.content.replace(/\+-/g,"Â±").replace(/\.{2,}/g,"â¦").replace(/([?!])â¦/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1â").replace(/(^|\s)--(?=\s|$)/mg,"$1â").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1â")),n.type==="link_open"&&n.info==="auto"&&e--,n.type==="link_close"&&n.info==="auto"&&e++}}function TG(r){let e;if(r.md.options.typographer)for(e=r.tokens.length-1;e>=0;e--)r.tokens[e].type==="inline"&&(EG.test(r.tokens[e].content)&&CG(r.tokens[e].children),k3.test(r.tokens[e].content)&&IG(r.tokens[e].children))}const MG=/['"]/,kg=/['"]/g,Eg="â";function Wl(r,e,t){return r.slice(0,e)+t+r.slice(e+1)}function RG(r,e){let t;const n=[];for(let a=0;a<r.length;a++){const s=r[a],i=r[a].level;for(t=n.length-1;t>=0&&!(n[t].level<=i);t--);if(n.length=t+1,s.type!=="text")continue;let u=s.content,l=0,c=u.length;e:for(;l<c;){kg.lastIndex=l;const f=kg.exec(u);if(!f)break;let h=!0,m=!0;l=f.index+1;const g=f[0]==="'";let b=32;if(f.index-1>=0)b=u.charCodeAt(f.index-1);else for(t=a-1;t>=0&&!(r[t].type==="softbreak"||r[t].type==="hardbreak");t--)if(r[t].content){b=r[t].content.charCodeAt(r[t].content.length-1);break}let y=32;if(l<c)y=u.charCodeAt(l);else for(t=a+1;t<r.length&&!(r[t].type==="softbreak"||r[t].type==="hardbreak");t++)if(r[t].content){y=r[t].content.charCodeAt(0);break}const x=Qu(b)||Wu(String.fromCharCode(b)),k=Qu(y)||Wu(String.fromCharCode(y)),S=Vu(b),A=Vu(y);if(A?h=!1:k&&(S||x||(h=!1)),S?m=!1:x&&(A||k||(m=!1)),y===34&&f[0]==='"'&&b>=48&&b<=57&&(m=h=!1),h&&m&&(h=x,m=k),!h&&!m){g&&(s.content=Wl(s.content,f.index,Eg));continue}if(m)for(t=n.length-1;t>=0;t--){let C=n[t];if(n[t].level<i)break;if(C.single===g&&n[t].level===i){C=n[t];let E,I;g?(E=e.md.options.quotes[2],I=e.md.options.quotes[3]):(E=e.md.options.quotes[0],I=e.md.options.quotes[1]),s.content=Wl(s.content,f.index,I),r[C.token].content=Wl(r[C.token].content,C.pos,E),l+=I.length-1,C.token===a&&(l+=E.length-1),u=s.content,c=u.length,n.length=t;continue e}}h?n.push({token:a,pos:f.index,single:g,level:i}):m&&g&&(s.content=Wl(s.content,f.index,Eg))}}}function NG(r){if(r.md.options.typographer)for(let e=r.tokens.length-1;e>=0;e--)r.tokens[e].type!=="inline"||!MG.test(r.tokens[e].content)||RG(r.tokens[e].children,r)}function PG(r){let e,t;const n=r.tokens,a=n.length;for(let s=0;s<a;s++){if(n[s].type!=="inline")continue;const i=n[s].children,u=i.length;for(e=0;e<u;e++)i[e].type==="text_special"&&(i[e].type="text");for(e=t=0;e<u;e++)i[e].type==="text"&&e+1<u&&i[e+1].type==="text"?i[e+1].content=i[e].content+i[e+1].content:(e!==t&&(i[t]=i[e]),t++);e!==t&&(i.length=t)}}const rh=[["normalize",bG],["block",_G],["inline",yG],["linkify",kG],["replacements",TG],["smartquotes",NG],["text_join",PG]];function av(){this.ruler=new An;for(let r=0;r<rh.length;r++)this.ruler.push(rh[r][0],rh[r][1])}av.prototype.process=function(r){const e=this.ruler.getRules("");for(let t=0,n=e.length;t<n;t++)e[t](r)};av.prototype.State=w3;function Ua(r,e,t,n){this.src=r,this.md=e,this.env=t,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const a=this.src;for(let s=0,i=0,u=0,l=0,c=a.length,f=!1;i<c;i++){const h=a.charCodeAt(i);if(!f)if(cr(h)){u++,h===9?l+=4-l%4:l++;continue}else f=!0;(h===10||i===c-1)&&(h!==10&&i++,this.bMarks.push(s),this.eMarks.push(i),this.tShift.push(u),this.sCount.push(l),this.bsCount.push(0),f=!1,u=0,l=0,s=i+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Ua.prototype.push=function(r,e,t){const n=new ba(r,e,t);return n.block=!0,t<0&&this.level--,n.level=this.level,t>0&&this.level++,this.tokens.push(n),n};Ua.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};Ua.prototype.skipEmptyLines=function(e){for(let t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};Ua.prototype.skipSpaces=function(e){for(let t=this.src.length;e<t;e++){const n=this.src.charCodeAt(e);if(!cr(n))break}return e};Ua.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!cr(this.src.charCodeAt(--e)))return e+1;return e};Ua.prototype.skipChars=function(e,t){for(let n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e};Ua.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e};Ua.prototype.getLines=function(e,t,n,a){if(e>=t)return"";const s=new Array(t-e);for(let i=0,u=e;u<t;u++,i++){let l=0;const c=this.bMarks[u];let f=c,h;for(u+1<t||a?h=this.eMarks[u]+1:h=this.eMarks[u];f<h&&l<n;){const m=this.src.charCodeAt(f);if(cr(m))m===9?l+=4-(l+this.bsCount[u])%4:l++;else if(f-c<this.tShift[u])l++;else break;f++}l>n?s[i]=new Array(l-n+1).join(" ")+this.src.slice(f,h):s[i]=this.src.slice(f,h)}return s.join("")};Ua.prototype.Token=ba;const $G=65536;function nh(r,e){const t=r.bMarks[e]+r.tShift[e],n=r.eMarks[e];return r.src.slice(t,n)}function Sg(r){const e=[],t=r.length;let n=0,a=r.charCodeAt(n),s=!1,i=0,u="";for(;n<t;)a===124&&(s?(u+=r.substring(i,n-1),i=n):(e.push(u+r.substring(i,n)),u="",i=n+1)),s=a===92,n++,a=r.charCodeAt(n);return e.push(u+r.substring(i)),e}function LG(r,e,t,n){if(e+2>t)return!1;let a=e+1;if(r.sCount[a]<r.blkIndent||r.sCount[a]-r.blkIndent>=4)return!1;let s=r.bMarks[a]+r.tShift[a];if(s>=r.eMarks[a])return!1;const i=r.src.charCodeAt(s++);if(i!==124&&i!==45&&i!==58||s>=r.eMarks[a])return!1;const u=r.src.charCodeAt(s++);if(u!==124&&u!==45&&u!==58&&!cr(u)||i===45&&cr(u))return!1;for(;s<r.eMarks[a];){const C=r.src.charCodeAt(s);if(C!==124&&C!==45&&C!==58&&!cr(C))return!1;s++}let l=nh(r,e+1),c=l.split("|");const f=[];for(let C=0;C<c.length;C++){const E=c[C].trim();if(!E){if(C===0||C===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(E))return!1;E.charCodeAt(E.length-1)===58?f.push(E.charCodeAt(0)===58?"center":"right"):E.charCodeAt(0)===58?f.push("left"):f.push("")}if(l=nh(r,e).trim(),l.indexOf("|")===-1||r.sCount[e]-r.blkIndent>=4)return!1;c=Sg(l),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop();const h=c.length;if(h===0||h!==f.length)return!1;if(n)return!0;const m=r.parentType;r.parentType="table";const g=r.md.block.ruler.getRules("blockquote"),b=r.push("table_open","table",1),y=[e,0];b.map=y;const x=r.push("thead_open","thead",1);x.map=[e,e+1];const k=r.push("tr_open","tr",1);k.map=[e,e+1];for(let C=0;C<c.length;C++){const E=r.push("th_open","th",1);f[C]&&(E.attrs=[["style","text-align:"+f[C]]]);const I=r.push("inline","",0);I.content=c[C].trim(),I.children=[],r.push("th_close","th",-1)}r.push("tr_close","tr",-1),r.push("thead_close","thead",-1);let S,A=0;for(a=e+2;a<t&&!(r.sCount[a]<r.blkIndent);a++){let C=!1;for(let I=0,T=g.length;I<T;I++)if(g[I](r,a,t,!0)){C=!0;break}if(C||(l=nh(r,a).trim(),!l)||r.sCount[a]-r.blkIndent>=4||(c=Sg(l),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop(),A+=h-c.length,A>$G))break;if(a===e+2){const I=r.push("tbody_open","tbody",1);I.map=S=[e+2,0]}const E=r.push("tr_open","tr",1);E.map=[a,a+1];for(let I=0;I<h;I++){const T=r.push("td_open","td",1);f[I]&&(T.attrs=[["style","text-align:"+f[I]]]);const j=r.push("inline","",0);j.content=c[I]?c[I].trim():"",j.children=[],r.push("td_close","td",-1)}r.push("tr_close","tr",-1)}return S&&(r.push("tbody_close","tbody",-1),S[1]=a),r.push("table_close","table",-1),y[1]=a,r.parentType=m,r.line=a,!0}function OG(r,e,t){if(r.sCount[e]-r.blkIndent<4)return!1;let n=e+1,a=n;for(;n<t;){if(r.isEmpty(n)){n++;continue}if(r.sCount[n]-r.blkIndent>=4){n++,a=n;continue}break}r.line=a;const s=r.push("code_block","code",0);return s.content=r.getLines(e,a,4+r.blkIndent,!1)+`
`,s.map=[e,r.line],!0}function BG(r,e,t,n){let a=r.bMarks[e]+r.tShift[e],s=r.eMarks[e];if(r.sCount[e]-r.blkIndent>=4||a+3>s)return!1;const i=r.src.charCodeAt(a);if(i!==126&&i!==96)return!1;let u=a;a=r.skipChars(a,i);let l=a-u;if(l<3)return!1;const c=r.src.slice(u,a),f=r.src.slice(a,s);if(i===96&&f.indexOf(String.fromCharCode(i))>=0)return!1;if(n)return!0;let h=e,m=!1;for(;h++,!(h>=t||(a=u=r.bMarks[h]+r.tShift[h],s=r.eMarks[h],a<s&&r.sCount[h]<r.blkIndent));)if(r.src.charCodeAt(a)===i&&!(r.sCount[h]-r.blkIndent>=4)&&(a=r.skipChars(a,i),!(a-u<l)&&(a=r.skipSpaces(a),!(a<s)))){m=!0;break}l=r.sCount[e],r.line=h+(m?1:0);const g=r.push("fence","code",0);return g.info=f,g.content=r.getLines(e+1,h,l,!0),g.markup=c,g.map=[e,r.line],!0}function FG(r,e,t,n){let a=r.bMarks[e]+r.tShift[e],s=r.eMarks[e];const i=r.lineMax;if(r.sCount[e]-r.blkIndent>=4||r.src.charCodeAt(a)!==62)return!1;if(n)return!0;const u=[],l=[],c=[],f=[],h=r.md.block.ruler.getRules("blockquote"),m=r.parentType;r.parentType="blockquote";let g=!1,b;for(b=e;b<t;b++){const A=r.sCount[b]<r.blkIndent;if(a=r.bMarks[b]+r.tShift[b],s=r.eMarks[b],a>=s)break;if(r.src.charCodeAt(a++)===62&&!A){let E=r.sCount[b]+1,I,T;r.src.charCodeAt(a)===32?(a++,E++,T=!1,I=!0):r.src.charCodeAt(a)===9?(I=!0,(r.bsCount[b]+E)%4===3?(a++,E++,T=!1):T=!0):I=!1;let j=E;for(u.push(r.bMarks[b]),r.bMarks[b]=a;a<s;){const U=r.src.charCodeAt(a);if(cr(U))U===9?j+=4-(j+r.bsCount[b]+(T?1:0))%4:j++;else break;a++}g=a>=s,l.push(r.bsCount[b]),r.bsCount[b]=r.sCount[b]+1+(I?1:0),c.push(r.sCount[b]),r.sCount[b]=j-E,f.push(r.tShift[b]),r.tShift[b]=a-r.bMarks[b];continue}if(g)break;let C=!1;for(let E=0,I=h.length;E<I;E++)if(h[E](r,b,t,!0)){C=!0;break}if(C){r.lineMax=b,r.blkIndent!==0&&(u.push(r.bMarks[b]),l.push(r.bsCount[b]),f.push(r.tShift[b]),c.push(r.sCount[b]),r.sCount[b]-=r.blkIndent);break}u.push(r.bMarks[b]),l.push(r.bsCount[b]),f.push(r.tShift[b]),c.push(r.sCount[b]),r.sCount[b]=-1}const y=r.blkIndent;r.blkIndent=0;const x=r.push("blockquote_open","blockquote",1);x.markup=">";const k=[e,0];x.map=k,r.md.block.tokenize(r,e,b);const S=r.push("blockquote_close","blockquote",-1);S.markup=">",r.lineMax=i,r.parentType=m,k[1]=r.line;for(let A=0;A<f.length;A++)r.bMarks[A+e]=u[A],r.tShift[A+e]=f[A],r.sCount[A+e]=c[A],r.bsCount[A+e]=l[A];return r.blkIndent=y,!0}function zG(r,e,t,n){const a=r.eMarks[e];if(r.sCount[e]-r.blkIndent>=4)return!1;let s=r.bMarks[e]+r.tShift[e];const i=r.src.charCodeAt(s++);if(i!==42&&i!==45&&i!==95)return!1;let u=1;for(;s<a;){const c=r.src.charCodeAt(s++);if(c!==i&&!cr(c))return!1;c===i&&u++}if(u<3)return!1;if(n)return!0;r.line=e+1;const l=r.push("hr","hr",0);return l.map=[e,r.line],l.markup=Array(u+1).join(String.fromCharCode(i)),!0}function Ag(r,e){const t=r.eMarks[e];let n=r.bMarks[e]+r.tShift[e];const a=r.src.charCodeAt(n++);if(a!==42&&a!==45&&a!==43)return-1;if(n<t){const s=r.src.charCodeAt(n);if(!cr(s))return-1}return n}function Dg(r,e){const t=r.bMarks[e]+r.tShift[e],n=r.eMarks[e];let a=t;if(a+1>=n)return-1;let s=r.src.charCodeAt(a++);if(s<48||s>57)return-1;for(;;){if(a>=n)return-1;if(s=r.src.charCodeAt(a++),s>=48&&s<=57){if(a-t>=10)return-1;continue}if(s===41||s===46)break;return-1}return a<n&&(s=r.src.charCodeAt(a),!cr(s))?-1:a}function qG(r,e){const t=r.level+2;for(let n=e+2,a=r.tokens.length-2;n<a;n++)r.tokens[n].level===t&&r.tokens[n].type==="paragraph_open"&&(r.tokens[n+2].hidden=!0,r.tokens[n].hidden=!0,n+=2)}function jG(r,e,t,n){let a,s,i,u,l=e,c=!0;if(r.sCount[l]-r.blkIndent>=4||r.listIndent>=0&&r.sCount[l]-r.listIndent>=4&&r.sCount[l]<r.blkIndent)return!1;let f=!1;n&&r.parentType==="paragraph"&&r.sCount[l]>=r.blkIndent&&(f=!0);let h,m,g;if((g=Dg(r,l))>=0){if(h=!0,i=r.bMarks[l]+r.tShift[l],m=Number(r.src.slice(i,g-1)),f&&m!==1)return!1}else if((g=Ag(r,l))>=0)h=!1;else return!1;if(f&&r.skipSpaces(g)>=r.eMarks[l])return!1;if(n)return!0;const b=r.src.charCodeAt(g-1),y=r.tokens.length;h?(u=r.push("ordered_list_open","ol",1),m!==1&&(u.attrs=[["start",m]])):u=r.push("bullet_list_open","ul",1);const x=[l,0];u.map=x,u.markup=String.fromCharCode(b);let k=!1;const S=r.md.block.ruler.getRules("list"),A=r.parentType;for(r.parentType="list";l<t;){s=g,a=r.eMarks[l];const C=r.sCount[l]+g-(r.bMarks[l]+r.tShift[l]);let E=C;for(;s<a;){const J=r.src.charCodeAt(s);if(J===9)E+=4-(E+r.bsCount[l])%4;else if(J===32)E++;else break;s++}const I=s;let T;I>=a?T=1:T=E-C,T>4&&(T=1);const j=C+T;u=r.push("list_item_open","li",1),u.markup=String.fromCharCode(b);const U=[l,0];u.map=U,h&&(u.info=r.src.slice(i,g-1));const G=r.tight,Q=r.tShift[l],ee=r.sCount[l],oe=r.listIndent;if(r.listIndent=r.blkIndent,r.blkIndent=j,r.tight=!0,r.tShift[l]=I-r.bMarks[l],r.sCount[l]=E,I>=a&&r.isEmpty(l+1)?r.line=Math.min(r.line+2,t):r.md.block.tokenize(r,l,t,!0),(!r.tight||k)&&(c=!1),k=r.line-l>1&&r.isEmpty(r.line-1),r.blkIndent=r.listIndent,r.listIndent=oe,r.tShift[l]=Q,r.sCount[l]=ee,r.tight=G,u=r.push("list_item_close","li",-1),u.markup=String.fromCharCode(b),l=r.line,U[1]=l,l>=t||r.sCount[l]<r.blkIndent||r.sCount[l]-r.blkIndent>=4)break;let H=!1;for(let J=0,K=S.length;J<K;J++)if(S[J](r,l,t,!0)){H=!0;break}if(H)break;if(h){if(g=Dg(r,l),g<0)break;i=r.bMarks[l]+r.tShift[l]}else if(g=Ag(r,l),g<0)break;if(b!==r.src.charCodeAt(g-1))break}return h?u=r.push("ordered_list_close","ol",-1):u=r.push("bullet_list_close","ul",-1),u.markup=String.fromCharCode(b),x[1]=l,r.line=l,r.parentType=A,c&&qG(r,y),!0}function HG(r,e,t,n){let a=r.bMarks[e]+r.tShift[e],s=r.eMarks[e],i=e+1;if(r.sCount[e]-r.blkIndent>=4||r.src.charCodeAt(a)!==91)return!1;function u(S){const A=r.lineMax;if(S>=A||r.isEmpty(S))return null;let C=!1;if(r.sCount[S]-r.blkIndent>3&&(C=!0),r.sCount[S]<0&&(C=!0),!C){const T=r.md.block.ruler.getRules("reference"),j=r.parentType;r.parentType="reference";let U=!1;for(let G=0,Q=T.length;G<Q;G++)if(T[G](r,S,A,!0)){U=!0;break}if(r.parentType=j,U)return null}const E=r.bMarks[S]+r.tShift[S],I=r.eMarks[S];return r.src.slice(E,I+1)}let l=r.src.slice(a,s+1);s=l.length;let c=-1;for(a=1;a<s;a++){const S=l.charCodeAt(a);if(S===91)return!1;if(S===93){c=a;break}else if(S===10){const A=u(i);A!==null&&(l+=A,s=l.length,i++)}else if(S===92&&(a++,a<s&&l.charCodeAt(a)===10)){const A=u(i);A!==null&&(l+=A,s=l.length,i++)}}if(c<0||l.charCodeAt(c+1)!==58)return!1;for(a=c+2;a<s;a++){const S=l.charCodeAt(a);if(S===10){const A=u(i);A!==null&&(l+=A,s=l.length,i++)}else if(!cr(S))break}const f=r.md.helpers.parseLinkDestination(l,a,s);if(!f.ok)return!1;const h=r.md.normalizeLink(f.str);if(!r.md.validateLink(h))return!1;a=f.pos;const m=a,g=i,b=a;for(;a<s;a++){const S=l.charCodeAt(a);if(S===10){const A=u(i);A!==null&&(l+=A,s=l.length,i++)}else if(!cr(S))break}let y=r.md.helpers.parseLinkTitle(l,a,s);for(;y.can_continue;){const S=u(i);if(S===null)break;l+=S,a=s,s=l.length,i++,y=r.md.helpers.parseLinkTitle(l,a,s,y)}let x;for(a<s&&b!==a&&y.ok?(x=y.str,a=y.pos):(x="",a=m,i=g);a<s;){const S=l.charCodeAt(a);if(!cr(S))break;a++}if(a<s&&l.charCodeAt(a)!==10&&x)for(x="",a=m,i=g;a<s;){const S=l.charCodeAt(a);if(!cr(S))break;a++}if(a<s&&l.charCodeAt(a)!==10)return!1;const k=af(l.slice(1,c));return k?(n||(typeof r.env.references>"u"&&(r.env.references={}),typeof r.env.references[k]>"u"&&(r.env.references[k]={title:x,href:h}),r.line=i),!0):!1}const UG=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],VG="[a-zA-Z_:][a-zA-Z0-9:._-]*",WG="[^\"'=<>`\\x00-\\x20]+",QG="'[^']*'",GG='"[^"]*"',KG="(?:"+WG+"|"+QG+"|"+GG+")",JG="(?:\\s+"+VG+"(?:\\s*=\\s*"+KG+")?)",E3="<[A-Za-z][A-Za-z0-9\\-]*"+JG+"*\\s*\\/?>",S3="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",ZG="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",YG="<[?][\\s\\S]*?[?]>",XG="<![A-Za-z][^>]*>",eK="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",tK=new RegExp("^(?:"+E3+"|"+S3+"|"+ZG+"|"+YG+"|"+XG+"|"+eK+")"),rK=new RegExp("^(?:"+E3+"|"+S3+")"),Xi=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+UG.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(rK.source+"\\s*$"),/^$/,!1]];function nK(r,e,t,n){let a=r.bMarks[e]+r.tShift[e],s=r.eMarks[e];if(r.sCount[e]-r.blkIndent>=4||!r.md.options.html||r.src.charCodeAt(a)!==60)return!1;let i=r.src.slice(a,s),u=0;for(;u<Xi.length&&!Xi[u][0].test(i);u++);if(u===Xi.length)return!1;if(n)return Xi[u][2];let l=e+1;if(!Xi[u][1].test(i)){for(;l<t&&!(r.sCount[l]<r.blkIndent);l++)if(a=r.bMarks[l]+r.tShift[l],s=r.eMarks[l],i=r.src.slice(a,s),Xi[u][1].test(i)){i.length!==0&&l++;break}}r.line=l;const c=r.push("html_block","",0);return c.map=[e,l],c.content=r.getLines(e,l,r.blkIndent,!0),!0}function aK(r,e,t,n){let a=r.bMarks[e]+r.tShift[e],s=r.eMarks[e];if(r.sCount[e]-r.blkIndent>=4)return!1;let i=r.src.charCodeAt(a);if(i!==35||a>=s)return!1;let u=1;for(i=r.src.charCodeAt(++a);i===35&&a<s&&u<=6;)u++,i=r.src.charCodeAt(++a);if(u>6||a<s&&!cr(i))return!1;if(n)return!0;s=r.skipSpacesBack(s,a);const l=r.skipCharsBack(s,35,a);l>a&&cr(r.src.charCodeAt(l-1))&&(s=l),r.line=e+1;const c=r.push("heading_open","h"+String(u),1);c.markup="########".slice(0,u),c.map=[e,r.line];const f=r.push("inline","",0);f.content=r.src.slice(a,s).trim(),f.map=[e,r.line],f.children=[];const h=r.push("heading_close","h"+String(u),-1);return h.markup="########".slice(0,u),!0}function sK(r,e,t){const n=r.md.block.ruler.getRules("paragraph");if(r.sCount[e]-r.blkIndent>=4)return!1;const a=r.parentType;r.parentType="paragraph";let s=0,i,u=e+1;for(;u<t&&!r.isEmpty(u);u++){if(r.sCount[u]-r.blkIndent>3)continue;if(r.sCount[u]>=r.blkIndent){let g=r.bMarks[u]+r.tShift[u];const b=r.eMarks[u];if(g<b&&(i=r.src.charCodeAt(g),(i===45||i===61)&&(g=r.skipChars(g,i),g=r.skipSpaces(g),g>=b))){s=i===61?1:2;break}}if(r.sCount[u]<0)continue;let m=!1;for(let g=0,b=n.length;g<b;g++)if(n[g](r,u,t,!0)){m=!0;break}if(m)break}if(!s)return!1;const l=r.getLines(e,u,r.blkIndent,!1).trim();r.line=u+1;const c=r.push("heading_open","h"+String(s),1);c.markup=String.fromCharCode(i),c.map=[e,r.line];const f=r.push("inline","",0);f.content=l,f.map=[e,r.line-1],f.children=[];const h=r.push("heading_close","h"+String(s),-1);return h.markup=String.fromCharCode(i),r.parentType=a,!0}function iK(r,e,t){const n=r.md.block.ruler.getRules("paragraph"),a=r.parentType;let s=e+1;for(r.parentType="paragraph";s<t&&!r.isEmpty(s);s++){if(r.sCount[s]-r.blkIndent>3||r.sCount[s]<0)continue;let c=!1;for(let f=0,h=n.length;f<h;f++)if(n[f](r,s,t,!0)){c=!0;break}if(c)break}const i=r.getLines(e,s,r.blkIndent,!1).trim();r.line=s;const u=r.push("paragraph_open","p",1);u.map=[e,r.line];const l=r.push("inline","",0);return l.content=i,l.map=[e,r.line],l.children=[],r.push("paragraph_close","p",-1),r.parentType=a,!0}const Ql=[["table",LG,["paragraph","reference"]],["code",OG],["fence",BG,["paragraph","reference","blockquote","list"]],["blockquote",FG,["paragraph","reference","blockquote","list"]],["hr",zG,["paragraph","reference","blockquote","list"]],["list",jG,["paragraph","reference","blockquote"]],["reference",HG],["html_block",nK,["paragraph","reference","blockquote"]],["heading",aK,["paragraph","reference","blockquote"]],["lheading",sK],["paragraph",iK]];function sf(){this.ruler=new An;for(let r=0;r<Ql.length;r++)this.ruler.push(Ql[r][0],Ql[r][1],{alt:(Ql[r][2]||[]).slice()})}sf.prototype.tokenize=function(r,e,t){const n=this.ruler.getRules(""),a=n.length,s=r.md.options.maxNesting;let i=e,u=!1;for(;i<t&&(r.line=i=r.skipEmptyLines(i),!(i>=t||r.sCount[i]<r.blkIndent));){if(r.level>=s){r.line=t;break}const l=r.line;let c=!1;for(let f=0;f<a;f++)if(c=n[f](r,i,t,!1),c){if(l>=r.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");r.tight=!u,r.isEmpty(r.line-1)&&(u=!0),i=r.line,i<t&&r.isEmpty(i)&&(u=!0,i++,r.line=i)}};sf.prototype.parse=function(r,e,t,n){if(!r)return;const a=new this.State(r,e,t,n);this.tokenize(a,a.line,a.lineMax)};sf.prototype.State=Ua;function bl(r,e,t,n){this.src=r,this.env=t,this.md=e,this.tokens=n,this.tokens_meta=Array(n.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}bl.prototype.pushPending=function(){const r=new ba("text","",0);return r.content=this.pending,r.level=this.pendingLevel,this.tokens.push(r),this.pending="",r};bl.prototype.push=function(r,e,t){this.pending&&this.pushPending();const n=new ba(r,e,t);let a=null;return t<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),n.level=this.level,t>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],a={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(n),this.tokens_meta.push(a),n};bl.prototype.scanDelims=function(r,e){const t=this.posMax,n=this.src.charCodeAt(r),a=r>0?this.src.charCodeAt(r-1):32;let s=r;for(;s<t&&this.src.charCodeAt(s)===n;)s++;const i=s-r,u=s<t?this.src.charCodeAt(s):32,l=Qu(a)||Wu(String.fromCharCode(a)),c=Qu(u)||Wu(String.fromCharCode(u)),f=Vu(a),h=Vu(u),m=!h&&(!c||f||l),g=!f&&(!l||h||c);return{can_open:m&&(e||!g||l),can_close:g&&(e||!m||c),length:i}};bl.prototype.Token=ba;function oK(r){switch(r){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function uK(r,e){let t=r.pos;for(;t<r.posMax&&!oK(r.src.charCodeAt(t));)t++;return t===r.pos?!1:(e||(r.pending+=r.src.slice(r.pos,t)),r.pos=t,!0)}const lK=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function cK(r,e){if(!r.md.options.linkify||r.linkLevel>0)return!1;const t=r.pos,n=r.posMax;if(t+3>n||r.src.charCodeAt(t)!==58||r.src.charCodeAt(t+1)!==47||r.src.charCodeAt(t+2)!==47)return!1;const a=r.pending.match(lK);if(!a)return!1;const s=a[1],i=r.md.linkify.matchAtStart(r.src.slice(t-s.length));if(!i)return!1;let u=i.url;if(u.length<=s.length)return!1;u=u.replace(/\*+$/,"");const l=r.md.normalizeLink(u);if(!r.md.validateLink(l))return!1;if(!e){r.pending=r.pending.slice(0,-s.length);const c=r.push("link_open","a",1);c.attrs=[["href",l]],c.markup="linkify",c.info="auto";const f=r.push("text","",0);f.content=r.md.normalizeLinkText(u);const h=r.push("link_close","a",-1);h.markup="linkify",h.info="auto"}return r.pos+=u.length-s.length,!0}function dK(r,e){let t=r.pos;if(r.src.charCodeAt(t)!==10)return!1;const n=r.pending.length-1,a=r.posMax;if(!e)if(n>=0&&r.pending.charCodeAt(n)===32)if(n>=1&&r.pending.charCodeAt(n-1)===32){let s=n-1;for(;s>=1&&r.pending.charCodeAt(s-1)===32;)s--;r.pending=r.pending.slice(0,s),r.push("hardbreak","br",0)}else r.pending=r.pending.slice(0,-1),r.push("softbreak","br",0);else r.push("softbreak","br",0);for(t++;t<a&&cr(r.src.charCodeAt(t));)t++;return r.pos=t,!0}const sv=[];for(let r=0;r<256;r++)sv.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(r){sv[r.charCodeAt(0)]=1});function fK(r,e){let t=r.pos;const n=r.posMax;if(r.src.charCodeAt(t)!==92||(t++,t>=n))return!1;let a=r.src.charCodeAt(t);if(a===10){for(e||r.push("hardbreak","br",0),t++;t<n&&(a=r.src.charCodeAt(t),!!cr(a));)t++;return r.pos=t,!0}let s=r.src[t];if(a>=55296&&a<=56319&&t+1<n){const u=r.src.charCodeAt(t+1);u>=56320&&u<=57343&&(s+=r.src[t+1],t++)}const i="\\"+s;if(!e){const u=r.push("text_special","",0);a<256&&sv[a]!==0?u.content=s:u.content=i,u.markup=i,u.info="escape"}return r.pos=t+1,!0}function hK(r,e){let t=r.pos;if(r.src.charCodeAt(t)!==96)return!1;const a=t;t++;const s=r.posMax;for(;t<s&&r.src.charCodeAt(t)===96;)t++;const i=r.src.slice(a,t),u=i.length;if(r.backticksScanned&&(r.backticks[u]||0)<=a)return e||(r.pending+=i),r.pos+=u,!0;let l=t,c;for(;(c=r.src.indexOf("`",l))!==-1;){for(l=c+1;l<s&&r.src.charCodeAt(l)===96;)l++;const f=l-c;if(f===u){if(!e){const h=r.push("code_inline","code",0);h.markup=i,h.content=r.src.slice(t,c).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return r.pos=l,!0}r.backticks[f]=c}return r.backticksScanned=!0,e||(r.pending+=i),r.pos+=u,!0}function pK(r,e){const t=r.pos,n=r.src.charCodeAt(t);if(e||n!==126)return!1;const a=r.scanDelims(r.pos,!0);let s=a.length;const i=String.fromCharCode(n);if(s<2)return!1;let u;s%2&&(u=r.push("text","",0),u.content=i,s--);for(let l=0;l<s;l+=2)u=r.push("text","",0),u.content=i+i,r.delimiters.push({marker:n,length:0,token:r.tokens.length-1,end:-1,open:a.can_open,close:a.can_close});return r.pos+=a.length,!0}function Cg(r,e){let t;const n=[],a=e.length;for(let s=0;s<a;s++){const i=e[s];if(i.marker!==126||i.end===-1)continue;const u=e[i.end];t=r.tokens[i.token],t.type="s_open",t.tag="s",t.nesting=1,t.markup="~~",t.content="",t=r.tokens[u.token],t.type="s_close",t.tag="s",t.nesting=-1,t.markup="~~",t.content="",r.tokens[u.token-1].type==="text"&&r.tokens[u.token-1].content==="~"&&n.push(u.token-1)}for(;n.length;){const s=n.pop();let i=s+1;for(;i<r.tokens.length&&r.tokens[i].type==="s_close";)i++;i--,s!==i&&(t=r.tokens[i],r.tokens[i]=r.tokens[s],r.tokens[s]=t)}}function vK(r){const e=r.tokens_meta,t=r.tokens_meta.length;Cg(r,r.delimiters);for(let n=0;n<t;n++)e[n]&&e[n].delimiters&&Cg(r,e[n].delimiters)}const A3={tokenize:pK,postProcess:vK};function mK(r,e){const t=r.pos,n=r.src.charCodeAt(t);if(e||n!==95&&n!==42)return!1;const a=r.scanDelims(r.pos,n===42);for(let s=0;s<a.length;s++){const i=r.push("text","",0);i.content=String.fromCharCode(n),r.delimiters.push({marker:n,length:a.length,token:r.tokens.length-1,end:-1,open:a.can_open,close:a.can_close})}return r.pos+=a.length,!0}function Ig(r,e){const t=e.length;for(let n=t-1;n>=0;n--){const a=e[n];if(a.marker!==95&&a.marker!==42||a.end===-1)continue;const s=e[a.end],i=n>0&&e[n-1].end===a.end+1&&e[n-1].marker===a.marker&&e[n-1].token===a.token-1&&e[a.end+1].token===s.token+1,u=String.fromCharCode(a.marker),l=r.tokens[a.token];l.type=i?"strong_open":"em_open",l.tag=i?"strong":"em",l.nesting=1,l.markup=i?u+u:u,l.content="";const c=r.tokens[s.token];c.type=i?"strong_close":"em_close",c.tag=i?"strong":"em",c.nesting=-1,c.markup=i?u+u:u,c.content="",i&&(r.tokens[e[n-1].token].content="",r.tokens[e[a.end+1].token].content="",n--)}}function gK(r){const e=r.tokens_meta,t=r.tokens_meta.length;Ig(r,r.delimiters);for(let n=0;n<t;n++)e[n]&&e[n].delimiters&&Ig(r,e[n].delimiters)}const D3={tokenize:mK,postProcess:gK};function bK(r,e){let t,n,a,s,i="",u="",l=r.pos,c=!0;if(r.src.charCodeAt(r.pos)!==91)return!1;const f=r.pos,h=r.posMax,m=r.pos+1,g=r.md.helpers.parseLinkLabel(r,r.pos,!0);if(g<0)return!1;let b=g+1;if(b<h&&r.src.charCodeAt(b)===40){for(c=!1,b++;b<h&&(t=r.src.charCodeAt(b),!(!cr(t)&&t!==10));b++);if(b>=h)return!1;if(l=b,a=r.md.helpers.parseLinkDestination(r.src,b,r.posMax),a.ok){for(i=r.md.normalizeLink(a.str),r.md.validateLink(i)?b=a.pos:i="",l=b;b<h&&(t=r.src.charCodeAt(b),!(!cr(t)&&t!==10));b++);if(a=r.md.helpers.parseLinkTitle(r.src,b,r.posMax),b<h&&l!==b&&a.ok)for(u=a.str,b=a.pos;b<h&&(t=r.src.charCodeAt(b),!(!cr(t)&&t!==10));b++);}(b>=h||r.src.charCodeAt(b)!==41)&&(c=!0),b++}if(c){if(typeof r.env.references>"u")return!1;if(b<h&&r.src.charCodeAt(b)===91?(l=b+1,b=r.md.helpers.parseLinkLabel(r,b),b>=0?n=r.src.slice(l,b++):b=g+1):b=g+1,n||(n=r.src.slice(m,g)),s=r.env.references[af(n)],!s)return r.pos=f,!1;i=s.href,u=s.title}if(!e){r.pos=m,r.posMax=g;const y=r.push("link_open","a",1),x=[["href",i]];y.attrs=x,u&&x.push(["title",u]),r.linkLevel++,r.md.inline.tokenize(r),r.linkLevel--,r.push("link_close","a",-1)}return r.pos=b,r.posMax=h,!0}function _K(r,e){let t,n,a,s,i,u,l,c,f="";const h=r.pos,m=r.posMax;if(r.src.charCodeAt(r.pos)!==33||r.src.charCodeAt(r.pos+1)!==91)return!1;const g=r.pos+2,b=r.md.helpers.parseLinkLabel(r,r.pos+1,!1);if(b<0)return!1;if(s=b+1,s<m&&r.src.charCodeAt(s)===40){for(s++;s<m&&(t=r.src.charCodeAt(s),!(!cr(t)&&t!==10));s++);if(s>=m)return!1;for(c=s,u=r.md.helpers.parseLinkDestination(r.src,s,r.posMax),u.ok&&(f=r.md.normalizeLink(u.str),r.md.validateLink(f)?s=u.pos:f=""),c=s;s<m&&(t=r.src.charCodeAt(s),!(!cr(t)&&t!==10));s++);if(u=r.md.helpers.parseLinkTitle(r.src,s,r.posMax),s<m&&c!==s&&u.ok)for(l=u.str,s=u.pos;s<m&&(t=r.src.charCodeAt(s),!(!cr(t)&&t!==10));s++);else l="";if(s>=m||r.src.charCodeAt(s)!==41)return r.pos=h,!1;s++}else{if(typeof r.env.references>"u")return!1;if(s<m&&r.src.charCodeAt(s)===91?(c=s+1,s=r.md.helpers.parseLinkLabel(r,s),s>=0?a=r.src.slice(c,s++):s=b+1):s=b+1,a||(a=r.src.slice(g,b)),i=r.env.references[af(a)],!i)return r.pos=h,!1;f=i.href,l=i.title}if(!e){n=r.src.slice(g,b);const y=[];r.md.inline.parse(n,r.md,r.env,y);const x=r.push("image","img",0),k=[["src",f],["alt",""]];x.attrs=k,x.children=y,x.content=n,l&&k.push(["title",l])}return r.pos=s,r.posMax=m,!0}const yK=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,xK=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function wK(r,e){let t=r.pos;if(r.src.charCodeAt(t)!==60)return!1;const n=r.pos,a=r.posMax;for(;;){if(++t>=a)return!1;const i=r.src.charCodeAt(t);if(i===60)return!1;if(i===62)break}const s=r.src.slice(n+1,t);if(xK.test(s)){const i=r.md.normalizeLink(s);if(!r.md.validateLink(i))return!1;if(!e){const u=r.push("link_open","a",1);u.attrs=[["href",i]],u.markup="autolink",u.info="auto";const l=r.push("text","",0);l.content=r.md.normalizeLinkText(s);const c=r.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return r.pos+=s.length+2,!0}if(yK.test(s)){const i=r.md.normalizeLink("mailto:"+s);if(!r.md.validateLink(i))return!1;if(!e){const u=r.push("link_open","a",1);u.attrs=[["href",i]],u.markup="autolink",u.info="auto";const l=r.push("text","",0);l.content=r.md.normalizeLinkText(s);const c=r.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return r.pos+=s.length+2,!0}return!1}function kK(r){return/^<a[>\s]/i.test(r)}function EK(r){return/^<\/a\s*>/i.test(r)}function SK(r){const e=r|32;return e>=97&&e<=122}function AK(r,e){if(!r.md.options.html)return!1;const t=r.posMax,n=r.pos;if(r.src.charCodeAt(n)!==60||n+2>=t)return!1;const a=r.src.charCodeAt(n+1);if(a!==33&&a!==63&&a!==47&&!SK(a))return!1;const s=r.src.slice(n).match(tK);if(!s)return!1;if(!e){const i=r.push("html_inline","",0);i.content=s[0],kK(i.content)&&r.linkLevel++,EK(i.content)&&r.linkLevel--}return r.pos+=s[0].length,!0}const DK=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,CK=/^&([a-z][a-z0-9]{1,31});/i;function IK(r,e){const t=r.pos,n=r.posMax;if(r.src.charCodeAt(t)!==38||t+1>=n)return!1;if(r.src.charCodeAt(t+1)===35){const s=r.src.slice(t).match(DK);if(s){if(!e){const i=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),u=r.push("text_special","",0);u.content=nv(i)?ld(i):ld(65533),u.markup=s[0],u.info="entity"}return r.pos+=s[0].length,!0}}else{const s=r.src.slice(t).match(CK);if(s){const i=_3(s[0]);if(i!==s[0]){if(!e){const u=r.push("text_special","",0);u.content=i,u.markup=s[0],u.info="entity"}return r.pos+=s[0].length,!0}}}return!1}function Tg(r){const e={},t=r.length;if(!t)return;let n=0,a=-2;const s=[];for(let i=0;i<t;i++){const u=r[i];if(s.push(0),(r[n].marker!==u.marker||a!==u.token-1)&&(n=i),a=u.token,u.length=u.length||0,!u.close)continue;e.hasOwnProperty(u.marker)||(e[u.marker]=[-1,-1,-1,-1,-1,-1]);const l=e[u.marker][(u.open?3:0)+u.length%3];let c=n-s[n]-1,f=c;for(;c>l;c-=s[c]+1){const h=r[c];if(h.marker===u.marker&&h.open&&h.end<0){let m=!1;if((h.close||u.open)&&(h.length+u.length)%3===0&&(h.length%3!==0||u.length%3!==0)&&(m=!0),!m){const g=c>0&&!r[c-1].open?s[c-1]+1:0;s[i]=i-c+g,s[c]=g,u.open=!1,h.end=i,h.close=!1,f=-1,a=-2;break}}}f!==-1&&(e[u.marker][(u.open?3:0)+(u.length||0)%3]=f)}}function TK(r){const e=r.tokens_meta,t=r.tokens_meta.length;Tg(r.delimiters);for(let n=0;n<t;n++)e[n]&&e[n].delimiters&&Tg(e[n].delimiters)}function MK(r){let e,t,n=0;const a=r.tokens,s=r.tokens.length;for(e=t=0;e<s;e++)a[e].nesting<0&&n--,a[e].level=n,a[e].nesting>0&&n++,a[e].type==="text"&&e+1<s&&a[e+1].type==="text"?a[e+1].content=a[e].content+a[e+1].content:(e!==t&&(a[t]=a[e]),t++);e!==t&&(a.length=t)}const ah=[["text",uK],["linkify",cK],["newline",dK],["escape",fK],["backticks",hK],["strikethrough",A3.tokenize],["emphasis",D3.tokenize],["link",bK],["image",_K],["autolink",wK],["html_inline",AK],["entity",IK]],sh=[["balance_pairs",TK],["strikethrough",A3.postProcess],["emphasis",D3.postProcess],["fragments_join",MK]];function _l(){this.ruler=new An;for(let r=0;r<ah.length;r++)this.ruler.push(ah[r][0],ah[r][1]);this.ruler2=new An;for(let r=0;r<sh.length;r++)this.ruler2.push(sh[r][0],sh[r][1])}_l.prototype.skipToken=function(r){const e=r.pos,t=this.ruler.getRules(""),n=t.length,a=r.md.options.maxNesting,s=r.cache;if(typeof s[e]<"u"){r.pos=s[e];return}let i=!1;if(r.level<a){for(let u=0;u<n;u++)if(r.level++,i=t[u](r,!0),r.level--,i){if(e>=r.pos)throw new Error("inline rule didn't increment state.pos");break}}else r.pos=r.posMax;i||r.pos++,s[e]=r.pos};_l.prototype.tokenize=function(r){const e=this.ruler.getRules(""),t=e.length,n=r.posMax,a=r.md.options.maxNesting;for(;r.pos<n;){const s=r.pos;let i=!1;if(r.level<a){for(let u=0;u<t;u++)if(i=e[u](r,!1),i){if(s>=r.pos)throw new Error("inline rule didn't increment state.pos");break}}if(i){if(r.pos>=n)break;continue}r.pending+=r.src[r.pos++]}r.pending&&r.pushPending()};_l.prototype.parse=function(r,e,t,n){const a=new this.State(r,e,t,n);this.tokenize(a);const s=this.ruler2.getRules(""),i=s.length;for(let u=0;u<i;u++)s[u](a)};_l.prototype.State=bl;function RK(r){const e={};r=r||{},e.src_Any=p3.source,e.src_Cc=v3.source,e.src_Z=g3.source,e.src_P=tv.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const t="[><ï½]";return e.src_pseudo_letter="(?:(?!"+t+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+t+"|"+e.src_ZPCc+")(?!"+(r["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+t+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(r["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+t+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|ï½]|"+e.src_ZPCc+"))((?![$+<=>^`|ï½])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|ï½]|"+e.src_ZPCc+"))((?![$+<=>^`|ï½])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function lp(r){return Array.prototype.slice.call(arguments,1).forEach(function(t){t&&Object.keys(t).forEach(function(n){r[n]=t[n]})}),r}function of(r){return Object.prototype.toString.call(r)}function NK(r){return of(r)==="[object String]"}function PK(r){return of(r)==="[object Object]"}function $K(r){return of(r)==="[object RegExp]"}function Mg(r){return of(r)==="[object Function]"}function LK(r){return r.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const C3={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function OK(r){return Object.keys(r||{}).reduce(function(e,t){return e||C3.hasOwnProperty(t)},!1)}const BK={"http:":{validate:function(r,e,t){const n=r.slice(e);return t.re.http||(t.re.http=new RegExp("^\\/\\/"+t.re.src_auth+t.re.src_host_port_strict+t.re.src_path,"i")),t.re.http.test(n)?n.match(t.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(r,e,t){const n=r.slice(e);return t.re.no_http||(t.re.no_http=new RegExp("^"+t.re.src_auth+"(?:localhost|(?:(?:"+t.re.src_domain+")\\.)+"+t.re.src_domain_root+")"+t.re.src_port+t.re.src_host_terminator+t.re.src_path,"i")),t.re.no_http.test(n)?e>=3&&r[e-3]===":"||e>=3&&r[e-3]==="/"?0:n.match(t.re.no_http)[0].length:0}},"mailto:":{validate:function(r,e,t){const n=r.slice(e);return t.re.mailto||(t.re.mailto=new RegExp("^"+t.re.src_email_name+"@"+t.re.src_host_strict,"i")),t.re.mailto.test(n)?n.match(t.re.mailto)[0].length:0}}},FK="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",zK="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|ÑÑ".split("|");function qK(r){r.__index__=-1,r.__text_cache__=""}function jK(r){return function(e,t){const n=e.slice(t);return r.test(n)?n.match(r)[0].length:0}}function Rg(){return function(r,e){e.normalize(r)}}function cd(r){const e=r.re=RK(r.__opts__),t=r.__tlds__.slice();r.onCompile(),r.__tlds_replaced__||t.push(FK),t.push(e.src_xn),e.src_tlds=t.join("|");function n(u){return u.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(n(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(n(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(n(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(n(e.tpl_host_fuzzy_test),"i");const a=[];r.__compiled__={};function s(u,l){throw new Error('(LinkifyIt) Invalid schema "'+u+'": '+l)}Object.keys(r.__schemas__).forEach(function(u){const l=r.__schemas__[u];if(l===null)return;const c={validate:null,link:null};if(r.__compiled__[u]=c,PK(l)){$K(l.validate)?c.validate=jK(l.validate):Mg(l.validate)?c.validate=l.validate:s(u,l),Mg(l.normalize)?c.normalize=l.normalize:l.normalize?s(u,l):c.normalize=Rg();return}if(NK(l)){a.push(u);return}s(u,l)}),a.forEach(function(u){r.__compiled__[r.__schemas__[u]]&&(r.__compiled__[u].validate=r.__compiled__[r.__schemas__[u]].validate,r.__compiled__[u].normalize=r.__compiled__[r.__schemas__[u]].normalize)}),r.__compiled__[""]={validate:null,normalize:Rg()};const i=Object.keys(r.__compiled__).filter(function(u){return u.length>0&&r.__compiled__[u]}).map(LK).join("|");r.re.schema_test=RegExp("(^|(?!_)(?:[><ï½]|"+e.src_ZPCc+"))("+i+")","i"),r.re.schema_search=RegExp("(^|(?!_)(?:[><ï½]|"+e.src_ZPCc+"))("+i+")","ig"),r.re.schema_at_start=RegExp("^"+r.re.schema_search.source,"i"),r.re.pretest=RegExp("("+r.re.schema_test.source+")|("+r.re.host_fuzzy_test.source+")|@","i"),qK(r)}function HK(r,e){const t=r.__index__,n=r.__last_index__,a=r.__text_cache__.slice(t,n);this.schema=r.__schema__.toLowerCase(),this.index=t+e,this.lastIndex=n+e,this.raw=a,this.text=a,this.url=a}function cp(r,e){const t=new HK(r,e);return r.__compiled__[t.schema].normalize(t,r),t}function zn(r,e){if(!(this instanceof zn))return new zn(r,e);e||OK(r)&&(e=r,r={}),this.__opts__=lp({},C3,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=lp({},BK,r),this.__compiled__={},this.__tlds__=zK,this.__tlds_replaced__=!1,this.re={},cd(this)}zn.prototype.add=function(e,t){return this.__schemas__[e]=t,cd(this),this};zn.prototype.set=function(e){return this.__opts__=lp(this.__opts__,e),this};zn.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let t,n,a,s,i,u,l,c,f;if(this.re.schema_test.test(e)){for(l=this.re.schema_search,l.lastIndex=0;(t=l.exec(e))!==null;)if(s=this.testSchemaAt(e,t[2],l.lastIndex),s){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(i=n.index+n[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(f=e.indexOf("@"),f>=0&&(a=e.match(this.re.email_fuzzy))!==null&&(i=a.index+a[1].length,u=a.index+a[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&u>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=u))),this.__index__>=0};zn.prototype.pretest=function(e){return this.re.pretest.test(e)};zn.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0};zn.prototype.match=function(e){const t=[];let n=0;this.__index__>=0&&this.__text_cache__===e&&(t.push(cp(this,n)),n=this.__last_index__);let a=n?e.slice(n):e;for(;this.test(a);)t.push(cp(this,n)),a=a.slice(this.__last_index__),n+=this.__last_index__;return t.length?t:null};zn.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const t=this.re.schema_at_start.exec(e);if(!t)return null;const n=this.testSchemaAt(e,t[2],t[0].length);return n?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+n,cp(this,0)):null};zn.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(n,a,s){return n!==s[a-1]}).reverse(),cd(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,cd(this),this)};zn.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};zn.prototype.onCompile=function(){};const co=2147483647,Ra=36,iv=1,Gu=26,UK=38,VK=700,I3=72,T3=128,M3="-",WK=/^xn--/,QK=/[^\0-\x7F]/,GK=/[\x2E\u3002\uFF0E\uFF61]/g,KK={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ih=Ra-iv,Na=Math.floor,oh=String.fromCharCode;function Ss(r){throw new RangeError(KK[r])}function JK(r,e){const t=[];let n=r.length;for(;n--;)t[n]=e(r[n]);return t}function R3(r,e){const t=r.split("@");let n="";t.length>1&&(n=t[0]+"@",r=t[1]),r=r.replace(GK,".");const a=r.split("."),s=JK(a,e).join(".");return n+s}function N3(r){const e=[];let t=0;const n=r.length;for(;t<n;){const a=r.charCodeAt(t++);if(a>=55296&&a<=56319&&t<n){const s=r.charCodeAt(t++);(s&64512)==56320?e.push(((a&1023)<<10)+(s&1023)+65536):(e.push(a),t--)}else e.push(a)}return e}const ZK=r=>String.fromCodePoint(...r),YK=function(r){return r>=48&&r<58?26+(r-48):r>=65&&r<91?r-65:r>=97&&r<123?r-97:Ra},Ng=function(r,e){return r+22+75*(r<26)-((e!=0)<<5)},P3=function(r,e,t){let n=0;for(r=t?Na(r/VK):r>>1,r+=Na(r/e);r>ih*Gu>>1;n+=Ra)r=Na(r/ih);return Na(n+(ih+1)*r/(r+UK))},$3=function(r){const e=[],t=r.length;let n=0,a=T3,s=I3,i=r.lastIndexOf(M3);i<0&&(i=0);for(let u=0;u<i;++u)r.charCodeAt(u)>=128&&Ss("not-basic"),e.push(r.charCodeAt(u));for(let u=i>0?i+1:0;u<t;){const l=n;for(let f=1,h=Ra;;h+=Ra){u>=t&&Ss("invalid-input");const m=YK(r.charCodeAt(u++));m>=Ra&&Ss("invalid-input"),m>Na((co-n)/f)&&Ss("overflow"),n+=m*f;const g=h<=s?iv:h>=s+Gu?Gu:h-s;if(m<g)break;const b=Ra-g;f>Na(co/b)&&Ss("overflow"),f*=b}const c=e.length+1;s=P3(n-l,c,l==0),Na(n/c)>co-a&&Ss("overflow"),a+=Na(n/c),n%=c,e.splice(n++,0,a)}return String.fromCodePoint(...e)},L3=function(r){const e=[];r=N3(r);const t=r.length;let n=T3,a=0,s=I3;for(const l of r)l<128&&e.push(oh(l));const i=e.length;let u=i;for(i&&e.push(M3);u<t;){let l=co;for(const f of r)f>=n&&f<l&&(l=f);const c=u+1;l-n>Na((co-a)/c)&&Ss("overflow"),a+=(l-n)*c,n=l;for(const f of r)if(f<n&&++a>co&&Ss("overflow"),f===n){let h=a;for(let m=Ra;;m+=Ra){const g=m<=s?iv:m>=s+Gu?Gu:m-s;if(h<g)break;const b=h-g,y=Ra-g;e.push(oh(Ng(g+b%y,0))),h=Na(b/y)}e.push(oh(Ng(h,0))),s=P3(a,c,u===i),a=0,++u}++a,++n}return e.join("")},XK=function(r){return R3(r,function(e){return WK.test(e)?$3(e.slice(4).toLowerCase()):e})},eJ=function(r){return R3(r,function(e){return QK.test(e)?"xn--"+L3(e):e})},O3={version:"2.3.1",ucs2:{decode:N3,encode:ZK},decode:$3,encode:L3,toASCII:eJ,toUnicode:XK},tJ={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"ââââ",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},rJ={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"ââââ",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},nJ={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"ââââ",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},aJ={default:tJ,zero:rJ,commonmark:nJ},sJ=/^(vbscript|javascript|file|data):/,iJ=/^data:image\/(gif|png|jpeg|webp);/;function oJ(r){const e=r.trim().toLowerCase();return sJ.test(e)?iJ.test(e):!0}const B3=["http:","https:","mailto:"];function uJ(r){const e=ev(r,!0);if(e.hostname&&(!e.protocol||B3.indexOf(e.protocol)>=0))try{e.hostname=O3.toASCII(e.hostname)}catch{}return gl(X0(e))}function lJ(r){const e=ev(r,!0);if(e.hostname&&(!e.protocol||B3.indexOf(e.protocol)>=0))try{e.hostname=O3.toUnicode(e.hostname)}catch{}return So(X0(e),So.defaultChars+"%")}function Dn(r,e){if(!(this instanceof Dn))return new Dn(r,e);e||rv(r)||(e=r||{},r="default"),this.inline=new _l,this.block=new sf,this.core=new av,this.renderer=new Oo,this.linkify=new zn,this.validateLink=oJ,this.normalizeLink=uJ,this.normalizeLinkText=lJ,this.utils=dG,this.helpers=nf({},vG),this.options={},this.configure(r),e&&this.set(e)}Dn.prototype.set=function(r){return nf(this.options,r),this};Dn.prototype.configure=function(r){const e=this;if(rv(r)){const t=r;if(r=aJ[t],!r)throw new Error('Wrong `markdown-it` preset "'+t+'", check name')}if(!r)throw new Error("Wrong `markdown-it` preset, can't be empty");return r.options&&e.set(r.options),r.components&&Object.keys(r.components).forEach(function(t){r.components[t].rules&&e[t].ruler.enableOnly(r.components[t].rules),r.components[t].rules2&&e[t].ruler2.enableOnly(r.components[t].rules2)}),this};Dn.prototype.enable=function(r,e){let t=[];Array.isArray(r)||(r=[r]),["core","block","inline"].forEach(function(a){t=t.concat(this[a].ruler.enable(r,!0))},this),t=t.concat(this.inline.ruler2.enable(r,!0));const n=r.filter(function(a){return t.indexOf(a)<0});if(n.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this};Dn.prototype.disable=function(r,e){let t=[];Array.isArray(r)||(r=[r]),["core","block","inline"].forEach(function(a){t=t.concat(this[a].ruler.disable(r,!0))},this),t=t.concat(this.inline.ruler2.disable(r,!0));const n=r.filter(function(a){return t.indexOf(a)<0});if(n.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this};Dn.prototype.use=function(r){const e=[this].concat(Array.prototype.slice.call(arguments,1));return r.apply(r,e),this};Dn.prototype.parse=function(r,e){if(typeof r!="string")throw new Error("Input data should be a String");const t=new this.core.State(r,this,e);return this.core.process(t),t.tokens};Dn.prototype.render=function(r,e){return e=e||{},this.renderer.render(this.parse(r,e),this.options,e)};Dn.prototype.parseInline=function(r,e){const t=new this.core.State(r,this,e);return t.inlineMode=!0,this.core.process(t),t.tokens};Dn.prototype.renderInline=function(r,e){return e=e||{},this.renderer.render(this.parseInline(r,e),this.options,e)};const cJ=new jd({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return["p",0]}},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM(){return["blockquote",0]}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["div",["hr"]]}},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM(r){return["h"+r.attrs.level,0]}},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:r=>({params:r.getAttribute("data-params")||""})}],toDOM(r){return["pre",r.attrs.params?{"data-params":r.attrs.params}:{},["code",0]]}},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs(r){return{order:r.hasAttribute("start")?+r.getAttribute("start"):1,tight:r.hasAttribute("data-tight")}}}],toDOM(r){return["ol",{start:r.attrs.order==1?null:r.attrs.order,"data-tight":r.attrs.tight?"true":null},0]}},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:r=>({tight:r.hasAttribute("data-tight")})}],toDOM(r){return["ul",{"data-tight":r.attrs.tight?"true":null},0]}},list_item:{content:"block+",defining:!0,parseDOM:[{tag:"li"}],toDOM(){return["li",0]}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(r){return{src:r.getAttribute("src"),title:r.getAttribute("title"),alt:r.getAttribute("alt")}}}],toDOM(r){return["img",r.attrs]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:r=>r.type.name=="em"}],toDOM(){return["em"]}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:r=>r.style.fontWeight!="normal"&&null},{style:"font-weight=400",clearMark:r=>r.type.name=="strong"},{style:"font-weight",getAttrs:r=>/^(bold(er)?|[5-9]\d{2,})$/.test(r)&&null}],toDOM(){return["strong"]}},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(r){return{href:r.getAttribute("href"),title:r.getAttribute("title")}}}],toDOM(r){return["a",r.attrs]}},code:{code:!0,parseDOM:[{tag:"code"}],toDOM(){return["code"]}}}});function dJ(r,e){if(r.isText&&e.isText&&Xt.sameSet(r.marks,e.marks))return r.withText(r.text+e.text)}class fJ{constructor(e,t){this.schema=e,this.tokenHandlers=t,this.stack=[{type:e.topNodeType,attrs:null,content:[],marks:Xt.none}]}top(){return this.stack[this.stack.length-1]}push(e){this.stack.length&&this.top().content.push(e)}addText(e){if(!e)return;let t=this.top(),n=t.content,a=n[n.length-1],s=this.schema.text(e,t.marks),i;a&&(i=dJ(a,s))?n[n.length-1]=i:n.push(s)}openMark(e){let t=this.top();t.marks=e.addToSet(t.marks)}closeMark(e){let t=this.top();t.marks=e.removeFromSet(t.marks)}parseTokens(e){for(let t=0;t<e.length;t++){let n=e[t],a=this.tokenHandlers[n.type];if(!a)throw new Error("Token type `"+n.type+"` not supported by Markdown parser");a(this,n,e,t)}}addNode(e,t,n){let a=this.top(),s=e.createAndFill(t,n,a?a.marks:[]);return s?(this.push(s),s):null}openNode(e,t){this.stack.push({type:e,attrs:t,content:[],marks:Xt.none})}closeNode(){let e=this.stack.pop();return this.addNode(e.type,e.attrs,e.content)}}function Zo(r,e,t,n){return r.getAttrs?r.getAttrs(e,t,n):r.attrs instanceof Function?r.attrs(e):r.attrs}function uh(r,e){return r.noCloseToken||e=="code_inline"||e=="code_block"||e=="fence"}function Pg(r){return r[r.length-1]==`
`?r.slice(0,r.length-1):r}function lh(){}function hJ(r,e){let t=Object.create(null);for(let n in e){let a=e[n];if(a.block){let s=r.nodeType(a.block);uh(a,n)?t[n]=(i,u,l,c)=>{i.openNode(s,Zo(a,u,l,c)),i.addText(Pg(u.content)),i.closeNode()}:(t[n+"_open"]=(i,u,l,c)=>i.openNode(s,Zo(a,u,l,c)),t[n+"_close"]=i=>i.closeNode())}else if(a.node){let s=r.nodeType(a.node);t[n]=(i,u,l,c)=>i.addNode(s,Zo(a,u,l,c))}else if(a.mark){let s=r.marks[a.mark];uh(a,n)?t[n]=(i,u,l,c)=>{i.openMark(s.create(Zo(a,u,l,c))),i.addText(Pg(u.content)),i.closeMark(s)}:(t[n+"_open"]=(i,u,l,c)=>i.openMark(s.create(Zo(a,u,l,c))),t[n+"_close"]=i=>i.closeMark(s))}else if(a.ignore)uh(a,n)?t[n]=lh:(t[n+"_open"]=lh,t[n+"_close"]=lh);else throw new RangeError("Unrecognized parsing spec "+JSON.stringify(a))}return t.text=(n,a)=>n.addText(a.content),t.inline=(n,a)=>n.parseTokens(a.children),t.softbreak=t.softbreak||(n=>n.addText(" ")),t}let pJ=class{constructor(e,t,n){this.schema=e,this.tokenizer=t,this.tokens=n,this.tokenHandlers=hJ(e,n)}parse(e,t={}){let n=new fJ(this.schema,this.tokenHandlers),a;n.parseTokens(this.tokenizer.parse(e,t));do a=n.closeNode();while(n.stack.length);return a||this.schema.topNodeType.createAndFill()}};function $g(r,e){for(;++e<r.length;)if(r[e].type!="list_item_open")return r[e].hidden;return!1}new pJ(cJ,Dn("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:(r,e,t)=>({tight:$g(e,t)})},ordered_list:{block:"ordered_list",getAttrs:(r,e,t)=>({order:+r.attrGet("start")||1,tight:$g(e,t)})},heading:{block:"heading",getAttrs:r=>({level:+r.tag.slice(1)})},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:r=>({params:r.info||""}),noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:r=>({src:r.attrGet("src"),title:r.attrGet("title")||null,alt:r.children[0]&&r.children[0].content||null})},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:r=>({href:r.attrGet("href"),title:r.attrGet("title")||null})},code_inline:{mark:"code",noCloseToken:!0}});const vJ={open:"",close:"",mixable:!0};let mJ=class{constructor(e,t,n={}){this.nodes=e,this.marks=t,this.options=n}serialize(e,t={}){t=Object.assign({},this.options,t);let n=new F3(this.nodes,this.marks,t);return n.renderContent(e),n.out}};const Va=new mJ({blockquote(r,e){r.wrapBlock("> ",null,e,()=>r.renderContent(e))},code_block(r,e){const t=e.textContent.match(/`{3,}/gm),n=t?t.sort().slice(-1)[0]+"`":"```";r.write(n+(e.attrs.params||"")+`
`),r.text(e.textContent,!1),r.write(`
`),r.write(n),r.closeBlock(e)},heading(r,e){r.write(r.repeat("#",e.attrs.level)+" "),r.renderInline(e,!1),r.closeBlock(e)},horizontal_rule(r,e){r.write(e.attrs.markup||"---"),r.closeBlock(e)},bullet_list(r,e){r.renderList(e,"  ",()=>(e.attrs.bullet||"*")+" ")},ordered_list(r,e){let t=e.attrs.order||1,n=String(t+e.childCount-1).length,a=r.repeat(" ",n+2);r.renderList(e,a,s=>{let i=String(t+s);return r.repeat(" ",n-i.length)+i+". "})},list_item(r,e){r.renderContent(e)},paragraph(r,e){r.renderInline(e),r.closeBlock(e)},image(r,e){r.write("!["+r.esc(e.attrs.alt||"")+"]("+e.attrs.src.replace(/[\(\)]/g,"\\$&")+(e.attrs.title?' "'+e.attrs.title.replace(/"/g,'\\"')+'"':"")+")")},hard_break(r,e,t,n){for(let a=n+1;a<t.childCount;a++)if(t.child(a).type!=e.type){r.write(`\\
`);return}},text(r,e){r.text(e.text,!r.inAutolink)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open(r,e,t,n){return r.inAutolink=gJ(e,t,n),r.inAutolink?"<":"["},close(r,e,t,n){let{inAutolink:a}=r;return r.inAutolink=void 0,a?">":"]("+e.attrs.href.replace(/[\(\)"]/g,"\\$&")+(e.attrs.title?` "${e.attrs.title.replace(/"/g,'\\"')}"`:"")+")"},mixable:!0},code:{open(r,e,t,n){return Lg(t.child(n),-1)},close(r,e,t,n){return Lg(t.child(n-1),1)},escape:!1}});function Lg(r,e){let t=/`+/g,n,a=0;if(r.isText)for(;n=t.exec(r.text);)a=Math.max(a,n[0].length);let s=a>0&&e>0?" `":"`";for(let i=0;i<a;i++)s+="`";return a>0&&e<0&&(s+=" "),s}function gJ(r,e,t){if(r.attrs.title||!/^\w+:/.test(r.attrs.href))return!1;let n=e.child(t);return!n.isText||n.text!=r.attrs.href||n.marks[n.marks.length-1]!=r?!1:t==e.childCount-1||!r.isInSet(e.child(t+1).marks)}let F3=class{constructor(e,t,n){this.nodes=e,this.marks=t,this.options=n,this.delim="",this.out="",this.closed=null,this.inAutolink=void 0,this.atBlockStart=!1,this.inTightList=!1,typeof this.options.tightLists>"u"&&(this.options.tightLists=!1),typeof this.options.hardBreakNodeName>"u"&&(this.options.hardBreakNodeName="hard_break")}flushClose(e=2){if(this.closed){if(this.atBlank()||(this.out+=`
`),e>1){let t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(let a=1;a<e;a++)this.out+=t+`
`}this.closed=null}}getMark(e){let t=this.marks[e];if(!t){if(this.options.strict!==!1)throw new Error(`Mark type \`${e}\` not supported by Markdown renderer`);t=vJ}return t}wrapBlock(e,t,n,a){let s=this.delim;this.write(t??e),this.delim+=e,a(),this.delim=s,this.closeBlock(n)}atBlank(){return/(^|\n)$/.test(this.out)}ensureNewLine(){this.atBlank()||(this.out+=`
`)}write(e){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),e&&(this.out+=e)}closeBlock(e){this.closed=e}text(e,t=!0){let n=e.split(`
`);for(let a=0;a<n.length;a++)this.write(),!t&&n[a][0]=="["&&/(^|[^\\])\!$/.test(this.out)&&(this.out=this.out.slice(0,this.out.length-1)+"\\!"),this.out+=t?this.esc(n[a],this.atBlockStart):n[a],a!=n.length-1&&(this.out+=`
`)}render(e,t,n){if(this.nodes[e.type.name])this.nodes[e.type.name](this,e,t,n);else{if(this.options.strict!==!1)throw new Error("Token type `"+e.type.name+"` not supported by Markdown renderer");e.type.isLeaf||(e.type.inlineContent?this.renderInline(e):this.renderContent(e),e.isBlock&&this.closeBlock(e))}}renderContent(e){e.forEach((t,n,a)=>this.render(t,e,a))}renderInline(e,t=!0){this.atBlockStart=t;let n=[],a="",s=(i,u,l)=>{let c=i?i.marks:[];i&&i.type.name===this.options.hardBreakNodeName&&(c=c.filter(y=>{if(l+1==e.childCount)return!1;let x=e.child(l+1);return y.isInSet(x.marks)&&(!x.isText||/\S/.test(x.text))}));let f=a;if(a="",i&&i.isText&&c.some(y=>{let x=this.getMark(y.type.name);return x&&x.expelEnclosingWhitespace&&!y.isInSet(n)})){let[y,x,k]=/^(\s*)(.*)$/m.exec(i.text);x&&(f+=x,i=k?i.withText(k):null,i||(c=n))}if(i&&i.isText&&c.some(y=>{let x=this.getMark(y.type.name);return x&&x.expelEnclosingWhitespace&&(l==e.childCount-1||!y.isInSet(e.child(l+1).marks))})){let[y,x,k]=/^(.*?)(\s*)$/m.exec(i.text);k&&(a=k,i=x?i.withText(x):null,i||(c=n))}let h=c.length?c[c.length-1]:null,m=h&&this.getMark(h.type.name).escape===!1,g=c.length-(m?1:0);e:for(let y=0;y<g;y++){let x=c[y];if(!this.getMark(x.type.name).mixable)break;for(let k=0;k<n.length;k++){let S=n[k];if(!this.getMark(S.type.name).mixable)break;if(x.eq(S)){y>k?c=c.slice(0,k).concat(x).concat(c.slice(k,y)).concat(c.slice(y+1,g)):k>y&&(c=c.slice(0,y).concat(c.slice(y+1,k)).concat(x).concat(c.slice(k,g)));continue e}}}let b=0;for(;b<Math.min(n.length,g)&&c[b].eq(n[b]);)++b;for(;b<n.length;)this.text(this.markString(n.pop(),!1,e,l),!1);if(f&&this.text(f),i){for(;n.length<g;){let y=c[n.length];n.push(y),this.text(this.markString(y,!0,e,l),!1),this.atBlockStart=!1}m&&i.isText?this.text(this.markString(h,!0,e,l)+i.text+this.markString(h,!1,e,l+1),!1):this.render(i,e,l),this.atBlockStart=!1}i?.isText&&i.nodeSize>0&&(this.atBlockStart=!1)};e.forEach(s),s(null,0,e.childCount),this.atBlockStart=!1}renderList(e,t,n){this.closed&&this.closed.type==e.type?this.flushClose(3):this.inTightList&&this.flushClose(1);let a=typeof e.attrs.tight<"u"?e.attrs.tight:this.options.tightLists,s=this.inTightList;this.inTightList=a,e.forEach((i,u,l)=>{l&&a&&this.flushClose(1),this.wrapBlock(t,n(l),e,()=>this.render(i,e,l))}),this.inTightList=s}esc(e,t=!1){return e=e.replace(/[`*\\~\[\]_]/g,(n,a)=>n=="_"&&a>0&&a+1<e.length&&e[a-1].match(/\w/)&&e[a+1].match(/\w/)?n:"\\"+n),t&&(e=e.replace(/^(\+[ ]|[\-*>])/,"\\$&").replace(/^(\s*)(#{1,6})(\s|$)/,"$1\\$2$3").replace(/^(\s*\d+)\.\s/,"$1\\. ")),this.options.escapeExtraCharacters&&(e=e.replace(this.options.escapeExtraCharacters,"\\$&")),e}quote(e){let t=e.indexOf('"')==-1?'""':e.indexOf("'")==-1?"''":"()";return t[0]+e+t[1]}repeat(e,t){let n="";for(let a=0;a<t;a++)n+=e;return n}markString(e,t,n,a){let s=this.getMark(e.type.name),i=t?s.open:s.close;return typeof i=="string"?i:i(this,e,n,a)}getEnclosingWhitespace(e){return{leading:(e.match(/^(\s+)/)||[void 0])[0],trailing:(e.match(/(\s+)$/)||[void 0])[0]}}};function bJ(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ch,Og;function _J(){if(Og)return ch;Og=1;var r=!0,e=!1,t=!1;ch=function(y,x){x&&(r=!x.enabled,e=!!x.label,t=!!x.labelAfter),y.core.ruler.after("inline","github-task-lists",function(k){for(var S=k.tokens,A=2;A<S.length;A++)s(S,A)&&(i(S[A],k.Token),n(S[A-2],"class","task-list-item"+(r?"":" enabled")),n(S[a(S,A-2)],"class","contains-task-list"))})};function n(y,x,k){var S=y.attrIndex(x),A=[x,k];S<0?y.attrPush(A):y.attrs[S]=A}function a(y,x){for(var k=y[x].level-1,S=x-1;S>=0;S--)if(y[S].level===k)return S;return-1}function s(y,x){return h(y[x])&&m(y[x-1])&&g(y[x-2])&&b(y[x])}function i(y,x){if(y.children.unshift(u(y,x)),y.children[1].content=y.children[1].content.slice(3),y.content=y.content.slice(3),e)if(t){y.children.pop();var k="task-item-"+Math.ceil(Math.random()*(1e4*1e3)-1e3);y.children[0].content=y.children[0].content.slice(0,-1)+' id="'+k+'">',y.children.push(f(y.content,k,x))}else y.children.unshift(l(x)),y.children.push(c(x))}function u(y,x){var k=new x("html_inline","",0),S=r?' disabled="" ':"";return y.content.indexOf("[ ] ")===0?k.content='<input class="task-list-item-checkbox"'+S+'type="checkbox">':(y.content.indexOf("[x] ")===0||y.content.indexOf("[X] ")===0)&&(k.content='<input class="task-list-item-checkbox" checked=""'+S+'type="checkbox">'),k}function l(y){var x=new y("html_inline","",0);return x.content="<label>",x}function c(y){var x=new y("html_inline","",0);return x.content="</label>",x}function f(y,x,k){var S=new k("html_inline","",0);return S.content='<label class="task-list-item-label" for="'+x+'">'+y+"</label>",S.attrs=[{for:x}],S}function h(y){return y.type==="inline"}function m(y){return y.type==="paragraph_open"}function g(y){return y.type==="list_item_open"}function b(y){return y.content.indexOf("[ ] ")===0||y.content.indexOf("[x] ")===0||y.content.indexOf("[X] ")===0}return ch}var yJ=_J();const xJ=bJ(yJ);var wJ=Object.defineProperty,kJ=(r,e,t)=>e in r?wJ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,dd=(r,e,t)=>(kJ(r,typeof e!="symbol"?e+"":e,t),t);const EJ=br.create({name:"markdownTightLists",addOptions:()=>({tight:!0,tightClass:"tight",listTypes:["bulletList","orderedList"]}),addGlobalAttributes(){return[{types:this.options.listTypes,attributes:{tight:{default:this.options.tight,parseHTML:r=>r.getAttribute("data-tight")==="true"||!r.querySelector("p"),renderHTML:r=>({class:r.tight?this.options.tightClass:null,"data-tight":r.tight?"true":null})}}}]},addCommands(){var r=this;return{toggleTight:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return t=>{let{editor:n,commands:a}=t;function s(i){if(!n.isActive(i))return!1;const u=n.getAttributes(i);return a.updateAttributes(i,{tight:e??!(u!=null&&u.tight)})}return r.options.listTypes.some(i=>s(i))}}}}}),Bg=Dn();function z3(r,e){return Bg.inline.State.prototype.scanDelims.call({src:r,posMax:r.length}),new Bg.inline.State(r,null,null,[]).scanDelims(e,!0)}function q3(r,e,t,n){let a=r.substring(0,t)+r.substring(t+e.length);return a=a.substring(0,t+n)+e+a.substring(t+n),a}function SJ(r,e,t,n){let a=t,s=r;for(;a<n&&!z3(s,a).can_open;)s=q3(s,e,a,1),a++;return{text:s,from:a,to:n}}function AJ(r,e,t,n){let a=n,s=r;for(;a>t&&!z3(s,a).can_close;)s=q3(s,e,a,-1),a--;return{text:s,from:t,to:a}}function DJ(r,e,t,n){let a={text:r,from:t,to:n};return a=SJ(a.text,e,a.from,a.to),a=AJ(a.text,e,a.from,a.to),a.to-a.from<e.length+1&&(a.text=a.text.substring(0,a.from)+a.text.substring(a.to+e.length)),a.text}class CJ extends F3{constructor(e,t,n){super(e,t,n??{}),dd(this,"inTable",!1),this.inlines=[]}render(e,t,n){super.render(e,t,n);const a=this.inlines[this.inlines.length-1];if(a!=null&&a.start&&a!==null&&a!==void 0&&a.end){const{delimiter:s,start:i,end:u}=this.normalizeInline(a);this.out=DJ(this.out,s,i,u),this.inlines.pop()}}markString(e,t,n,a){const s=this.marks[e.type.name];if(s.expelEnclosingWhitespace)if(t)this.inlines.push({start:this.out.length,delimiter:s.open});else{const i=this.inlines.pop();this.inlines.push({...i,end:this.out.length})}return super.markString(e,t,n,a)}normalizeInline(e){let{start:t,end:n}=e;for(;this.out.charAt(t).match(/\s/);)t++;return{...e,start:t}}}const j3=Cn.create({name:"markdownHTMLMark",addStorage(){return{markdown:{serialize:{open(r,e){var t,n;return this.editor.storage.markdown.options.html?(t=(n=Fg(e))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:"":(console.warn(`Tiptap Markdown: "${e.type.name}" mark is only available in html mode`),"")},close(r,e){var t,n;return this.editor.storage.markdown.options.html&&(t=(n=Fg(e))===null||n===void 0?void 0:n[1])!==null&&t!==void 0?t:""}},parse:{}}}}});function Fg(r){const e=r.type.schema,t=e.text(" ",[r]),a=vl(Ze.from(t),e).match(/^(<.*?>) (<\/.*?>)$/);return a?[a[1],a[2]]:null}function ov(r){const e=`<body>${r}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function IJ(r){return r?.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function TJ(r){const e=r.parentElement,t=e.cloneNode();for(;e.firstChild&&e.firstChild!==r;)t.appendChild(e.firstChild);t.childNodes.length>0&&e.parentElement.insertBefore(t,e),e.parentElement.insertBefore(r,e),e.childNodes.length===0&&e.remove()}function MJ(r){const e=r.parentNode;for(;r.firstChild;)e.insertBefore(r.firstChild,r);e.removeChild(r)}const uf=ur.create({name:"markdownHTMLNode",addStorage(){return{markdown:{serialize(r,e,t){this.editor.storage.markdown.options.html?r.write(RJ(e,t)):(console.warn(`Tiptap Markdown: "${e.type.name}" node is only available in html mode`),r.write(`[${e.type.name}]`)),e.isBlock&&r.closeBlock(e)},parse:{}}}}});function RJ(r,e){const t=r.type.schema,n=vl(Ze.from(r),t);return r.isBlock&&(e instanceof Ze||e.type.name===t.topNodeType.name)?NJ(n):n}function NJ(r){const t=ov(r).firstElementChild;return t.innerHTML=t.innerHTML.trim()?`
${t.innerHTML}
`:`
`,t.outerHTML}const PJ=ur.create({name:"blockquote"}),$J=PJ.extend({addStorage(){return{markdown:{serialize:Va.nodes.blockquote,parse:{}}}}}),LJ=ur.create({name:"bulletList"}),H3=LJ.extend({addStorage(){return{markdown:{serialize(r,e){return r.renderList(e,"  ",()=>(this.editor.storage.markdown.options.bulletListMarker||"-")+" ")},parse:{}}}}}),OJ=ur.create({name:"codeBlock"}),BJ=OJ.extend({addStorage(){return{markdown:{serialize(r,e){r.write("```"+(e.attrs.language||"")+`
`),r.text(e.textContent,!1),r.ensureNewLine(),r.write("```"),r.closeBlock(e)},parse:{setup(r){var e;r.set({langPrefix:(e=this.options.languageClassPrefix)!==null&&e!==void 0?e:"language-"})},updateDOM(r){r.innerHTML=r.innerHTML.replace(/\n<\/code><\/pre>/g,"</code></pre>")}}}}}}),FJ=ur.create({name:"hardBreak"}),U3=FJ.extend({addStorage(){return{markdown:{serialize(r,e,t,n){for(let a=n+1;a<t.childCount;a++)if(t.child(a).type!=e.type){r.write(r.inTable?uf.storage.markdown.serialize.call(this,r,e,t):`\\
`);return}},parse:{}}}}}),zJ=ur.create({name:"heading"}),qJ=zJ.extend({addStorage(){return{markdown:{serialize:Va.nodes.heading,parse:{}}}}}),jJ=ur.create({name:"horizontalRule"}),HJ=jJ.extend({addStorage(){return{markdown:{serialize:Va.nodes.horizontal_rule,parse:{}}}}}),UJ=ur.create({name:"image"}),VJ=UJ.extend({addStorage(){return{markdown:{serialize:Va.nodes.image,parse:{}}}}}),WJ=ur.create({name:"listItem"}),QJ=WJ.extend({addStorage(){return{markdown:{serialize:Va.nodes.list_item,parse:{}}}}}),GJ=ur.create({name:"orderedList"});function KJ(r,e,t){let n=0;for(;t-n>0&&e.child(t-n-1).type.name===r.type.name;n++);return n}const JJ=GJ.extend({addStorage(){return{markdown:{serialize(r,e,t,n){const a=e.attrs.start||1,s=String(a+e.childCount-1).length,i=r.repeat(" ",s+2),l=KJ(e,t,n)%2?") ":". ";r.renderList(e,i,c=>{const f=String(a+c);return r.repeat(" ",s-f.length)+f+l})},parse:{}}}}}),ZJ=ur.create({name:"paragraph"}),YJ=ZJ.extend({addStorage(){return{markdown:{serialize:Va.nodes.paragraph,parse:{}}}}});function dh(r){var e,t;return(e=r==null||(t=r.content)===null||t===void 0?void 0:t.content)!==null&&e!==void 0?e:[]}const XJ=ur.create({name:"table"}),eZ=XJ.extend({addStorage(){return{markdown:{serialize(r,e,t){if(!tZ(e)){uf.storage.markdown.serialize.call(this,r,e,t);return}r.inTable=!0,e.forEach((n,a,s)=>{if(r.write("| "),n.forEach((i,u,l)=>{l&&r.write(" | ");const c=i.firstChild;c.textContent.trim()&&r.renderInline(c)}),r.write(" |"),r.ensureNewLine(),!s){const i=Array.from({length:n.childCount}).map(()=>"---").join(" | ");r.write(`| ${i} |`),r.ensureNewLine()}}),r.closeBlock(e),r.inTable=!1},parse:{}}}}});function zg(r){return r.attrs.colspan>1||r.attrs.rowspan>1}function tZ(r){const e=dh(r),t=e[0],n=e.slice(1);return!(dh(t).some(a=>a.type.name!=="tableHeader"||zg(a)||a.childCount>1)||n.some(a=>dh(a).some(s=>s.type.name==="tableHeader"||zg(s)||s.childCount>1)))}const rZ=ur.create({name:"taskItem"}),nZ=rZ.extend({addStorage(){return{markdown:{serialize(r,e){const t=e.attrs.checked?"[x]":"[ ]";r.write(`${t} `),r.renderContent(e)},parse:{updateDOM(r){[...r.querySelectorAll(".task-list-item")].forEach(e=>{const t=e.querySelector("input");e.setAttribute("data-type","taskItem"),t&&(e.setAttribute("data-checked",t.checked),t.remove())})}}}}}}),aZ=ur.create({name:"taskList"}),sZ=aZ.extend({addStorage(){return{markdown:{serialize:H3.storage.markdown.serialize,parse:{setup(r){r.use(xJ)},updateDOM(r){[...r.querySelectorAll(".contains-task-list")].forEach(e=>{e.setAttribute("data-type","taskList")})}}}}}}),iZ=ur.create({name:"text"}),oZ=iZ.extend({addStorage(){return{markdown:{serialize(r,e){r.text(IJ(e.text))},parse:{}}}}}),uZ=Cn.create({name:"bold"}),lZ=uZ.extend({addStorage(){return{markdown:{serialize:Va.marks.strong,parse:{}}}}}),cZ=Cn.create({name:"code"}),dZ=cZ.extend({addStorage(){return{markdown:{serialize:Va.marks.code,parse:{}}}}}),fZ=Cn.create({name:"italic"}),hZ=fZ.extend({addStorage(){return{markdown:{serialize:Va.marks.em,parse:{}}}}}),pZ=Cn.create({name:"link"}),vZ=pZ.extend({addStorage(){return{markdown:{serialize:Va.marks.link,parse:{}}}}}),mZ=Cn.create({name:"strike"}),gZ=mZ.extend({addStorage(){return{markdown:{serialize:{open:"~~",close:"~~",expelEnclosingWhitespace:!0},parse:{}}}}}),bZ=[$J,H3,BJ,U3,qJ,HJ,uf,VJ,QJ,JJ,YJ,eZ,nZ,sZ,oZ,lZ,dZ,j3,hZ,vZ,gZ];function fd(r){var e,t;const n=(e=r.storage)===null||e===void 0?void 0:e.markdown,a=(t=bZ.find(s=>s.name===r.name))===null||t===void 0?void 0:t.storage.markdown;return n||a?{...a,...n}:null}class _Z{constructor(e){dd(this,"editor",null),this.editor=e}serialize(e){const t=new CJ(this.nodes,this.marks,{hardBreakNodeName:U3.name});return t.renderContent(e),t.out}get nodes(){var e;return{...Object.fromEntries(Object.keys(this.editor.schema.nodes).map(t=>[t,this.serializeNode(uf)])),...Object.fromEntries((e=this.editor.extensionManager.extensions.filter(t=>t.type==="node"&&this.serializeNode(t)).map(t=>[t.name,this.serializeNode(t)]))!==null&&e!==void 0?e:[])}}get marks(){var e;return{...Object.fromEntries(Object.keys(this.editor.schema.marks).map(t=>[t,this.serializeMark(j3)])),...Object.fromEntries((e=this.editor.extensionManager.extensions.filter(t=>t.type==="mark"&&this.serializeMark(t)).map(t=>[t.name,this.serializeMark(t)]))!==null&&e!==void 0?e:[])}}serializeNode(e){var t;return(t=fd(e))===null||t===void 0||(t=t.serialize)===null||t===void 0?void 0:t.bind({editor:this.editor,options:e.options})}serializeMark(e){var t;const n=(t=fd(e))===null||t===void 0?void 0:t.serialize;return n?{...n,open:typeof n.open=="function"?n.open.bind({editor:this.editor,options:e.options}):n.open,close:typeof n.close=="function"?n.close.bind({editor:this.editor,options:e.options}):n.close}:null}}class yZ{constructor(e,t){dd(this,"editor",null),dd(this,"md",null);let{html:n,linkify:a,breaks:s}=t;this.editor=e,this.md=this.withPatchedRenderer(Dn({html:n,linkify:a,breaks:s}))}parse(e){let{inline:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof e=="string"){this.editor.extensionManager.extensions.forEach(s=>{var i;return(i=fd(s))===null||i===void 0||(i=i.parse)===null||i===void 0||(i=i.setup)===null||i===void 0?void 0:i.call({editor:this.editor,options:s.options},this.md)});const n=this.md.render(e),a=ov(n);return this.editor.extensionManager.extensions.forEach(s=>{var i;return(i=fd(s))===null||i===void 0||(i=i.parse)===null||i===void 0||(i=i.updateDOM)===null||i===void 0?void 0:i.call({editor:this.editor,options:s.options},a)}),this.normalizeDOM(a,{inline:t,content:e}),a.innerHTML}return e}normalizeDOM(e,t){let{inline:n,content:a}=t;return this.normalizeBlocks(e),e.querySelectorAll("*").forEach(s=>{var i;((i=s.nextSibling)===null||i===void 0?void 0:i.nodeType)===Node.TEXT_NODE&&!s.closest("pre")&&(s.nextSibling.textContent=s.nextSibling.textContent.replace(/^\n/,""))}),n&&this.normalizeInline(e,a),e}normalizeBlocks(e){const n=Object.values(this.editor.schema.nodes).filter(a=>a.isBlock).map(a=>{var s;return(s=a.spec.parseDOM)===null||s===void 0?void 0:s.map(i=>i.tag)}).flat().filter(Boolean).join(",");n&&[...e.querySelectorAll(n)].forEach(a=>{a.parentElement.matches("p")&&TJ(a)})}normalizeInline(e,t){var n;if((n=e.firstElementChild)!==null&&n!==void 0&&n.matches("p")){var a,s,i,u;const l=e.firstElementChild,{nextElementSibling:c}=l,f=(a=(s=t.match(/^\s+/))===null||s===void 0?void 0:s[0])!==null&&a!==void 0?a:"",h=c?"":(i=(u=t.match(/\s+$/))===null||u===void 0?void 0:u[0])!==null&&i!==void 0?i:"";if(t.match(/^\n\n/)){l.innerHTML=`${l.innerHTML}${h}`;return}MJ(l),e.innerHTML=`${f}${e.innerHTML}${h}`}}withPatchedRenderer(e){const t=n=>function(){const a=n(...arguments);return a===`
`?a:a[a.length-1]===`
`?a.slice(0,-1):a};return e.renderer.rules.hardbreak=t(e.renderer.rules.hardbreak),e.renderer.rules.softbreak=t(e.renderer.rules.softbreak),e.renderer.rules.fence=t(e.renderer.rules.fence),e.renderer.rules.code_block=t(e.renderer.rules.code_block),e.renderer.renderToken=t(e.renderer.renderToken.bind(e.renderer)),e}}const xZ=br.create({name:"markdownClipboard",addOptions(){return{transformPastedText:!1,transformCopiedText:!1}},addProseMirrorPlugins(){return[new Jt({key:new or("markdownClipboard"),props:{clipboardTextParser:(r,e,t)=>{if(t||!this.options.transformPastedText)return null;const n=this.editor.storage.markdown.parser.parse(r,{inline:!0});return Yn.fromSchema(this.editor.schema).parseSlice(ov(n),{preserveWhitespace:!0,context:e})},clipboardTextSerializer:r=>this.options.transformCopiedText?this.editor.storage.markdown.serializer.serialize(r.content):null}})]}}),V3=br.create({name:"markdown",priority:50,addOptions(){return{html:!0,tightLists:!0,tightListClass:"tight",bulletListMarker:"-",linkify:!1,breaks:!1,transformPastedText:!1,transformCopiedText:!1}},addCommands(){const r=cx.Commands.config.addCommands();return{setContent:(e,t)=>n=>r.setContent(n.editor.storage.markdown.parser.parse(e),t)(n),insertContentAt:(e,t,n)=>a=>r.insertContentAt(e,a.editor.storage.markdown.parser.parse(t,{inline:!0}),n)(a)}},onBeforeCreate(){this.editor.storage.markdown={options:{...this.options},parser:new yZ(this.editor,this.options),serializer:new _Z(this.editor),getMarkdown:()=>this.editor.storage.markdown.serializer.serialize(this.editor.state.doc)},this.editor.options.initialContent=this.editor.options.content,this.editor.options.content=this.editor.storage.markdown.parser.parse(this.editor.options.content)},onCreate(){this.editor.options.content=this.editor.options.initialContent,delete this.editor.options.initialContent},addStorage(){return{}},addExtensions(){return[EJ.configure({tight:this.options.tightLists,tightClass:this.options.tightListClass}),xZ.configure({transformPastedText:this.options.transformPastedText,transformCopiedText:this.options.transformCopiedText})]}});var wZ=_('<label class="label"><span class="label-text font-medium"> </span></label>'),kZ=(r,e)=>o(e).chain().focus().toggleBold().run(),EZ=(r,e)=>o(e).chain().focus().toggleItalic().run(),SZ=(r,e)=>o(e).chain().focus().toggleBulletList().run(),AZ=(r,e)=>o(e).chain().focus().toggleOrderedList().run(),DZ=(r,e)=>o(e).chain().focus().undo().run(),CZ=(r,e)=>o(e).chain().focus().redo().run(),IZ=_('<div class="border-base-200 bg-base-200 flex flex-wrap items-center gap-1 border-b p-1"><button type="button" title="Gras"><!></button> <button type="button" title="Italique"><!></button> <div class="divider divider-horizontal mx-0 h-6"></div> <button type="button" title="Liste Ã  puces"><!></button> <button type="button" title="Liste ordonnÃ©e"><!></button> <div class="divider divider-horizontal mx-0 h-6"></div> <button type="button" class="btn btn-ghost btn-square btn-sm" title="Annuler"><!></button> <button type="button" class="btn btn-ghost btn-square btn-sm" title="RÃ©tablir"><!></button></div>'),TZ=_('<div class="label"><span class="text-error"> </span></div>'),MZ=_('<div class=" w-full"><!> <div><!> <div></div></div> <!></div>');function qg(r,e){pe(e,!0);let t=ke(e,"value",15);ke(e,"placeholder",3,"Commencez Ã  rÃ©diger...");let n=ae(null),a=ae(null),s=ae(0),i=ae(!1);vn(()=>{o(n)&&w(a,new kx({element:o(n),extensions:[h3.configure({codeBlock:!1,blockquote:!1}),V3.configure({html:!1,tightLists:!0})],content:t(),editorProps:{attributes:{class:"prose prose-sm max-w-none focus:outline-none min-h-[150px] p-4"}},onUpdate:({editor:k})=>{const S=k.storage.markdown.getMarkdown();t()!==S&&t(S)},onSelectionUpdate:()=>{$a(s)},onTransaction:()=>{$a(s)},onFocus:()=>w(i,!0),onBlur:()=>w(i,!1)}),!0)}),Ir(()=>{o(a)&&o(a).destroy()});var u=MZ(),l=d(u);{var c=k=>{var S=wZ(),A=d(S),C=d(A);P(()=>{dt(S,"for",e.id),O(C,e.label)}),v(k,S)};D(l,k=>{e.label&&k(c)})}var f=p(l,2);let h;var m=d(f);{var g=k=>{var S=IZ(),A=d(S);let C;A.__click=[kZ,a];var E=d(A);Pp(E,{class:"h-4 w-4"});var I=p(A,2);let T;I.__click=[EZ,a];var j=d(I);$p(j,{class:"h-4 w-4"});var U=p(I,4);let G;U.__click=[SZ,a];var Q=d(U);cc(Q,{class:"h-4 w-4"});var ee=p(U,2);let oe;ee.__click=[AZ,a];var H=d(ee);x2(H,{class:"h-4 w-4"});var J=p(ee,4);J.__click=[DZ,a];var K=d(J);Pd(K,{class:"h-4 w-4"});var te=p(J,2);te.__click=[CZ,a];var Z=d(te);C2(Z,{class:"h-4 w-4"}),P((R,F,M,B,q,$)=>{C=_e(A,1,"btn btn-ghost btn-square btn-sm",null,C,R),T=_e(I,1,"btn btn-ghost btn-square btn-sm",null,T,F),G=_e(U,1,"btn btn-ghost btn-square btn-sm",null,G,M),oe=_e(ee,1,"btn btn-ghost btn-square btn-sm",null,oe,B),J.disabled=q,te.disabled=$},[()=>({"btn-active":o(s)>=0&&o(a).isActive("bold")}),()=>({"btn-active":o(s)>=0&&o(a).isActive("italic")}),()=>({"btn-active":o(s)>=0&&o(a).isActive("bulletList")}),()=>({"btn-active":o(s)>=0&&o(a).isActive("orderedList")}),()=>!(o(s)>=0&&o(a).can().undo()),()=>!(o(s)>=0&&o(a).can().redo())]),v(k,S)};D(m,k=>{o(a)&&k(g)})}var b=p(m,2);xn(b,k=>w(n,k),()=>o(n));var y=p(f,2);{var x=k=>{var S=TZ(),A=d(S),C=d(A);P(()=>O(C,e.error)),v(k,S)};D(y,k=>{e.error&&k(x)})}P(k=>{h=_e(f,1,"bg-base-100 overflow-hidden rounded-lg border-2 transition-all",null,h,k),dt(b,"id",e.id)},[()=>({"border-primary":o(i),"border-error":e.error,"border-base-300":!o(i)&&!e.error})]),v(r,u),ve()}tt(["click"]);var RZ=_('<div class="alert alert-error mt-4"><span class="text-sm"> </span></div>'),NZ=(r,e)=>{e(e().astuces=[...e().astuces,{astuce:""}],!0)},PZ=_('<p class="py-2 text-sm italic opacity-50">Aucune astuce ajoutÃ©e</p>'),$Z=_('<span class="text-error text-xs"> </span>'),LZ=_("<span></span>"),OZ=_(`<div class="flex flex-col gap-1"><div class="flex items-start gap-2"><div class="flex-1"><textarea placeholder="Ex: Ajouter un filet d'huile d'olive au moment de servir" maxlength="250"></textarea></div> <button type="button" class="btn btn-square btn-sm text-error" title="Supprimer l'astuce"><!></button></div> <div class="flex justify-between px-1"><!> <span> </span></div></div>`),BZ=_('<div class="space-y-3"></div>'),FZ=_(`<div class="grid grid-cols-1 gap-6 md:grid-cols-2"><div><div class="card-body"><h2 class="card-title mb-4"><!> IngrÃ©dients</h2> <!> <!></div></div> <div class="card bg-base-100 shadow-xl"><div class="card-body"><h2 class="card-title mb-4"><!> PrÃ©paration</h2> <div class="space-y-6"><!> <div><!> <p class="text-end text-xs italic opacity-60">La prÃ©paration Ã  l'avance sera mise en Ã©vidence au dessus des autres
            Ã©tapes.</p></div></div> <div class="divider"></div> <div class="space-y-4"><div class="flex items-center justify-between"><h3 class="flex items-center gap-2 font-semibold"><!> Astuces et conseils</h3> <button type="button" class="btn btn-outline btn-primary btn-sm">+ Ajouter une astuce</button></div> <!></div></div></div></div>`);function W3(r,e){pe(e,!0);let t=ke(e,"recipe",15);var n=FZ(),a=d(n),s=d(a),i=d(s),u=d(i);nn(u,{class:"h-5 w-4"});var l=p(i,2);{let Q=V(()=>!e.canEdit);aF(l,{get disabled(){return o(Q)},get ingredients(){return t().ingredients},set ingredients(ee){t(t().ingredients=ee,!0)}})}var c=p(l,2);{var f=Q=>{var ee=RZ(),oe=d(ee),H=d(oe);P(()=>O(H,e.validationErrors.ingredients)),v(Q,ee)};D(c,Q=>{e.validationErrors.ingredients&&t().ingredients.length===0&&Q(f)})}var h=p(a,2),m=d(h),g=d(m),b=d(g);Ro(b,{class:"h-5 w-4"});var y=p(g,2),x=d(y);qg(x,{id:"recipe-preparation",label:"Instructions de prÃ©paration",get error(){return e.validationErrors.preparation},placeholder:"DÃ©crivez les Ã©tapes de prÃ©paration...",get value(){return t().preparation},set value(Q){t(t().preparation=Q,!0)}});var k=p(x,2),S=d(k);qg(S,{id:"recipe-preparation24h",label:"PrÃ©paration Ã  l'avance (optionnel)",get error(){return e.validationErrors.preparation24h},placeholder:"Ãtapes Ã  rÃ©aliser avant le jour j...",get value(){return t().preparation24h},set value(Q){t(t().preparation24h=Q,!0)}});var A=p(y,4),C=d(A),E=d(C),I=d(E);y2(I,{class:"text-warning h-4 w-4"});var T=p(E,2);T.__click=[NZ,t];var j=p(C,2);{var U=Q=>{var ee=PZ();v(Q,ee)},G=Q=>{var ee=BZ();ze(ee,21,()=>t().astuces,bt,(oe,H,J)=>{var K=OZ(),te=d(K),Z=d(te),R=d(Z),F=p(Z,2);F.__click=()=>{t(t().astuces=t().astuces.filter((W,X)=>X!==J),!0)};var M=d(F);ji(M,{size:14});var B=p(te,2),q=d(B);{var $=W=>{var X=$Z(),N=d(X);P(()=>O(N,e.validationErrors.astuces[J])),v(W,X)},L=W=>{var X=LZ();v(W,X)};D(q,W=>{e.validationErrors.astuces?.[J]?W($):W(L,!1)})}var ne=p(q,2),Y=d(ne);P(()=>{R.disabled=!e.canEdit,_e(R,1,`textarea textarea-bordered h-20 w-full text-sm ${e.validationErrors.astuces?.[J]?"textarea-error":""}`),F.disabled=!e.canEdit,_e(ne,1,`text-xs ${o(H).astuce.length>250?"text-error font-bold":"opacity-50"}`),O(Y,`${o(H).astuce.length??""} / 250`)}),ft(R,()=>o(H).astuce,W=>o(H).astuce=W),v(oe,K)}),v(Q,ee)};D(j,Q=>{t().astuces.length===0?Q(U):Q(G,!1)})}P(()=>{_e(a,1,`card bg-base-100 shadow-xl ${e.validationErrors.ingredients?"ring-error ring-2":""}`),T.disabled=!e.canEdit}),v(r,n),ve()}tt(["click"]);tt(["click"]);var zZ=(r,e,t)=>e(o(t)),qZ=_('<button class="btn btn-circle btn-xs btn-error btn-ghost ms-2" title="Retirer les droits"><!></button>'),jZ=_('<div class="badge badge-lg badge-soft gap-2 p-4"><span> </span> <!></div>'),HZ=(r,e)=>w(e,!0),UZ=_('<button class="btn btn-primary btn-sm btn-outline ms-4" title="GÃ©rer les collaborateurs"><!> Ajouter des contributeurÂ·ices</button>'),VZ=_(`<div class="space-y-4"><div class="alert alert-info alert-soft border-info/20 text-xs"><!> <span>Par dÃ©faut, seul l'auteurÂ·ice peut modifier la recette. Les autres
        utilisateurÂ·ices peuvent la consulter ou la dupliquer pour crÃ©er leur
        propre version. Ajoutez des collaborateurÂ·ices ici pour leur donner
        explicitement le droit de modifier cette version originale.</span></div> <div class="flex flex-wrap gap-2"><div class="badge badge-lg badge-soft badge-info gap-2 p-4"><!> <span class="font-bold"> </span> <div class="badge badge-xs">Auteur</div></div> <!> <!></div></div>`),WZ=(r,e)=>r.key==="Enter"&&e(),QZ=_('<span class="loading loading-spinner loading-xs"></span>'),GZ=_('<p class="text-error mt-2 flex items-center gap-1 text-xs"><!> </p>'),KZ=_('<p class="text-xs opacity-60">SÃ©lectionnez des membres de vos Ã©quipes pour les ajouter :</p> <div class="max-h-48 overflow-y-auto pr-2"><!></div>',1),JZ=_(`<p class="py-4 text-center text-sm italic opacity-40">Vous n'avez pas encore d'Ã©quipe crÃ©Ã©e.</p>`),ZZ=_('<p class="py-4 text-center text-sm italic opacity-40">Tous les membres de vos Ã©quipes sont dÃ©jÃ  ajoutÃ©s.</p>'),YZ=_('<div class="space-y-6"><fieldset class="fieldset"><legend class="fieldset-legend">Ajouter par email</legend> <div class="flex gap-2"><label class="input input-bordered flex grow items-center gap-2"><!> <input type="email" class="grow" placeholder="utilisateur@email.com"/></label> <button class="btn btn-primary"><!></button></div> <!></fieldset> <div class="divider text-xs font-bold tracking-widest uppercase opacity-50">Ou via vos Ã©quipes</div> <div class="space-y-4"><!></div></div>'),XZ=_('<button class="btn btn-block btn-primary">Terminer</button>'),eY=_("<!> <!> <!>",1),tY=_("<!> <!>",1);function Q3(r,e){pe(e,!0);let t=ke(e,"permissionWrite",15),n=ae(!1),a=ae(""),s=ae(!1),i=ae(null),u=ot({});st(()=>{e.createdBy===Ee.userId&&(u[e.createdBy]=Ee.userName||"PropriÃ©taire");for(const x of At.teams)if(x.members)for(const k of x.members)k.name&&!u[k.id]&&(u[k.id]=k.name)});let l=V(()=>{const x=[];for(const k of At.teams)if(k.members)for(const S of k.members)S.id!==e.createdBy&&(x.some(A=>A.id===S.id)||x.push({id:S.id,label:S.name,selected:!1}));return x});async function c(){if(!o(a))return;const x=o(a).trim();w(s,!0),w(i,null);try{const{checkUserEmails:k}=await Jl(async()=>{const{checkUserEmails:C}=await import("./appwrite-functions.js");return{checkUserEmails:C}},[]),A=(await k([x]))[x];A?t()?.includes(A.id)?w(i,"Cet utilisateur a dÃ©jÃ  les droits d'Ã©criture."):(t([...t()||[],A.id]),u[A.id]=A.name||x,w(a,""),rt.success(`Permission d'Ã©dition ajoutÃ© pour ${A.name||x}`)):w(i,"Utilisateur introuvable. Seuls les utilisateurÂ·ices inscrit sur enka-cookbook peuvent Ãªtre ajoutÃ©Â·es. Vous pouvez invitez des personnes depuis votre dashboard")}catch(k){console.error("Erreur check email:",k),w(i,"Erreur lors de la vÃ©rification de l'email.")}finally{w(s,!1)}}function f(x){t()?.includes(x)?t((t()||[]).filter(k=>k!==x)):t([...t()||[],x])}function h(x){x!==e.createdBy&&t((t()||[]).filter(k=>k!==x))}function m(){w(n,!1),w(a,""),w(i,null)}var g=tY(),b=z(g);Gt(b,{get iconComponent(){return Ut},legend:"Permissions",children:(x,k)=>{var S=VZ(),A=d(S),C=d(A);ra(C,{size:16});var E=p(A,2),I=d(E),T=d(I);No(T,{size:14});var j=p(T,2),U=d(j),G=p(I,2);ze(G,17,()=>(t()||[]).filter(oe=>e.createdBy!==void 0&&oe!==e.createdBy),bt,(oe,H)=>{var J=jZ(),K=d(J),te=d(K),Z=p(K,2);{var R=F=>{var M=qZ();M.__click=[zZ,h,H];var B=d(M);ir(B,{size:16}),v(F,M)};D(Z,F=>{e.canEdit&&F(R)})}P(()=>O(te,u[o(H)]||o(H))),Li(3,J,()=>Bp,()=>({duration:200})),v(oe,J)});var Q=p(G,2);{var ee=oe=>{var H=UZ();H.__click=[HZ,n];var J=d(H);ll(J,{size:18}),v(oe,H)};D(Q,oe=>{e.canEdit&&oe(ee)})}P(()=>O(U,e.createdBy&&u[e.createdBy]||"PropriÃ©taire")),v(x,S)},$$slots:{default:!0}});var y=p(b,2);on(y,{get isOpen(){return o(n)},onClose:m,children:(x,k)=>{var S=eY(),A=z(S);Hr(A,{title:"GÃ©rer les collaborateurs",onClose:m,children:(I,T)=>{Ut(I,{class:"text-primary"})},$$slots:{default:!0}});var C=p(A,2);Zr(C,{children:(I,T)=>{var j=YZ(),U=d(j),G=p(d(U),2),Q=d(G),ee=d(Q);Tu(ee,{class:"opacity-40",size:18});var oe=p(ee,2);oe.__keydown=[WZ,c];var H=p(Q,2);H.__click=c;var J=d(H);{var K=$=>{var L=QZ();v($,L)},te=$=>{var L=Pt("Ajouter");v($,L)};D(J,$=>{o(s)?$(K):$(te,!1)})}var Z=p(G,2);{var R=$=>{var L=GZ(),ne=d(L);eS(ne,{size:14});var Y=p(ne);P(()=>O(Y,` ${o(i)??""}`)),v($,L)};D(Z,$=>{o(i)&&$(R)})}var F=p(U,4),M=d(F);{var B=$=>{var L=KZ(),ne=p(z(L),2),Y=d(ne);Fa(Y,{get items(){return o(l)},onToggleItem:f,size:"sm"}),v($,L)},q=$=>{var L=ce(),ne=z(L);{var Y=X=>{var N=JZ();v(X,N)},W=X=>{var N=ZZ();v(X,N)};D(ne,X=>{At.teams.length===0?X(Y):X(W,!1)},!0)}v($,L)};D(M,$=>{o(l).length>0?$(B):$(q,!1)})}P(()=>H.disabled=o(s)||!o(a)),ft(oe,()=>o(a),$=>w(a,$)),v(I,j)}});var E=p(C,2);Sn(E,{children:(I,T)=>{var j=XZ();j.__click=m,v(I,j)}}),v(x,S)},$$slots:{default:!0}}),v(r,g),ve()}tt(["click","keydown"]);const rY=["title","description","plate","preparation","preparation24h","cuisson","serveHot","typeR","categories","regime","saison","ingredients","quantite_desc","auteur","astuces","prepAlt","check","draft","permissionWrite","materiel","region","rootRecipeId","versionLabel","manuallyAddedVariants","variantsToRemove"];function nY(){return{title:"",plate:100,ingredients:[],preparation:"",materiel:[],preparation24h:"",astuces:[],categories:[],saison:[],typeR:"",cuisson:"",serveHot:"",regime:[],description:"",quantite_desc:"",region:"",prepAlt:[],check:null,draft:!0,lockedBy:null,auteur:null,publishedAt:null,createdBy:Ee.userId||"",permissionWrite:[Ee.userId||""],teams:null,status:c_.PUBLIC,rootRecipeId:null,versionLabel:null,manuallyAddedVariants:[],variantsToRemove:[]}}function G3(r,e={}){return{...r,...e,categories:r.categories||[],saison:r.saison||[],ingredients:r.ingredients??[],astuces:r.astuces??[],prepAlt:r.prepAlt||[],materiel:r.materiel||[],regime:r.regime||[],check:r.check??null}}function ku(r){const e={};return rY.forEach(t=>{e[t]=r[t]}),JSON.stringify(e)}function K3(r){return{title:r.title,plate:r.plate,preparation:r.preparation,cuisson:r.cuisson===""?!1:r.cuisson,serveHot:r.serveHot===""?!0:r.serveHot,check:r.check??!1,typeR:r.typeR,permissionWrite:r.permissionWrite&&r.permissionWrite.length>0?r.permissionWrite:[Ee.userId],draft:r.draft??!0,categories:r.categories||[],regime:r.regime||[],saison:r.saison||[],materiel:r.materiel||[],quantite_desc:r.quantite_desc||null,description:r.description||null,region:r.region||null,auteur:r.auteur||null,preparation24h:r.preparation24h||null,teams:r.teams||null,status:r.status||"private",ingredients:[],astuces:null,prepAlt:null,lockedBy:null,publishedAt:null,rootRecipeId:r.rootRecipeId||null,versionLabel:r.versionLabel||null}}function J3(r,e,t){const n={...e,ingredients:r.ingredients,id:t.id,createdAt:t.createdAt,updatedAt:t.updatedAt,createdBy:t.createdBy};return delete n.$id,delete n.$createdAt,delete n.$updatedAt,n}function aY(r){if(!r.originalQuantity||r.originalQuantity<=0)return{...r,normalizedQuantity:0,normalizedUnit:r.originalUnit||"gr."};const e=is.normalize(r.originalQuantity,r.originalUnit||"",r.name);return{...r,normalizedQuantity:e.quantity,normalizedUnit:e.unit}}function sY(r){return r.map(e=>aY(e))}function Z3(r){const e=new Du;let t=!1;r.forEach(s=>{s.allergens&&s.allergens.length>0&&s.allergens.forEach(i=>e.add(i)),s.type==="animaux"&&(t=!0)});const n=Array.from(e);(n.includes("Viande")||n.includes("Poisson")||n.includes("CrustacÃ©")||n.includes("Mollusque")||n.includes("Porc"))&&(t=!0);const a=[];return!t&&!n.includes("Produit laitier")&&!n.includes("Oeuf")?a.push("vegan"):t||a.push("vegetarien"),n.includes("Gluten")||a.push("sans-gluten"),n.includes("Produit laitier")||a.push("sans-lactose"),{regimes:a}}function Y3(r,e){if(!r)return!1;e.value={};let t=!1;if(!r.title?.trim())e.value.title="Le titre est obligatoire",t=!0;else if(r.title.length>100)e.value.title="Le titre ne peut pas dÃ©passer 100 caractÃ¨res",t=!0;else if(!/^[a-zA-Z0-9\s\-Ã Ã¢Ã¤Ã©Ã¨ÃªÃ«Ã¯Ã®Ã´Ã¹Ã»Ã¼Ã§ÃÃÃÃÃÃÃÃÃÃÃÃÃÃ]+$/.test(r.title.trim()))e.value.title="Le titre ne peut contenir que des lettres, chiffres, espaces et tirets",t=!0;else{const a=r.title.trim().toLowerCase(),s=r.versionLabel?.trim().toLowerCase()||"";jt.recipesIndex.find(u=>{const l=u.title.trim().toLowerCase()===a,c=u.versionLabel?.trim().toLowerCase()||"";return l&&s===c&&u.$id!==r.$id})&&(e.value.title=r.versionLabel?"Une recette avec ce nom et cette version existe dÃ©jÃ ":"Une recette porte dÃ©jÃ  ce nom (sans version)",t=!0)}if(r.versionLabel&&(/^[a-zA-Z0-9\s\-]+$/.test(r.versionLabel.trim())||(e.value.versionLabel="La version ne peut contenir que des caractÃ¨res alphanumÃ©riques, des espaces et des tirets",t=!0)),r.typeR||(e.value.typeR="Le type de recette est obligatoire",t=!0),(r.cuisson===null||r.cuisson===void 0)&&(e.value.cuisson="Veuillez spÃ©cifier si une cuisson est nÃ©cessaire",t=!0),(r.serveHot===null||r.serveHot===void 0)&&(e.value.serveHot="Veuillez spÃ©cifier la tempÃ©rature de service",t=!0),!r.plate||r.plate<1?(e.value.plate="Le nombre de couverts doit Ãªtre d'au moins 1",t=!0):r.plate>1e4&&(e.value.plate="Le nombre de couverts ne peut pas dÃ©passer 10 000",t=!0),r.quantite_desc&&r.quantite_desc.length>100&&(e.value.quantite_desc="La description des quantitÃ©s ne peut pas dÃ©passer 100 caractÃ¨res",t=!0),r.description&&r.description.length>200&&(e.value.description="La description ne peut pas dÃ©passer 200 caractÃ¨res",t=!0),r.region&&r.region.length>50&&(e.value.region="La spÃ©cialitÃ© ne peut pas dÃ©passer 50 caractÃ¨res",t=!0),(!r.ingredients||r.ingredients.length===0)&&(e.value.ingredients="Au moins un ingrÃ©dient est requis",t=!0),r.preparation?.trim()?r.preparation.length>15e3&&(e.value.preparation="La prÃ©paration ne peut pas dÃ©passer 15 000 caractÃ¨res",t=!0):(e.value.preparation="La prÃ©paration est obligatoire",t=!0),r.preparation24h&&r.preparation24h.length>15e3&&(e.value.preparation24h="La prÃ©paration 24h ne peut pas dÃ©passer 15 000 caractÃ¨res",t=!0),(r.check===null||r.check===void 0)&&(e.value.check="Veuillez indiquer si la recette a Ã©tÃ© testÃ©e",t=!0),r.astuces&&r.astuces.length>0){const a=[];r.astuces.forEach((s,i)=>{s.astuce.length>250&&(a[i]="Maximum 250 caractÃ¨res",t=!0)}),a.length>0&&(e.value.astuces=a)}t&&(rt.error("Veuillez corriger les champs invalides",{autoCloseDelay:5e3}),setTimeout(()=>{const a=Object.keys(e.value)[0],i={title:"recipe-title",typeR:"recipe-type",cuisson:"recipe-cuisson",serveHot:"recipe-servehot",plate:"recipe-plate",quantite_desc:"recipe-quantite-desc",description:"description",region:"recipe-region",check:"recipe-check-fieldset",ingredients:"recipe-ingredients-editor",preparation:"recipe-preparation",preparation24h:"recipe-preparation24h"}[a];if(i){const u=document.getElementById(i);u&&(u.scrollIntoView({behavior:"smooth",block:"center"}),(u.tagName==="INPUT"||u.tagName==="SELECT"||u.tagName==="TEXTAREA")&&u.focus())}},100)),r.title=r.title.trim().charAt(0).toUpperCase()+r.title.trim().slice(1).toLowerCase(),r.ingredients=sY(r.ingredients);const{regimes:n}=Z3(r.ingredients);return r.regime=n,!t}async function iY(r,e){const t=rt.loading("Suppression de la recette...");try{await L6(r);try{await Ip("delete_recipe",r,Ee.userId||"",{},!0)}catch(n){console.warn("Sync GitHub Ã©chouÃ©e lors de la suppression:",n)}e&&await e(),rt.update(t,{state:"success",message:"Recette supprimÃ©e avec succÃ¨s"})}catch(n){throw console.error("Erreur suppression:",n),rt.update(t,{state:"error",message:"Erreur lors de la suppression"}),n}finally{setTimeout(()=>rt.dismiss(t),3e3)}}function oY(r,e,t){o(e)&&ct(`/recipe/${o(t)}/duplicate`)}function uY(r,e){w(e,!0)}var lY=_('<div class="flex items-center gap-2"><button class="btn btn-secondary btn-soft"><!> CrÃ©er une version alternative</button> <button class="btn btn-accent"><!> </button></div>'),cY=_('<div class="flex items-center justify-center py-20"><div class="loading loading-spinner loading-lg"></div></div>'),dY=_('<div class="mt-8 print:hidden"><!></div>'),fY=_(`<div class="alert alert-error alert-soft border-error mt-8 border-1"><!> <div class="flex-1"><h4 class="font-bold">Zone de danger</h4> <p class="text-sm">La suppression d'une recette est irrÃ©versible. Si elle Ã©tait
              utilisÃ© dans des Ã©vÃ©nements, ceux-ci n'y auront plus accÃ¨s. Vous
              Ãªtes seulÂ·e autorisÃ© Ã  supprimer une recettes que vous avez crÃ©e.
              Les versions alternatives crÃ©es Ã  partir de celle-ci ne seront pas
              supprimÃ©e.</p></div> <button class="btn btn-error btn-sm"> </button></div>`),hY=_('<div class="space-y-6"><!> <!> <!> <!> <!> <!></div>'),pY=_(`<div class="bg-base-100 rounded-t-box fixed bottom-0 left-0"><div class=" bg-warning/40 rounded-t-box flex size-full items-center px-4 py-1"><!> VÃ©rouillÃ© : document en cours d'Ã©dition par unÂ·e autre utilisateurÂ·ice.</div></div>`),vY=_('<div class="max-w-9xl container mx-auto px-4 py-8"><!></div> <!> <!> <!>',1);function mY(r,e){pe(e,!0);const t=R=>{var F=lY(),M=d(F);M.__click=[oY,a,n];var B=d(M);v2(B,{class:"h-4 w-4"});var q=p(M,2);q.__click=j;var $=d(q);Ba($,{class:"h-4 w-4"});var L=p($);P(()=>{M.disabled=!o(k)||o(u),q.disabled=!o(k)||o(u)||!o(b),O(L,` ${o(u)?"Sauvegarde...":"Sauvegarder"}`)}),v(R,F)},n=V(()=>e.params?.uuid);if(!o(n))throw rt.error("ID de recette manquant"),ct("/recipe"),new Error("recipeId is required");let a=ae(null),s=ae(!1),i=ae(!0),u=ae(!1),l=ae(null),c=null,f=ae(null),h=ae(!1),m=ae(!1),g=ot({value:{}});const b=V(()=>!o(a)||!o(f)?!1:ku(o(a))!==o(f));st(()=>{o(a)&&o(a).check!==!0&&(o(a).draft=!0)});const y=V(()=>!!o(l)&&o(l)!==Ee.userId),x=V(()=>!!o(l)&&o(l)===Ee.userId),k=V(()=>!o(y)&&!o(i)),S=V(()=>({materiel:Er.materiel,categories:Er.categories,regimes:Er.regimes}));st(()=>{Od()}),st(()=>{if(!Ee.userId){rt.error("Vous devez Ãªtre connectÃ©"),ct("/");return}}),st(()=>{o(n)&&!o(s)&&!o(i)||o(n)&&o(s)||o(n)&&!o(s)&&o(i)&&jt.getRecipeByUuid(o(n)).then(async R=>{R?(w(a,G3(R,{$createdAt:R.$createdAt,$updatedAt:R.$updatedAt,createdBy:R.createdBy}),!0),w(l,R.lockedBy||null,!0),w(s,!0),w(i,!1),await I()):(rt.error("Recette introuvable"),ct("/recipe"))}).catch(R=>{console.error("Erreur chargement:",R),rt.error("Erreur lors du chargement"),ct("/recipe")}).finally(()=>{w(i,!1)})}),st(()=>{o(a)&&o(s)&&!o(f)&&w(f,ku(o(a)),!0)}),st(()=>{St.setConfig({title:o(a)?.title||"Ãdition de recette",actions:t})}),Ir(async()=>{St.reset(),E(),o(x)&&!o(u)&&await T(),window.removeEventListener("beforeunload",A)});function A(R){o(b)&&(R.preventDefault(),R.returnValue="")}st(()=>{o(b)?window.addEventListener("beforeunload",A):window.removeEventListener("beforeunload",A)});function C(){E(),!(!o(n)||!o(x))&&(c=setInterval(async()=>{try{console.log("ð Heartbeat: Refreshing lock..."),await jt.updateRecipeLock(o(n),Ee.userId)}catch(R){console.error("â Heartbeat failed:",R)}},12e4))}function E(){c&&(clearInterval(c),c=null)}async function I(){if(!o(n)||!Ee.userId||!o(a))return!1;if((o(a).permissionWrite||[]).length<=1)return console.log("â¹ï¸ Verrou ignorÃ© (contributeur unique)"),!0;try{const F=o(a).lockedBy,M=o(a).$updatedAt?new Date(o(a).$updatedAt):null,B=M&&Date.now()-M.getTime()>3e5;if(F&&F!==Ee.userId)if(B)console.log("â³ Verrou prÃ©cÃ©dent expirÃ©, reprise de contrÃ´le...");else return!1;return await jt.updateRecipeLock(o(n),Ee.userId),w(l,Ee.userId,!0),console.log("ð Verrou acquis"),C(),!0}catch(F){return console.error("â Erreur acquisition verrou:",F),rt.error("Impossible de verrouiller la recette"),!1}}async function T(){if(o(n)){E();try{await jt.updateRecipeLock(o(n),null),w(l,null),console.log("ð Verrou libÃ©rÃ©")}catch(R){console.error("â Erreur libÃ©ration verrou:",R)}}}async function j(){if(!o(a)||o(u)||!Ee.userId||!Y3(o(a),g))return;w(u,!0);const F=rt.loading("Sauvegarde en cours...");try{const{regimes:M}=Z3(o(a).ingredients),q={...K3(o(a)),categories:o(a).categories,regime:M,saison:o(a).saison,ingredients:t2(o(a).ingredients),quantite_desc:o(a).quantite_desc,auteur:o(a).auteur,preparation24h:o(a).preparation24h,astuces:r2(o(a).astuces),prepAlt:o(a).prepAlt,$id:o(a).$id},$=await a2(o(n),q,Ee.userId);w(f,ku(o(a)),!0);const L=J3(o(a),q,{id:$.$id,createdAt:$.$createdAt,updatedAt:$.$updatedAt,createdBy:$.createdBy});Ip("save_recipe",o(n),Ee.userId,L,!0).catch(ne=>{console.error("Sync vers GitHub Ã©chouÃ©e:",ne)}),rt.update(F,{state:"success",message:"Recette sauvegardÃ©e !"}),await T()}catch(M){console.error("Erreur sauvegarde:",M),rt.update(F,{state:"error",message:"Erreur lors de la sauvegarde"})}finally{w(u,!1),setTimeout(()=>rt.dismiss(F),3e3)}}async function U(){if(o(n)){w(m,!0);try{await iY(o(n),async()=>{o(x)&&await T()}),setTimeout(()=>{ct("/recipe")},1500)}catch(R){console.error("Erreur lors de la suppression:",R)}finally{w(m,!1),w(h,!1)}}}var G=vY(),Q=z(G),ee=d(Q);{var oe=R=>{var F=cY();v(R,F)},H=R=>{var F=ce(),M=z(F);{var B=q=>{var $=hY(),L=d($);d_(L,{get recipeInfo(){return o(S)},get validationErrors(){return g.value},get canEdit(){return o(k)},get recipe(){return o(a)},set recipe(ue){w(a,ue,!0)}});var ne=p(L,2);W3(ne,{get validationErrors(){return g.value},get canEdit(){return o(k)},get recipe(){return o(a)},set recipe(ue){w(a,ue,!0)}});var Y=p(ne,2);Q3(Y,{get createdBy(){return o(a).createdBy},get canEdit(){return o(k)},get permissionWrite(){return o(a).permissionWrite},set permissionWrite(ue){o(a).permissionWrite=ue}});var W=p(Y,2);{var X=ue=>{{let se=V(()=>o(a).$id??"");l_(ue,{get auteur(){return o(a).auteur},get createdBy(){return o(a).createdBy},get id(){return o(se)},get createdAt(){return o(a).$createdAt},get updatedAt(){return o(a).$updatedAt}})}};D(W,ue=>{o(a).$createdAt&&ue(X)})}var N=p(W,2);{var ie=ue=>{var se=dY(),de=d(se);u_(de,{get recipeId(){return o(n)}}),v(ue,se)};D(N,ue=>{o(n)&&ue(ie)})}var re=p(N,2);{var le=ue=>{var se=fY(),de=d(se);ji(de,{class:"h-5 w-5 shrink-0"});var fe=p(de,4);fe.__click=[uY,h];var be=d(fe);P(()=>{fe.disabled=o(m),O(be,o(m)?"Suppression...":"Supprimer la recette")}),v(ue,se)};D(re,ue=>{o(k)&&ue(le)})}v(q,$)};D(M,q=>{o(a)&&q(B)},!0)}v(R,F)};D(ee,R=>{o(i)?R(oe):R(H,!1)})}var J=p(Q,2);{var K=R=>{var F=pY(),M=d(F),B=d(M);No(B,{class:"me-2 h-4 w-4"}),v(R,F)};D(J,R=>{o(y)&&R(K)})}var te=p(J,2);{let R=V(()=>`/recipe/${o(n)}/edit`);Bd(te,{get routeKey(){return o(R)},shouldProtect:()=>o(b)&&!o(y),onLeaveWithoutSave:async()=>{o(x)&&await T()},onSaveAndLeave:async()=>{await j()},message:"Vous avez des modifications non sauvegardÃ©es. Voulez-vous vraiment quitter ?"})}var Z=p(te,2);Si(Z,{get isOpen(){return o(h)},title:"Supprimer cette recette ?",message:"Cette action est irrÃ©versible, Ãªtes vous sur de vouloir supprimer cette recette ?",variant:"danger",confirmLabel:"Supprimer",cancelLabel:"Annuler",onConfirm:U,onCancel:()=>w(h,!1)}),v(r,G),ve()}tt(["click"]);var gY=_('<div class="flex items-center gap-2"><button class="btn btn-primary"><!> </button></div>'),bY=_('<div class="flex items-center justify-center py-20"><div class="loading loading-spinner loading-lg"></div></div>'),_Y=_('<div class="space-y-6"><!> <!> <!></div>'),yY=_('<div class="max-w-9xl container mx-auto px-4 py-8"><!></div> <!>',1);function jg(r,e){pe(e,!0);const t=E=>{var I=gY(),T=d(I);T.__click=b;var j=d(T);Ba(j,{class:"h-4 w-4"});var U=p(j);P(()=>{T.disabled=o(i)||!o(f),O(U,` ${o(i)?"Sauvegarde...":"CrÃ©er la recette"}`)}),v(E,I)},n=V(()=>e.params?.uuid);let a=ae(null),s=ae(!1),i=ae(!1),u=ae(null),l=ae(!1),c=ot({value:{}});const f=V(()=>!o(a)||!o(u)?!1:ku(o(a))!==o(u));st(()=>{o(a)&&o(a).check!==!0&&(o(a).draft=!0)});const h=V(()=>!0),m=V(()=>({materiel:Er.materiel,categories:Er.categories,regimes:Er.regimes}));st(()=>{Od()}),st(()=>{if(!Ee.userId){rt.error("Vous devez Ãªtre connectÃ©"),ct("/");return}}),st(()=>{if(!(o(s)||!Ee.userId)){if(o(n)&&!o(s)&&!o(i)){w(i,!0),jt.getRecipeByUuid(o(n)).then(async E=>{if(E){const I=Ee.userName||"utilisateur",T=E.rootRecipeId||E.$id,G=`v${(await jt.getVariantGroup(o(n))).variants.length+1} - ${I}`;w(a,G3(E,{title:E.title,$id:"new-recipe",$createdAt:void 0,$updatedAt:void 0,lockedBy:null,createdBy:Ee.userId||"",permissionWrite:[Ee.userId||""],check:null,draft:!0,rootRecipeId:T,versionLabel:G}),!0),w(s,!0)}else rt.error("Recette source introuvable"),ct("/recipe")}).catch(E=>{console.error("Erreur chargement:",E),rt.error("Erreur lors du chargement"),ct("/recipe")}).finally(()=>{w(i,!1)});return}if(!o(n)&&!o(s)){w(a,{...nY(),$id:"new-recipe"},!0),w(s,!0);return}}}),st(()=>{o(a)&&o(s)&&!o(u)&&w(u,ku(o(a)),!0)});const g=V(()=>o(n)?"Nouvelle version de recette":"Nouvelle recette");st(()=>{St.setConfig({title:o(g),actions:t})}),Ir(()=>{St.reset()});async function b(){if(!o(a)||o(i)||!Ee.userId||!Y3(o(a),c))return;w(i,!0);const I=rt.loading("Sauvegarde en cours...");try{o(a).$id=n2(o(a).title,o(a).versionLabel||void 0);const j={...K3(o(a)),ingredients:t2(o(a).ingredients),astuces:r2(o(a).astuces),prepAlt:o(a).prepAlt},U=await $6(j,Ee.userId);rt.update(I,{state:"success",message:"Recette crÃ©Ã©e avec succÃ¨s !"});const G=J3(o(a),j,{id:U.$id,createdAt:U.$createdAt,updatedAt:U.$updatedAt,createdBy:U.createdBy});Ip("save_recipe",U.$id,Ee.userId,G,!0).catch(Q=>{console.error("Sync vers GitHub Ã©chouÃ©e:",Q)}),w(l,!0),setTimeout(()=>{ct(`/recipe/${U.$id}`)},1500)}catch(T){console.error("Erreur sauvegarde:",T),rt.update(I,{state:"error",message:"Erreur lors de la crÃ©ation"})}finally{w(i,!1),setTimeout(()=>rt.dismiss(I),3e3)}}var y=yY(),x=z(y),k=d(x);{var S=E=>{var I=bY();v(E,I)},A=E=>{var I=ce(),T=z(I);{var j=U=>{var G=_Y(),Q=d(G);d_(Q,{get recipeInfo(){return o(m)},get validationErrors(){return c.value},canEdit:o(h),get recipe(){return o(a)},set recipe(H){w(a,H,!0)}});var ee=p(Q,2);W3(ee,{get validationErrors(){return c.value},canEdit:o(h),get recipe(){return o(a)},set recipe(H){w(a,H,!0)}});var oe=p(ee,2);Q3(oe,{get createdBy(){return o(a).createdBy},canEdit:o(h),get permissionWrite(){return o(a).permissionWrite},set permissionWrite(H){o(a).permissionWrite=H}}),v(U,G)};D(T,U=>{o(a)&&U(j)},!0)}v(E,I)};D(k,E=>{o(s)?E(A,!1):E(S)})}var C=p(x,2);{let E=V(()=>o(n)?`/recipe/${o(n)}/duplicate`:"/recipe/new");Bd(C,{get routeKey(){return o(E)},shouldProtect:()=>o(f)&&!o(l),onLeaveWithoutSave:()=>{},onSaveAndLeave:async()=>{await b()},message:"Vous avez des modifications non sauvegardÃ©es. Voulez-vous vraiment quitter ?"})}v(r,y),ve()}tt(["click"]);function xY(r,e){const t=r.reduce((a,s)=>a+s.missingQuantities.length,0),n=e.invoiceTotal?1:0;return t+n}async function wY(r,e,t){let n=null;try{const{account:u}=await vt();n=(await u.get()).$id}catch(u){console.warn("[Appwrite Transaction] Impossible de rÃ©cupÃ©rer l'utilisateur connectÃ©:",u)}const a=e.purchaseStatus||"delivered";let s=e.purchaseDeliveryDate||null;a==="delivered"&&!s&&(s=new Date().toISOString());const i=r.flatMap(u=>u.missingQuantities.map(l=>({productId:u.productId,quantity:l.q,unit:l.u,status:a,notes:e.notes||"",store:e.store||"",who:e.who||void 0,price:void 0,orderDate:null,deliveryDate:s,createdBy:n})));return{mainId:t,purchasesData:i,invoiceData:e,fromUserId:n||""}}function kY(r,e,t=98){const n=[];let a=[],s=0;const i=!!e.invoiceTotal;let u=!1;for(const l of r){const c=l.missingQuantities.length;let f=s+c>t;i&&!u&&a.length>0&&(f=s+c+1>t),f&&a.length>0?(n.push(a),a=[l],s=c,u=!1):(a.push(l),s+=c)}return a.length>0&&n.push(a),n}async function EY(r){try{const e=el(),{functions:t}=await vt(),n={operation:"createGroupPurchaseWithSync",data:r};console.log(`[Appwrite Interactions] ExÃ©cution du lot: ${r.purchasesData.length} achats Ã  crÃ©er`);const a=await t.createExecution(e.APPWRITE_CONFIG.functions.batchUpdate,JSON.stringify(n),!1,"/","POST");if(a.status!=="completed")throw new Error(`ExÃ©cution Ã©chouÃ©e avec statut: ${a.status}.`);const s=JSON.parse(a.responseBody);return s.success?console.log(`[Appwrite Interactions] Lot exÃ©cutÃ© avec succÃ¨s: ${s.purchasesCreated} achats crÃ©Ã©s`):console.error("[Appwrite Interactions] Lot Ã©chouÃ©:",s.error),s}catch(e){console.error("[Appwrite Interactions] Erreur exÃ©cution lot:",e);const t=e instanceof Error?e.message:"Erreur inconnue";return{success:!1,productsCreated:0,purchasesCreated:0,expenseCreated:!1,totalOperations:0,invoiceId:r.invoiceData.invoiceId,error:t,timestamp:new Date().toISOString()}}}async function SY(r,e,t){if(!e?.length)return{success:!1,results:[],totalProductsCreated:0,totalPurchasesCreated:0,totalExpensesCreated:0,error:"Aucun produit Ã  traiter"};const n=xY(e,t);console.log(`[Appwrite Interactions] Achat groupÃ©: ${e.length} produits, ${n} achats Ã  crÃ©er`);const a=kY(e,t,98);console.log(`[Appwrite Interactions] DÃ©coupage en ${a.length} lot(s) pour respecter la limite de 100 achats par lot`);const s=[];let i=0,u=0,l=0;for(let h=0;h<a.length;h++){const m=a[h];console.log(`[Appwrite Interactions] ExÃ©cution du lot ${h+1}/${a.length} (${m.length} produits)`);try{const g=await wY(m,t,r),b=await Yb(()=>EY(g),{operationName:`Lot ${h+1}/${a.length}`,maxAutoRetries:1,autoRetryDelay:2e3});if(!b)throw new Error("OpÃ©ration annulÃ©e ou Ã©chouÃ©e aprÃ¨s tentatives");if(s.push(b),b.success)i+=b.productsCreated,u+=b.purchasesCreated,l+=b.expenseCreated?1:0;else{console.error(`[Appwrite Interactions] Erreur sur le lot ${h+1}: ${b.error}`);break}}catch(g){const b=g instanceof Error?g.message:"Erreur inconnue";console.error(`[Appwrite Interactions] Erreur lors de l'exÃ©cution du lot ${h+1}:`,g),s.push({success:!1,productsCreated:0,purchasesCreated:0,expenseCreated:!1,totalOperations:0,invoiceId:t.invoiceId,error:b,timestamp:new Date().toISOString()});break}}const c=s.every(h=>h.success),f=s.some(h=>!h.success);return{success:c,results:s,totalProductsCreated:i,totalPurchasesCreated:u,totalExpensesCreated:l,error:f?"Un ou plusieurs lots ont Ã©chouÃ©":void 0}}var AY=_('<div><label class="input w-72"><!> <input/></label> <!></div>');function Bo(r,e){pe(e,!0);let t=ke(e,"value",15),n=ke(e,"suggestions",19,()=>[]),a=ke(e,"disabled",3,!1),s=ke(e,"flexCol",3,!1),i=Fe(e,["$$slots","$$events","$$legacy","value","suggestions","disabled","flexCol"]);const u=V(()=>n().map(b=>({id:b,label:b,disabled:b===t()})));var l=AY(),c=d(l),f=d(c);Ma(f,{class:"h-4 w-4 opacity-50"});var h=p(f,2);ut(h,()=>({type:"text",placeholder:"Magasin",maxlength:"50",disabled:a(),...i}),void 0,void 0,void 0,!0);var m=p(c,2);{var g=b=>{zp(b,{get suggestions(){return o(u)},onSuggestionClick:y=>t(y.label),buttonSize:"btn-xs"})};D(m,b=>{n().length>0&&b(g)})}P(()=>_e(l,1,`flex ${s()?"flex-col":"flex-wrap"} items-baseline gap-x-4 gap-y-1`)),ft(h,t),v(r,l),ve()}var DY=_('<div><label class="input w-72"><!> <input type="text" placeholder="Qui" maxlength="25"/></label> <!></div>');function yl(r,e){pe(e,!0);let t=ke(e,"value",15),n=ke(e,"suggestions",19,()=>[]),a=ke(e,"disabled",3,!1),s=ke(e,"flexCol",3,!1);const i=V(()=>n().map(g=>({id:g,label:g,disabled:g===t()})));var u=DY(),l=d(u),c=d(l);Hi(c,{class:"h-4 w-4 opacity-50"});var f=p(c,2);f.__keydown=function(...g){e.onkeydown?.apply(this,g)};var h=p(l,2);{var m=g=>{zp(g,{get suggestions(){return o(i)},onSuggestionClick:b=>t(b.label),buttonSize:"btn-xs"})};D(h,g=>{n().length>0&&g(m)})}P(()=>{_e(u,1,`flex ${s()?"flex-col":"flex-wrap"} items-baseline gap-x-4 gap-y-1`),f.disabled=a()}),ft(f,t),v(r,u),ve()}tt(["keydown"]);var CY=_('<textarea class="textarea w-full text-sm" placeholder="Commentaire (optionnel)" rows="2" maxlength="250"></textarea>');function Fo(r,e){pe(e,!0);let t=ke(e,"value",15),n=ke(e,"disabled",3,!1);var a=CY();P(()=>{a.disabled=n(),dt(a,"id",e.id)}),ft(a,t),v(r,a),ve()}var IY=_('<label class="input w-28"><!> <input type="number" step="1" min="0" placeholder="0.00"/></label>');function uv(r,e){pe(e,!0);let t=ke(e,"value",15),n=ke(e,"disabled",3,!1);var a=IY(),s=d(a);LE(s,{class:"h-4 w-4 opacity-50"});var i=p(s,2);P(()=>i.disabled=n()),ft(i,t),v(r,a),ve()}var TY=_('<label class="input"><span class="label">Date de livraison prÃ©vue</span> <input type="date"/></label>'),MY=_(`<div class="flex w-full flex-wrap gap-4"><div class="flex flex-col"><select class="custom-select input w-52"><option selected>AchetÃ©</option><option>CommandÃ©</option></select> <div>Modifiez s'il s'agit d'une commande</div></div> <!></div>`);function X3(r,e){pe(e,!0);let t=ke(e,"status",15),n=ke(e,"deliveryDate",15),a=ke(e,"disabled",3,!1);var s=MY(),i=d(s),u=d(i),l=d(u);l.value=l.__value="delivered";var c=p(l);c.value=c.__value="ordered";var f=p(u,2),h=p(i,2);{var m=g=>{var b=TY(),y=p(d(b),2);P(()=>y.disabled=a()),ft(y,n),v(g,b)};D(h,g=>{t()==="ordered"&&g(m)})}P(()=>{u.disabled=a(),_e(f,1,`label text-xs ${t()==="delivered"?"":"hidden"}`)}),$n(u,t),v(r,s),ve()}var RY=_('<div class="alert alert-error"><!> <span> </span></div>'),NY=_(`<p>Cette fonctionnalitÃ© permet de crÃ©er un achat groupÃ© pour plusieurs
            produits en une seule fois. Les quantitÃ©s dÃ©clarÃ©es dans les achats
            correspondront aux quantitÃ©s manquantes <strong>pour la pÃ©riode sÃ©lectionnÃ©e</strong>, c'est Ã  dire le besoin total pour chaque produit sur cette
            pÃ©riode moins les achats ou stocks dÃ©jÃ  dÃ©clarÃ©s.</p> <p>Pour le suivi des dÃ©penses, vous pouvez renseigner votre nom et le
            montant dÃ©pensÃ©.</p>`,1),PY=_('<div><h4 class="mb-2 font-medium">Produits concernÃ©s</h4> <div class="text-base-content/70 mb-4 text-sm">Les quantitÃ©s manquantes du <span class="badge badge-info badge-sm"> </span> au <span class="badge badge-info badge-sm"> </span> pour les produits suivants seront dÃ©clarÃ©es "achetÃ©es"</div> <!></div>'),$Y=_('<div class="alert alert-warning alert-soft font-medium">Aucun besoin dans le groupe sÃ©lÃ©ctionnÃ©</div>'),LY=_(`<div class="space-y-6"><!> <div><!></div> <div class="space-y-4"><h4 class="font-medium">DÃ©tails de l'achat</h4> <div class="flex flex-col gap-4 sm:flex-row"><div class="flex-1"><!></div> <div class="flex-1"><!></div></div> <!> <!> <!></div> <!></div>`),OY=_('<span class="loading loading-spinner loading-sm"></span> En cours...',1),BY=_('<!> <span>Valider <span class="hidden sm:inline"> </span></span>',1),FY=_('<div class="flex"><button class="btn btn-ghost">Annuler</button> <button class="btn btn-primary"><!></button></div>'),zY=_("<!> <!> <!>",1);function qY(r,e){pe(e,!0);let t=ae(!1),n=ae(null),a=ot({store:"",who:"",expense:null,notes:"",status:"delivered",deliveryDate:null}),s=ae(ot(new Set));st(()=>{w(s,new Set(e.products.map(m=>m.$id)),!0)});const i=V(()=>e.products.filter(m=>o(s).has(m.$id))),u=V(()=>o(i).length!==0),l=V(()=>{const m=Xe.dateRange;let g="";return m?.start&&m?.end&&(m.start===m.end?g=` - ${Da(m.start)}`:g=` - Du ${Da(m.start)} au ${Da(m.end)}`),`Achat groupÃ© (${o(i).length} produit${o(i).length>1?"s":""})${g}`});async function c(){if(!o(u)||o(t))return;w(t,!0),w(n,null);const m=`FACTURE_${Date.now()}`,g=o(i).map(x=>x.$id);Xe.setSyncStatus(g,!0),Ee.backgroundOperation={isRunning:!0,name:`Achat groupÃ© (${o(i).length} produits)`,progress:0};const b=[];for(const x of o(i)){const S=(Xe.getProductModelById(x.$id)?.stats.missingQuantities||[]).filter(A=>A.q<0).map(A=>({...A,q:Math.abs(A.q)}));b.push({productId:x.$id,isSynced:x.isSynced,missingQuantities:S})}const y={invoiceId:m,invoiceTotal:a.expense||void 0,store:a.store.trim()||void 0,notes:a.notes||`Achat groupÃ© pour ${o(i).length} produits`,who:a.who.trim()||void 0,purchaseStatus:a.status||"delivered",purchaseDeliveryDate:a.deliveryDate||null};console.log(`[GroupPurchaseModal] CrÃ©ation achat groupÃ© avec sync pour ${b.length} produits...`),e.onClose();try{await rt.track(SY(Xe.currentMainId,b,y).then(x=>{if(console.log(`[GroupPurchaseModal] Achat groupÃ© crÃ©Ã©: ${x.success?"succÃ¨s":"Ã©chec"}, ${x.totalProductsCreated} produits synchronisÃ©s, ${x.totalPurchasesCreated} achats crÃ©Ã©s, ${x.totalExpensesCreated} dÃ©penses globales`),!x.success)throw new Error(x.error||"Erreur lors de la crÃ©ation de l'achat groupÃ©");return Xe.clearSyncStatus(),console.log("[GroupPurchaseModal] â Sync status cleared on success"),e.onSuccess?.(),x}),{loading:"CrÃ©ation de l'achat groupÃ© en cours...",success:"Achat groupÃ© crÃ©Ã© avec succÃ¨s",error:"Erreur lors de la crÃ©ation de l'achat groupÃ©"})}catch(x){console.error("[GroupPurchaseModal] Erreur crÃ©ation achat groupÃ©:",x),Xe.clearSyncStatus()}finally{w(t,!1),Ee.backgroundOperation={isRunning:!1,name:"",progress:0}}}function f(m){const g=new Set(o(s));g.has(m)?g.delete(m):g.add(m),w(s,g,!0)}const h=V(()=>e.products.map(m=>{const g=Xe.getProductModelById(m.$id);return{id:m.$id,label:m.productName,title:`${m.productName} - Manque: ${g?.stats.formattedMissingQuantities||"-"}`,badge:g?.stats.formattedMissingQuantities||"-"}}));on(r,{isOpen:!0,get onClose(){return e.onClose},hasUnsavedChanges:!1,fullscreenOnMobile:!0,children:(m,g)=>{var b=zY(),y=z(b);Hr(y,{get title(){return o(l)},showBackButton:!0,get onClose(){return e.onClose}});var x=p(y,2);Zr(x,{children:(S,A)=>{var C=LY(),E=d(C);{var I=M=>{var B=RY(),q=d(B);Cr(q,{class:"h-4 w-4"});var $=p(q,2),L=d($);P(()=>O(L,o(n))),v(M,B)};D(E,M=>{o(n)&&M(I)})}var T=p(E,2),j=d(T);$2(j,{contentVisible:"Un 'achat' sera crÃ©Ã© avec les quantitÃ©s manquantes pour chaque produit sur la pÃ©riode sÃ©lectionnÃ©e.",class:"bg-base-200",children:(M,B)=>{var q=NY();v(M,q)},$$slots:{default:!0}});var U=p(T,2),G=p(d(U),2),Q=d(G),ee=d(Q);Bo(ee,{get suggestions(){return Xe.uniqueStores},get disabled(){return o(t)},get value(){return a.store},set value(M){a.store=M}});var oe=p(Q,2),H=d(oe);yl(H,{get suggestions(){return Xe.uniqueWho},get disabled(){return o(t)},get value(){return a.who},set value(M){a.who=M}});var J=p(G,2);uv(J,{get disabled(){return o(t)},get value(){return a.expense},set value(M){a.expense=M}});var K=p(J,2);X3(K,{get disabled(){return o(t)},get status(){return a.status},set status(M){a.status=M},get deliveryDate(){return a.deliveryDate},set deliveryDate(M){a.deliveryDate=M}});var te=p(K,2);Fo(te,{get disabled(){return o(t)},get value(){return a.notes},set value(M){a.notes=M}});var Z=p(U,2);{var R=M=>{var B=PY(),q=p(d(B),2),$=p(d(q)),L=d($),ne=p($,2),Y=d(ne),W=p(q,2);Fa(W,{get items(){return o(h)},onToggleItem:f,size:"sm",color:"success"}),P((X,N)=>{O(L,X),O(Y,N)},[()=>Da(Xe.dateRange.start),()=>Da(Xe.dateRange.end)]),v(M,B)},F=M=>{var B=$Y();v(M,B)};D(Z,M=>{o(h).length>0?M(R):M(F,!1)})}v(S,C)}});var k=p(x,2);Sn(k,{children:(S,A)=>{var C=FY(),E=d(C);E.__click=function(...G){e.onClose?.apply(this,G)};var I=p(E,2);I.__click=c;var T=d(I);{var j=G=>{var Q=OY();v(G,Q)},U=G=>{var Q=BY(),ee=z(Q);us(ee,{class:"h-4 w-4"});var oe=p(ee,2),H=p(d(oe)),J=d(H);P(()=>O(J,`${o(i).length??""} produit${o(i).length>1?"s":""}`)),v(G,Q)};D(T,G=>{o(t)?G(j):G(U,!1)})}P(()=>{E.disabled=o(t),I.disabled=o(t)||!o(u)}),v(S,C)}}),v(m,b)},$$slots:{default:!0}}),ve()}tt(["click"]);const jY=[{value:"kg",label:"kg"},{value:"gr.",label:"gr."},{value:"l.",label:"l."},{value:"ml",label:"ml"},{value:"unitÃ©",label:"unitÃ©Â·s"},{value:"bottes",label:"botteÂ·s"}];var HY=_("<option> </option>"),UY=_('<fieldset class="fieldset"><div class="flex gap-2"><label class="input w-32"><!> <input class="w-full text-center" type="number" step="1" min="0" placeholder="QuantitÃ©" required/></label> <label class="input w-44"><span class="fieldset-label">unitÃ©</span> <select class="custom-select w-full text-end" required><option disabled selected>-</option><!></select></label></div></fieldset>');function lf(r,e){pe(e,!0);let t=ke(e,"quantity",15),n=ke(e,"unit",15),a=ke(e,"disabled",3,!1);var s=UY(),i=d(s),u=d(i),l=d(u);va(l,{class:"h-4 w-4 opacity-50"});var c=p(l,2),f=p(u,2),h=p(d(f),2),m=d(h);m.value=m.__value="";var g=p(m);ze(g,17,()=>jY,bt,(b,y)=>{let x=()=>o(y).value,k=()=>o(y).label;var S=HY(),A=d(S),C={};P(()=>{O(A,k()),C!==(C=x())&&(S.value=(S.__value=x())??"")}),v(b,S)}),P(()=>{c.disabled=a(),h.disabled=a()}),ft(c,t),$n(h,n),v(r,s),ve()}var VY=_('<div class="alert alert-error text-sm"><!> <span> </span></div>'),WY=(r,e)=>e(!0),QY=_('<span class="loading loading-spinner"></span>'),GY=_('<span class="loading loading-spinner"></span>'),KY=_('<form class="flex h-full flex-col space-y-4"><!> <fieldset class="space-y-4"><div class="flex flex-wrap gap-4"><fieldset class="fieldset"><label class="input w-72"><!> <input id="product-name" type="text" placeholder="Nom du produit"/></label></fieldset> <!></div> <fieldset class="fieldset"><div class="flex flex-wrap items-baseline gap-2"><label class="input w-72"><input id="product-type" type="text" placeholder="type / catÃ©gorie"/></label> <!></div></fieldset> <!> <!> <div class="flex flex-wrap gap-x-6"><fieldset class="fieldset"><label class="label cursor-pointer justify-start gap-2"><input type="checkbox" class="checkbox checkbox-success"/> <span class="label-text flex items-center gap-2">Produit frais</span></label></fieldset> <fieldset class="fieldset"><label class="label cursor-pointer justify-start gap-2"><input type="checkbox" class="checkbox checkbox-info"/> <span class="label-text flex items-center gap-2">Produit surgelÃ©</span></label></fieldset></div> <div class="border-base-300 mt-auto flex flex-wrap items-center justify-between gap-2 border-t pt-4"><button type="button" class="btn btn-ghost">Annuler</button> <div class="flex gap-2"><button type="button" class="btn btn-secondary"><!> Ajouter et crÃ©er un nouveau</button> <button type="submit" class="btn btn-primary"><!> Ajouter et fermer</button></div></div></fieldset></form>'),JY=_("<!> <!>",1);function ZY(r,e){pe(e,!0);let t=ke(e,"open",15,!1),n=ae(!1),a=ae(null),s=ae(!1),i=ae(ot({productName:"",productType:"",store:"",who:"",pF:!1,pS:!1,quantity:null,unit:""}));const u=V(()=>o(i).productName.trim().length>0&&o(i).productType.trim().length>0),l=V(()=>Xe.uniqueProductTypes.map(h=>({id:h,label:h})));async function c(h=!1){if(!(!o(u)||o(n))){w(n,!0),w(a,null),w(s,!1);try{if(!Xe.currentMainId)throw new Error("Aucun Ã©vÃ©nement principal sÃ©lectionnÃ©");const m={productName:o(i).productName.trim(),productType:o(i).productType.trim(),store:o(i).store.trim()?{storeName:o(i).store.trim()}:void 0,who:o(i).who.trim()?[o(i).who.trim()]:void 0,pF:o(i).pF,pS:o(i).pS,quantity:o(i).quantity?{q:o(i).quantity,u:o(i).unit.trim()||"piÃ¨ces"}:void 0};await h6(m,Xe.currentMainId),w(s,!0),h?(o(i).productName="",o(i).quantity=null,o(i).unit="",o(i).pF=!1,o(i).pS=!1,setTimeout(()=>{document.getElementById("product-name")?.focus()},100)):(t(!1),w(i,{productName:"",productType:"",store:"",who:"",pF:!1,pS:!1,quantity:null,unit:""},!0))}catch(m){console.error("Error creating product:",m),w(a,"Erreur lors de la crÃ©ation du produit. Veuillez rÃ©essayer.")}finally{w(n,!1)}}}function f(){t(!1),w(i,{productName:"",productType:"",store:"",who:"",pF:!1,pS:!1,quantity:null,unit:""},!0),w(a,null)}st(()=>{t()&&setTimeout(()=>{document.getElementById("product-name")?.focus()},50)}),on(r,{get isOpen(){return t()},onClose:f,children:(h,m)=>{var g=JY(),b=z(g);Hr(b,{title:"Ajouter un produit",onClose:f});var y=p(b,2);Zr(y,{children:(x,k)=>{var S=KY(),A=d(S);{var C=de=>{var fe=VY(),be=d(fe);Cr(be,{size:18});var ye=p(be,2),De=d(ye);P(()=>O(De,o(a))),v(de,fe)};D(A,de=>{o(a)&&de(C)})}var E=p(A,2),I=d(E),T=d(I),j=d(T),U=d(j);E2(U,{class:"text-base-content/50 h-5 w-5"});var G=p(U,2),Q=p(T,2);lf(Q,{get disabled(){return o(n)},get quantity(){return o(i).quantity},set quantity(de){o(i).quantity=de},get unit(){return o(i).unit},set unit(de){o(i).unit=de}});var ee=p(I,2),oe=d(ee),H=d(oe),J=d(H),K=p(H,2);zp(K,{get suggestions(){return o(l)},onSuggestionClick:de=>o(i).productType=de.label,get disabled(){return o(n)}});var te=p(ee,2);Bo(te,{get suggestions(){return Xe.uniqueStores},get disabled(){return o(n)},get value(){return o(i).store},set value(de){o(i).store=de}});var Z=p(te,2);yl(Z,{get suggestions(){return Xe.uniqueWho},get disabled(){return o(n)},get value(){return o(i).who},set value(de){o(i).who=de}});var R=p(Z,2),F=d(R),M=d(F),B=d(M),q=p(F,2),$=d(q),L=d($),ne=p(R,2),Y=d(ne);Y.__click=f;var W=p(Y,2),X=d(W);X.__click=[WY,c];var N=d(X);{var ie=de=>{var fe=QY();v(de,fe)},re=de=>{Zt(de,{size:18})};D(N,de=>{o(n)?de(ie):de(re,!1)})}var le=p(X,2),ue=d(le);{var se=de=>{var fe=GY();v(de,fe)};D(ue,de=>{o(n)&&de(se)})}P(()=>{E.disabled=o(n),G.disabled=o(n),J.disabled=o(n),B.disabled=o(n),L.disabled=o(n),Y.disabled=o(n),X.disabled=o(n)||!o(i).productName,le.disabled=o(n)||!o(i).productName}),_t("submit",S,de=>{de.preventDefault(),c(!1)}),ft(G,()=>o(i).productName,de=>o(i).productName=de),ft(J,()=>o(i).productType,de=>o(i).productType=de),Xr(B,()=>o(i).pF,de=>o(i).pF=de),Xr(L,()=>o(i).pS,de=>o(i).pS=de),v(x,S)}}),v(h,g)},$$slots:{default:!0}}),ve()}tt(["click"]);class YY{constructor(e,t="recettes"){this.productId=e,this.currentTab=t,this.initForms()}#e=ae(!1);get loading(){return o(this.#e)}set loading(e){w(this.#e,e,!0)}#t=ae(null);get error(){return o(this.#t)}set error(e){w(this.#t,e,!0)}#r=ae("recettes");get currentTab(){return o(this.#r)}set currentTab(e){w(this.#r,e,!0)}#s=V(()=>Xe.getProductModelById(this.productId));get productModel(){return o(this.#s)}set productModel(e){w(this.#s,e)}#n=V(()=>this.productModel?.data??null);get product(){return o(this.#n)}set product(e){w(this.#n,e)}#a=V(()=>this.product?.who??[]);get whoList(){return o(this.#a)}set whoList(e){w(this.#a,e)}#i=V(()=>this.product?.stockParsed??null);get stockParsed(){return o(this.#i)}set stockParsed(e){w(this.#i,e)}#c=V(()=>this.product?.purchases??[]);get purchasesList(){return o(this.#c)}set purchasesList(e){w(this.#c,e)}#d=V(()=>this.product?.byDate?ck(this.product.byDate):[]);get recipes(){return o(this.#d)}set recipes(e){w(this.#d,e)}#u=ae(ot({purchase:{quantity:null,unit:"",store:"",who:Ee.userName??"",price:null,notes:"",status:null,orderDate:null,deliveryDate:null},stock:{quantity:null,unit:"",notes:"",dateTime:new Date().toISOString()},store:{name:null,comment:null},who:[]}));get forms(){return o(this.#u)}set forms(e){w(this.#u,e,!0)}#l=ae(ot({overrideManagerEditMode:!1}));get uiStates(){return o(this.#l)}set uiStates(e){w(this.#l,e,!0)}#f=ae(null);get editingPurchaseId(){return o(this.#f)}set editingPurchaseId(e){w(this.#f,e,!0)}#h=V(()=>this.editingPurchaseId?this.purchasesList.find(e=>e.$id===this.editingPurchaseId)??null:null);get editingPurchaseData(){return o(this.#h)}set editingPurchaseData(e){w(this.#h,e)}#o=ae(null);get originalFormsSnapshot(){return o(this.#o)}set originalFormsSnapshot(e){w(this.#o,e,!0)}initForms(){const e=Xe.getProductModelById(this.productId);if(!e||!e.data)return;const t=e.stats.missingQuantities[0];if(t){const{value:n,unit:a}=vi(Math.abs(t.q),t.u);this.forms.purchase.quantity=n,this.forms.purchase.unit=a}else this.forms.purchase.quantity=null,this.forms.purchase.unit=e.data.totalNeededArray?.[0]?.u??"";this.forms.purchase.store=e.data.storeInfo?.storeName??"",this.forms.purchase.who=Ee.userName??"",this.forms.purchase.status="delivered",this.forms.stock.unit=e.data.totalNeededArray?.[0]?.u??"",this.forms.store.name=e.data.storeInfo?.storeName??"",this.forms.store.comment=e.data.storeInfo?.storeComment??null,this.forms.who=e.data.who?[...e.data.who]:[],this.originalFormsSnapshot={purchase:{...this.forms.purchase},stock:{...this.forms.stock},store:{...this.forms.store},whoList:[...this.forms.who]}}#v=V(()=>this.originalFormsSnapshot?{store:this.forms.store.name!==this.originalFormsSnapshot.store.name||this.forms.store.comment!==this.originalFormsSnapshot.store.comment,stock:this.hasStockChanges(),who:JSON.stringify(this.forms.who)!==JSON.stringify(this.originalFormsSnapshot.whoList)}:{store:!1,stock:!1,who:!1});get hasChanges(){return o(this.#v)}set hasChanges(e){w(this.#v,e)}#p=V(()=>!!(this.originalFormsSnapshot&&(this.hasChanges.store||this.hasChanges.stock||this.hasChanges.who)));get hasAnyChanges(){return o(this.#p)}set hasAnyChanges(e){w(this.#p,e)}hasStockChanges(){return this.isStockFormValid?this.stockParsed?this.forms.stock.quantity.toString()!==this.stockParsed.quantity||this.forms.stock.unit!==this.stockParsed.unit||(this.forms.stock.notes||"")!==(this.stockParsed.notes||""):!0:!1}get isPurchaseFormValid(){return this.forms.purchase.quantity!==null&&this.forms.purchase.quantity!==0&&(this.forms.purchase.unit?.trim()??"")!==""}get isStockFormValid(){return this.forms.stock.quantity!==null&&this.forms.stock.quantity>0&&(this.forms.stock.unit?.trim()??"")!==""}setCurrentTab(e){this.currentTab=e}async addPurchase(){this.product&&await this.withLoading(async()=>{if(!this.forms.purchase.quantity||!this.forms.purchase.unit.trim())throw new Error("Veuillez remplir les champs obligatoires");if(!Xe.currentMainId)throw new Error("mainId non disponible");const{value:e,unit:t}=vi(this.forms.purchase.quantity,this.forms.purchase.unit);this.product.isSynced||await xs(this.product.$id,{},h=>Xe.getEnrichedProductById(h));const n=this.forms.purchase.status||"delivered";let a=this.forms.purchase.deliveryDate||null;n==="delivered"&&!a&&(a=new Date().toISOString());const s=is.normalize(e,t),i=s.quantity,u=s.unit;await _6({products:[this.product.$id],mainId:Xe.currentMainId,unit:u,quantity:i,store:this.forms.purchase.store||null,who:this.forms.purchase.who||null,notes:this.forms.purchase.notes||"",price:this.forms.purchase.price||null,status:n,orderDate:this.forms.purchase.orderDate||null,deliveryDate:a,invoiceId:null,invoiceTotal:null});const l=this.product.missingQuantityArray[0];let c=null,f=this.product.totalNeededArray[0]?.u??"";if(l){const{value:h,unit:m}=vi(Math.abs(l.q),l.u);c=h,f=m}this.forms.purchase={quantity:c,unit:f,store:this.forms.purchase.store,who:this.forms.purchase.who,price:null,notes:"",status:null,orderDate:null,deliveryDate:null}},"Achat ajoutÃ© avec succÃ¨s")}startEditPurchase(e){this.editingPurchaseId=e.$id}cancelEditPurchase(){this.editingPurchaseId=null}async updateEditedPurchase(e){e.$id&&await this.withLoading(async()=>{const t=is.normalize(e.quantity,e.unit),n=e.status||null;let a=e.deliveryDate||null;n==="delivered"&&!a&&(a=new Date().toISOString()),await Xb(e.$id,{unit:t.unit,quantity:t.quantity,store:e.store||null,who:e.who||null,notes:e.notes||"",price:e.price||null,status:n,orderDate:e.orderDate||null,deliveryDate:a}),this.editingPurchaseId=null},"Achat modifiÃ© avec succÃ¨s")}async removePurchase(e){const t=this.purchasesList.find(n=>n.$id===e);t&&confirm(`Supprimer cet achat (${t.quantity} ${t.unit}) ?`)&&await this.withLoading(async()=>{await y6(e)},"Achat supprimÃ© avec succÃ¨s")}async setStock(){this.product&&await this.withLoading(async()=>{if(!this.forms.stock.quantity||!this.forms.stock.unit)throw new Error("Veuillez remplir les champs obligatoires");const e=is.normalize(this.forms.stock.quantity,this.forms.stock.unit),t={quantity:e.quantity.toString(),unit:e.unit,notes:this.forms.stock.notes,dateTime:this.forms.stock.dateTime};this.product.isSynced?await Xv(this.product.$id,JSON.stringify(t)):await xs(this.product.$id,{stockReel:JSON.stringify(t)},n=>Xe.getEnrichedProductById(n)),this.forms.stock.quantity=null,this.forms.stock.notes="",this.forms.stock.dateTime=new Date().toISOString()},"Stock mis Ã  jour")}async removeStock(){this.product&&confirm("Supprimer le stock actuel ?")&&await this.withLoading(async()=>{this.product.isSynced?await Xv(this.product.$id,null):await xs(this.product.$id,{stockReel:null},e=>Xe.getEnrichedProductById(e))},"Stock supprimÃ©")}async setWho(e){this.product&&await this.withLoading(async()=>{this.product.isSynced?await v6(this.product.$id,e):await xs(this.product.$id,{who:e},t=>Xe.getEnrichedProductById(t))},"Volontaires mis Ã  jour")}async updateStore(e){this.product&&await this.withLoading(async()=>{this.product.isSynced?await p6(this.product.$id,e):await xs(this.product.$id,{store:JSON.stringify(e)},t=>Xe.getEnrichedProductById(t))},"Magasin mis Ã  jour")}async setOverride(e){this.product&&await this.withLoading(async()=>{this.product.isSynced?await m6(this.product.$id,e,!0):await xs(this.product.$id,{totalNeededOverride:JSON.stringify(e)},t=>Xe.getEnrichedProductById(t))},"Override appliquÃ©")}async removeOverride(){this.product&&confirm("Supprimer l'override manuel et revenir au calcul automatique ?")&&await this.withLoading(async()=>{await g6(this.product.$id,!0)},"Override supprimÃ©")}async saveAllChanges(){!this.product||!this.hasAnyChanges||await this.withLoading(async()=>{const e={};if(this.hasChanges.stock&&this.forms.stock.quantity&&this.forms.stock.unit){const t={quantity:this.forms.stock.quantity.toString(),unit:this.forms.stock.unit,notes:this.forms.stock.notes,dateTime:this.forms.stock.dateTime};e.stockReel=JSON.stringify(t)}if(this.hasChanges.who&&(e.who=this.forms.who),this.hasChanges.store){const t={storeName:this.forms.store.name||"",storeComment:this.forms.store.comment||void 0};e.storeInfo=t}Object.keys(e).length>0&&(await b6(this.product.$id,e,t=>Xe.getEnrichedProductById(t)),this.originalFormsSnapshot={purchase:{...this.forms.purchase},stock:{...this.forms.stock},store:{...this.forms.store},whoList:[...this.forms.who]})},"Modifications enregistrÃ©es")}resetForms(){this.uiStates.overrideManagerEditMode=!1,this.editingPurchaseId=null,this.initForms(),console.log("[ProductModalState] Formulaires et Ã©tats UI rÃ©initialisÃ©s")}async withLoading(e,t){this.loading=!0,this.error=null;try{const n=await e();return t&&this.showToast("success",t),n}catch(n){const a=n instanceof Error?n.message:"Une erreur est survenue";return this.error=a,this.showToast("error",a),console.error("[ProductModalState]",n),null}finally{this.loading=!1}}showToast(e,t){const n=new CustomEvent("toast",{detail:{type:e,message:t}});window.dispatchEvent(n)}formatQuantity=(e,t)=>la(e,t);formatDate=z2}var XY=_('<div class="text-base-content/60 mb-1 text-xs font-medium"> </div>'),eX=_('<div class="text-base-content/60 mt-1 text-xs"> </div>'),tX=_('<div class="font-medium"> </div> <!>',1),rX=_('<pre class="text-xs"> </pre>'),nX=_('<span class="text-base-content/50 italic">Non dÃ©fini</span>'),aX=_('<div class="bg-base-300/50 rounded p-2 text-left"><!> <div class="text-sm"><!></div></div>'),sX=_('<div class="bg-base-200 border-warning/20 rounded-lg border p-4 text-center"><div class="mb-2 flex items-center justify-center gap-2"><!> <!> <span class="text-warning font-medium"> </span></div> <p class="text-base-content/70 mb-3 text-sm"> </p> <!></div>');function cf(r,e){pe(e,!0);let t=ke(e,"title",3,"ÃvÃ©nement terminÃ©"),n=ke(e,"message",3,"Cet Ã©vÃ©nement est terminÃ©. Ces donnÃ©es ne sont plus modifiables mais sont conservÃ©es pour consultation."),a=ke(e,"showData",3,!0),s=ke(e,"data",3,null),i=ke(e,"dataLabel",3,"");var u=sX(),l=d(u),c=d(l);b2(c,{class:"text-warning h-5 w-5"});var f=p(c,2);No(f,{class:"text-warning/70 h-4 w-4"});var h=p(f,2),m=d(h),g=p(l,2),b=d(g),y=p(g,2);{var x=k=>{var S=aX(),A=d(S);{var C=U=>{var G=XY(),Q=d(G);P(()=>O(Q,`${i()??""} :`)),v(U,G)};D(A,U=>{i()&&U(C)})}var E=p(A,2),I=d(E);{var T=U=>{var G=Pt();P(()=>O(G,s())),v(U,G)},j=U=>{var G=ce(),Q=z(G);{var ee=H=>{var J=Pt();P(K=>O(J,K),[()=>s().join(", ")]),v(H,J)},oe=H=>{var J=ce(),K=z(J);{var te=R=>{var F=ce(),M=z(F);{var B=$=>{var L=tX(),ne=z(L),Y=d(ne),W=p(ne,2);{var X=N=>{var ie=eX(),re=d(ie);P(()=>O(re,s().storeComment)),v(N,ie)};D(W,N=>{s().storeComment&&N(X)})}P(()=>O(Y,s().storeName)),v($,L)},q=$=>{var L=rX(),ne=d(L);P(Y=>O(ne,Y),[()=>JSON.stringify(s(),null,2)]),v($,L)};D(M,$=>{s().storeName?$(B):$(q,!1)})}v(R,F)},Z=R=>{var F=nX();v(R,F)};D(K,R=>{typeof s()=="object"&&s()!==null?R(te):R(Z,!1)},!0)}v(H,J)};D(Q,H=>{Array.isArray(s())&&s().length>0?H(ee):H(oe,!1)},!0)}v(U,G)};D(I,U=>{typeof s()=="string"||typeof s()=="number"?U(T):U(j,!1)})}v(k,S)};D(y,k=>{a()&&s()&&k(x)})}P(()=>{O(m,t()),O(b,n())}),v(r,u),ve()}function iX(r,e,t){if(e().isPurchaseFormValid)if(e().editingPurchaseId){const n=e().editingPurchaseData;if(!n||!t(n))return;const a=e().forms.purchase.quantity??0,s=e().forms.purchase.unit,i=is.normalize(a,s);n.quantity=i.quantity,n.unit=i.unit,n.price=e().forms.purchase.price,n.store=e().forms.purchase.store,n.who=e().forms.purchase.who,n.notes=e().forms.purchase.notes,n.status=e().forms.purchase.status,n.orderDate=e().forms.purchase.orderDate,n.deliveryDate=e().forms.purchase.deliveryDate,e().updateEditedPurchase(n),e().cancelEditPurchase()}else e().forms.purchase.status==="ordered"&&!e().forms.purchase.orderDate&&(e().forms.purchase.orderDate=new Date().toISOString().split("T")[0]),e().addPurchase()}var oX=_('<button class="btn btn-ghost btn-sm">Annuler</button>'),uX=_('<span class="loading loading-spinner loading-sm"></span>'),lX=_('<div id="purchase-form-card"><div class="card-body"><h4 class="card-title text-base"> </h4> <div class="space-y-6"><div class="flex flex-wrap items-baseline gap-4"><!> <!> <!> <!></div> <div><!></div> <!></div> <div class="card-actions mt-4 justify-end"><!> <button class="btn btn-primary btn-sm"><!></button></div></div></div>'),cX=_('<div class="mt-4 py-8 text-center opacity-50"><!> <p>Aucun achat enregistrÃ© pour ce produit</p></div>'),dX=_("<th>Actions</th>"),fX=(r,e,t)=>e(o(t)),hX=(r,e,t)=>e(o(t).$id),pX=_('<span class="loading loading-spinner loading-sm"></span>'),vX=_('<td><div class="btn-group btn-group-sm"><button class="btn btn-ghost btn-sm"><!></button> <button class="btn btn-ghost btn-sm text-error"><!></button></div></td>'),mX=_('<tr><td class="font-medium"> </td><td> </td><td> </td><td><div> </div></td><td class="text-xs"> </td><td class="text-xs"> </td><td> </td><td> </td><!></tr>'),gX=_('<div class="mt-4 overflow-x-auto"><table class="table-zebra table-sm table"><thead><tr><th>QuantitÃ©</th><th>Magasin</th><th>Qui</th><th>Statut</th><th>Date commande</th><th>Date livraison</th><th>Prix</th><th>Notes</th><!></tr></thead><tbody></tbody></table></div>'),bX=(r,e,t)=>e(o(t).$id),_X=_('<span class="loading loading-spinner loading-xs"></span>'),yX=_('<button class="btn btn-ghost btn-square btn-sm text-error"><!></button>'),xX=_('<div class="flex items-center gap-1 opacity-70"><!> <span> </span></div>'),wX=_('<div class="flex items-center gap-1 opacity-70"><!> <span> </span></div>'),kX=_('<div class="mt-2 text-sm opacity-70"> </div>'),EX=_('<div class="badge badge-soft gap-1"><!> <span class="max-w-[150px] truncate"> </span></div>'),SX=_('<div class="badge badge-soft gap-1"><!> <span class="max-w-[100px] truncate"> </span></div>'),AX=(r,e,t)=>e(o(t)),DX=_('<div class="card-actions mt-2 justify-end"><button class="btn btn-ghost btn-sm"><!> Modifier</button></div>'),CX=_('<div class="card bg-base-100 border-neutral/40 border shadow-sm"><div class="card-body p-4"><div class="flex items-start justify-between gap-3"><div class="flex flex-col gap-1"><div class="flex items-center gap-2 text-sm opacity-70"><!> <span class="text-xs font-medium"> </span></div> <div class="font-mono text-xl font-bold"> </div></div> <div> </div> <!></div> <div class="mt-2 flex flex-wrap gap-3 text-xs"><!> <!></div> <!> <div class="mt-3 flex flex-wrap gap-3"><!> <!></div> <!></div></div>'),IX=_('<div class="mt-4 space-y-3"></div>'),TX=_('<div class="space-y-4"><!></div> <!>',1);function MX(r,e){pe(e,!0);let t=ke(e,"modalState",7),n=ke(e,"isArchiveMode",3,!1);function a(C){return C.quantity!==null&&C.quantity!==0&&C.unit?.trim()!==""}function s(C){if(n())return;const{value:E,unit:I}=vi(C.quantity,C.unit);t().forms.purchase.quantity=E,t().forms.purchase.unit=I,t().forms.purchase.price=C.price,t().forms.purchase.store=C.store||"",t().forms.purchase.who=C.who||"",t().forms.purchase.notes=C.notes||"",t().forms.purchase.status=C.status||null,t().forms.purchase.orderDate=C.orderDate||null,t().forms.purchase.deliveryDate=C.deliveryDate||null,t().startEditPurchase(C),setTimeout(()=>{const T=document.querySelector("#purchase-form-card");T?.scrollIntoView({behavior:"smooth",block:"center"}),T?.querySelector('input[type="number"]')?.focus()},100)}function i(){t().forms.purchase.quantity=null,t().forms.purchase.unit="kg",t().forms.purchase.price=null,t().forms.purchase.store="",t().forms.purchase.who="",t().forms.purchase.notes="",t().forms.purchase.status="delivered",t().forms.purchase.orderDate=null,t().forms.purchase.deliveryDate=null,t().editingPurchaseId&&t().cancelEditPurchase()}function u(C){t().removePurchase(C)}function l(C){s(C)}let c=V(()=>t().editingPurchaseId!==null),f=V(()=>o(c)?"Modifier l'achat":"Ajouter un achat / une rÃ©cup / une commande"),h=V(()=>o(c)?"Enregistrer les modifications":"Ajouter l'achat");var m=TX(),g=z(m),b=d(g);{var y=C=>{cf(C,{title:"Achats non modifiables",message:"L'Ã©vÃ©nement est terminÃ©, les achats ne peuvent plus Ãªtre ajoutÃ©s ou modifiÃ©s."})},x=C=>{var E=lX(),I=d(E),T=d(I),j=d(T),U=p(T,2),G=d(U),Q=d(G);lf(Q,{get disabled(){return t().loading},get quantity(){return t().forms.purchase.quantity},set quantity(L){t().forms.purchase.quantity=L},get unit(){return t().forms.purchase.unit},set unit(L){t().forms.purchase.unit=L}});var ee=p(Q,2);uv(ee,{get disabled(){return t().loading},get value(){return t().forms.purchase.price},set value(L){t().forms.purchase.price=L}});var oe=p(ee,2);Bo(oe,{get suggestions(){return Xe.uniqueStores},get disabled(){return t().loading},flexCol:!0,get value(){return t().forms.purchase.store},set value(L){t().forms.purchase.store=L}});var H=p(oe,2);yl(H,{get suggestions(){return Xe.uniqueWho},get disabled(){return t().loading},flexCol:!0,get value(){return t().forms.purchase.who},set value(L){t().forms.purchase.who=L}});var J=p(G,2),K=d(J);Fo(K,{get disabled(){return t().loading},get value(){return t().forms.purchase.notes},set value(L){t().forms.purchase.notes=L}});var te=p(J,2);X3(te,{get disabled(){return t().loading},get status(){return t().forms.purchase.status},set status(L){t().forms.purchase.status=L},get deliveryDate(){return t().forms.purchase.deliveryDate},set deliveryDate(L){t().forms.purchase.deliveryDate=L}});var Z=p(U,2),R=d(Z);{var F=L=>{var ne=oX();ne.__click=i,v(L,ne)};D(R,L=>{o(c)&&L(F)})}var M=p(R,2);M.__click=[iX,t,a];var B=d(M);{var q=L=>{var ne=uX();v(L,ne)},$=L=>{var ne=Pt();P(()=>O(ne,o(h))),v(L,ne)};D(B,L=>{t().loading?L(q):L($,!1)})}P(()=>{_e(E,1,`card bg-base-200 ${o(c)?"ring-accent ring-2 ring-offset-2":""}`),O(j,o(f)),M.disabled=t().loading||!t().isPurchaseFormValid}),v(C,E)};D(b,C=>{n()?C(y):C(x,!1)})}var k=p(g,2);{var S=C=>{var E=cX(),I=d(E);us(I,{class:"mx-auto mb-2 h-12 w-12"}),v(C,E)},A=C=>{var E=ce(),I=z(E);{var T=U=>{var G=gX(),Q=d(G),ee=d(Q),oe=d(ee),H=p(d(oe),8);{var J=te=>{var Z=dX();v(te,Z)};D(H,te=>{n()||te(J)})}var K=p(ee);ze(K,21,()=>t().purchasesList,te=>te.$id,(te,Z)=>{var R=mX(),F=d(R),M=d(F),B=p(F),q=d(B),$=p(B),L=d($),ne=p($),Y=d(ne),W=d(Y),X=p(ne),N=d(X),ie=p(X),re=d(ie),le=p(ie),ue=d(le),se=p(le),de=d(se),fe=p(se);{var be=ye=>{var De=vX(),xe=d(De),Ce=d(xe);Ce.__click=[fX,l,Z];var Ie=d(Ce);na(Ie,{class:"h-4 w-4"});var Pe=p(Ce,2);Pe.__click=[hX,u,Z];var Be=d(Pe);{var He=he=>{var Se=pX();v(he,Se)},Te=he=>{ir(he,{class:"h-4 w-4"})};D(Be,he=>{t().loading?he(He):he(Te,!1)})}P(()=>Pe.disabled=t().loading),v(ye,De)};D(fe,ye=>{n()||ye(be)})}P((ye,De,xe,Ce,Ie)=>{O(M,ye),O(q,o(Z).store||"-"),O(L,o(Z).who||"-"),_e(Y,1,`badge badge-sm ${De??""}`),O(W,xe),O(N,Ce),O(re,Ie),O(ue,o(Z).price?`${o(Z).price}â¬`:"-"),O(de,o(Z).notes||"-")},[()=>la(o(Z).quantity,o(Z).unit),()=>tu(o(Z).status).class,()=>tu(o(Z).status).text,()=>Cl(o(Z).orderDate),()=>Cl(o(Z).deliveryDate)]),v(te,R)}),v(U,G)},j=U=>{var G=IX();ze(G,21,()=>t().purchasesList,Q=>Q.$id,(Q,ee)=>{var oe=CX(),H=d(oe),J=d(H),K=d(J),te=d(K),Z=d(te);oS(Z,{class:"h-3.5 w-3.5"});var R=p(Z,2),F=d(R),M=p(te,2),B=d(M),q=p(K,2),$=d(q),L=p(q,2);{var ne=xe=>{var Ce=yX();Ce.__click=[bX,u,ee];var Ie=d(Ce);{var Pe=He=>{var Te=_X();v(He,Te)},Be=He=>{ji(He,{size:16})};D(Ie,He=>{t().loading?He(Pe):He(Be,!1)})}P(()=>Ce.disabled=t().loading),v(xe,Ce)};D(L,xe=>{n()||xe(ne)})}var Y=p(J,2),W=d(Y);{var X=xe=>{var Ce=xX(),Ie=d(Ce);fr(Ie,{class:"h-3 w-3"});var Pe=p(Ie,2),Be=d(Pe);P(He=>O(Be,`Commande: ${He??""}`),[()=>Cl(o(ee).orderDate)]),v(xe,Ce)};D(W,xe=>{o(ee).orderDate&&xe(X)})}var N=p(W,2);{var ie=xe=>{var Ce=wX(),Ie=d(Ce);fr(Ie,{class:"h-3 w-3"});var Pe=p(Ie,2),Be=d(Pe);P(He=>O(Be,`Livraison: ${He??""}`),[()=>Cl(o(ee).deliveryDate)]),v(xe,Ce)};D(N,xe=>{o(ee).deliveryDate&&xe(ie)})}var re=p(Y,2);{var le=xe=>{var Ce=kX(),Ie=d(Ce);P(()=>O(Ie,o(ee).notes)),v(xe,Ce)};D(re,xe=>{o(ee).notes&&xe(le)})}var ue=p(re,2),se=d(ue);{var de=xe=>{var Ce=EX(),Ie=d(Ce);Ma(Ie,{class:"h-3 w-3"});var Pe=p(Ie,2),Be=d(Pe);P(()=>O(Be,o(ee).store)),v(xe,Ce)};D(se,xe=>{o(ee).store&&xe(de)})}var fe=p(se,2);{var be=xe=>{var Ce=SX(),Ie=d(Ce);Hi(Ie,{class:"h-3 w-3"});var Pe=p(Ie,2),Be=d(Pe);P(()=>O(Be,o(ee).who)),v(xe,Ce)};D(fe,xe=>{o(ee).who&&xe(be)})}var ye=p(ue,2);{var De=xe=>{var Ce=DX(),Ie=d(Ce);Ie.__click=[AX,l,ee];var Pe=d(Ie);na(Pe,{size:16,class:"mr-1"}),v(xe,Ce)};D(ye,xe=>{n()||xe(De)})}P((xe,Ce,Ie)=>{O(F,xe),O(B,o(ee).price?`${o(ee).price} â¬`:"-"),_e(q,1,`badge badge-sm ${Ce??""}`),O($,Ie)},[()=>la(o(ee).quantity,o(ee).unit),()=>tu(o(ee).status).class,()=>tu(o(ee).status).text]),v(Q,oe)}),v(U,G)};D(I,U=>{Ee.isMobile?U(j,!1):U(T)},!0)}v(C,E)};D(k,C=>{t().purchasesList.length===0?C(S):C(A,!1)})}v(r,m),ve()}tt(["click"]);async function RX(r,e,t){await e()?.setStock(),w(t,!1)}async function NX(r,e){await e()?.removeStock()}function PX(r,e,t){if(!e().stockParsed)return;const{value:n,unit:a}=vi(e().stockParsed.quantity,e().stockParsed.unit);e().forms.stock.quantity=n,e().forms.stock.unit=a,e().forms.stock.notes=e().stockParsed.notes??"",e().forms.stock.dateTime=e().stockParsed.dateTime,w(t,!0)}function $X(r,e,t){w(e,!1),t().forms.stock.quantity=null,t().forms.stock.notes="",t().forms.stock.dateTime=new Date().toISOString()}var LX=_(`Le stock rÃ©el est la quantitÃ© rÃ©elle du produit constatÃ© dans le
              stock: <strong>il sera utilisÃ© pour le calcul des quantitÃ©s manquantes Ã  se
                fournir Ã  la place des achats / rÃ©ccup dÃ©clarÃ©s antÃ©rieurement</strong> au stock. Les achats / rÃ©ccup dÃ©clarÃ©s <strong>ultÃ©rieurement</strong> seront pris en compte dans le calcul
              des quantitÃ©s manquantes Ã  se fournir.`,1),OX=_('<button class="btn btn-ghost btn-sm">Annuler</button>'),BX=(r,e)=>{e().forms.stock.quantity=null,e().forms.stock.notes=""},FX=_('<span class="loading loading-spinner loading-xs"></span>'),zX=_('<div><div class="card-body"><h4 class="card-title text-base"> </h4> <div class="mb-4"><!></div> <div class="grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3"><!></div> <div><!></div> <div class="card-actions mt-4 justify-end"><!> <button>Effacer</button> <button class="btn btn-primary btn-sm"><!></button></div></div></div>'),qX=_('<div class="py-8 text-center opacity-50"><!> <p>Aucun stock enregistrÃ© pour ce produit</p></div>'),jX=_('<div class="md:col-span-2"><span class="font-semibold">Notes:</span> <span class="ml-2"> </span></div>'),HX=_('<span class="loading loading-spinner loading-xs"></span>'),UX=_('<div class="card-actions mt-4 justify-end space-x-4"><button class="btn btn-error btn-sm"><!></button> <button class="btn btn-primary btn-sm"><!> Modifier</button></div>'),VX=_('<div class="card bg-base-300 my-4"><div class="card-body"><div class="flex flex-wrap items-center gap-4 text-lg font-medium"><div>Stock enregistrÃ© :</div> <div class="badge badge-primary badge-lg ml-2"> </div> <div><span class="font-semibold">le:</span> <span class="ml-2"> </span></div> <!></div> <!></div></div>'),WX=_('<div class="space-y-4"><!></div> <!>',1);function QX(r,e){pe(e,!0);let t=ke(e,"modalState",7),n=ke(e,"isArchiveMode",3,!1),a=ae(!1);var s=WX(),i=z(s),u=d(i);{var l=g=>{cf(g,{title:"Stock non modifiable",message:"L'Ã©vÃ©nement est terminÃ©, le stock ne peut plus Ãªtre modifiÃ©.",get data(){return t().stockParsed},dataLabel:"Stock actuel"})},c=g=>{var b=ce(),y=z(b);{var x=k=>{var S=zX(),A=d(S),C=d(A),E=d(C),I=p(C,2),T=d(I);$2(T,{initiallyOpen:!0,contentVisible:`Cette section permet de gÃ©rer le stock rÃ©el de l'ingrÃ©dient.
            `,children:(F,M)=>{var B=LX();v(F,B)},$$slots:{default:!0}});var j=p(I,2),U=d(j);lf(U,{get disabled(){return t().loading},get quantity(){return t().forms.stock.quantity},set quantity(F){t().forms.stock.quantity=F},get unit(){return t().forms.stock.unit},set unit(F){t().forms.stock.unit=F}});var G=p(j,2),Q=d(G);Fo(Q,{get disabled(){return t().loading},get value(){return t().forms.stock.notes},set value(F){t().forms.stock.notes=F}});var ee=p(G,2),oe=d(ee);{var H=F=>{var M=OX();M.__click=[$X,a,t],P(()=>M.disabled=t().loading),v(F,M)};D(oe,F=>{o(a)&&F(H)})}var J=p(oe,2);J.__click=[BX,t];var K=p(J,2);K.__click=[RX,t,a];var te=d(K);{var Z=F=>{var M=FX();v(F,M)},R=F=>{var M=Pt();P(()=>O(M,o(a)?"Enregistrer les modifications":"DÃ©clarer le stock")),v(F,M)};D(te,F=>{t().loading?F(Z):F(R,!1)})}P(F=>{_e(S,1,`card bg-base-200 ${o(a)?"ring-accent ring-2 ring-offset-2":""}`),O(E,F),_e(J,1,`btn btn-ghost btn-sm ${o(a)?"hidden":""}`),J.disabled=t().loading,K.disabled=t().loading||!t().forms.stock.quantity},[()=>o(a)?"Modifier le stock rÃ©el":`DÃ©clarer le stock rÃ©el du ${new Date().toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short",year:"numeric"})}`]),v(k,S)};D(y,k=>{(!t().stockParsed||o(a))&&k(x)})}v(g,b)};D(u,g=>{n()?g(l):g(c,!1)})}var f=p(i,2);{var h=g=>{var b=qX(),y=d(b);Mp(y,{class:"mx-auto mb-2 h-12 w-12"}),v(g,b)},m=g=>{var b=ce(),y=z(b);{var x=k=>{var S=VX(),A=d(S),C=d(A),E=p(d(C),2),I=d(E),T=p(E,2),j=p(d(T),2),U=d(j),G=p(T,2);{var Q=H=>{var J=jX(),K=p(d(J),2),te=d(K);P(()=>O(te,t().stockParsed.notes)),v(H,J)};D(G,H=>{t().stockParsed.notes&&H(Q)})}var ee=p(C,2);{var oe=H=>{var J=UX(),K=d(J);K.__click=[NX,t];var te=d(K);{var Z=B=>{var q=HX();v(B,q)},R=B=>{var q=Pt("Supprimer le stock");v(B,q)};D(te,B=>{t().loading?B(Z):B(R,!1)})}var F=p(K,2);F.__click=[PX,t,a];var M=d(F);na(M,{class:"mr-1 h-4 w-4"}),P(()=>{K.disabled=t().loading,F.disabled=t().loading}),v(H,J)};D(ee,H=>{n()||H(oe)})}P(H=>{O(I,`${t().stockParsed.quantity??""}
            ${t().stockParsed.unit??""}`),O(U,H)},[()=>Zn(t().stockParsed.dateTime)]),v(k,S)};D(y,k=>{o(a)||k(x)})}v(g,b)};D(f,g=>{t().stockParsed?g(m,!1):g(h)})}v(r,s),ve()}tt(["click"]);var GX=(r,e)=>{r.key==="Enter"&&(r.preventDefault(),e())},KX=_('<div class="card bg-base-200"><div class="card-body"><h4 class="card-title text-base">GÃ©rer les volontaires</h4> <p class="mb-4 text-sm opacity-75">Ajoutez ou retirez des volontaires pour ce produit.</p> <div class="space-y-4"><div class="flex gap-2"><label class="input w-72"><!> <input type="text" class="w-full" placeholder="Ajouter un volontaire..."/></label> <button class="btn btn-square btn-primary"><!></button></div> <div><h5 class="mb-2 font-medium">Selection rapide</h5> <!></div></div></div></div>'),JX=_('<div class="space-y-4"><!></div>');function ZX(r,e){pe(e,!0);let t=ke(e,"modalState",7),n=ke(e,"isArchiveMode",3,!1),a=ae("");const s=V(()=>{const b=Xe.uniqueWho,y=new Set([...b,...t().forms.who]);return Array.from(y).map(x=>({id:x,label:x,selected:t().forms.who.includes(x)}))});function i(b){const y=b.trim();y&&!t().forms.who.includes(y)&&(t().forms.who=[...t().forms.who,y])}function u(b){t().forms.who=t().forms.who.filter(y=>y!==b)}function l(b){t().forms.who.includes(b)?u(b):i(b)}function c(){o(a).trim()&&(i(o(a)),w(a,""))}var f=JX(),h=d(f);{var m=b=>{cf(b,{title:"Volontaires non modifiables",message:"L'Ã©vÃ©nement est terminÃ©, les volontaires assignÃ©s ne peuvent plus Ãªtre modifiÃ©s."})},g=b=>{var y=KX(),x=d(y),k=p(d(x),4),S=d(k),A=d(S),C=d(A);Hi(C,{class:"h-4 w-4 opacity-50"});var E=p(C,2);E.__keydown=[GX,c];var I=p(A,2);I.__click=c;var T=d(I);ll(T,{size:16});var j=p(S,2),U=p(d(j),2);Fa(U,{get items(){return o(s)},onToggleItem:l,size:"sm",color:"info"}),P(G=>{E.disabled=t().loading,I.disabled=G},[()=>t().loading||!o(a).trim()]),ft(E,()=>o(a),G=>w(a,G)),v(b,y)};D(h,b=>{n()?b(m):b(g,!1)})}v(r,f),ve()}tt(["keydown","click"]);var YX=(r,e)=>{e().forms.store.name="",e().forms.store.comment=""},XX=_(`<div class="card bg-base-200"><div class="card-body"><h4 class="card-title text-base">Magasin</h4> <p class="mb-4 text-sm opacity-75">DÃ©finissez le magasin oÃ¹ vous prÃ©voyez d'acheter ce produit.</p> <div class="grid-col-1 grid gap-4"><div class="flex flex-wrap items-center gap-x-5 gap-y-2"><!></div> <!></div> <div class="card-actions mt-4 justify-end"><button class="btn btn-ghost btn-sm">Effacer</button></div></div></div>`),eee=_('<div class="space-y-4"><!></div>');function tee(r,e){pe(e,!0);let t=ke(e,"modalState",7),n=ke(e,"isArchiveMode",3,!1);const a=V(()=>t()?.hasChanges?.store||!1);async function s(){if(!o(a))return;const f={storeName:t().forms.store.name?.trim()||"",storeComment:t().forms.store.comment?.trim()||void 0};await t().updateStore(f)}var i=eee(),u=d(i);{var l=f=>{{let h=V(()=>t().product?.storeInfo);cf(f,{title:"Magasin non modifiable",message:"L'Ã©vÃ©nement est terminÃ©, les informations de magasin ne peuvent plus Ãªtre modifiÃ©es.",get data(){return o(h)},dataLabel:"Magasin actuel"})}},c=f=>{var h=XX(),m=d(h),g=p(d(m),4),b=d(g),y=d(b);Bo(y,{get suggestions(){return Xe.uniqueStores},get disabled(){return t().loading},onkeydown:A=>{A.key==="Enter"&&s()},get value(){return t().forms.store.name},set value(A){t().forms.store.name=A}});var x=p(b,2);Fo(x,{get disabled(){return t().loading},get value(){return t().forms.store.comment},set value(A){t().forms.store.comment=A}});var k=p(g,2),S=d(k);S.__click=[YX,t],P(()=>S.disabled=t().loading),v(f,h)};D(u,f=>{n()?f(l):f(c,!1)})}v(r,i),ve()}tt(["click"]);var ree=_('<label class="input w-96"><!> <input type="text" placeholder="Commentaire (optionnel)" maxlength="100"/></label>');function nee(r,e){pe(e,!0);let t=ke(e,"value",15);ke(e,"disabled",3,!1);var n=ree(),a=d(n);VE(a,{size:20,class:"text-base-centent/70"});var s=p(a,2);ft(s,t),v(r,n),ve()}async function aee(r,e,t,n,a){if(!e())return;const{q:s,u:i}=wp(o(t),o(n)),u=e().product?.totalNeededOverrideParsed?.totalOverride,l=e().product?.totalNeededOverrideParsed?.comment||"";if(s!==u?.q||i!==u?.u||o(a)!==l){const f={totalOverride:{q:s,u:i},comment:o(a),totalComputedWhenOverride:e().product.totalNeededArray,platesNbWhenOverride:e().product.totalAssiettes,recipesNbWhenOverride:e().product.nbRecipes};await e().setOverride(f)}e().uiStates.overrideManagerEditMode=!1}async function see(r,e){e()&&(await e().removeOverride(),e().uiStates.overrideManagerEditMode=!1)}var iee=_(`<div class="alert alert-warning alert-soft"><!> <div class="text-sm"><div class="font-bold">Les menus ont Ã©tÃ© modifiÃ© depuis la dÃ©finition manuelle des besoins
            !</div> <div class="mt-1 space-y-1"><div class="flex items-center gap-2"><span class="text-base-content/70">Au moment de laa modification manuelle : <strong class="text-base-content"> </strong> â <strong> </strong></span></div> <div class="flex items-center gap-2"><span class="text-base-content/70">Calcul actuel : <strong class="text-base-content"> </strong> â <strong> </strong></span></div> <div class="flex items-center gap-2"><span class="text-base-content/60 text-xs"> </span></div></div></div></div>`),oee=_('<span class="loading loading-spinner loading-sm"></span>'),uee=_('<div class="rounded-box bg-primary/10 flex flex-wrap items-center gap-3 px-4 py-3"><span class="text-base-content/70 font-medium">Besoin redÃ©finis manuellement</span> <!> <!> <div class="ms-auto flex items-center gap-4"><button class="btn-link">supprimer</button> <button class="btn btn-primary btn-sm"><!></button></div></div>'),lee=(r,e)=>e().uiStates.overrideManagerEditMode=!0,cee=_('<button class="btn btn-ghost btn-sm btn-circle" title="Modifier"><!></button>'),dee=_('<div class="chat-bubble relative text-sm"> <!></div>'),fee=_('<div class="rounded-box bg-primary/10 flex items-center justify-between px-4 py-3"><div class="flex items-center gap-3"><span class="text-base-content/70 font-medium">Besoins redÃ©finis manuellement</span> <!> <!></div> <div class="flex items-center gap-2"><span class="font-bold"> </span></div></div>'),hee=(r,e)=>e().uiStates.overrideManagerEditMode=!0,pee=_('<div class="flex justify-end"><button class="btn btn-primary btn-sm btn-soft">RedÃ©finir manuellement les besoins <!></button></div>'),vee=_('<div class=" mb-4 space-y-3"><!> <div class="rounded-box bg-base-200 flex items-center justify-between px-4 py-3"><span class="text-base-content/70 font-medium">Besoin total calculÃ©s</span> <div class="flex items-center gap-3"><span class="text-base-content/60 flex items-center gap-1 text-xs"> <!></span> <span class="text-base-content/60 flex items-center gap-1 text-xs"> <!></span> <span class="ms-3 font-bold"> </span></div></div> <!></div>');function mee(r,e){pe(e,!0);let t=ke(e,"modalState",7);const n=V(()=>t().product?.totalNeededOverrideParsed),a=V(()=>t().product?.displayTotalOverride),s=V(()=>t().product?Kb(t().product):null);let i=V(()=>t().uiStates.overrideManagerEditMode),u=V(()=>t().product?.totalNeededOverrideParsed?.totalOverride.q||t().product?.totalNeededArray[0]?.q||0),l=V(()=>t().product?.totalNeededOverrideParsed?.totalOverride.u||t().product?.totalNeededArray[0]?.u||"");function c(){if(!o(u)||!o(l))return{quantity:0,unit:""};const{q:k,u:S}=wp(o(u),o(l));return{quantity:xp(k,S),unit:S}}let f=ae(ot(c().quantity)),h=ae(ot(c().unit)),m=ae(ot(t().product?.totalNeededOverrideParsed?.comment||""));st(()=>{if(o(i)){const k=c();w(f,k.quantity,!0),w(h,k.unit,!0),w(m,t().product?.totalNeededOverrideParsed?.comment||"",!0)}});let g=V(()=>o(f)>0&&o(h).trim()!=="");var b=ce(),y=z(b);{var x=k=>{var S=vee(),A=d(S);{var C=Z=>{var R=iee(),F=d(R);Ln(F,{size:18});var M=p(F,2),B=p(d(M),2),q=d(B),$=d(q),L=p(d($)),ne=d(L),Y=p(L,2),W=d(Y),X=p(q,2),N=d(X),ie=p(d(N)),re=d(ie),le=p(ie,2),ue=d(le),se=p(X,2),de=d(se),fe=d(de);P((be,ye)=>{O(ne,`${o(s).details.oldPlates??""} couverts,
                  ${o(s).details.oldRecipes??""} recettes`),O(W,be),O(re,`${o(s).details.newPlates??""} couverts,
                  ${o(s).details.newRecipes??""} recettes`),O(ue,ye),O(fe,`Votre override : ${o(a)??""}`)},[()=>Jn(o(s).details.oldComputed),()=>Jn(o(s).details.newComputed)]),v(Z,R)};D(A,Z=>{o(s)?.hasMismatch&&o(s)?.details&&Z(C)})}var E=p(A,2),I=p(d(E),2),T=d(I),j=d(T),U=p(j);hs(U,{class:"h-3 w-3"});var G=p(T,2),Q=d(G),ee=p(Q);nn(ee,{class:"h-3 w-3"});var oe=p(G,2),H=d(oe),J=p(E,2);{var K=Z=>{var R=uee(),F=p(d(R),2);lf(F,{get quantity(){return o(f)},set quantity(W){w(f,W,!0)},get unit(){return o(h)},set unit(W){w(h,W,!0)}});var M=p(F,2);nee(M,{get value(){return o(m)},set value(W){w(m,W,!0)}});var B=p(M,2),q=d(B);q.__click=[see,t];var $=p(q,2);$.__click=[aee,t,f,h,m];var L=d($);{var ne=W=>{var X=oee();v(W,X)},Y=W=>{var X=Pt("â");v(W,X)};D(L,W=>{t().loading?W(ne):W(Y,!1)})}P(()=>$.disabled=t().loading||!o(g)),Li(1,R,()=>Ld),v(Z,R)},te=Z=>{var R=ce(),F=z(R);{var M=q=>{var $=fee(),L=d($),ne=p(d(L),2);{var Y=le=>{var ue=cee();ue.__click=[lee,t];var se=d(ue);js(se,{size:16}),v(le,ue)};D(ne,le=>{e.isArchiveMode||le(Y)})}var W=p(ne,2);{var X=le=>{var ue=dee(),se=d(ue),de=p(se);WE(de,{size:12,class:"text-base-content/60 absolute top-0 right-0"}),P(()=>O(se,`${o(n).comment??""} `)),v(le,ue)};D(W,le=>{o(n).comment&&le(X)})}var N=p(L,2),ie=d(N),re=d(ie);P(()=>O(re,o(a))),v(q,$)},B=q=>{var $=ce(),L=z($);{var ne=Y=>{var W=pee(),X=d(W);X.__click=[hee,t];var N=p(d(X));na(N,{size:16}),v(Y,W)};D(L,Y=>{e.isArchiveMode||Y(ne)},!0)}v(q,$)};D(F,q=>{o(a)&&o(n)?q(M):q(B,!1)})}v(Z,R)};D(J,Z=>{o(i)?Z(K):Z(te,!1)})}P(()=>{O(j,`${t().product.nbRecipes??""} `),O(Q,`${t().product.totalAssiettes??""} `),O(H,t().product.displayTotalNeeded)}),v(k,S)};D(y,k=>{t().product&&k(x)})}v(r,b),ve()}tt(["click"]);var gee=_('<div class="py-8 text-center opacity-50"><!> <p>Aucune recette trouvÃ©e pour ce produit</p></div>'),bee=_('<span class="text-base-content/70"> </span>'),_ee=_('<div class="card bg-base-100 shadow-sm"><div class="card-body p-3"><div class="flex flex-wrap items-center justify-between gap-2 gap-y-3"><div class="flex items-start gap-4"><span class="text-base text-wrap"> </span> <div class="flex min-w-fit items-center gap-1 text-base font-medium"> <!></div></div> <div class="ms-auto flex flex-wrap items-center gap-4"><span class="badge badge-soft gap-1"><!> </span> <span class="text-base font-medium"> </span> <!></div></div></div></div>'),yee=_('<div class="mt-4 space-y-3"></div>'),xee=_('<!> <div class="space-y-6"><div></div> <h3 class="flex items-center gap-2 text-lg font-semibold"><!> Recettes utilisant ce produit</h3> <!></div>',1);function wee(r,e){pe(e,!0);const t=V(()=>e.modalState.recipes);function n(m,g){return!m||!g?"-":la(m,g)}var a=xee(),s=z(a);mee(s,{get modalState(){return e.modalState},get isArchiveMode(){return e.isArchiveMode}});var i=p(s,2),u=p(d(i),2),l=d(u);hs(l,{class:"h-5 w-5"});var c=p(u,2);{var f=m=>{var g=gee(),b=d(g);va(b,{class:"mx-auto mb-2 h-12 w-12"}),v(m,g)},h=m=>{var g=yee();ze(g,21,()=>o(t),bt,(b,y)=>{const x=V(()=>n(o(y).q,o(y).u)),k=V(()=>n(o(y).qEq,o(y).uEq));var S=_ee(),A=d(S),C=d(A),E=d(C),I=d(E),T=d(I),j=p(I,2),U=d(j),G=p(U);{var Q=M=>{$d(M,{class:"h-4 w-4 text-amber-500"})},ee=M=>{var B=ce(),q=z(B);{var $=ne=>{Mu(ne,{class:"h-4 w-4 text-indigo-500"})},L=ne=>{var Y=ce(),W=z(Y);{var X=N=>{Nd(N,{class:"h-4 w-4 text-sky-500"})};D(W,N=>{mi(o(y).dateTimeService)==="cloud"&&N(X)},!0)}v(ne,Y)};D(q,ne=>{mi(o(y).dateTimeService)==="moon"?ne($):ne(L,!1)},!0)}v(M,B)};D(G,M=>{mi(o(y).dateTimeService)==="sun"?M(Q):M(ee,!1)})}var oe=p(E,2),H=d(oe),J=d(H);nn(J,{class:"h-3 w-3"});var K=p(J),te=p(H,2),Z=d(te),R=p(te,2);{var F=M=>{var B=bee(),q=d(B);P($=>O(q,`(${$??""})`),[()=>n(o(y).q,o(y).u)]),v(M,B)};D(R,M=>{o(x)!==o(k)&&M(F)})}P((M,B,q)=>{O(T,o(y).r),O(U,`${M??""} - ${B??""} `),O(K,` ${(o(y).a||0)??""} c.`),O(Z,q)},[()=>Da(o(y).date),()=>rs(o(y).date),()=>n(o(y).qEq,o(y).uEq)]),v(b,S)}),v(m,g)};D(c,m=>{o(t).length===0?m(f):m(h,!1)})}v(r,a),ve()}function kee(r,e,t){o(e)?.saveAllChanges().then(()=>{o(e)?.resetForms(),t.onClose()})}var Eee=_('<div class="alert alert-warning border-warning/20 border-b px-4 py-2 text-xs"><!> <span class="font-medium">Mode consultation</span> <span class="opacity-75">ÃvÃ©nement terminÃ©</span></div>'),See=(r,e)=>e("recettes"),Aee=_('<span class="badge badge-sm badge-secondary ml-1"> </span>'),Dee=_('<span class="badge badge-sm badge-ghost ml-1">0</span>'),Cee=(r,e)=>e("magasins"),Iee=_('<div class="bg-warning ml-1 h-2 w-2 rounded-full"></div>'),Tee=(r,e)=>e("volontaires"),Mee=_('<div class="bg-warning ml-1 h-2 w-2 rounded-full"></div>'),Ree=_('<span class="badge badge-sm badge-secondary ml-1"> </span>'),Nee=_('<span class="badge badge-sm badge-ghost ml-1">0</span>'),Pee=(r,e)=>e("stock"),$ee=_('<div class="bg-warning ml-1 h-2 w-2 rounded-full"></div>'),Lee=_('<span class="badge badge-sm badge-secondary ml-1">1</span>'),Oee=_('<span class="badge badge-sm badge-ghost ml-1">0</span>'),Bee=(r,e)=>e("achats"),Fee=_('<span class="badge badge-sm badge-secondary ml-1"> </span>'),zee=_('<span class="badge badge-sm badge-ghost ml-1">0</span>'),qee=_('<div class="alert alert-error mb-4"><!> <span> </span></div>'),jee=_("<!> <div><!></div>",1),Hee=_('<span class="loading loading-spinner loading-sm"></span>'),Uee=_("<!> Tout enregistrer",1),Vee=_('<button class="btn btn-primary"><!></button>'),Wee=_('<button class="btn btn-ghost"> </button> <!>',1),Qee=_('<!> <!> <div class="border-base-300 mb-4 flex-none border-b px-4"><div class="tabs tabs-border" role="tablist"><button role="tab"><!> <span class="hidden sm:inline">Recettes</span> <!></button> <button role="tab"><!> <span class="hidden sm:inline">Magasin</span> <!></button> <button role="tab"><!> <span class="hidden sm:inline">Volontaires</span> <!></button> <button role="tab"><!> <span class="hidden sm:inline">Stock</span> <!></button> <button role="tab"><!> <span class="hidden sm:inline">Achats</span> <!></button></div></div> <!> <!>',1);function Gee(r,e){pe(e,!0);let t=ke(e,"initialTab",3,"recettes"),n=ae(null);st(()=>{w(n,new YY(e.productId,t()),!0)});let a=V(()=>Xe.isEventPassed),s=V(()=>o(n)===null||o(n).product===null);function i(c){o(n)?.setCurrentTab(c)}function u(){o(n)?.resetForms(),e.onClose()}let l=V(()=>o(n)?.hasAnyChanges??!1);{let c=V(()=>!!e.productId);on(r,{get isOpen(){return o(c)},onClose:u,get hasUnsavedChanges(){return o(l)},fullscreenOnMobile:!0,maxWidth:"lg",modalClass:"h-10/12",children:(f,h)=>{var m=ce(),g=z(m);{var b=x=>{Hr(x,{title:"Chargement...",showBackButton:!0,onClose:u})},y=x=>{var k=Qee(),S=z(k);{var A=le=>{var ue=Eee(),se=d(ue);b2(se,{class:"h-4 w-4"}),v(le,ue)};D(S,le=>{o(a)&&le(A)})}var C=p(S,2);{let le=V(()=>o(n)?.product?.productName||"Produit");Hr(C,{get title(){return o(le)},showBackButton:!0,onClose:u})}var E=p(C,2),I=d(E),T=d(I);T.__click=[See,i];var j=d(T);hs(j,{class:"mr-1 h-4 w-4"});var U=p(j,4);{var G=le=>{var ue=Aee(),se=d(ue);P(()=>O(se,o(n).product.nbRecipes)),v(le,ue)},Q=le=>{var ue=Dee();v(le,ue)};D(U,le=>{o(n)?.product?.nbRecipes&&o(n).product.nbRecipes>0?le(G):le(Q,!1)})}var ee=p(T,2);ee.__click=[Cee,i];var oe=d(ee);Ma(oe,{class:"mr-1 h-4 w-4"});var H=p(oe,4);{var J=le=>{var ue=Iee();v(le,ue)};D(H,le=>{o(n)?.hasChanges?.store&&le(J)})}var K=p(ee,2);K.__click=[Tee,i];var te=d(K);Ut(te,{class:"mr-1 h-4 w-4"});var Z=p(te,4);{var R=le=>{var ue=Mee();v(le,ue)},F=le=>{var ue=ce(),se=z(ue);{var de=be=>{var ye=Ree(),De=d(ye);P(()=>O(De,o(n).product.who.length)),v(be,ye)},fe=be=>{var ye=Nee();v(be,ye)};D(se,be=>{o(n)?.product?.who&&o(n).product.who.length>0?be(de):be(fe,!1)},!0)}v(le,ue)};D(Z,le=>{o(n)?.hasChanges?.who?le(R):le(F,!1)})}var M=p(K,2);M.__click=[Pee,i];var B=d(M);Mp(B,{class:"mr-1 h-4 w-4"});var q=p(B,4);{var $=le=>{var ue=$ee();v(le,ue)},L=le=>{var ue=ce(),se=z(ue);{var de=be=>{var ye=Lee();v(be,ye)},fe=be=>{var ye=Oee();v(be,ye)};D(se,be=>{o(n)?.stockParsed?be(de):be(fe,!1)},!0)}v(le,ue)};D(q,le=>{o(n)?.hasChanges?.stock?le($):le(L,!1)})}var ne=p(M,2);ne.__click=[Bee,i];var Y=d(ne);us(Y,{class:"mr-1 h-4 w-4"});var W=p(Y,4);{var X=le=>{var ue=Fee(),se=d(ue);P(()=>O(se,o(n).purchasesList.length)),v(le,ue)},N=le=>{var ue=zee();v(le,ue)};D(W,le=>{o(n)?.purchasesList&&o(n).purchasesList.length>0?le(X):le(N,!1)})}var ie=p(E,2);Zr(ie,{children:(le,ue)=>{var se=jee(),de=z(se);{var fe=De=>{var xe=qee(),Ce=d(xe);ir(Ce,{class:"h-4 w-4"});var Ie=p(Ce,2),Pe=d(Ie);P(()=>O(Pe,`Erreur : ${o(n).error??""}`)),v(De,xe)};D(de,De=>{o(n)?.error&&De(fe)})}var be=p(de,2),ye=d(be);Bb(ye,()=>o(n)?.currentTab,De=>{var xe=ce(),Ce=z(xe);{var Ie=Be=>{wee(Be,{get modalState(){return o(n)},get isArchiveMode(){return o(a)}})},Pe=Be=>{var He=ce(),Te=z(He);{var he=Ae=>{MX(Ae,{get modalState(){return o(n)},get isArchiveMode(){return o(a)}})},Se=Ae=>{var $e=ce(),we=z($e);{var Oe=Ke=>{QX(Ke,{get modalState(){return o(n)},get isArchiveMode(){return o(a)}})},Le=Ke=>{var Re=ce(),Je=z(Re);{var Ve=We=>{ZX(We,{get modalState(){return o(n)},get isArchiveMode(){return o(a)}})},Ge=We=>{var qe=ce(),et=z(qe);{var lt=pt=>{tee(pt,{get modalState(){return o(n)},get isArchiveMode(){return o(a)}})};D(et,pt=>{o(n)?.currentTab==="magasins"&&pt(lt)},!0)}v(We,qe)};D(Je,We=>{o(n)?.currentTab==="volontaires"?We(Ve):We(Ge,!1)},!0)}v(Ke,Re)};D(we,Ke=>{o(n)?.currentTab==="stock"?Ke(Oe):Ke(Le,!1)},!0)}v(Ae,$e)};D(Te,Ae=>{o(n)?.currentTab==="achats"?Ae(he):Ae(Se,!1)},!0)}v(Be,He)};D(Ce,Be=>{o(n)?.currentTab==="recettes"?Be(Ie):Be(Pe,!1)})}v(De,xe)}),v(le,se)}});var re=p(ie,2);Sn(re,{children:(le,ue)=>{var se=Wee(),de=z(se);de.__click=u;var fe=d(de),be=p(de,2);{var ye=De=>{var xe=Vee();xe.__click=[kee,n,e];var Ce=d(xe);{var Ie=Be=>{var He=Hee();v(Be,He)},Pe=Be=>{var He=Uee(),Te=z(He);wr(Te,{class:"h-4 w-4"}),v(Be,He)};D(Ce,Be=>{o(n).loading?Be(Ie):Be(Pe,!1)})}P(()=>xe.disabled=o(n).loading),v(De,xe)};D(be,De=>{o(n)?.hasAnyChanges&&De(ye)})}P(()=>O(fe,o(n)?.hasAnyChanges?"Annuler":"Fermer")),v(le,se)}}),P(()=>{_e(T,1,`tab ${o(n)?.currentTab==="recettes"?"tab-active":""}`),_e(ee,1,`tab ${o(n)?.currentTab==="magasins"?"tab-active":""}`),_e(K,1,`tab ${o(n)?.currentTab==="volontaires"?"tab-active":""}`),_e(M,1,`tab ${o(n)?.currentTab==="stock"?"tab-active":""}`),_e(ne,1,`tab ${o(n)?.currentTab==="achats"?"tab-active":""}`)}),v(x,k)};D(g,x=>{o(s)?x(b):x(y,!1)})}v(f,m)},$$slots:{default:!0}})}ve()}tt(["click"]);var Kee=(r,e,t)=>e(t),Jee=_("<button><span> </span> <!></button>"),Zee=_('<div class="text-base-content/60 p-1 text-end text-xs italic">Ã©vÃ©nement terminÃ©</div>'),Yee=(r,e)=>e.dateStore.selectUpcoming(),Xee=(r,e)=>e.dateStore.selectAll(),ete=_('<div class="join my-2 ms-auto"><button type="button" name="options" aria-label=" Dates Ã  venir">Dates Ã  venir</button> <button type="button" name="options" aria-label=" Toutes les dates">Toutes les dates</button></div>'),tte=_('<div class="mb-2 flex flex-wrap gap-2"></div> <!>',1);function rte(r,e){pe(e,!0);let t=V(()=>e.dateStore.start),n=V(()=>e.dateStore.end),a=ae(null);function s(g){o(t)&&new Date(g)<new Date(o(t))?e.dateStore.setRange(g,o(n)):o(n)&&new Date(g)>new Date(o(n))?e.dateStore.setRange(o(t),g):e.dateStore.setRange(g,g)}function i(g){return!o(t)||!o(n)?{start:null,end:null}:o(t)&&new Date(g)<new Date(o(t))?{start:g,end:o(n)}:o(n)&&new Date(g)>new Date(o(n))?{start:o(t),end:g}:{start:g,end:g}}function u(g){let b="";if(!o(t)||!o(n))return;const y=new Date(g)>=new Date(o(t))&&new Date(g)<=new Date(o(n)),x=new Date(g);x.setHours(x.getHours()+Sp);const k=x<new Date;let S=!1;if(o(a)){const A=i(o(a));A.start&&A.end&&(S=new Date(g)>=new Date(A.start)&&new Date(g)<=new Date(A.end))}return k&&(b+=" opacity-70 italic"),y||(b+=" btn-dash"),S&&!y&&(b+=" btn-soft"),b}var l=tte(),c=z(l);ze(c,20,()=>e.dateStore.dates,g=>g,(g,b)=>{var y=Jee();y.__click=[Kee,s,b];var x=d(y),k=d(x),S=p(x,2);{var A=E=>{$d(E,{size:16})},C=E=>{var I=ce(),T=z(I);{var j=G=>{Mu(G,{size:16})},U=G=>{var Q=ce(),ee=z(Q);{var oe=H=>{Nd(H,{size:16})};D(ee,H=>{mi(b)==="cloud"&&H(oe)},!0)}v(G,Q)};D(T,G=>{mi(b)==="moon"?G(j):G(U,!1)},!0)}v(E,I)};D(S,E=>{mi(b)==="sun"?E(A):E(C,!1)})}P((E,I)=>{_e(y,1,`btn btn-sm btn-secondary ${E??""}`),O(k,I)},[()=>u(b),()=>Zn(b)]),_t("mouseenter",y,()=>w(a,b,!0)),_t("mouseleave",y,()=>w(a,null)),v(g,y)});var f=p(c,2);{var h=g=>{var b=Zee();v(g,b)},m=g=>{var b=ete(),y=d(b);y.__click=[Yee,e];var x=p(y,2);x.__click=[Xee,e],P(()=>{_e(y,1,`join-item btn btn-sm ${e.dateStore.isUpcomingRange?"btn-soft btn-secondary":"btn-ghost"}`),_e(x,1,`join-item btn btn-sm ${e.dateStore.isFullRange?"btn-soft btn-secondary":"btn-ghost"}`)}),v(g,b)};D(f,g=>{e.dateStore.isEventPassed?g(h):g(m,!1)})}v(r,l),ve()}tt(["click"]);var nte=()=>Xe.clearFilters(),ate=r=>Xe.setSearchQuery(r.currentTarget.value),ste=()=>Xe.setSearchQuery(""),ite=()=>Xe.setCompletionStatus("all"),ote=()=>Xe.setCompletionStatus("incomplete"),ute=()=>Xe.setCompletionStatus("completed"),lte=()=>Xe.setGroupBy("none"),cte=()=>Xe.setGroupBy("store"),dte=()=>Xe.setGroupBy("productType"),fte=_(`<div class="alert alert-warning">Cette pÃ©riode contient des dates passÃ©es. Les achats ne sont plus
          possibles pour ces dates.</div>`),hte=_("<!> <!>",1),pte=(r,e)=>Xe.toggleProductType(e),vte=_("<button><!> </button>"),mte=()=>Xe.setTemperatureFilter("all"),gte=()=>Xe.setTemperatureFilter("frais"),bte=()=>Xe.setTemperatureFilter("not-frais"),_te=()=>Xe.setTemperatureFilter("surgele"),yte=()=>Xe.setTemperatureFilter("not-surgele"),xte=()=>Xe.clearTypeAndTemperatureFilters(),wte=_('<button class="btn btn-xs btn-circle btn-outline text-error ms-auto" title="Effacer les filtres de types et tempÃ©rature"><!></button>'),kte=_('<div class="text-base-content/60 p-1 text-end text-xs italic">aucun filtre sÃ©lectionnÃ©</div>'),Ete=_('<div class="mb-2 flex flex-wrap items-center gap-2" role="group"></div> <div class="bg-base-100 flex flex-wrap gap-1 rounded-xl p-2 font-semibold" role="group"><button type="button" aria-label="Tous">Tous</button> <button type="button" aria-label="Frais uniquement"><!> Frais</button> <button type="button" aria-label="Sans frais"><!> <span class="line-through">Frais</span></button> <button type="button" aria-label="SurgelÃ©s uniquement"><!> SurgelÃ©s</button> <button type="button" aria-label="Sans surgelÃ©s"><!> <span class="line-through">surgelÃ©s</span></button></div> <!>',1),Ste=(r,e)=>Xe.toggleStore(e),Ate=_("<button> </button>"),Dte=()=>Xe.clearStoreFilters(),Cte=_('<button class="btn btn-xs btn-circle btn-outline text-error ms-auto" title="Effacer les filtres de magasins"><!></button>'),Ite=_('<div class="flex flex-wrap items-center gap-2" role="group"><!> <!></div>'),Tte=(r,e)=>Xe.toggleWho(e),Mte=_("<button> </button>"),Rte=()=>Xe.clearWhoFilters(),Nte=_('<button class="btn btn-xs btn-circle btn-outline btn-error ms-auto" title="Effacer les filtres de qui"><!></button>'),Pte=_('<div class="flex flex-wrap items-center gap-2" role="group"><!> <!></div>'),$te=_('<div class="mt-16 mb-4 flex items-center justify-between"><h3 class="flex items-center gap-2 text-lg font-semibold"><!> Filtres</h3> <button class="btn btn-sm btn-error btn-outline"><!> Tout effacer</button></div> <div class="mb-4 grid grid-cols-1 items-center justify-between gap-4"><div><label class="label" for="search-input"><span class="label-text">Recherche</span></label> <div class="input flex items-center gap-2"><!> <input id="search-input" type="text" placeholder="Nom du produit..." class="grow"/> <button class="btn btn-xs btn-circle btn-error btn-outline opacity-60"><!></button></div></div> <div class="flex flex-col"><label class="label flex" for="completion-status"><span class="label-text">Statut :</span></label> <div class="bg-base-100 flex gap-1 rounded-xl p-2 font-semibold" id="completion-status"><button type="button" aria-label="Tous">Tous</button> <button type="button" aria-label="Incomplets"><span class="add-to-cart"></span> Manque</button> <button type="button" aria-label="ComplÃ©tÃ©s"><span class="cart-icon"></span> Complet</button></div></div> <div class="mb-4 flex flex-col"><label class="label flex" for="grouping-select"><span class="label-text">Groupement par:</span></label> <div class=" bg-base-100 flex gap-1 rounded-xl p-2 font-semibold" id="grouping-select"><button type="button" aria-label="Aucun">Aucun</button> <button type="button" aria-label="Par magasin">Magasins</button> <button type="button" aria-label="Par type">Type</button></div></div> <!> <!> <!> <!></div>',1);function Lte(r,e){pe(e,!0);const t=V(()=>Xe.filters),n=V(()=>Xe.uniqueStores),a=V(()=>Xe.uniqueWho),s=V(()=>Xe.uniqueProductTypes);var i=$te(),u=z(i),l=d(u),c=d(l);ol(c,{class:"h-5 w-5"});var f=p(l,2);f.__click=[nte];var h=d(f);oi(h,{class:"h-4 w-4"});var m=p(u,2),g=d(m),b=p(d(g),2),y=d(b);Po(y,{class:"h-4 w-4"});var x=p(y,2);x.__input=[ate];var k=p(x,2);k.__click=[ste];var S=d(k);ir(S,{class:"h-4 w-4"});var A=p(g,2),C=p(d(A),2),E=d(C);E.__click=[ite];var I=p(E,2);I.__click=[ote];var T=p(I,2);T.__click=[ute];var j=p(A,2),U=p(d(j),2),G=d(U);G.__click=[lte];var Q=p(G,2);Q.__click=[cte];var ee=p(Q,2);ee.__click=[dte];var oe=p(j,2);{var H=M=>{Gt(M,{legend:"Date incluses",bgClass:"bg-base-100",children:(B,q)=>{var $=hte(),L=z($);rte(L,{get dateStore(){return Xe.dateStore}});var ne=p(L,2);{var Y=W=>{var X=fte();Li(3,X,()=>Ld),v(W,X)};D(ne,W=>{Xe.hasPastDatesInRange&&W(Y)})}v(B,$)},$$slots:{default:!0}})};D(oe,M=>{Xe.hasSingleDateEvent||M(H)})}var J=p(oe,2);{var K=M=>{Gt(M,{legend:"Types & TempÃ©rature",get iconComponent(){return I2},children:(B,q)=>{var $=Ete(),L=z($);ze(L,20,()=>o(s),ye=>ye,(ye,De)=>{const xe=V(()=>bo(De));var Ce=vte();Ce.__click=[pte,De];var Ie=d(Ce);qt(Ie,()=>o(xe).icon,(Be,He)=>{He(Be,{class:"mr-1 h-5 w-5"})});var Pe=p(Ie);P(Be=>{_e(Ce,1,`btn btn-sm ${Be??""}`),O(Pe,` ${o(xe).displayName??""}`)},[()=>o(t).selectedProductTypes.length===0?"btn-soft btn-secondary":o(t).selectedProductTypes.includes(De)?"btn-secondary":"btn-dash btn-secondary"]),v(ye,Ce)});var ne=p(L,2),Y=d(ne);Y.__click=[mte];var W=p(Y,2);W.__click=[gte];var X=d(W);kh(X,{class:"h-4 w-4"});var N=p(W,2);N.__click=[bte];var ie=d(N);kh(ie,{class:"h-4 w-4"});var re=p(N,2);re.__click=[_te];var le=d(re);dc(le,{class:"h-4 w-4"});var ue=p(re,2);ue.__click=[yte];var se=d(ue);dc(se,{class:"h-4 w-4"});var de=p(ne,2);{var fe=ye=>{var De=wte();De.__click=[xte];var xe=d(De);oi(xe,{size:16}),v(ye,De)},be=ye=>{var De=kte();v(ye,De)};D(de,ye=>{o(t).selectedProductTypes.length>0||o(t).selectedTemperatures.length>0||o(t).temperatureFilter!=="all"?ye(fe):ye(be,!1)})}P(()=>{_e(Y,1,`btn btn-sm flex-1 ${o(t).temperatureFilter==="all"?"btn-secondary":"btn-soft btn-secondary"}`),_e(W,1,`btn btn-sm flex-1 ${o(t).temperatureFilter==="frais"?"btn-success":"btn-soft btn-success"}`),_e(N,1,`btn btn-sm flex-1 ${o(t).temperatureFilter==="not-frais"?"btn-error":"btn-soft btn-error"}`),_e(re,1,`btn btn-sm flex-1 ${o(t).temperatureFilter==="surgele"?"btn-info":"btn-soft btn-info"}`),_e(ue,1,`btn btn-sm flex-1 ${o(t).temperatureFilter==="not-surgele"?"btn-error":"btn-soft btn-error"}`)}),_t("mouseenter",Y,()=>Vt.msg="Ne pas filter en fonction des tempÃ©ratures"),_t("mouseleave",Y,()=>Vt.reset()),_t("mouseenter",W,()=>Vt.msg="Afficher les produits frais uniquement"),_t("mouseleave",W,()=>Vt.reset()),_t("mouseenter",N,()=>Vt.msg="Exclure les produits frais"),_t("mouseleave",N,()=>Vt.reset()),_t("mouseenter",re,()=>Vt.msg="Afficher les produits surgelÃ©s uniquement"),_t("mouseleave",re,()=>Vt.reset()),_t("mouseenter",ue,()=>Vt.msg="Exclure les produits surgelÃ©"),_t("mouseleave",ue,()=>Vt.reset()),v(B,$)},$$slots:{default:!0}})};D(J,M=>{o(s).length>0&&M(K)})}var te=p(J,2);{var Z=M=>{Gt(M,{legend:"Magasins",get iconComponent(){return Ma},children:(B,q)=>{var $=Ite(),L=d($);ze(L,16,()=>o(n),W=>W,(W,X)=>{var N=Ate();N.__click=[Ste,X];var ie=d(N);P(re=>{_e(N,1,`btn btn-sm ${re??""}`),O(ie,X)},[()=>o(t).selectedStores.length===0?"btn-soft btn-secondary":o(t).selectedStores.includes(X)?"btn-secondary":"btn-dash btn-secondary"]),v(W,N)});var ne=p(L,2);{var Y=W=>{var X=Cte();X.__click=[Dte];var N=d(X);oi(N,{size:16}),v(W,X)};D(ne,W=>{o(t).selectedStores.length>0&&W(Y)})}v(B,$)},$$slots:{default:!0}})};D(te,M=>{o(n).length>0&&M(Z)})}var R=p(te,2);{var F=M=>{Gt(M,{legend:"Qui",get iconComponent(){return Hi},children:(B,q)=>{var $=Pte(),L=d($);ze(L,16,()=>o(a),W=>W,(W,X)=>{var N=Mte();N.__click=[Tte,X];var ie=d(N);P(re=>{_e(N,1,`btn btn-sm ${re??""}`),O(ie,X)},[()=>o(t).selectedWho.length===0?" btn-soft btn-secondary":o(t).selectedWho.includes(X)?" btn-secondary":"btn-dash btn-secondary"]),v(W,N)});var ne=p(L,2);{var Y=W=>{var X=Nte();X.__click=[Rte];var N=d(X);oi(N,{size:16}),v(W,X)};D(ne,W=>{o(t).selectedWho.length>0&&W(Y)})}v(B,$)},$$slots:{default:!0}})};D(R,M=>{o(a).length>0&&M(F)})}P(()=>{f.disabled=!Xe.hasFilters,$i(x,o(t).searchQuery),k.disabled=!o(t).searchQuery,_e(E,1,`btn flex-1 ${o(t).completionStatus==="all"&&"btn-primary"}`),_e(I,1,`btn flex-1 ${o(t).completionStatus==="incomplete"&&"btn-warning"}`),_e(T,1,`btn flex-1 ${o(t).completionStatus==="completed"&&"btn-success"}`),_e(G,1,`btn flex-1 ${o(t).groupBy==="none"&&"btn-secondary"}`),_e(Q,1,`btn flex-1 ${o(t).groupBy==="store"&&"btn-secondary"}`),_e(ee,1,`btn flex-1 ${o(t).groupBy==="productType"&&"btn-secondary"}`)}),v(r,i),ve()}tt(["click","input"]);var Ote=_('<div class="tooltip text-xs font-normal"><!></div>');function Bte(r,e){let t=ke(e,"iconSize",3,24),n=e.icon||void 0;var a=Ote(),s=d(a);{var i=u=>{n(u,{get size(){return t()},class:`align-top
`})};D(s,u=>{e.icon&&u(i)})}P(()=>dt(a,"data-tip",e.tip)),v(r,a)}var Fte=_('<div class="tooltip"><div class="badge badge-soft badge-sm hover:badge-primary flex items-center gap-1"><span class="whitespace-nowrap"> </span> <!></div></div>');function Hg(r,e){pe(e,!0);let t=ke(e,"recipes",19,()=>[]);const n=e.dateDisplayInfo.timeIcon==="sun"?$d:e.dateDisplayInfo.timeIcon==="moon"?Mu:e.dateDisplayInfo.timeIcon==="cloud"?Nd:null;var a=Fte(),s=d(a),i=d(s),u=d(i),l=p(i,2);{var c=f=>{n(f,{class:"h-3 w-3"})};D(l,f=>{n&&f(c)})}P(f=>{dt(a,"data-tip",f),O(u,e.dateDisplayInfo.formattedDate)},[()=>t().map(f=>f.r).join(", ")]),v(r,a),ve()}var zte=Dd("<title> </title>"),qte=Dd("<svg><!><use></use></svg>");function jte(r,e){let t=ke(e,"size",3,24),n=ke(e,"class",3,""),a=Fe(e,["$$slots","$$events","$$legacy","name","size","title","class"]);var s=qte();ut(s,()=>({width:t(),height:t(),class:n(),"aria-hidden":e.title?void 0:"true",...a}));var i=d(s);{var u=c=>{var f=zte(),h=d(f);P(()=>O(h,e.title)),v(c,f)};D(i,c=>{e.title&&c(u)})}var l=p(i);P(()=>dt(l,"href",`/icons/sprite.svg#${e.name??""}`)),v(r,s)}var Hte=_('<div class="text-primary-content flex items-center gap-2"><!> </div>'),Ute=_('<div class="text-primary-content flex items-center gap-2"><!> <span> </span> <span class="text-sm opacity-70"> </span></div>'),Vte=_('<div class="font-semibold">Sur toute la pÃ©riode</div>'),Wte=_('du <span class="font-semibold"> </span> au <span class="font-semibold"> </span>',1),Qte=_('le <span class="font-semibold"> </span>',1),Gte=_('<div class="text-primary-content px-2 text-shadow-md"><!></div>'),Kte=_('<span class="font-semibold"> </span>'),Jte=_('le <span class="font-semibold"> </span>',1),Zte=_('<div class="text-primary-content"><!></div>'),Yte=(r,e,t)=>e.onOpenGroupEditModal("store",o(t).map(n=>n.data.$id),o(t).map(n=>n.data)),Xte=(r,e,t)=>e.onOpenGroupEditModal("who",o(t).map(n=>n.data.$id),o(t).map(n=>n.data)),ere=(r,e,t)=>e.onOpenGroupPurchaseModal(o(t).map(n=>n.data)),tre=_(`<button class="btn btn-xs md:btn-sm btn-primary btn-soft" title="Ouvrir le modal d'achat groupÃ©"><!> <span class="hidden @md:block">Achat groupÃ©</span> <!></button>`),rre=_('<div class="ms-auto flex flex-wrap items-center justify-end gap-2"><button class="btn btn-xs md:btn-sm btn-primary btn-soft" title="Attribuer un magasin Ã  tous les produits de ce groupe"><!> <span class="hidden @md:block">Magasin</span> <!></button> <button class="btn btn-xs md:btn-sm btn-primary btn-soft" title="GÃ©rer les volontaires pour tous les produits de ce groupe"><!> <span class="hidden @md:block">Volontaires</span> <!></button> <!></div>'),nre=_('<div class="flex flex-wrap items-center justify-end gap-2"><div class="alert px-4 py-1" title="Contient des dates passÃ©es - actions non disponibles"><!> <span class="hidden @md:block">PÃ©riode partiellement passÃ©e</span></div></div>'),are=_('<div><div class="flex items-center gap-2 font-bold text-shadow-md/20 md:text-lg @md:min-w-48"><!></div> <!> <!></div>'),sre=(r,e,t)=>e.onOpenModal(o(t).$id,"recettes"),ire=(r,e,t)=>r.key==="Enter"&&e.onOpenModal(o(t).$id,"recettes"),ore=_('<div class="text-base-content/60 text-sm font-normal"> </div>'),ure=_('<div class="tooltip" data-tip="AjoutÃ© manuellement, ne fait pas partie des recette"><!></div>'),lre=_('<div class="bg-success/20 flex h-6 w-6 items-center justify-center rounded-full" title="Produit frais"><!></div>'),cre=_('<div class="bg-info/20 flex h-6 w-6 items-center justify-center rounded-full" title="Produit surgelÃ©"><!></div>'),dre=_('<div class="text-accent flex items-center gap-1" title="Synchronisation en cours..."><!></div>'),fre=_('<div class="text-base-content/60"><div class="flex flex-wrap items-center gap-1"></div></div>'),hre=(r,e,t)=>e.onOpenModal(o(t).$id,"magasins"),pre=(r,e,t)=>r.key==="Enter"&&e.onOpenModal(o(t).$id,"magasins"),vre=_('<div class="ml-1"><!></div>'),mre=_('<div class="ml-1"> </div> <!>',1),gre=_('<div class="ml-1 text-sm font-medium">?</div>'),bre=(r,e,t)=>e.onOpenModal(o(t).$id,"volontaires"),_re=(r,e,t)=>r.key==="Enter"&&e.onOpenModal(o(t).$id,"volontaires"),yre=_('<span class="text-base-content/50 text-xs"> </span>'),xre=_('<div class="ml-1 flex gap-1"> <!></div>'),wre=_('<div class="ml-1 text-sm font-medium">?</div>'),kre=_('<div class="ml-4 flex gap-2 self-start"><button title="Modifier le magasin"><!> <!></button> <button title="Modifier les volontaires"><!> <!></button></div>'),Ere=_('<div class="flex items-center gap-1 text-sm"><!> </div>'),Sre=_('<div class="flex items-center gap-1 text-sm"><!> </div>'),Are=_('<div class="mx-4 flex gap-2 opacity-60"><!> <!></div>'),Dre=_('<div class="text-base-content/60"><div class="flex flex-wrap gap-1"></div></div>'),Cre=(r,e,t)=>e.onOpenModal(o(t).$id,"recettes"),Ire=(r,e,t)=>r.key==="Enter"&&e.onOpenModal(o(t).$id,"recettes"),Tre=_('<div class="tooltip flex items-center gap-2" data-tip="Besoin total modifiÃ© manuellement"><span class="text-base-content/70 line-through"> </span> <!> </div>'),Mre=_("<span> </span>"),Rre=_('<div class="text-base-content/90 flex items-center gap-2"><span class="flex items-center gap-1"> <!></span> <span class="flex items-center gap-1"> <!></span></div>'),Nre=(r,e,t,n)=>{r.stopPropagation(),e.onQuickValidation(o(t),o(n))},Pre=_('<button class="btn btn-sm btn-outline btn-primary ms-auto"><span class="text-xs"><span class="font-light">manque :</span> </span> <span class="text-primary"><!></span></button>'),$re=_(`<div id="override_alert" class="alert alert-warning alert-outline mt-1"><!> <span>Les menus ont Ã©tÃ© modifiÃ© depuis la dÃ©finition manuelle
                        des besoins: <!> <!></span></div>`),Lre=(r,e,t)=>e.onOpenModal(o(t).$id,"achats"),Ore=(r,e,t)=>r.key==="Enter"&&e.onOpenModal(o(t).$id,"achats"),Bre=_('<div class="badge badge-outline badge-lg badge-secondary flex h-auto flex-col items-center gap-1"><div class="flex items-center gap-1"><!> <span class="text-sm font-medium text-nowrap"> </span></div> <span class="text-xs opacity-75"> </span></div>'),Fre=_('<span class="text-xs opacity-75"> </span>'),zre=_('<div><div class="flex items-center gap-1"><!> <span class="text-sm font-medium text-nowrap"> </span></div> <!></div>'),qre=_('<div class="text-base-content/50 text-xs italic">aucun</div>'),jre=_('<div><div class="card-body p-2"><div class="flex items-start justify-between"><div class="flex flex-1 cursor-pointer flex-wrap items-center gap-4" role="button" tabindex="0"><div class="text-primary flex items-center gap-2 text-base font-semibold"><!> <!> <!></div> <div class="flex gap-1"><!> <!></div> <!> <!></div> <!></div> <!> <div class="flex min-h-14 flex-wrap gap-3" id="card-needs-missing"><div class="flex min-w-[300px] flex-1 flex-col"><div class="text-base-content/60 ms-1 text-sm">Besoins total sur la pÃ©riode</div> <div id="needs-card" role="button" tabindex="0" class=" bg-base-300/80 relative flex flex-1 cursor-pointer flex-wrap items-start justify-between gap-x-4 gap-y-1 rounded-lg p-3 shadow-sm"><div class="ms-2 flex items-end justify-center gap-4"><div><!></div> <!></div> <!> <!></div></div> <div class="flex min-w-[300px] flex-1 flex-col"><div class="text-base-content/60 ms-1 text-sm">Achat / reccup effectuÃ©</div> <div class="group hover:ring-accent/60 bg-base-300/80 relative flex flex-1 cursor-pointer items-start justify-between gap-2 rounded-lg p-3 shadow-sm transition-colors hover:ring-2" role="button" tabindex="0"><!> <div>ajouter un achat</div> <div class="ms-auto flex flex-wrap gap-1.5"><!> <!> <!></div></div></div></div></div></div>'),Hre=_('<!> <div class="space-y-4 sm:space-y-2"></div>',1),Ure=_('<div class="mt-6 mb-2"><div class="border-b-2 border-gray-800 pb-1 font-bold uppercase"> <span class="ml-2 text-sm font-normal normal-case opacity-70"> </span> <span class="float-right ml-auto text-xs font-normal opacity-50"><!></span></div></div>'),Vre=_('<th class="w-3/12 border px-2 py-1">Qui / Type</th>'),Wre=_('<th class="w-3/12 border px-2 py-1">Store / Qui</th>'),Qre=_('<span class="block text-[9pt] font-normal opacity-60"> </span>'),Gre=_('<div class="font-medium"> </div>'),Kre=_('<div class="flex gap-6"><!> <div class="text-[9pt] opacity-70"> </div></div>'),Jre=_('<div class="font-medium"> </div>'),Zre=_('<div class="text-[9pt] opacity-70"> </div>'),Yre=_('<div class="flex gap-6"><!> <!></div>'),Xre=_('<span class="text-xs opacity-70"> </span>'),ene=_('<div class="text-nowrap"> </div>'),tne=_('<div class="flex flex-col items-end gap-0.5"><div class="font-medium text-nowrap"> <!></div> <!></div>'),rne=_('<div class="text-nowrap"> </div>'),nne=_('<div class="flex flex-col items-end gap-0.5"></div>'),ane=_('<tr class="break-inside-avoid border-b border-gray-300"><td class="border px-2 py-1 text-center"><div class="mx-auto h-4 w-4 border border-gray-400"></div></td><td class="border px-2 py-1 font-medium"> <!></td><td class="border px-2 py-1 text-sm font-bold"><!></td><td class="border px-2 py-1 text-sm"><!></td><td class="border px-2 py-1 text-right text-sm"><!></td></tr>'),sne=_('<div class="break-inside-avoid"><!> <table class="table-compact table w-full border-collapse"><thead><tr class="border-b border-gray-400 bg-gray-100 text-left"><th class="w-1/12 border px-2 py-1">Check</th><th class="w-4/12 border px-2 py-1">Produit</th><th class="w-2/12 border px-2 py-1">Besoin</th><!><th class="w-2/12 border px-2 py-1 text-right">AchetÃ©</th></tr></thead><tbody></tbody></table></div>'),ine=_("<span>Aucune recette pour le moment</span>"),one=_("<span>Aucun produit trouvÃ© avec les filtres actuels</span>"),une=_('<div class="py-8 text-center"><div class="alert alert-info"><svg class="h-6 w-6 shrink-0 stroke-current" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <!></div></div>'),lne=_('<div></div> <div class="hidden w-full print:block"></div> <!>',1);function cne(r,e){pe(e,!0);const t={Package:va,MessageCircleQuestionMark:UE,ShoppingCart:us,Clock:Oa,CircleCheck:h2,CircleX:p2,ClipboardCheck:CE,PackageCheck:k2,Check:wr};let n=ke(e,"disabled",3,!1);const a=V(()=>Xe.groupedFilteredProducts),s=Xe.filters,i=Da(Xe.dateStore.start),u=Da(Xe.dateStore.end),l=V(()=>!Xe.dateStore.isEventPassed&&!Xe.dateStore.hasPastDatesInRange),c=V(()=>s.completionStatus==="completed"?"bg-emerald-800":s.completionStatus==="incomplete"?"bg-amber-800":"bg-primary");var f=lne(),h=z(f);ze(h,21,()=>Object.entries(o(a)),([y,x])=>y,(y,x)=>{var k=V(()=>ha(o(x),2));let S=()=>o(k)[0];const C=V(()=>o(k)[1]);var E=Hre(),I=z(E);{var T=U=>{const G=V(()=>bo(S()));var Q=are(),ee=d(Q),oe=d(ee);{var H=B=>{var q=Hte(),$=d(q);Ma($,{class:"size-4 md:size-5"});var L=p($);P(()=>O(L,` ${S()??""} (${o(C).length??""})`)),v(B,q)},J=B=>{var q=ce(),$=z(q);{var L=Y=>{var W=Ute(),X=d(W);qt(X,()=>o(G).icon,(ue,se)=>{se(ue,{class:"size-4 md:size-5"})});var N=p(X,2),ie=d(N),re=p(N,2),le=d(re);P(()=>{O(ie,o(G).displayName),O(le,`(${o(C).length??""})`)}),v(Y,W)},ne=Y=>{var W=Pt();P(()=>O(W,`ð¦ ${S()??""} (${o(C).length??""})`)),v(Y,W)};D($,Y=>{s.groupBy==="productType"?Y(L):Y(ne,!1)},!0)}v(B,q)};D(oe,B=>{s.groupBy==="store"?B(H):B(J,!1)})}var K=p(ee,2);{var te=B=>{var q=Gte(),$=d(q);{var L=Y=>{var W=Vte();v(Y,W)},ne=Y=>{var W=ce(),X=z(W);{var N=re=>{var le=Wte(),ue=p(z(le)),se=d(ue),de=p(ue,2),fe=d(de);P((be,ye)=>{O(se,be),O(fe,ye)},[()=>Ki(Xe.dateStore.start),()=>Ki(Xe.dateStore.end)]),v(re,le)},ie=re=>{var le=Qte(),ue=p(z(le)),se=d(ue);P(de=>O(se,de),[()=>Ki(Xe.dateStore.start)]),v(re,le)};D(X,re=>{Xe.dateStore.start!==Xe.dateStore.end?re(N):re(ie,!1)},!0)}v(Y,W)};D($,Y=>{Xe.dateStore.isFullRange&&Xe.dateStore.start!==Xe.dateStore.end?Y(L):Y(ne,!1)})}v(B,q)},Z=B=>{var q=Zte(),$=d(q);{var L=Y=>{var W=Kte(),X=d(W);P((N,ie)=>O(X,`${N??""} â ${ie??""}`),[()=>Ki(Xe.dateStore.start),()=>Ki(Xe.dateStore.end)]),v(Y,W)},ne=Y=>{var W=Jte(),X=p(z(W)),N=d(X);P(ie=>O(N,ie),[()=>Ki(Xe.dateStore.start,!0)]),v(Y,W)};D($,Y=>{!Xe.dateStore.isFullRange&&Xe.dateStore.start!==Xe.dateStore.end?Y(L):Y(ne,!1)})}v(B,q)};D(K,B=>{Ee.isMobile?B(Z,!1):B(te)})}var R=p(K,2);{var F=B=>{var q=rre(),$=d(q);$.__click=[Yte,e,C];var L=d($);Ma(L,{size:16});var ne=p(L,4);na(ne,{size:16});var Y=p($,2);Y.__click=[Xte,e,C];var W=d(Y);Ut(W,{size:16});var X=p(W,4);na(X,{size:16});var N=p(Y,2);{var ie=re=>{var le=tre();le.__click=[ere,e,C];var ue=d(le);us(ue,{size:16});var se=p(ue,4);xh(se,{size:16}),_t("mouseenter",le,()=>Vt.msg="DÃ©clarez tout ou partie des produits de ce groupe comme achetÃ©"),_t("mouseleave",le,()=>Vt.reset()),v(re,le)};D(N,re=>{o(C).some(le=>le.data.displayMissingQuantity!=="â Complet")&&re(ie)})}_t("mouseenter",$,()=>Vt.msg="DÃ©finissez un magasin oÃ¹ seront achetÃ© tous les produits de ce groupe"),_t("mouseleave",$,()=>Vt.reset()),_t("mouseenter",Y,()=>Vt.msg="DÃ©finissez qui est responsable de l'achat de tous les produits de ce groupe"),_t("mouseleave",Y,()=>Vt.reset()),v(B,q)},M=B=>{var q=ce(),$=z(q);{var L=ne=>{var Y=nre(),W=d(Y),X=d(W);Oa(X,{size:16}),v(ne,Y)};D($,ne=>{Xe.dateStore.hasPastDatesInRange&&ne(L)},!0)}v(B,q)};D(R,B=>{o(l)?B(F):B(M,!1)})}P(()=>_e(Q,1,`${o(c)??""} @container sticky ${Ee.isMobile?"top-11":"top-16 rounded-lg"} z-2 flex flex-wrap items-center justify-between px-4 py-2 shadow-md @md:flex-nowrap print:shadow-none`)),v(U,Q)};D(I,U=>{S()!==""&&U(T)})}var j=p(I,2);ze(j,21,()=>o(C),U=>U.data.$id,(U,G)=>{const Q=V(()=>o(G).data),ee=V(()=>o(G).stats),oe=V(()=>bo(o(Q).productType)),H=V(()=>T8(o(Q).purchases||[])),J=V(()=>o(Q).totalNeededOverrideParsed),K=V(()=>Kb(o(Q)));var te=jre(),Z=d(te),R=d(Z),F=d(R);F.__click=[sre,e,Q],F.__keydown=[ire,e,Q];var M=d(F),B=d(M);qt(B,()=>o(oe).icon,(Ue,Ye)=>{Ye(Ue,{class:"h-4 w-4"})});var q=p(B),$=p(q);{var L=Ue=>{var Ye=ore(),at=d(Ye);P(()=>O(at,`Ancien: ${o(Q).previousNames[0]??""}`)),v(Ue,Ye)};D($,Ue=>{o(Q).previousNames&&o(Q).previousNames.length>0&&Ue(L)})}var ne=p($,2);{var Y=Ue=>{var Ye=ure(),at=d(Ye);cm(at,{class:"text-warning h-4 w-4"}),v(Ue,Ye)};D(ne,Ue=>{o(Q).productHugoUuid||Ue(Y)})}var W=p(M,2),X=d(W);{var N=Ue=>{var Ye=lre(),at=d(Ye);kh(at,{class:"text-success h-4 w-4"}),v(Ue,Ye)};D(X,Ue=>{o(Q).pF&&Ue(N)})}var ie=p(X,2);{var re=Ue=>{var Ye=cre(),at=d(Ye);dc(at,{class:"text-info h-4 w-4"}),v(Ue,Ye)};D(ie,Ue=>{o(Q).pS&&Ue(re)})}var le=p(W,2);{var ue=Ue=>{var Ye=dre(),at=d(Ye);mo(at,{class:"h-4 w-4 animate-spin"}),v(Ue,Ye)};D(le,Ue=>{o(Q).status==="isSyncing"&&Ue(ue)})}var se=p(le,2);{var de=Ue=>{var Ye=fre(),at=d(Ye);ze(at,20,()=>o(ee).concernedDates,gt=>gt,(gt,Ct)=>{const $t=V(()=>o(ee).recipesByDate.get(Ct)||[]),Mt=V(()=>o(G).data.dateDisplayInfo[Ct]||yh(Ct));Hg(gt,{get dateDisplayInfo(){return o(Mt)},get recipes(){return o($t)}})}),v(Ue,Ye)};D(se,Ue=>{!Ee.isMobile&&o(ee).concernedDates.length>0&&Ue(de)})}var fe=p(F,2);{var be=Ue=>{var Ye=kre(),at=d(Ye);at.__click=[hre,e,Q],at.__keydown=[pre,e,Q];var gt=d(at);Ma(gt,{size:18});var Ct=p(gt,2);{var $t=Wt=>{var Pr=mre(),Ur=z(Pr),aa=d(Ur),_a=p(Ur,2);{var Qt=mr=>{var Yr=vre(),mn=d(Yr);Bte(mn,{get tip(){return o(Q).storeInfo.storeComment},get icon(){return HE},iconSize:14}),v(mr,Yr)};D(_a,mr=>{o(Q).storeInfo?.storeComment&&mr(Qt)})}P(()=>O(aa,o(Q).storeInfo.storeName)),v(Wt,Pr)},Mt=Wt=>{var Pr=gre();v(Wt,Pr)};D(Ct,Wt=>{o(Q).storeInfo?.storeName?Wt($t):Wt(Mt,!1)})}var Ot=p(at,2);Ot.__click=[bre,e,Q],Ot.__keydown=[_re,e,Q];var It=d(Ot);Ut(It,{size:18});var Ft=p(It,2);{var pr=Wt=>{var Pr=ce(),Ur=z(Pr);{var aa=Qt=>{var mr=xre(),Yr=d(mr),mn=p(Yr);{var sa=$r=>{var Xs=yre(),ei=d(Xs);P(()=>O(ei,`+${o(Q).who.length-2}`)),v($r,Xs)};D(mn,$r=>{o(Q).who.length>2&&$r(sa)})}P($r=>O(Yr,`${$r??""}... `),[()=>o(Q).who.slice(0,2).map($r=>$r.slice(0,5)).join(" | ")]),v(Qt,mr)},_a=Qt=>{var mr=ce(),Yr=z(mr);{var mn=sa=>{var $r=Pt();P(()=>O($r,o(Q).who)),v(sa,$r)};D(Yr,sa=>{o(Q).who.length===1&&sa(mn)},!0)}v(Qt,mr)};D(Ur,Qt=>{o(Q).who.length>1?Qt(aa):Qt(_a,!1)})}v(Wt,Pr)},vr=Wt=>{var Pr=wre();v(Wt,Pr)};D(Ft,Wt=>{o(Q).who&&o(Q).who.length?Wt(pr):Wt(vr,!1)})}P(()=>{_e(at,1,`btn btn-soft btn-xs sm:btn-sm group relative ${o(Q).storeInfo?.storeName?"btn-success":""}`),_e(Ot,1,`btn btn-xs sm:btn-sm btn-soft group relative ${o(Q).who&&o(Q).who?.length>0?"btn-success":""}`)}),_t("mouseenter",at,()=>Vt.msg="DÃ©finissez le magasin oÃ¹ acheter le produit"),_t("mouseleave",at,()=>Vt.reset()),_t("mouseenter",Ot,()=>Vt.msg="DÃ©clarez qui est responsable de l'achat de ce produit"),_t("mouseleave",Ot,()=>Vt.reset()),v(Ue,Ye)},ye=Ue=>{var Ye=Are(),at=d(Ye);{var gt=Mt=>{var Ot=Ere(),It=d(Ot);Ma(It,{size:16});var Ft=p(It);P(()=>O(Ft,` ${o(Q).storeInfo.storeName??""}`)),v(Mt,Ot)};D(at,Mt=>{o(Q).storeInfo?.storeName&&Mt(gt)})}var Ct=p(at,2);{var $t=Mt=>{var Ot=Sre(),It=d(Ot);Ut(It,{size:16});var Ft=p(It);P(pr=>O(Ft,` ${pr??""}`),[()=>o(Q).who.join(", ")]),v(Mt,Ot)};D(Ct,Mt=>{o(Q).who&&o(Q).who.length>0&&Mt($t)})}v(Ue,Ye)};D(fe,Ue=>{o(l)?Ue(be):Ue(ye,!1)})}var De=p(R,2);{var xe=Ue=>{var Ye=Dre(),at=d(Ye);ze(at,20,()=>o(ee).concernedDates,gt=>gt,(gt,Ct)=>{const $t=V(()=>o(ee).recipesByDate.get(Ct)||[]),Mt=V(()=>o(G).data.dateDisplayInfo[Ct]||yh(Ct));Hg(gt,{get dateDisplayInfo(){return o(Mt)},get recipes(){return o($t)}})}),v(Ue,Ye)};D(De,Ue=>{Ee.isMobile&&o(ee).concernedDates.length>0&&Ue(xe)})}var Ce=p(De,2),Ie=d(Ce),Pe=p(d(Ie),2);Pe.__click=[Cre,e,Q],Pe.__keydown=[Ire,e,Q];var Be=d(Pe),He=d(Be),Te=d(He);{var he=Ue=>{var Ye=Tre(),at=d(Ye),gt=d(at),Ct=p(at,2);cm(Ct,{class:"h-4 w-4"});var $t=p(Ct);P(()=>{O(gt,o(ee).formattedQuantities),O($t,` ${o(J).totalOverride.q??""}
                          ${o(J).totalOverride.u??""}`)}),v(Ue,Ye)},Se=Ue=>{var Ye=Mre(),at=d(Ye);P(()=>O(at,o(ee).formattedQuantities)),v(Ue,Ye)};D(Te,Ue=>{o(J)?.totalOverride?Ue(he):Ue(Se,!1)})}var Ae=p(He,2);{var $e=Ue=>{var Ye=Rre(),at=d(Ye),gt=d(at),Ct=p(gt);hs(Ct,{class:"h-3 w-3"});var $t=p(at,2),Mt=d($t),Ot=p(Mt);nn(Ot,{class:"h-3 w-3"}),P(()=>{O(gt,`${o(ee).nbRecipes??""} `),O(Mt,`${o(ee).totalAssiettes??""} `)}),v(Ue,Ye)};D(Ae,Ue=>{(o(ee).nbRecipes||o(ee).totalAssiettes)&&Ue($e)})}var we=p(Be,2);{var Oe=Ue=>{var Ye=Pre();Ye.__click=[Nre,e,Q,ee];var at=d(Ye),gt=p(d(at)),Ct=p(at,2),$t=d(Ct);jte($t,{name:"add-to-cart",size:16}),P(()=>O(gt,` ${o(ee).formattedMissingQuantities??""}`)),_t("mouseenter",Ye,()=>Vt.msg="Ajouter aux achats effectuÃ©s"),_t("mouseleave",Ye,()=>Vt.reset()),v(Ue,Ye)},Le=Ue=>{var Ye=ce(),at=z(Ye);{var gt=Ct=>{xh(Ct,{size:24,class:"text-success ms-auto"})};D(at,Ct=>{o(l)&&Ct(gt)},!0)}v(Ue,Ye)};D(we,Ue=>{o(l)&&o(ee).hasMissing?Ue(Oe):Ue(Le,!1)})}var Ke=p(we,2);{var Re=Ue=>{var Ye=$re(),at=d(Ye);Ln(at,{size:18});var gt=p(at,2),Ct=p(d(gt));{var $t=It=>{var Ft=Pt();P(()=>O(Ft,`${o(K).details?.oldPlates??""}â${o(K).details?.newPlates??""} couverts`)),v(It,Ft)};D(Ct,It=>{o(K).platesChanged&&It($t)})}var Mt=p(Ct,2);{var Ot=It=>{var Ft=Pt();P(()=>O(Ft,`${o(K).details?.oldRecipes??""}â${o(K).details?.newRecipes??""}
                          recettes`)),v(It,Ft)};D(Mt,It=>{o(K).recipesChanged&&It(Ot)})}v(Ue,Ye)};D(Ke,Ue=>{o(l)&&o(K)?.hasMismatch&&Ue(Re)})}var Je=p(Ie,2),Ve=p(d(Je),2);Ve.__click=[Lre,e,Q],Ve.__keydown=[Ore,e,Q];var Ge=d(Ve);us(Ge,{class:"h-4 w-4 opacity-60"});var We=p(Ge,2),qe=p(We,2),et=d(qe);{var lt=Ue=>{var Ye=Bre(),at=d(Ye),gt=d(at);iS(gt,{class:"text-secondary h-4 w-4"});var Ct=p(gt,2),$t=d(Ct),Mt=p(at,2),Ot=d(Mt);P(It=>{O($t,`${o(Q).stockParsed.quantity??""}
                            ${o(Q).stockParsed.unit??""}`),O(Ot,`stock: ${It??""}`)},[()=>Zn(o(Q).stockParsed.dateTime)]),v(Ue,Ye)};D(et,Ue=>{o(Q).stockParsed&&Ue(lt)})}var pt=p(et,2);ze(pt,17,()=>o(H),bt,(Ue,Ye)=>{const at=V(()=>t[o(Ye).icon]);var gt=zre(),Ct=d(gt),$t=d(Ct);qt($t,()=>o(at),(pr,vr)=>{vr(pr,{class:"h-4 w-4"})});var Mt=p($t,2),Ot=d(Mt),It=p(Ct,2);{var Ft=pr=>{var vr=Fre(),Wt=d(vr);P(()=>O(Wt,`livrÃ© le: ${o(Ye).deliveryDate??""}`)),v(pr,vr)};D(It,pr=>{o(Ye).deliveryDate&&pr(Ft)})}P(()=>{_e(gt,1,`badge badge-outline badge-lg flex h-auto flex-col items-center gap-1 ${o(Ye).badgeClass??""}`),O(Ot,`${o(Ye).quantity??""}
                            ${o(Ye).unit??""}`)}),v(Ue,gt)});var Et=p(pt,2);{var kt=Ue=>{var Ye=qre();v(Ue,Ye)};D(Et,Ue=>{o(H).length===0&&!o(Q)?.stockParsed&&Ue(kt)})}P(()=>{_e(te,1,`card bg-base-100 ${(Ee.isMobile&&"border-base-300 border shadow")??""} ${o(Q).status==="isSyncing"?"border-accent bg-accent/30 animate-pulse border-2":""}`),O(q,`${o(Q).productName??""} `),_e(He,1,`text-base font-bold ${o(ee).hasMissing&&o(l)?"text-error":"text-success"}`),_e(We,1,`text-base-content/30 blocktransition-opacity ms-2 text-xs italic ${o(l)?"group-hover:block":"hidden"} sm:hidden`)}),_t("mouseenter",F,()=>Vt.msg="Afficher les informations sur ce produit"),_t("mouseleave",F,()=>Vt.reset()),_t("mouseenter",Pe,()=>Vt.msg="Afficher les informations sur ce produit"),_t("mouseleave",Pe,()=>Vt.reset()),_t("mouseenter",Ve,()=>Vt.msg="DÃ©clarez des achats effectuÃ©s"),_t("mouseleave",Ve,()=>Vt.reset()),Li(2,te,()=>Bp),v(U,te)}),v(y,E)});var m=p(h,2);ze(m,21,()=>Object.entries(o(a)),([y,x])=>y,(y,x)=>{var k=V(()=>ha(o(x),2));let S=()=>o(k)[0],A=()=>o(k)[1];var C=sne(),E=d(C);{var I=H=>{var J=Ure(),K=d(J),te=d(K),Z=p(te),R=d(Z),F=p(Z,2),M=d(F);{var B=$=>{var L=Pt("Toute la pÃ©riode");v($,L)},q=$=>{var L=ce(),ne=z(L);{var Y=X=>{var N=Pt();P(()=>O(N,`du ${i??""} au ${u??""}`)),v(X,N)},W=X=>{var N=Pt();P(()=>O(N,`le ${i??""}`)),v(X,N)};D(ne,X=>{Xe.dateStore.start!==Xe.dateStore.end?X(Y):X(W,!1)},!0)}v($,L)};D(M,$=>{Xe.dateStore.isFullRange?$(B):$(q,!1)})}P(()=>{O(te,`${(S()==="Non dÃ©fini"?"Groupe inconnu":S())??""} `),O(R,`(${A().length??""} produits)`)}),v(H,J)};D(E,H=>{S()!==""&&H(I)})}var T=p(E,2),j=d(T),U=d(j),G=p(d(U),3);{var Q=H=>{var J=Vre();v(H,J)},ee=H=>{var J=Wre();v(H,J)};D(G,H=>{s.groupBy==="store"?H(Q):H(ee,!1)})}var oe=p(j);ze(oe,21,A,H=>H.data.$id,(H,J)=>{const K=V(()=>o(J).data),te=V(()=>o(J).stats);var Z=ane(),R=p(d(Z)),F=d(R),M=p(F);{var B=se=>{var de=Qre(),fe=d(de);P(()=>O(fe,`(Ancien: ${o(K).previousNames[0]??""})`)),v(se,de)};D(M,se=>{o(K).previousNames&&o(K).previousNames.length>0&&se(B)})}var q=p(R),$=d(q);{var L=se=>{var de=Pt();P(()=>O(de,`${o(K).totalNeededOverrideParsed.totalOverride.q??""}
                  ${o(K).totalNeededOverrideParsed.totalOverride.u??""}`)),v(se,de)},ne=se=>{var de=Pt();P(()=>O(de,o(te).formattedQuantities)),v(se,de)};D($,se=>{o(K).totalNeededOverrideParsed?.totalOverride?se(L):se(ne,!1)})}var Y=p(q),W=d(Y);{var X=se=>{var de=Kre(),fe=d(de);{var be=xe=>{var Ce=Gre(),Ie=d(Ce);P(Pe=>O(Ie,Pe),[()=>o(K).who.join(", ")]),v(xe,Ce)};D(fe,xe=>{o(K).who?.length&&xe(be)})}var ye=p(fe,2),De=d(ye);P(()=>O(De,o(K).productType||"Autre")),v(se,de)},N=se=>{var de=Yre(),fe=d(de);{var be=xe=>{var Ce=Jre(),Ie=d(Ce);P(()=>O(Ie,o(K).storeInfo.storeName)),v(xe,Ce)};D(fe,xe=>{o(K).storeInfo?.storeName&&xe(be)})}var ye=p(fe,2);{var De=xe=>{var Ce=Zre(),Ie=d(Ce);P(Pe=>O(Ie,Pe),[()=>o(K).who.join(", ")]),v(xe,Ce)};D(ye,xe=>{o(K).who?.length&&xe(De)})}v(se,de)};D(W,se=>{s.groupBy==="store"?se(X):se(N,!1)})}var ie=p(Y),re=d(ie);{var le=se=>{var de=tne(),fe=d(de),be=d(fe),ye=p(be);{var De=Ie=>{var Pe=Xre(),Be=d(Pe);P(He=>O(Be,`(${He??""})`),[()=>Zn(o(K).stockParsed.dateTime)]),v(Ie,Pe)};D(ye,Ie=>{o(K).stockParsed?.dateTime&&Ie(De)})}var xe=p(fe,2);{var Ce=Ie=>{var Pe=ce(),Be=z(Pe);ze(Be,17,()=>o(K).purchases,bt,(He,Te)=>{var he=ene(),Se=d(he);P(()=>O(Se,`${o(Te).quantity??""} ${o(Te).unit??""}`)),v(He,he)}),v(Ie,Pe)};D(xe,Ie=>{o(K).purchases?.length&&Ie(Ce)})}P(()=>O(be,`ð¦ ${o(K).stockParsed.quantity??""} `)),v(se,de)},ue=se=>{var de=ce(),fe=z(de);{var be=ye=>{var De=nne();ze(De,21,()=>o(K).purchases,bt,(xe,Ce)=>{var Ie=rne(),Pe=d(Ie);P(()=>O(Pe,`${o(Ce).quantity??""} ${o(Ce).unit??""}`)),v(xe,Ie)}),v(ye,De)};D(fe,ye=>{o(K).purchases?.length&&ye(be)},!0)}v(se,de)};D(re,se=>{o(K).stockParsed?se(le):se(ue,!1)})}P(()=>O(F,`${o(K).productName??""} `)),v(H,Z)}),v(y,C)});var g=p(m,2);{var b=y=>{var x=une(),k=d(x),S=p(d(k),2);{var A=E=>{var I=ine();v(E,I)},C=E=>{var I=one();v(E,I)};D(S,E=>{e.currentEvent&&e.currentEvent.meals&&e.currentEvent.meals.length>0&&e.currentEvent.meals.every(I=>!I.recipes||I.recipes.length===0)?E(A):E(C,!1)})}v(y,x)};D(g,y=>{Object.values(o(a)).flat().length===0&&y(b)})}P(()=>_e(h,1,`space-y-4 rounded-lg print:hidden ${n()?"opacity-50 pointer-events-none":""}`)),v(r,f),ve()}tt(["click","keydown"]);var dne=_('<div class="alert alert-error"><!> <span> </span></div>'),fne=(r,e)=>w(e,"empty"),hne=(r,e)=>w(e,"all"),pne=_('<div class="space-y-6"><!> <div class="space-y-4"><div class="flex flex-wrap items-center gap-x-5 gap-y-2"><!></div> <div><!></div></div> <div><h4 class="mb-1 font-medium">Produits concernÃ©s</h4> <div role="tablist" class="tabs mb-1 flex justify-end"><button>Produits sans magasin attribuÃ©</button> <button>Tous les produits du groupe</button></div> <!></div></div>'),vne=_('<span class="loading loading-spinner loading-sm"></span> En cours...',1),mne=_("<!> ",1),gne=_('<button class="btn btn-ghost">Annuler</button> <button class="btn btn-primary"><!></button>',1),bne=_("<!> <!> <!>",1);function _ne(r,e){pe(e,!0);let t=ae(!1),n=ae(null),a=ae(null),s=ae(ot(e.products.length>0&&e.products[0].storeInfo?e.products[0].storeInfo.storeName:"")),i=ae(ot(e.products.length>0&&e.products[0].storeInfo&&e.products[0].storeInfo.storeComment||"")),u=ae(ot({})),l=ae("empty");st(()=>{const x={};e.products.forEach(k=>{e.productIds.includes(k.$id)&&(o(l)==="empty"?x[k.$id]=!k.storeInfo||!k.storeInfo.storeName:x[k.$id]=!0)}),w(u,x,!0)});const c=V(()=>e.products.map(x=>({id:x.$id,label:x.productName,title:x.productName,selected:o(u)[x.$id]}))),f=V(()=>o(c).filter(x=>x.selected)),h=V(()=>`Attribuer un magasin (${o(f).length} produits sÃ©lectionnÃ©s)`),m=V(()=>o(f).length===0?!1:o(s).trim().length>0);async function g(){if(!o(m)||o(t))return;w(n,null),w(a,null);const x=o(f).map(A=>A.id),k=e.products.filter(A=>x.includes(A.$id));Xe.setSyncStatus(x,!0),Ee.backgroundOperation={isRunning:!0,name:`Mise Ã  jour magasin (${x.length} produits)`,progress:0},e.onClose();const S={storeName:o(s).trim(),storeComment:o(i).trim()};try{const A=await rt.track(e2(x,k,"store",S).then(C=>{if(console.log(`[StoreEditModal] Mise Ã  jour groupÃ©e: ${C.success?"succÃ¨s":"Ã©chec"}, ${C.updatedCount} produits modifiÃ©s`),!C.success)throw new Error(C.error||"Erreur lors de la mise Ã  jour");return C}),{loading:`Mise Ã  jour du magasin pour ${x.length} produits...`,success:"Magasin mis Ã  jour avec succÃ¨s",error:"Erreur lors de la mise Ã  jour du magasin"});e.onSuccess?.(A)}catch(A){console.error("[StoreEditModal] Erreur mise Ã  jour:",A),Xe.clearSyncStatus()}finally{w(t,!1),Ee.backgroundOperation={isRunning:!1,name:"",progress:0}}}function b(){o(t)||e.onClose()}function y(x){o(u)[x]=!o(u)[x]}on(r,{isOpen:!0,onClose:b,children:(x,k)=>{var S=bne(),A=z(S);Hr(A,{get title(){return o(h)},onClose:b,children:(I,T)=>{Ma(I,{class:"text-secondary"})},$$slots:{default:!0}});var C=p(A,2);Zr(C,{children:(I,T)=>{var j=pne(),U=d(j);{var G=M=>{var B=dne(),q=d(B);Cr(q,{class:"h-4 w-4"});var $=p(q,2),L=d($);P(()=>O(L,o(n))),v(M,B)};D(U,M=>{o(n)&&M(G)})}var Q=p(U,2),ee=d(Q),oe=d(ee);Bo(oe,{get suggestions(){return Xe.uniqueStores},get disabled(){return o(t)},id:"store-name-input",get value(){return o(s)},set value(M){w(s,M,!0)}});var H=p(ee,2),J=d(H);Fo(J,{get disabled(){return o(t)},id:"store-comment-textarea",get value(){return o(i)},set value(M){w(i,M,!0)}});var K=p(Q,2),te=p(d(K),2),Z=d(te);Z.__click=[fne,l];var R=p(Z,2);R.__click=[hne,l];var F=p(te,2);Fa(F,{get items(){return o(c)},onToggleItem:y,size:"sm",color:"success"}),P(()=>{_e(Z,1,`tab ${o(l)==="empty"?"tab-active":""}`),_e(R,1,`tab ${o(l)==="all"?"tab-active":""}`)}),v(I,j)}});var E=p(C,2);Sn(E,{children:(I,T)=>{var j=gne(),U=z(j);U.__click=b;var G=p(U,2);G.__click=g;var Q=d(G);{var ee=H=>{var J=vne();v(H,J)},oe=H=>{var J=mne(),K=z(J);wr(K,{class:"h-4 w-4"});var te=p(K);P(()=>O(te,` Appliquer Ã  ${o(f).length??""} produit(s)`)),v(H,J)};D(Q,H=>{o(t)?H(ee):H(oe,!1)})}P(()=>{U.disabled=o(t),G.disabled=o(t)||!o(m)}),v(I,j)}}),v(x,S)},$$slots:{default:!0}}),ve()}tt(["click"]);var yne=_('<div class="alert alert-error"><!> <span> </span></div>'),xne=(r,e)=>w(e,"empty"),wne=(r,e)=>w(e,"all"),kne=_(`<div class="space-y-10"><!> <div class="space-y-4"><h4 class="font-medium">Volontaires Ã  assigner pour l'approvisionnement de ce produit</h4> <div class="flex gap-2"><div><!></div> <button class="btn btn-square btn-primary"><!></button></div> <div><h5>SÃ©lection rapide</h5> <!></div></div> <div><div class=" my-4 flex flex-wrap items-start justify-between gap-4"><div class="font-medium">Produits concernÃ©s</div> <div class="flex flex-wrap gap-2"><button name="selectionMode"><span class="hidden sm:inline">Produits sans volontaire</span> <span class="sm:hidden">Sans volontaire</span></button> <button name="selectionMode">Tous les produits</button></div></div> <!></div></div>`),Ene=_('<span class="loading loading-spinner loading-sm"></span> En cours...',1),Sne=_("<!> ",1),Ane=_('<button class="btn btn-ghost">Annuler</button> <button class="btn btn-primary"><!></button>',1),Dne=_("<!> <!> <!>",1);function Cne(r,e){pe(e,!0);let t=ae(!1),n=ae(null),a=ae(ot([])),s=ae(""),i=ae("empty"),u=ae(ot({}));st(()=>{const A={};e.products.forEach(C=>{e.productIds.includes(C.$id)&&(o(i)==="empty"?A[C.$id]=!C.who||C.who.length===0:A[C.$id]=!0)}),w(u,A,!0)});const l=V(()=>e.products.map(A=>({id:A.$id,label:A.productName,title:A.productName,selected:o(u)[A.$id]}))),c=V(()=>o(l).filter(A=>A.selected)),f=V(()=>{const A=new Set([...Xe.uniqueWho,...o(a)]);return Array.from(A).map(C=>({id:C,label:C,selected:o(a).includes(C)}))}),h=V(()=>`GÃ©rer les volontaires (${o(c).length} produit${o(c).length>1?"s":""})`),m=V(()=>o(c).length===0?!1:o(a).length>0);async function g(){if(!o(m)||o(t))return;w(n,null);const A=o(c).map(E=>E.id),C=e.products.filter(E=>A.includes(E.$id));Xe.setSyncStatus(A,!0),Ee.backgroundOperation={isRunning:!0,name:`Mise Ã  jour volontaires (${A.length} produits)`,progress:0},e.onClose();try{await rt.track(e2(A,C,"who",{names:o(a)}).then(E=>{if(console.log(`[WhoEditModal] Mise Ã  jour groupÃ©e: ${E.success?"succÃ¨s":"Ã©chec"}, ${E.updatedCount} produits modifiÃ©s`),!E.success)throw new Error(E.error||"Erreur lors de la mise Ã  jour");return Xe.clearSyncStatus(),console.log("[WhoEditModal] â Sync status cleared on success"),e.onSuccess?.(E),E}),{loading:`Mise Ã  jour des mandatÃ©s pour ${A.length} produits...`,success:"Mise Ã  jour effectuÃ©",error:"Erreur lors de la mise Ã  jour des volontaires"})}catch(E){console.error("[WhoEditModal] Erreur mise Ã  jour:",E),Xe.clearSyncStatus()}finally{w(t,!1),Ee.backgroundOperation={isRunning:!1,name:"",progress:0}}}function b(A){const C=A.trim();C&&!o(a).includes(C)&&w(a,[...o(a),C],!0)}function y(A){w(a,o(a).filter(C=>C!==A),!0)}function x(A){o(a).includes(A)?y(A):b(A)}function k(){o(s).trim()&&(b(o(s)),w(s,""))}function S(A){o(u)[A]=!o(u)[A]}on(r,{isOpen:!0,get onClose(){return e.onClose},hasUnsavedChanges:!1,fullscreenOnMobile:!0,maxWidth:"lg",children:(A,C)=>{var E=Dne(),I=z(E);Hr(I,{get title(){return o(h)},showBackButton:!0,get onClose(){return e.onClose}});var T=p(I,2);Zr(T,{children:(U,G)=>{var Q=kne(),ee=d(Q);{var oe=X=>{var N=yne(),ie=d(N);Cr(ie,{class:"h-4 w-4"});var re=p(ie,2),le=d(re);P(()=>O(le,o(n))),v(X,N)};D(ee,X=>{o(n)&&X(oe)})}var H=p(ee,2),J=p(d(H),2),K=d(J),te=d(K);yl(te,{get disabled(){return o(t)},onkeydown:X=>{X.key==="Enter"&&(X.preventDefault(),k())},get value(){return o(s)},set value(X){w(s,X,!0)}});var Z=p(K,2);Z.__click=k;var R=d(Z);ll(R,{size:16});var F=p(J,2),M=d(F),B=p(M,2);Fa(B,{get items(){return o(f)},onToggleItem:x,size:"lg",color:"info"});var q=p(H,2),$=d(q),L=p(d($),2),ne=d(L);ne.__click=[xne,i];var Y=p(ne,2);Y.__click=[wne,i];var W=p($,2);Fa(W,{get items(){return o(l)},onToggleItem:S,size:"sm",color:"success"}),P(X=>{Z.disabled=X,_e(M,1,`text-base-content/70 mb-2 hidden text-sm ${(o(f).length&&"inline")??""}`),_e(ne,1,`btn btn-sm ${o(i)==="empty"&&"btn-secondary"}`),_e(Y,1,`btn btn-sm ${o(i)==="all"&&"btn-secondary"}`)},[()=>o(t)||!o(s).trim()]),v(U,Q)}});var j=p(T,2);Sn(j,{children:(U,G)=>{var Q=Ane(),ee=z(Q);ee.__click=function(...te){e.onClose?.apply(this,te)};var oe=p(ee,2);oe.__click=g;var H=d(oe);{var J=te=>{var Z=Ene();v(te,Z)},K=te=>{var Z=Sne(),R=z(Z);wr(R,{class:"h-4 w-4"});var F=p(R);P(()=>O(F,` Appliquer Ã  ${o(c).length??""} produit${o(c).length>1?"s":""}`)),v(te,Z)};D(H,te=>{o(t)?te(J):te(K,!1)})}P(()=>{ee.disabled=o(t),oe.disabled=o(t)||!o(m)}),v(U,Q)}}),v(A,E)},$$slots:{default:!0}}),ve()}tt(["click"]);async function Ine(r,e,t,n,a,s){if(!o(e).invoiceTotal||o(e).invoiceTotal<=0){w(t,"Le montant doit Ãªtre supÃ©rieur Ã  0");return}w(n,!0),w(t,null);try{const i=Xe.currentMainId;if(!i)throw new Error("Aucun Ã©vÃ©nement principal actif");o(a)?await Xb(o(a),{price:o(e).invoiceTotal,invoiceTotal:o(e).invoiceTotal,store:o(e).store,notes:o(e).notes,who:o(e).who}):await k6(i,void 0,o(e).invoiceTotal,o(e).store,o(e).notes,o(e).who),s()}catch(i){console.error("Erreur sauvegarde dÃ©pense:",i),w(t,i.message,!0)}finally{w(n,!1)}}var Tne=_('<div class="flex justify-between"><span> </span> <span class="font-mono"> </span></div>'),Mne=_('<div class="flex justify-between"><span> </span> <span class="font-mono"> </span></div>'),Rne=(r,e)=>w(e,!0),Nne=_('<button class="btn btn-primary btn-sm"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="mr-1 h-4 w-4"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15"></path></svg> Ajouter une dÃ©pense</button>'),Pne=_('<span class="loading loading-spinner loading-xs"></span>'),$ne=_('<div class="text-error mt-2 text-xs"> </div>'),Lne=_('<div class="card bg-base-200 animate-in fade-in slide-in-from-top-4 shadow-md duration-300"><div class="card-body p-4"><h4 class="card-title text-sm"> </h4> <div class="grid grid-cols-1 gap-4 md:grid-cols-2"><!> <!> <!> <!></div> <div class="card-actions mt-2 justify-end"><button class="btn btn-sm btn-ghost">Annuler</button> <button class="btn btn-sm btn-primary"><!> </button></div> <!></div></div>'),One=(r,e)=>e("date"),Bne=(r,e)=>e("store"),Fne=(r,e)=>e("who"),zne=(r,e)=>e("amount"),qne=_('<span class="text-base-content/70 italic"> </span>'),jne=_('<span class="text-base-content/50 ml-1 text-xs"> </span>'),Hne=_('<span class="font-medium"> </span> <!>',1),Une=(r,e,t)=>e(o(t)),Vne=_('<tr class="hover"><td class="whitespace-nowrap"> </td><td class="max-w-xs truncate"><!></td><td> </td><td> </td><td class="text-right font-mono font-bold"> </td><td><button class="btn btn-ghost btn-square"><!></button></td></tr>'),Wne=_('<tr><td colspan="7" class="text-base-content/50 py-8 text-center">Aucune dÃ©pense trouvÃ©e</td></tr>'),Qne=_('<div class="bg-base-100 border-base-200 rounded-lg border"><table class="table-zebra table-xs table w-full"><thead class="bg-base-200 sticky top-0"><tr><th class="hover:bg-base-300 cursor-pointer"> </th><th>Description</th><th class="hover:bg-base-300 cursor-pointer"> </th><th class="hover:bg-base-300 cursor-pointer"> </th><th class="hover:bg-base-300 cursor-pointer text-right"> </th><th><!></th></tr></thead><tbody><!><!></tbody></table></div>'),Gne=(r,e,t)=>e(o(t)),Kne=_('<div class="text-sm italic opacity-70"> </div>'),Jne=_('<div class="text-xs opacity-60"> </div>'),Zne=_('<div class="text-sm font-medium"> </div> <!>',1),Yne=_('<div class="badge badge-soft gap-1"><!> <span class="max-w-[150px] truncate"> </span></div>'),Xne=_('<div class="badge badge-soft gap-1"><!> <span class="max-w-[100px] truncate"> </span></div>'),eae=_('<div class="card bg-base-100 shadow-sm"><div class="card-body p-4"><div class="flex items-start justify-between gap-3"><div class="flex items-center gap-4 text-base"><div class="flex items-center gap-2"><!> <span> </span></div> <div class="font-mono font-bold"> </div></div> <button class="btn btn-ghost btn-square btn-sm"><!></button></div> <div><!></div> <div class="mt-3 flex flex-wrap gap-3"><!> <!></div></div></div>'),tae=_('<div class="py-12 text-center opacity-50"><!> <p>Aucune dÃ©pense trouvÃ©e</p></div>'),rae=_('<div class="space-y-3"><!> <!></div>'),nae=_('<div class="space-y-6"><div class="grid grid-cols-1 gap-4 md:grid-cols-3"><div class="stats bg-primary text-primary-content shadow"><div class="stat"><div class="stat-title text-primary-content/80">Total Global</div> <div class="stat-value text-xl"> </div> <div class="stat-desc text-primary-content/80"> </div></div></div> <div class="card bg-base-200 w-max-3xl h-full p-4 shadow-sm"><h4 class="mb-2 text-sm font-semibold tracking-wider uppercase opacity-70">Par Magasin</h4> <div class="w-max-3xl h-full space-y-1 text-sm"></div></div> <div class="card bg-base-200 w-max-3xl h-full p-4 shadow-sm"><h4 class="mb-2 text-sm font-semibold tracking-wider uppercase opacity-70">Par Acheteur</h4> <div class="w-max-3xl h-full space-y-1 text-sm"></div></div></div> <div class="flex items-center justify-between"><h4 class="text-sm font-bold uppercase opacity-70">Liste des transactions</h4> <!></div> <!> <!></div>'),aae=_("<!> <!>",1);function sae(r,e){pe(e,!0);let t=ke(e,"isOpen",15,!1),n=ae(!1),a=ae(null),s=ae(!1),i=ae(ot({invoiceTotal:0,store:"",notes:"",who:""})),u=ae(null);st(()=>{if(t()&&!o(u)){const A=localStorage.getItem("appwrite-user-name");A&&(o(i).who=A)}});let l=ae("date"),c=ae("desc"),f=V(()=>Xe.financialStats),h=V(()=>o(f).allPurchases),m=V(()=>{let A=[...o(h)];return A.sort((C,E)=>{let I,T;switch(o(l)){case"date":I=new Date(C.orderDate||C.$createdAt).getTime(),T=new Date(E.orderDate||E.$createdAt).getTime();break;case"amount":I=C.invoiceTotal||C.price||0,T=E.invoiceTotal||E.price||0;break;case"store":I=(C.store||"").toLowerCase(),T=(E.store||"").toLowerCase();break;case"who":I=(C.who||"").toLowerCase(),T=(E.who||"").toLowerCase();break}return I<T?o(c)==="asc"?-1:1:I>T?o(c)==="asc"?1:-1:0}),A});function g(A){o(l)===A?w(c,o(c)==="asc"?"desc":"asc",!0):(w(l,A,!0),w(c,"desc"))}function b(){const A=localStorage.getItem("appwrite-user-name")||"";w(i,{invoiceTotal:0,store:"",notes:"",who:A},!0),w(u,null),w(s,!1)}function y(A){w(i,{invoiceTotal:A.invoiceTotal||A.price||0,store:A.store||"",notes:A.notes||"",who:A.who||""},!0),w(u,A.$id,!0),w(s,!0)}function x(){t(!1),b(),w(a,null)}function k(A){return A?new Date(A).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"}function S(A){return(A||0).toFixed(2)+" â¬"}on(r,{get isOpen(){return t()},onClose:x,maxWidth:"lg",children:(A,C)=>{var E=aae(),I=z(E);Hr(I,{title:"Gestion des DÃ©penses",onClose:x});var T=p(I,2);Zr(T,{children:(j,U)=>{var G=nae(),Q=d(G),ee=d(Q),oe=d(ee),H=p(d(oe),2),J=d(H),K=p(H,2),te=d(K),Z=p(ee,2),R=p(d(Z),2);ze(R,21,()=>Object.entries(o(f).byStore).sort((N,ie)=>ie[1]-N[1]),bt,(N,ie)=>{var re=V(()=>ha(o(ie),2));let le=()=>o(re)[0],ue=()=>o(re)[1];var se=Tne(),de=d(se),fe=d(de),be=p(de,2),ye=d(be);P(De=>{O(fe,le()),O(ye,De)},[()=>S(ue())]),v(N,se)});var F=p(Z,2),M=p(d(F),2);ze(M,21,()=>Object.entries(o(f).byWho).sort((N,ie)=>ie[1]-N[1]),bt,(N,ie)=>{var re=V(()=>ha(o(ie),2));let le=()=>o(re)[0],ue=()=>o(re)[1];var se=Mne(),de=d(se),fe=d(de),be=p(de,2),ye=d(be);P(De=>{O(fe,le()),O(ye,De)},[()=>S(ue())]),v(N,se)});var B=p(Q,2),q=p(d(B),2);{var $=N=>{var ie=Nne();ie.__click=[Rne,s],v(N,ie)};D(q,N=>{o(s)||N($)})}var L=p(B,2);{var ne=N=>{var ie=Lne(),re=d(ie),le=d(re),ue=d(le),se=p(le,2),de=d(se);uv(de,{get disabled(){return o(n)},get value(){return o(i).invoiceTotal},set value(he){o(i).invoiceTotal=he}});var fe=p(de,2);Bo(fe,{get suggestions(){return Xe.uniqueStores},get disabled(){return o(n)},get value(){return o(i).store},set value(he){o(i).store=he}});var be=p(fe,2);yl(be,{get suggestions(){return Xe.uniqueWho},get disabled(){return o(n)},get value(){return o(i).who},set value(he){o(i).who=he}});var ye=p(be,2);Fo(ye,{get disabled(){return o(n)},get value(){return o(i).notes},set value(he){o(i).notes=he}});var De=p(se,2),xe=d(De);xe.__click=b;var Ce=p(xe,2);Ce.__click=[Ine,i,a,n,u,b];var Ie=d(Ce);{var Pe=he=>{var Se=Pne();v(he,Se)};D(Ie,he=>{o(n)&&he(Pe)})}var Be=p(Ie),He=p(De,2);{var Te=he=>{var Se=$ne(),Ae=d(Se);P(()=>O(Ae,o(a))),v(he,Se)};D(He,he=>{o(a)&&he(Te)})}P(()=>{O(ue,o(u)?"Modifier la dÃ©pense":"Nouvelle DÃ©pense"),Ce.disabled=o(n),O(Be,` ${o(u)?"Enregistrer":"Ajouter"}`)}),v(N,ie)};D(L,N=>{o(s)&&N(ne)})}var Y=p(L,2);{var W=N=>{var ie=Qne(),re=d(ie),le=d(re),ue=d(le),se=d(ue);se.__click=[One,g];var de=d(se),fe=p(se,2);fe.__click=[Bne,g];var be=d(fe),ye=p(fe);ye.__click=[Fne,g];var De=d(ye),xe=p(ye);xe.__click=[zne,g];var Ce=d(xe),Ie=p(xe),Pe=d(Ie);S2(Pe,{size:14});var Be=p(le),He=d(Be);ze(He,17,()=>o(m),Se=>Se.$id,(Se,Ae)=>{var $e=Vne(),we=d($e),Oe=d(we),Le=p(we),Ke=d(Le);{var Re=Ue=>{var Ye=qne(),at=d(Ye);P(()=>O(at,o(Ae).notes||"-")),v(Ue,Ye)},Je=Ue=>{var Ye=Hne(),at=z(Ye),gt=d(at),Ct=p(at,2);{var $t=Mt=>{var Ot=jne(),It=d(Ot);P(()=>O(It,`- ${o(Ae).notes??""}`)),v(Mt,Ot)};D(Ct,Mt=>{o(Ae).notes&&Mt($t)})}P(()=>O(gt,o(Ae)._productName||"Produit inconnu")),v(Ue,Ye)};D(Ke,Ue=>{o(Ae).status==="expense"?Ue(Re):Ue(Je,!1)})}var Ve=p(Le),Ge=d(Ve),We=p(Ve),qe=d(We),et=p(We),lt=d(et),pt=p(et),Et=d(pt);Et.__click=[Une,y,Ae];var kt=d(Et);na(kt,{size:14}),P((Ue,Ye)=>{O(Oe,Ue),O(Ge,o(Ae).store||"-"),O(qe,o(Ae).who||"-"),O(lt,Ye)},[()=>k(o(Ae).orderDate||o(Ae).$createdAt),()=>S(o(Ae).invoiceTotal||o(Ae).price)]),v(Se,$e)});var Te=p(He);{var he=Se=>{var Ae=Wne();v(Se,Ae)};D(Te,Se=>{o(m).length===0&&Se(he)})}P(()=>{O(de,`Date ${o(l)==="date"?o(c)==="asc"?"â":"â":""}`),O(be,`Magasin ${o(l)==="store"?o(c)==="asc"?"â":"â":""}`),O(De,`Qui ${o(l)==="who"?o(c)==="asc"?"â":"â":""}`),O(Ce,`Montant ${o(l)==="amount"?o(c)==="asc"?"â":"â":""}`)}),v(N,ie)},X=N=>{var ie=rae(),re=d(ie);ze(re,17,()=>o(m),se=>se.$id,(se,de)=>{var fe=eae(),be=d(fe),ye=d(be),De=d(ye),xe=d(De),Ce=d(xe);fr(Ce,{class:"h-3.5 w-3.5"});var Ie=p(Ce,2),Pe=d(Ie),Be=p(xe,2),He=d(Be),Te=p(De,2);Te.__click=[Gne,y,de];var he=d(Te);na(he,{size:16});var Se=p(ye,2),Ae=d(Se);{var $e=Ve=>{var Ge=Kne(),We=d(Ge);P(()=>O(We,o(de).notes)),v(Ve,Ge)},we=Ve=>{var Ge=Zne(),We=z(Ge),qe=d(We),et=p(We,2);{var lt=pt=>{var Et=Jne(),kt=d(Et);P(()=>O(kt,o(de).notes)),v(pt,Et)};D(et,pt=>{o(de).notes&&pt(lt)})}P(()=>O(qe,o(de)._productName||"Produit inconnu")),v(Ve,Ge)};D(Ae,Ve=>{o(de).status==="expense"&&o(de).notes?Ve($e):Ve(we,!1)})}var Oe=p(Se,2),Le=d(Oe);{var Ke=Ve=>{var Ge=Yne(),We=d(Ge);Ma(We,{class:"h-3 w-3"});var qe=p(We,2),et=d(qe);P(()=>O(et,o(de).store)),v(Ve,Ge)};D(Le,Ve=>{o(de).store&&Ve(Ke)})}var Re=p(Le,2);{var Je=Ve=>{var Ge=Xne(),We=d(Ge);Hi(We,{class:"h-3 w-3"});var qe=p(We,2),et=d(qe);P(()=>O(et,o(de).who)),v(Ve,Ge)};D(Re,Ve=>{o(de).who&&Ve(Je)})}P((Ve,Ge)=>{O(Pe,Ve),O(He,Ge)},[()=>Zn(o(de).orderDate||o(de).$createdAt),()=>S(o(de).invoiceTotal||o(de).price)]),v(se,fe)});var le=p(re,2);{var ue=se=>{var de=tae(),fe=d(de);f2(fe,{class:"mx-auto mb-3 h-12 w-12"}),v(se,de)};D(le,se=>{o(m).length===0&&se(ue)})}v(N,ie)};D(Y,N=>{Ee.isMobile?N(X,!1):N(W)})}P(N=>{O(J,N),O(te,`${o(h).length??""} transactions`)},[()=>S(o(f).totalGlobal)]),v(j,G)}}),v(A,E)},$$slots:{default:!0}}),ve()}tt(["click"]);function iae(r,e){w(e,!0)}var oae=_('<div class="flex gap-2"><button class="btn btn-primary" title="Ajouter un produit manuellement"><!> Produit</button></div>'),uae=_('<div class="flex min-h-96 items-center justify-center"><div class="flex flex-col items-center gap-4"><!> <p class="text-base-content/60 text-sm">Chargement des produits...</p></div></div>'),lae=_("<!> ",1),cae=_("<!> ",1),dae=_('<div class="flex-grow py-4 print:hidden"><!></div>'),fae=(r,e)=>w(e,!0),hae=_('<div class="rounded-box border-base-300 bg-base-100 flex flex-wrap items-baseline justify-between gap-4 border-2 p-4"><div class="flex w-full flex-wrap justify-between gap-6"><div class="text-primary text-3xl font-black"> </div> <div class="text-base-content/70 text-base"><!></div></div> <!> <div class="flex w-full flex-wrap justify-end gap-10"><div class="alert" id="info-past-event"></div> <div class="card card-xs sm:card:sm border-2 border-orange-700"><div class="card-body"><div class="card-title text-orange-800"><!> Produits</div> <div class="flex items-center justify-center px-2"><div class="text-center"><div class="text-error text-lg font-bold md:text-2xl"> </div> <div class="text-base-content/60 text-xs">Manquants</div></div></div></div></div> <div class="card card-xs sm:card-sm border-2 border-orange-700 shadow hover:bg-orange-700/10"><button class="card-body cursor-pointer" title="Ajouter une dÃ©pense gÃ©nÃ©rale"><div class="card-title text-orange-800"><!> DÃ©pense</div> <div class="text-base-content/70 text-center text-lg font-medium"> </div> <!></button></div></div></div> <!>',1),pae=_('<div class="flex items-center justify-center"><!> <button class="btn btn-xs btn-circle btn-ghost ms-3"><!></button></div>'),vae=_('<div class="flex items-center justify-center"><!></div>'),mae=_('<div class="fixed bottom-0 left-0 z-50 transition-all"><div><!></div></div>'),gae=_("<!> <div><!> <!> <!> <!> <!> <!> <!> <!></div>",1);function bae(r,e){pe(e,!0);const t=N=>{var ie=oae(),re=d(ie);re.__click=[iae,m];var le=d(re);Zt(le,{class:"mr-1 h-4 w-4"}),v(N,ie)},n="100";let a=ae(null),s=ae("recettes"),i=ae(!1),u=ae(!1),l=ae(ot([])),c=ae(ot([])),f=ae(!1),h=ae(ot([])),m=ae(!1),g=ae(!0);st(()=>{Od()});let b=ot(e.params?.id);const y=V(()=>b?Nt.getEventById(b):null),x=V(()=>o(y)?.name??""),k=V(()=>o(y)?.dateStart??null),S=V(()=>o(y)?.dateEnd??null);vn(async()=>{try{if(!b){console.error("[EventProductsPage] eventId est requis"),w(g,!1);return}const N=Nt.getEventById(b);if(!N){console.error(`[EventProductsPage] ÃvÃ©nement ${b} introuvable`),w(g,!1);return}console.log(`[EventProductsPage] Initialisation de ProductsStore pour Ã©vÃ©nement ${N.name}`),await Xe.initialize(b)}catch(N){console.error("[EventProductsPage] Erreur lors de l'initialisation:",N)}finally{w(g,!1)}});function A(N,ie="recettes"){w(s,ie,!0),w(a,N,!0)}function C(){w(a,null)}function E(N,ie,re){w(l,ie,!0),w(c,re,!0),w(N==="who"?i:u,!0)}function I(N){(!N||N==="who")&&w(i,!1),(!N||N==="store")&&w(u,!1),w(l,[],!0),w(c,[],!0)}function T(N){console.log(`[ProductsTable] Modification groupÃ©e rÃ©ussie: ${N.updatedCount} produits`)}function j(N){const ie=N.filter(re=>Xe.getProductModelById(re.$id)?.stats.hasMissing);console.log(`[ProductsTable] openGroupPurchaseModal: ${N.length} produits reÃ§us â ${ie.length} produits avec quantitÃ©s manquantes`),w(h,ie,!0),w(f,!0)}function U(){w(f,!1),w(h,[],!0)}function G(){console.log("[ProductsTable] Achat groupÃ© crÃ©Ã© avec succÃ¨s"),U()}async function Q(N,ie){try{if(!Xe.currentMainId)throw new Error("mainId non disponible");const re=ie.missingQuantities||[];if(re.length===0){console.log("Aucune quantitÃ© manquante Ã  valider pour ce produit dans cette pÃ©riode");return}const le=re.filter(se=>se.q<0).map(se=>({...se,q:Math.abs(se.q)})).map(se=>{const de=is.normalize(se.q,se.u);return{q:de.quantity,u:de.unit}});let ue=N.$id;N.isSynced||(console.log(`[ProductsTable] Produit ${N.$id} local, crÃ©ation pour validation rapide...`),ue=(await xs(N.$id,{},de=>Xe.getEnrichedProductById(de))).$id,console.log(`[ProductsTable] Produit sync crÃ©Ã©: ${ue}`)),await w6(Xe.currentMainId,ue,le,{store:N.storeInfo?.storeName??null,notes:"",invoiceId:`VALID_${Date.now()}`}),console.log(`[ProductsTable] Validation rapide crÃ©Ã©e pour ${N.productName}`)}catch(re){console.error("[ProductsTable] Erreur validation rapide:",re),alert("Erreur lors de la validation rapide: "+re.message)}}let ee=ae(!1);st(()=>{St.setConfig({eventId:b||void 0,actions:t})}),Ir(()=>{St.reset()});var oe=gae(),H=z(oe);$o(H,{width:n,children:(N,ie)=>{Lte(N,{})},$$slots:{default:!0}});var J=p(H,2),K=d(J);{var te=N=>{var ie=uae(),re=d(ie),le=d(re);mo(le,{class:"text-primary h-12 w-12 animate-spin"}),v(N,ie)},Z=N=>{var ie=hae(),re=z(ie),le=d(re),ue=d(le),se=d(ue),de=p(ue,2),fe=d(de);{var be=Ge=>{var We=lae(),qe=z(We);fr(qe,{class:"inline h-4 w-4"});var et=p(qe);P((lt,pt)=>O(et,` ${lt??""} au ${pt??""}`),[()=>rn(o(k)),()=>rn(o(S))]),v(Ge,We)},ye=Ge=>{var We=ce(),qe=z(We);{var et=lt=>{var pt=cae(),Et=z(pt);fr(Et,{class:"inline h-4 w-4"});var kt=p(Et);P(Ue=>O(kt,` ${Ue??""}`),[()=>rn(o(k))]),v(lt,pt)};D(qe,lt=>{o(k)&&lt(et)},!0)}v(Ge,We)};D(fe,Ge=>{o(k)&&o(S)?Ge(be):Ge(ye,!1)})}var De=p(le,2);{var xe=Ge=>{var We=dae(),qe=d(We);Vp(qe,{get currentEvent(){return o(y)}}),v(Ge,We)};D(De,Ge=>{o(y)&&Ge(xe)})}var Ce=p(De,2),Ie=p(d(Ce),2),Pe=d(Ie),Be=d(Pe),He=d(Be);k2(He,{class:"text-orange-800 opacity-60"});var Te=p(Be,2),he=d(Te),Se=d(he),Ae=d(Se),$e=p(Ie,2),we=d($e);we.__click=[fae,ee];var Oe=d(we),Le=d(Oe);f2(Le,{class:"text-orange-800 opacity-60"});var Ke=p(Oe,2),Re=d(Ke),Je=p(Ke,2);na(Je,{class:"text-base-content/60 absolute right-3 bottom-2 size-4"});var Ve=p(re,2);cne(Ve,{get currentEvent(){return o(y)},onOpenModal:A,onOpenGroupEditModal:E,onOpenGroupPurchaseModal:j,onQuickValidation:Q}),P(()=>{O(se,o(x)),O(Ae,Xe.completionStats.missing),O(Re,`${Xe.financialStats.totalGlobal??""} â¬`)}),_t("mouseenter",we,()=>Vt.msg="Consulter ou modifie le dÃ©tail des dÃ©penses"),_t("mouseleave",we,()=>Vt.reset()),v(N,ie)};D(K,N=>{o(g)?N(te):N(Z,!1)})}var R=p(K,2);{let N=V(()=>o(a)||"");Gee(R,{get productId(){return o(N)},get initialTab(){return o(s)},onClose:C})}var F=p(R,2);{var M=N=>{Cne(N,{get productIds(){return o(l)},get products(){return o(c)},onClose:()=>I("who"),onSuccess:T})};D(F,N=>{o(i)&&N(M)})}var B=p(F,2);{var q=N=>{_ne(N,{get productIds(){return o(l)},get products(){return o(c)},onClose:()=>I("store"),onSuccess:T})};D(B,N=>{o(u)&&N(q)})}var $=p(B,2);{var L=N=>{qY(N,{get products(){return o(h)},onClose:U,onSuccess:G})};D($,N=>{o(f)&&N(L)})}var ne=p($,2);ZY(ne,{get open(){return o(m)},set open(N){w(m,N,!0)}});var Y=p(ne,2);sae(Y,{get isOpen(){return o(ee)},set isOpen(N){w(ee,N,!0)}});var W=p(Y,2);{var X=N=>{var ie=mae(),re=d(ie),le=d(re);{var ue=de=>{var fe=pae(),be=d(fe);ra(be,{class:"me-2 size-5"});var ye=p(be),De=p(ye);De.__click=()=>Vt.collapse();var xe=d(De);ir(xe,{class:"h-4 w-4"}),P(()=>O(ye,` ${Vt.msg??""} `)),v(de,fe)},se=de=>{var fe=vae();fe.__click=()=>Vt.expand();var be=d(fe);ra(be,{class:"size-6"}),v(de,fe)};D(le,de=>{Vt.isExpanded?de(ue):de(se,!1)})}P(()=>_e(re,1,`rounded-tr-box bg-blue-100 text-blue-800 ${Vt.isExpanded?" w-fit px-4 py-2":"  cursor-pointer px-3 py-2"}`)),v(N,ie)};D(W,N=>{Ee.isDesktop&&N(X)})}P(()=>_e(J,1,`space-y-6 pt-6 md:px-16 ${(Ee.isDesktop&&"ml-110 print:ml-0")??""} `)),v(r,oe),ve()}tt(["click"]);var _ae=_('<img class="w-full object-cover"/>'),yae=_('<figure class="hover-gallery"></figure>'),xae=_('<p class="text-base-content/80"><!></p>'),wae=_("<button> </button>"),kae=_('<div class="card bg-base-100 h-[60vh] w-full shadow-xl"><!> <div><h2> </h2> <!> <!> <!></div></div>');function Yo(r,e){pe(e,!0);let t=ke(e,"theme",3,"primary");const n={primary:"text-primary",secondary:"text-secondary"};var a=kae(),s=d(a);{var i=x=>{var k=yae();ze(k,21,()=>e.images,bt,(S,A)=>{var C=_ae();P(()=>{dt(C,"src",o(A)),dt(C,"alt",e.title)}),v(S,C)}),v(x,k)};D(s,x=>{e.images.length>0&&x(i)})}var u=p(s,2),l=d(u),c=d(l),f=p(l,2);{var h=x=>{var k=xae(),S=d(k);P4(S,()=>e.description),v(x,k)};D(f,x=>{e.description&&x(h)})}var m=p(f,2);{var g=x=>{var k=ce(),S=z(k);ge(S,()=>e.extra),v(x,k)};D(m,x=>{e.extra&&x(g)})}var b=p(m,2);{var y=x=>{var k=wae();k.__click=function(...A){e.buttonAction?.apply(this,A)};var S=d(k);P(()=>{_e(k,1,`btn btn-${t()??""} btn-sm absolute right-4 bottom-4`),O(S,e.buttonText)}),v(x,k)};D(b,x=>{e.buttonText&&e.buttonAction&&x(y)})}P(()=>{_e(u,1,`card-body absolute bottom-0 ${(e.buttonAction&&"pb-15")??""} w-full bg-gray-700/30`),_e(l,1,`card-title ${n[t()]??""} text-2xl`),O(c,e.title)}),v(r,a),ve()}tt(["click"]);var Eae=()=>ct("/recipe"),Sae=()=>ct("/dashboard"),Aae=_('<button class="btn btn-outline btn-xl"><!> AccÃ©der au tableau de bord</button>'),Dae=_('<button class="btn btn-secondary btn-xl">CrÃ©er un compte pour commencer <!></button>'),Cae=_('<p class="text-base-content/60 text-center">DÃ©jÃ  membre ? Connectez-vous pour gÃ©rer vos cantines et Ã©quipes</p>'),Iae=_('<div class="bg-base-200 min-h-screen"><section class="hero bg-base-200 min-h-[50vh]"><div class="hero-content text-center"><div class="max-w-3xl"><div class="mb-4 flex justify-center"><img src="/data/logo.svg" alt="Enka Cookbook"/></div> <h1 class="text-6xl font-black tracking-tight">Enka Cookbook</h1> <p class="text-base-content/70 mt-6 text-xl">Outils de planification pour les cantines autogÃ©rÃ©es</p></div></div></section> <section class="bg-base-200 mt-15 mb-5"><div class="container mx-auto px-4"><div class="flex flex-col items-center justify-center gap-6"><button class="btn btn-primary btn-xl"><!> <span class="flex items-baseline gap-2">Voir les recettes</span></button> <!> <!></div></div></section> <section class="bg-base-200 py-16"><div class="container mx-auto px-4"><div class="grid gap-8"><div class="grid gap-6 md:grid-cols-3"><!> <!></div> <div class="grid gap-6 md:grid-cols-3"><!> <!> <!></div></div></div></section></div>');function Tae(r,e){pe(e,!1);function t(){const j=new CustomEvent("open-auth-modal");window.dispatchEvent(j)}W4();var n=Iae(),a=p(d(n),2),s=d(a),i=d(s),u=d(i);u.__click=[Eae];var l=d(u);Jr(l,{size:24});var c=p(u,2);{var f=j=>{var U=Aae();U.__click=[Sae];var G=d(U);Ei(G,{size:24}),v(j,U)},h=j=>{var U=Dae();U.__click=t;var G=p(d(U));Ei(G,{size:24}),v(j,U)};D(c,j=>{Ee.isAuthenticated?j(f):j(h,!1)})}var m=p(c,2);{var g=j=>{var U=Cae();v(j,U)};D(m,j=>{Ee.isAuthenticated||j(g)})}var b=p(a,2),y=d(b),x=d(y),k=d(x),S=d(k);Yo(S,{images:["/images/plat.webp","/images/salade.webp"],title:"Partagez vos recettes",description:"DÃ©couvrez et partagez des recettes avec la communautÃ©",buttonText:"Explorer",buttonAction:()=>ct("/recipe"),theme:"primary"});var A=p(S,2);Yo(A,{images:["/images/home/recipe-print.webp","/images/home/recipe.webp"],title:"Imprimez vos recettes",description:"GÃ©nÃ©rez des fiches recettes propres et professionnelles",buttonText:"Imprimer",theme:"primary"});var C=p(k,2),E=d(C);Yo(E,{images:["/images/doc/explorer.png"],title:"Organisation",description:"Ãlaborez des menus sur plusieurs jours et organisez-vous en Ã©quipes",buttonText:"Organiser",buttonAction:()=>Ee.isAuthenticated?ct("/dashboard"):t(),theme:"secondary"});var I=p(E,2);Yo(I,{images:["/images/home/product.webp"],title:"Listes de courses",description:"GÃ©nÃ©rez automatiquement les listes de courses pour vos menus",buttonText:"GÃ©nÃ©rer",buttonAction:()=>Ee.isAuthenticated?ct("/dashboard"):t(),theme:"secondary"});var T=p(I,2);Yo(T,{images:["/images/friture.webp"],title:"Gestion complÃ¨te",description:"GÃ©rez vos stocks, matÃ©riel et rÃ©partissez les tÃ¢ches",buttonText:"GÃ©rer",buttonAction:()=>Ee.isAuthenticated?ct("/dashboard"):t(),theme:"secondary"}),v(r,n),ve()}tt(["click"]);function Ug(){ct("/")}var Mae=_('<p class="text-base-content/70 mt-2">Entrez votre nouveau mot de passe</p>'),Rae=_('<div class="flex flex-col items-center py-8"><!> <p class="text-base-content/70 mt-4">VÃ©rification du lien...</p></div>'),Nae=_('<div role="alert" class="alert alert-error mt-4"><!> <span> </span></div> <div class="card-actions mt-6 justify-center"><button class="btn btn-primary">Retour Ã  la connexion</button></div>',1),Pae=_('<div role="alert" class="alert alert-error mb-4"><!> <span> </span></div>'),$ae=_('<div role="alert" class="alert alert-success mb-4"><!> <span> </span></div> <p class="text-base-content/70 text-center">Vous allez Ãªtre redirigÃ©...</p>',1),Lae=_("<!> RÃ©initialisation en cours...",1),Oae=_(`<form class="space-y-4 svelte-ybl9gg"><fieldset class="fieldset svelte-ybl9gg"><legend class="legend"><span>Nouveau mot de passe</span></legend> <input id="new-password" type="password" class="input input-bordered w-full" minlength="8" required autocomplete="new-password"/> <p class="label text-base-content/50">Minimum 8 caractÃ¨res</p></fieldset> <fieldset class="fieldset svelte-ybl9gg"><legend class="legend"><span>Confirmer le mot de passe</span></legend> <input id="confirm-password" type="password" class="input input-bordered w-full" minlength="8" required autocomplete="new-password"/></fieldset> <div class=" mt-6 svelte-ybl9gg"><button type="submit" class="btn btn-primary btn-block"><!></button></div></form> <div class="card-actions mt-4 justify-center"><button class="btn btn-ghost btn-sm"><!> Retour Ã  l'acceuil</button></div>`,1),Bae=_("<!> <!>",1),Fae=_('<div class="bg-base-200 flex items-center justify-center p-4"><div class="card bg-base-100 w-full max-w-md shadow-xl"><div class="card-body"><div class="text-center"><div class="mb-4 flex justify-center"><div class="bg-primary/10 rounded-full p-4"><!></div></div> <h2 class="card-title justify-center text-2xl">RÃ©initialisation du mot de passe</h2> <!></div> <!></div></div></div>');function zae(r,e){pe(e,!0);let t=ae(!1),n=ae(""),a=ae(""),s=ae(""),i=ae(""),u=ae(!1),l=ae(!0);const c=new URLSearchParams(window.location.search),f=c.get("userId"),h=c.get("secret");async function m(){if(!f||!h){w(n,"Lien de rÃ©initialisation invalide ou manquant."),w(u,!1),w(l,!1);return}w(u,!0),w(l,!1)}m();async function g(G){if(G.preventDefault(),!f||!h||!o(u)){w(n,"Lien de rÃ©initialisation invalide.");return}if(!o(s)||!o(i)){w(n,"Veuillez remplir tous les champs");return}if(o(s)!==o(i)){w(n,"Les mots de passe ne correspondent pas.");return}if(o(s).length<8){w(n,"Le mot de passe doit contenir au moins 8 caractÃ¨res.");return}w(t,!0),w(n,"");try{const{account:Q}=await vt();await Q.updateRecovery({userId:f,secret:h,password:o(s)}),w(a,"Mot de passe rÃ©initialisÃ© avec succÃ¨s !"),setTimeout(()=>{ct("/dashboard")},3e3)}catch(Q){console.error("Erreur rÃ©initialisation:",Q),Q.response?.code===401||Q.message?.includes("Invalid secret")?w(n,"Ce lien est invalide ou a expirÃ©. Veuillez refaire une demande."):w(n,Q.message||"Erreur lors de la rÃ©initialisation",!0)}finally{w(t,!1)}}var b=Fae(),y=d(b),x=d(y),k=d(x),S=d(k),A=d(S),C=d(A);FE(C,{class:"text-primary h-8 w-8"});var E=p(S,4);{var I=G=>{var Q=Mae();v(G,Q)};D(E,G=>{o(u)&&G(I)})}var T=p(k,2);{var j=G=>{var Q=Rae(),ee=d(Q);mo(ee,{class:"text-primary h-12 w-12 animate-spin"}),v(G,Q)},U=G=>{var Q=ce(),ee=z(Q);{var oe=J=>{var K=Nae(),te=z(K),Z=d(te);Ln(Z,{class:"h-6 w-6 shrink-0"});var R=p(Z,2),F=d(R),M=p(te,2),B=d(M);B.__click=[Ug],P(()=>O(F,o(n))),v(J,K)},H=J=>{var K=Bae(),te=z(K);{var Z=B=>{var q=Pae(),$=d(q);Ln($,{class:"h-6 w-6 shrink-0"});var L=p($,2),ne=d(L);P(()=>O(ne,o(n))),v(B,q)};D(te,B=>{o(n)&&B(Z)})}var R=p(te,2);{var F=B=>{var q=$ae(),$=z(q),L=d($);wr(L,{class:"h-6 w-6 shrink-0"});var ne=p(L,2),Y=d(ne);P(()=>O(Y,o(a))),v(B,q)},M=B=>{var q=Oae(),$=z(q),L=d($),ne=p(d(L),2),Y=p(L,2),W=p(d(Y),2),X=p(Y,2),N=d(X),ie=d(N);{var re=fe=>{var be=Lae(),ye=z(be);mo(ye,{class:"mr-2 h-4 w-4 animate-spin"}),v(fe,be)},le=fe=>{var be=Pt("RÃ©initialiser le mot de passe");v(fe,be)};D(ie,fe=>{o(t)?fe(re):fe(le,!1)})}var ue=p($,2),se=d(ue);se.__click=[Ug];var de=d(se);Rp(de,{class:"mr-1 h-4 w-4"}),P(()=>{ne.disabled=o(t),W.disabled=o(t),N.disabled=o(t),se.disabled=o(t)}),_t("submit",$,g),ft(ne,()=>o(s),fe=>w(s,fe)),ft(W,()=>o(i),fe=>w(i,fe)),v(B,q)};D(R,B=>{o(a)?B(F):B(M,!1)})}v(J,K)};D(ee,J=>{o(u)?J(H,!1):J(oe)},!0)}v(G,Q)};D(T,G=>{o(l)?G(j):G(U,!1)})}v(r,b),ve()}tt(["click"]);function qae(r,e,t){w(e,!1),t.onSave?.()}function jae(r,e,t,n){if(e().length>=3){w(t,!0);return}n.onCreateVersion?.()}var Hae=_('<div class="flex flex-wrap gap-x-4 gap-y-1"><label class="label cursor-pointer justify-start gap-3"><input type="checkbox" class="checkbox checkbox-primary"/> <span class="label-text">Date</span></label> <label class="label cursor-pointer justify-start gap-3"><input type="checkbox" class="checkbox checkbox-primary"/> <span class="label-text">Horaire</span></label> <label class="label cursor-pointer justify-start gap-3"><input type="checkbox" class="checkbox checkbox-primary"/> <span class="label-text">Description</span></label> <label class="label cursor-pointer justify-start gap-3"><input type="checkbox" class="checkbox checkbox-primary"/> <span class="label-text">CatÃ©gories</span></label></div> <fieldset class="fieldset my-2"><div class="flex flex-wrap gap-x-4 gap-y-1"><label class="label cursor-pointer justify-start gap-3"><input type="checkbox" class="checkbox checkbox-primary"/> <span class="label-text">RÃ©gimes</span></label> <label class="label cursor-pointer justify-start gap-3"><input type="checkbox" class="checkbox checkbox-primary"/> <span class="label-text">AllergÃ¨nes</span></label> <label class="label cursor-pointer justify-start gap-3"><input type="checkbox" class="checkbox checkbox-primary"/> <span class="label-text">Liste IngrÃ©dients</span></label></div></fieldset>',1),Uae=_('<div><label class="label cursor-pointer justify-start gap-3"><input type="checkbox" class="checkbox checkbox-primary"/> <span class="label-text">Date en haut de chaque page</span></label></div>'),Vae=_('<div class="mb-4"><label class="label cursor-pointer justify-start gap-3"><input type="checkbox" class="checkbox checkbox-primary"/> <span class="label-text text-wrap">Nouvelle page par catÃ©gorie (entrÃ©e/plat/dessert)</span></label></div> <!> <div><label class="label cursor-pointer justify-start gap-3"><input type="checkbox" class="checkbox checkbox-primary"/> <span class="label-text">Centrer le contenu sur la page</span></label></div>',1),Wae=_('<fieldset class="fieldset w-full"><legend class="fieldset-legend text-xs opacity-60">Message en haut de chaque fiche</legend> <label class="input input-sm w-full"><input type="text" class="grow" placeholder="Ajouter un message en haut..."/></label></fieldset> <fieldset class="fieldset w-full"><legend class="fieldset-legend text-xs opacity-60">Message en bas de chaque fiche</legend> <label class="input input-sm w-full"><input type="text" class="grow" placeholder="Ajouter un message en bas..."/></label></fieldset>',1),Qae=(r,e,t)=>e(e()[t()]=!e()[t()],!0),Gae=(r,e,t)=>e(e()[t()]=!e()[t()],!0),Kae=(r,e,t)=>e(e()[t()]=Math.max(0,e()[t()]-1),!0),Jae=_("<div></div>"),Zae=(r,e,t)=>e(e()[t()]=Math.min(3,e()[t()]+1),!0),Yae=_('<div class="border-base-content/5 bg-base-200/30 rounded-xl border p-3"><div class="mb-2 flex items-center justify-between"><span class="text-xs font-bold uppercase opacity-60"> </span> <div class="flex items-center gap-1"><div class="mr-2 flex gap-0.5"><button title="Gras"><!></button> <button title="Italique"><!></button></div> <button class="btn btn-ghost btn-xs btn-square font-bold">A-</button> <div class="flex gap-0.5"></div> <button class="btn btn-ghost btn-xs btn-square font-bold">A+</button></div></div> <select class="select select-sm select-bordered w-full"><option>Montserrat (Standard)</option><option>Playfair (ÃlÃ©gant)</option><option>Oswald (Bistro/Impact)</option><option>Quicksand (Moderne)</option><option>Fira Sans (Clean)</option><option>Dancing Script (Cursive)</option><option>Pacifico (Script)</option><option>Caveat (Manuscrit)</option><option>Gluten (Funky)</option></select></div>'),Xae=_('<div class="space-y-4"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div>'),ese=_('<div class="text-base-content/50 py-2 text-center text-sm italic">Aucune version archivÃ©e</div>'),tse=(r,e,t)=>e.onLoadVersion?.(o(t)),rse=(r,e,t)=>w(e,o(t).id,!0),nse=_('<div><div class="flex flex-col"><span class="text-sm font-medium"> </span> <span class="text-base-content/50 flex items-center gap-1 text-xs"><!> </span></div> <div class="flex gap-2"><button class="btn btn-ghost btn-xs btn-square" title="Charger cette version"><!></button> <button class="btn btn-ghost text-error btn-xs btn-square" title="Supprimer"><!></button></div></div>'),ase=_('<div class="space-y-4"><div class="max-h-60 space-y-2 overflow-y-auto pr-1"><!></div> <button class="btn btn-outline btn-block gap-2 border-dashed"><!> CrÃ©er une nouvelle version</button> <p class="text-center text-[10px] opacity-40">Maximum 3 versions sauvegardÃ©es</p></div>'),sse=(r,e)=>w(e,!0),ise=(r,e)=>w(e,!1),ose=(r,e)=>w(e,!1),use=_(`<div class="modal modal-open"><div class="modal-box"><h3 class="text-warning flex items-center gap-2 text-lg font-bold"><!> Limite atteinte</h3> <p class="py-4">Vous avez atteint la limite de <strong>3 versions sauvegardÃ©es</strong>.</p> <p class="mb-4 text-sm opacity-80">Veuillez supprimer une version existante avant d'en crÃ©er une nouvelle.</p> <div class="modal-action"><button class="btn">Fermer</button></div></div> <button class="modal-backdrop">close</button></div>`),lse=(r,e)=>w(e,!1),cse=(r,e)=>w(e,!1),dse=_(`<div class="modal modal-open"><div class="modal-box border-warning/20 border"><div class="text-warning mb-4 flex items-center gap-3"><!> <h3 class="text-lg font-bold">Sauvegarde locale</h3></div> <p class="py-4">Cette configuration sera enregistrÃ©e <strong>uniquement sur ce navigateur</strong>.</p> <div class="bg-warning/5 border-warning/10 space-y-2 rounded-lg border p-4 text-sm"><p>â ï¸ <strong>Attention :</strong></p> <ul class="list-disc pl-5 opacity-80"><li>Elle ne sera pas visible sur vos autres appareils.</li> <li>Elle sera perdue si vous videz le cache ou les donnÃ©es du site dans
            votre navigateur.</li></ul></div> <div class="modal-action"><button class="btn btn-ghost">Annuler</button> <button class="btn btn-warning gap-2"><!> Confirmer la sauvegarde</button></div></div> <button class="modal-backdrop" aria-label="Fermer">close</button></div>`),fse=_(`<div class="bg-base-200 h-full w-full space-y-6 pt-10 sm:pt-16"><!> <!> <!> <!> <!> <div class="px-4 pb-10"><button class="btn btn-primary btn-block gap-2 shadow-lg"><!> Sauvegarder l'Ã©tat actuel</button> <p class="mt-2 text-center text-[10px] opacity-40">MÃ©moire locale uniquement</p></div></div> <!> <!> <!>`,1);function hse(r,e){pe(e,!0);let t=ke(e,"config",15),n=ke(e,"versions",19,()=>[]),a=ke(e,"activeVersionId",3,null);ke(e,"disabled",3,!1);let s=ae(!1),i=ae(!1),u=ae(null);var l=fse(),c=z(l),f=d(c);Gt(f,{legend:"ÃlÃ©ments Ã  afficher",children:(T,j)=>{var U=Hae(),G=z(U),Q=d(G),ee=d(Q),oe=p(Q,2),H=d(oe),J=p(oe,2),K=d(J),te=p(J,2),Z=d(te),R=p(G,2),F=d(R),M=d(F),B=d(M),q=p(M,2),$=d(q),L=p(q,2),ne=d(L);Xr(ee,()=>t().showDate,Y=>t(t().showDate=Y,!0)),Xr(H,()=>t().showHoraire,Y=>t(t().showHoraire=Y,!0)),Xr(K,()=>t().showDescription,Y=>t(t().showDescription=Y,!0)),Xr(Z,()=>t().showCategories,Y=>t(t().showCategories=Y,!0)),Xr(B,()=>t().showRegimes,Y=>t(t().showRegimes=Y,!0)),Xr($,()=>t().showAllergens,Y=>t(t().showAllergens=Y,!0)),Xr(ne,()=>t().showIngredients,Y=>t(t().showIngredients=Y,!0)),v(T,U)},$$slots:{default:!0}});var h=p(f,2);Gt(h,{legend:"Options d'impression",children:(T,j)=>{var U=Vae(),G=z(U),Q=d(G),ee=d(Q),oe=p(G,2);{var H=Z=>{var R=Uae(),F=d(R),M=d(F);Xr(M,()=>t().dateByPageBreak,B=>t(t().dateByPageBreak=B,!0)),v(Z,R)};D(oe,Z=>{t().catPageBreak&&Z(H)})}var J=p(oe,2),K=d(J),te=d(K);Xr(ee,()=>t().catPageBreak,Z=>t(t().catPageBreak=Z,!0)),Xr(te,()=>t().centerVertical,Z=>t(t().centerVertical=Z,!0)),v(T,U)},$$slots:{default:!0}});var m=p(h,2);Gt(m,{legend:"Messages personnalisÃ©s",children:(T,j)=>{var U=Wae(),G=z(U),Q=p(d(G),2),ee=d(Q),oe=p(G,2),H=p(d(oe),2),J=d(H);ft(ee,()=>t().messageTop,K=>t(t().messageTop=K,!0)),ft(J,()=>t().messageBottom,K=>t(t().messageBottom=K,!0)),v(T,U)},$$slots:{default:!0}});var g=p(m,2);Gt(g,{legend:"Personnalisation des textes",children:(T,j)=>{var U=Xae();{const F=(M,B=me,q=me,$=me,L=me,ne=me,Y)=>{let W=yd(()=>hw(Y?.(),!0));var X=ce(),N=z(X);{var ie=re=>{var le=Yae(),ue=d(le),se=d(ue),de=d(se),fe=p(se,2),be=d(fe),ye=d(be);ye.__click=[Qae,t,L];var De=d(ye);Pp(De,{class:"size-3"});var xe=p(ye,2);xe.__click=[Gae,t,ne];var Ce=d(xe);$p(Ce,{class:"size-3"});var Ie=p(be,2);Ie.__click=[Kae,t,$];var Pe=p(Ie,2);ze(Pe,20,()=>[0,1,2,3],bt,(Re,Je)=>{var Ve=Jae();P(()=>_e(Ve,1,`h-1 w-2 rounded-full transition-colors ${t()[$()]>=Je?"bg-secondary":"bg-base-content/10"}`)),v(Re,Ve)});var Be=p(Pe,2);Be.__click=[Zae,t,$];var He=p(ue,2),Te=d(He);Te.value=Te.__value="montserrat-font";var he=p(Te);he.value=he.__value="playfair-display";var Se=p(he);Se.value=Se.__value="oswald-font";var Ae=p(Se);Ae.value=Ae.__value="quicksand-font";var $e=p(Ae);$e.value=$e.__value="fira-sans";var we=p($e);we.value=we.__value="dancing-script";var Oe=p(we);Oe.value=Oe.__value="pacifico-regular";var Le=p(Oe);Le.value=Le.__value="caveat-font";var Ke=p(Le);Ke.value=Ke.__value="gluten-font",P(()=>{O(de,B()),_e(ye,1,`btn btn-xs btn-square ${(t()[L()]&&"btn-secondary")??""}`),_e(xe,1,`btn btn-xs btn-square ${(t()[ne()]&&"btn-secondary")??""}`),Ie.disabled=t()[$()]===0,Be.disabled=t()[$()]===3}),$n(He,()=>t()[q()],Re=>t(t()[q()]=Re,!0)),v(re,le)};D(N,re=>{o(W)&&re(ie)})}v(M,X)};var G=d(U);F(G,()=>"Date",()=>"fontDate",()=>"fontSizeDate",()=>"boldDate",()=>"italicDate",()=>t().showDate);var Q=p(G,2);F(Q,()=>"Horaire",()=>"fontHoraire",()=>"fontSizeHoraire",()=>"boldHoraire",()=>"italicHoraire",()=>t().showHoraire);var ee=p(Q,2);F(ee,()=>"CatÃ©gories",()=>"fontCat",()=>"fontSizeCat",()=>"boldCat",()=>"italicCat",()=>t().showCategories);var oe=p(ee,2);F(oe,()=>"Titre Recettes",()=>"fontRecettes",()=>"fontSizeRecettes",()=>"boldRecettes",()=>"italicRecettes",()=>!0);var H=p(oe,2);F(H,()=>"Description",()=>"fontDesc",()=>"fontSizeDesc",()=>"boldDesc",()=>"italicDesc",()=>t().showDescription);var J=p(H,2);F(J,()=>"RÃ©gimes",()=>"fontRegimes",()=>"fontSizeRegimes",()=>"boldRegimes",()=>"italicRegimes",()=>t().showRegimes);var K=p(J,2);F(K,()=>"IngrÃ©dients",()=>"fontIng",()=>"fontSizeIng",()=>"boldIng",()=>"italicIng",()=>t().showIngredients);var te=p(K,2);F(te,()=>"AllergÃ¨nes",()=>"fontAlert",()=>"fontSizeAlert",()=>"boldAlert",()=>"italicAlert",()=>t().showAllergens);var Z=p(te,2);F(Z,()=>"Message Haut",()=>"fontTop",()=>"fontSizeTop",()=>"boldTop",()=>"italicTop",()=>!!t().messageTop);var R=p(Z,2);F(R,()=>"Message Bas",()=>"fontBottom",()=>"fontSizeBottom",()=>"boldBottom",()=>"italicBottom",()=>!!t().messageBottom)}v(T,U)},$$slots:{default:!0}});var b=p(g,2);Gt(b,{legend:"Mes Versions",children:(T,j)=>{var U=ase(),G=d(U),Q=d(G);{var ee=K=>{var te=ese();v(K,te)},oe=K=>{var te=ce(),Z=z(te);ze(Z,17,n,bt,(R,F)=>{var M=nse(),B=d(M),q=d(B),$=d(q),L=p(q,2),ne=d(L);Oa(ne,{class:"size-3"});var Y=p(ne),W=p(B,2),X=d(W);X.__click=[tse,e,F];var N=d(X);Pd(N,{class:"size-4"});var ie=p(X,2);ie.__click=[rse,u,F];var re=d(ie);ji(re,{class:"size-4"}),P(le=>{_e(M,1,`flex items-center justify-between rounded-lg border p-3 transition-all ${a()===o(F).id?"bg-secondary/30 border-secondary/30":"bg-base-100/50 hover:bg-base-100 hover:border-base-300 border-transparent"}`),O($,o(F).name),O(Y,` ${le??""}`)},[()=>new Date(o(F).createdAt).toLocaleDateString()]),v(R,M)}),v(K,te)};D(Q,K=>{n().length===0?K(ee):K(oe,!1)})}var H=p(G,2);H.__click=[jae,n,i,e];var J=d(H);Zt(J,{class:"size-4"}),v(T,U)},$$slots:{default:!0}});var y=p(b,2),x=d(y);x.__click=[sse,s];var k=d(x);Ba(k,{class:"size-5"});var S=p(c,2);{var A=T=>{var j=use(),U=d(j),G=d(U),Q=d(G);Cr(Q,{class:"size-6"});var ee=p(G,6),oe=d(ee);oe.__click=[ise,i];var H=p(U,2);H.__click=[ose,i],v(T,j)};D(S,T=>{o(i)&&T(A)})}var C=p(S,2);{let T=V(()=>!!o(u));Si(C,{title:"Supprimer la version",message:"Ãtes-vous sÃ»r de vouloir supprimer cette version ? Cette action est irrÃ©versible.",variant:"danger",confirmLabel:"Supprimer",get isOpen(){return o(T)},onConfirm:()=>{o(u)&&(e.onDeleteVersion?.(o(u)),w(u,null))},onCancel:()=>w(u,null)})}var E=p(C,2);{var I=T=>{var j=dse(),U=d(j),G=d(U),Q=d(G);Cr(Q,{class:"size-8"});var ee=p(G,6),oe=d(ee);oe.__click=[lse,s];var H=p(oe,2);H.__click=[qae,s,e];var J=d(H);Ba(J,{class:"size-4"});var K=p(U,2);K.__click=[cse,s],v(T,j)};D(E,T=>{o(s)&&T(I)})}v(r,l),ve()}tt(["click"]);function pse(r,e,t,n){w(e,t.name,!0),t.onStartEdit(t.recipeKey),setTimeout(()=>{o(n)?.focus(),o(n)?.select()},0)}function vse(r,e,t,n){r.key==="Enter"?e():r.key==="Escape"&&(w(t,n.name,!0),n.onFinishEdit())}function mse(r,e,t,n,a){w(e,o(t).join(", "),!0),w(n,!0),setTimeout(()=>{o(a)?.focus()},0)}function gse(r,e,t){r.key==="Enter"&&!r.shiftKey?(r.preventDefault(),e()):r.key==="Escape"&&w(t,!1)}function bse(r,e,t,n,a){w(e,o(t),!0),w(n,!0),setTimeout(()=>{o(a)?.focus()},0)}function _se(r,e,t){r.key==="Enter"&&!r.shiftKey?(r.preventDefault(),e()):r.key==="Escape"&&w(t,!1)}var yse=(r,e)=>e.onToggle(e.recipeKey),xse=_('<div class="mx-auto mb-2 max-w-sm"><label class="input input-sm w-full"><input type="text" class="grow text-center"/></label></div>'),wse=_('<button type="button"> </button>'),kse=_('<div class="mx-auto mt-2 max-w-sm"><textarea class="textarea textarea-bordered textarea-xs w-full text-center" rows="2" placeholder="Ajouter une description..."></textarea></div>'),Ese=_('<span class="no-print opacity-50">(Cliquez pour ajouter une description)</span>'),Sse=(r,e)=>e.onToggleDescription(e.recipeKey),Ase=_('<div class="flex items-center justify-center gap-2 px-4"><button type="button"><!></button> <button class="no-print btn btn-ghost btn-circle btn-xs hover:bg-error/10 hover:text-error opacity-0 transition-opacity group-hover/desc:opacity-100" title="Masquer la description"><!></button></div>'),Dse=_('<div class="description-container group/desc relative mx-auto max-w-xl text-center"><!></div>'),Cse=_("<span> </span>"),Ise=_('<div class="mt-3 flex flex-wrap justify-center gap-2"></div>'),Tse=_('<div class="text-xs"><span class="text-[0.6rem] font-bold tracking-widest uppercase">Attention:</span> <span> </span></div>'),Mse=_(`<div class="mx-auto mt-1 max-w-sm"><textarea class="textarea textarea-bordered textarea-xs w-full text-center" rows="3" placeholder="Liste d'ingrÃ©dients sÃ©parÃ©s par des virgules..."></textarea> <p class="mt-1 text-[0.5rem] tracking-tighter uppercase opacity-50">EntrÃ©e pour valider Â· Maj+EntrÃ©e pour nouvelle ligne</p></div>`),Rse=_('<button type="button"> </button>'),Nse=_('<div class="text-xs"><span class="text-[0.6rem] font-bold tracking-widest uppercase">IngrÃ©dients:</span> <!></div>'),Pse=_('<div class="recipe-container mb-6 svelte-ryaxea"><div class="recipe-actions no-print flex gap-1 svelte-ryaxea"><button class="btn btn-ghost btn-circle hover:bg-error/10 hover:text-error transition-colors" title="Masquer la recette"><!></button></div> <div class="recipe-content bg-transparent p-0 text-center"><!> <!> <!> <div class="mt-3 space-y-1 text-black"><!> <!></div></div></div>');function $se(r,e){pe(e,!0);let t=ae(void 0),n=ae(void 0),a=ae(void 0),s=ae(ot(e.name)),i=ae(!1),u=ae(!1),l=ae(""),c=ae("");function f(){e.onUpdateName(e.recipeKey,o(s)),e.onFinishEdit()}function h(){if(!o(i))return;const I=o(l).split(/[,;\n]/),T=Array.from(new Set(I.map(j=>j.trim()).filter(j=>j.length>0).map(j=>j.toLowerCase().replace(/\b\w/g,U=>U.toUpperCase()))));e.onUpdateIngredients(e.recipeKey,T),w(i,!1)}function m(){o(u)&&(e.onUpdateDescription(e.recipeKey,o(c).trim()),w(u,!1))}let g=V(()=>e.customDescription??e.recipeData?.description??""),b=V(()=>e.customIngredients?e.customIngredients:e.recipeData?.ingredients?e.recipeData.ingredients.map(I=>I.name):[]),y=V(()=>{if(!e.recipeData?.ingredients)return[];const I=new Du;return e.recipeData.ingredients.forEach(T=>{T.allergens?.forEach(j=>I.add(j))}),Array.from(I)}),x=V(()=>e.recipeData?.regime?e.recipeData.regime:[]);function k(I){return`font-size: ${["1.5rem","2rem","2.5rem","3.2rem"][I]||"2.5rem"}`}function S(I){return`font-size: ${["0.7rem","0.85rem","1rem","1.2rem"][I]||"1rem"}`}var A=ce(),C=z(A);{var E=I=>{var T=Pse(),j=d(T),U=d(j);U.__click=[yse,e];var G=d(U);fm(G,{});var Q=p(j,2),ee=d(Q);{var oe=$=>{var L=xse(),ne=d(L),Y=d(ne);Y.__keydown=[vse,f,s,e],xn(Y,W=>w(t,W),()=>o(t)),_t("blur",Y,f),ft(Y,()=>o(s),W=>w(s,W)),v($,L)},H=$=>{var L=wse();let ne;L.__click=[pse,s,e,t];var Y=d(L);P((W,X)=>{ne=_e(L,1,"recipe-title mb-2 block w-full border-none bg-transparent p-0 text-center text-lg text-black transition-colors hover:bg-black/5 svelte-ryaxea",null,ne,W),_n(L,X),O(Y,e.name)},[()=>({"cursor-pointer":!e.isEditing,"montserrat-font":e.config.fontRecettes==="montserrat-font","playfair-display":e.config.fontRecettes==="playfair-display","oswald-font":e.config.fontRecettes==="oswald-font","quicksand-font":e.config.fontRecettes==="quicksand-font","fira-sans":e.config.fontRecettes==="fira-sans","dancing-script":e.config.fontRecettes==="dancing-script","pacifico-regular":e.config.fontRecettes==="pacifico-regular","caveat-font":e.config.fontRecettes==="caveat-font","gluten-font":e.config.fontRecettes==="gluten-font","font-bold":e.config.boldRecettes,italic:e.config.italicRecettes}),()=>k(e.config.fontSizeRecettes)]),v($,L)};D(ee,$=>{e.isEditing?$(oe):$(H,!1)})}var J=p(ee,2);{var K=$=>{var L=Dse(),ne=d(L);{var Y=X=>{var N=kse(),ie=d(N);ie.__keydown=[_se,m,u],xn(ie,re=>w(a,re),()=>o(a)),_t("blur",ie,m),ft(ie,()=>o(c),re=>w(c,re)),v(X,N)},W=X=>{var N=Ase(),ie=d(N);let re;ie.__click=[bse,c,g,u,a];var le=d(ie);{var ue=be=>{var ye=Pt();P(()=>O(ye,o(g))),v(be,ye)},se=be=>{var ye=Ese();v(be,ye)};D(le,be=>{o(g)?be(ue):be(se,!1)})}var de=p(ie,2);de.__click=[Sse,e];var fe=d(de);fm(fe,{class:"h-3 w-3 opacity-50"}),P((be,ye)=>{re=_e(ie,1,"recipe-description block border-none bg-transparent p-0 text-sm text-black opacity-90 transition-colors hover:bg-black/5 svelte-ryaxea",null,re,be),_n(ie,ye)},[()=>({"cursor-pointer":!o(u),"montserrat-font":e.config.fontDesc==="montserrat-font","playfair-display":e.config.fontDesc==="playfair-display","oswald-font":e.config.fontDesc==="oswald-font","quicksand-font":e.config.fontDesc==="quicksand-font","fira-sans":e.config.fontDesc==="fira-sans","dancing-script":e.config.fontDesc==="dancing-script","pacifico-regular":e.config.fontDesc==="pacifico-regular","caveat-font":e.config.fontDesc==="caveat-font","gluten-font":e.config.fontDesc==="gluten-font","font-bold":e.config.boldDesc,italic:e.config.italicDesc}),()=>S(e.config.fontSizeDesc)]),v(X,N)};D(ne,X=>{o(u)?X(Y):X(W,!1)})}v($,L)};D(J,$=>{(e.config.showDescription||o(u))&&(e.descriptionVisible||o(u))&&$(K)})}var te=p(J,2);{var Z=$=>{var L=Ise();ze(L,20,()=>o(x),ne=>ne,(ne,Y)=>{var W=Cse();let X;var N=d(W);P((ie,re)=>{X=_e(W,1,`border-black
              bg-transparent
              font-medium
              text-black`,null,X,ie),_n(W,re),O(N,Y)},[()=>({"montserrat-font":e.config.fontRegimes==="montserrat-font","playfair-display":e.config.fontRegimes==="playfair-display","oswald-font":e.config.fontRegimes==="oswald-font","quicksand-font":e.config.fontRegimes==="quicksand-font","fira-sans":e.config.fontRegimes==="fira-sans","dancing-script":e.config.fontRegimes==="dancing-script","pacifico-regular":e.config.fontRegimes==="pacifico-regular","caveat-font":e.config.fontRegimes==="caveat-font","gluten-font":e.config.fontRegimes==="gluten-font","font-bold":e.config.boldRegimes,italic:e.config.italicRegimes}),()=>S(e.config.fontSizeRegimes)]),v(ne,W)}),v($,L)};D(te,$=>{e.config.showRegimes&&o(x).length>0&&$(Z)})}var R=p(te,2),F=d(R);{var M=$=>{var L=Tse(),ne=p(d(L),2);let Y;var W=d(ne);P((X,N,ie)=>{_n(ne,X),Y=_e(ne,1,"opacity-80",null,Y,N),O(W,ie)},[()=>S(e.config.fontSizeAlert),()=>({"montserrat-font":e.config.fontAlert==="montserrat-font","playfair-display":e.config.fontAlert==="playfair-display","oswald-font":e.config.fontAlert==="oswald-font","quicksand-font":e.config.fontAlert==="quicksand-font","fira-sans":e.config.fontAlert==="fira-sans","dancing-script":e.config.fontAlert==="dancing-script","pacifico-regular":e.config.fontAlert==="pacifico-regular","caveat-font":e.config.fontAlert==="caveat-font","gluten-font":e.config.fontAlert==="gluten-font","font-bold":e.config.boldAlert,italic:e.config.italicAlert}),()=>o(y).join(", ")]),v($,L)};D(F,$=>{e.config.showAllergens&&o(y).length>0&&$(M)})}var B=p(F,2);{var q=$=>{var L=Nse(),ne=p(d(L),2);{var Y=X=>{var N=Mse(),ie=d(N);ie.__keydown=[gse,h,i],xn(ie,re=>w(n,re),()=>o(n)),_t("blur",ie,h),ft(ie,()=>o(l),re=>w(l,re)),v(X,N)},W=X=>{var N=Rse();let ie;N.__click=[mse,l,b,i,n];var re=d(N);P((le,ue,se)=>{ie=_e(N,1,"mx-auto block border-none bg-transparent p-0 text-xs font-normal capitalize decoration-dotted opacity-80 transition-colors hover:bg-black/5 hover:underline",null,ie,le),_n(N,ue),O(re,se)},[()=>({"cursor-pointer":!o(i),"montserrat-font":e.config.fontIng==="montserrat-font","playfair-display":e.config.fontIng==="playfair-display","oswald-font":e.config.fontIng==="oswald-font","quicksand-font":e.config.fontIng==="quicksand-font","fira-sans":e.config.fontIng==="fira-sans","dancing-script":e.config.fontIng==="dancing-script","pacifico-regular":e.config.fontIng==="pacifico-regular","caveat-font":e.config.fontIng==="caveat-font","gluten-font":e.config.fontIng==="gluten-font","font-bold":e.config.boldIng,italic:e.config.italicIng}),()=>S(e.config.fontSizeIng),()=>o(b).join(", ")]),v(X,N)};D(ne,X=>{o(i)?X(Y):X(W,!1)})}v($,L)};D(B,$=>{e.config.showIngredients&&(o(b).length>0||o(i))&&$(q)})}v(I,T)};D(C,I=>{e.visible&&I(E)})}v(r,A),ve()}tt(["click","keydown"]);var Lse=_("<div> </div>"),Ose=_("<p> </p>"),Bse=_("<p> </p>"),Fse=_('<div class="separator mx-auto my-6 w-48 border-t border-black opacity-20 svelte-dikxtg"></div>'),zse=_('<div class="mb-8 text-center"><!> <!> <!></div>'),qse=_("<h3> </h3>"),jse=_('<div class="category-block mb-10 svelte-dikxtg"><!> <div class="recipes-grid avoid-break-inside"></div></div>'),Hse=_("<div> </div>"),Use=_('<div><div class="group absolute top-4 right-4 print:hidden"><button class="btn btn-circle btn-ghost opacity-20 transition-opacity hover:opacity-100" title="Imprimer cette page"><!></button></div> <div><!> <!> <!> <div><!></div></div></div>'),Vse=(r,e,t)=>e.onToggleRecipe(o(t)),Wse=_('<button class="btn btn-secondary btn-outline flex h-auto max-w-20 flex-col py-3" title="Afficher la recette"><!> <span> </span></button>'),Qse=(r,e,t)=>e(o(t)),Gse=_('<button class="btn btn-secondary btn-outline flex h-auto flex-col py-3" title="Afficher la description"><!> <span><span class="font-bold italic">Desc:</span> </span></button>'),Kse=_("<!> <!>",1),Jse=_('<div class="grid grid-cols-[1fr_auto] items-start gap-4 p-2"><div class="flex flex-col items-end gap-8"></div> <div class="m-auto flex flex-col gap-4 print:hidden"></div></div>');function Zse(r,e){pe(e,!0);let t=ot({}),n=ot({}),a=ot({});function s(A,C){t[A]=C}function i(A,C){n[A]=C}function u(A){const C=a[A]??!0;a[A]=!C}let l=V(()=>e.date.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})),c=V(()=>{const A=new Kr;return e.meals.forEach(C=>{C.recipes.forEach(E=>{const I=E.typeR||"autre";A.has(I)||A.set(I,[]),A.get(I).push({...E,mealId:C.id,guests:C.guests})})}),A}),f=["entree","plat","dessert"],h=V(()=>Array.from(o(c).keys()).sort((C,E)=>{const I=f.indexOf(C),T=f.indexOf(E);return I!==-1&&T!==-1?I-T:I!==-1?-1:T!==-1?1:C.localeCompare(E)}));function m(A){return{entree:"EntrÃ©e",plat:"Plat",dessert:"Dessert",autre:"Autre"}[A]||A}function g(A){return`font-size: ${["1.5rem","2rem","2.5rem","3.2rem"][A]||"2.5rem"}`}function b(A){return`font-size: ${["0.7rem","0.85rem","1rem","1.2rem"][A]||"1rem"}`}let y=V(()=>e.config.catPageBreak?o(h).map((A,C)=>({categories:[A],isFirst:C===0,isLast:C===o(h).length-1})):[{categories:o(h),isFirst:!0,isLast:!0}]);var x=Jse(),k=d(x);ze(k,21,()=>o(y),bt,(A,C,E)=>{var I=Use();let T;var j=d(I),U=d(j);U.__click=()=>e.onPrintThis(E===0?e.sectionId:`${e.sectionId}-page-${E}`);var G=d(U);A2(G,{class:"h-4 w-4"});var Q=p(j,2);let ee;var oe=d(Q);{var H=B=>{var q=Lse();let $;var L=d(q);P((ne,Y)=>{$=_e(q,1,"mb-8 text-center",null,$,ne),_n(q,Y),O(L,e.config.messageTop)},[()=>({"montserrat-font":e.config.fontTop==="montserrat-font","playfair-display":e.config.fontTop==="playfair-display","oswald-font":e.config.fontTop==="oswald-font","quicksand-font":e.config.fontTop==="quicksand-font","fira-sans":e.config.fontTop==="fira-sans","dancing-script":e.config.fontTop==="dancing-script","pacifico-regular":e.config.fontTop==="pacifico-regular","caveat-font":e.config.fontTop==="caveat-font","gluten-font":e.config.fontTop==="gluten-font","font-bold":e.config.boldTop,italic:e.config.italicTop}),()=>b(e.config.fontSizeTop)]),v(B,q)};D(oe,B=>{e.config.messageTop&&(o(C).isFirst||e.config.dateByPageBreak)&&B(H)})}var J=p(oe,2);{var K=B=>{var q=zse(),$=d(q);{var L=N=>{var ie=Ose();let re;var le=d(ie);P((ue,se)=>{re=_e(ie,1,"m-0 text-center text-3xl",null,re,ue),_n(ie,se),O(le,o(l))},[()=>({"montserrat-font":e.config.fontDate==="montserrat-font","gluten-font":e.config.fontDate==="gluten-font","pacifico-regular":e.config.fontDate==="pacifico-regular","fira-sans":e.config.fontDate==="fira-sans","font-bold":e.config.boldDate,italic:e.config.italicDate}),()=>g(e.config.fontSizeDate)]),v(N,ie)};D($,N=>{e.config.showDate&&N(L)})}var ne=p($,2);{var Y=N=>{var ie=Bse();let re;var le=d(ie);P((ue,se)=>{re=_e(ie,1,"m-0 text-center text-3xl",null,re,ue),_n(ie,se),O(le,e.horaire)},[()=>({"montserrat-font":e.config.fontHoraire==="montserrat-font","playfair-display":e.config.fontHoraire==="playfair-display","oswald-font":e.config.fontHoraire==="oswald-font","quicksand-font":e.config.fontHoraire==="quicksand-font","fira-sans":e.config.fontHoraire==="fira-sans","dancing-script":e.config.fontHoraire==="dancing-script","pacifico-regular":e.config.fontHoraire==="pacifico-regular","caveat-font":e.config.fontHoraire==="caveat-font","gluten-font":e.config.fontHoraire==="gluten-font","font-bold":e.config.boldHoraire,italic:e.config.italicHoraire}),()=>g(e.config.fontSizeHoraire)]),v(N,ie)};D(ne,N=>{e.config.showHoraire&&N(Y)})}var W=p(ne,2);{var X=N=>{var ie=Fse();v(N,ie)};D(W,N=>{(e.config.showHoraire||e.config.showDate)&&N(X)})}v(B,q)};D(J,B=>{(o(C).isFirst||e.config.dateByPageBreak)&&B(K)})}var te=p(J,2);ze(te,16,()=>o(C).categories,B=>B,(B,q)=>{var $=jse(),L=d($);{var ne=W=>{var X=qse();let N;var ie=d(X);P((re,le,ue)=>{N=_e(X,1,"mb-6 text-center text-xl tracking-widest uppercase opacity-60",null,N,re),_n(X,le),O(ie,ue)},[()=>({"montserrat-font":e.config.fontCat==="montserrat-font","playfair-display":e.config.fontCat==="playfair-display","oswald-font":e.config.fontCat==="oswald-font","quicksand-font":e.config.fontCat==="quicksand-font","fira-sans":e.config.fontCat==="fira-sans","dancing-script":e.config.fontCat==="dancing-script","pacifico-regular":e.config.fontCat==="pacifico-regular","caveat-font":e.config.fontCat==="caveat-font","gluten-font":e.config.fontCat==="gluten-font","font-bold":e.config.boldCat,italic:e.config.italicCat}),()=>g(e.config.fontSizeCat),()=>m(q)]),v(W,X)};D(L,W=>{e.config.showCategories&&W(ne)})}var Y=p(L,2);ze(Y,21,()=>o(c).get(q)??[],W=>W.recipeUuid,(W,X)=>{const N=V(()=>`${e.dateKey}${e.horaire}_${o(X).recipeUuid}`),ie=V(()=>e.recipeVisibility[o(N)]??!0),re=V(()=>e.recipeNames[o(N)]||jt.getRecipeIndexByUuid(o(X).recipeUuid)?.title||o(X).recipeUuid),le=V(()=>e.recipesDetails.find(be=>be.$id===o(X).recipeUuid)||null),ue=V(()=>a[o(N)]??!0);var se=ce(),de=z(se);{var fe=be=>{{let ye=V(()=>t[o(N)]||null),De=V(()=>n[o(N)]||null),xe=V(()=>e.editingRecipe===o(N));$se(be,{get recipeKey(){return o(N)},get recipeUuid(){return o(X).recipeUuid},get plates(){return o(X).plates},get typeR(){return o(X).typeR},get category(){return q},get config(){return e.config},get visible(){return o(ie)},get name(){return o(re)},get recipeData(){return o(le)},get customIngredients(){return o(ye)},get customDescription(){return o(De)},get descriptionVisible(){return o(ue)},get isEditing(){return o(xe)},get onToggle(){return e.onToggleRecipe},get onStartEdit(){return e.onStartEditRecipe},get onFinishEdit(){return e.onFinishEditRecipe},get onUpdateName(){return e.onUpdateRecipeName},onUpdateIngredients:s,onUpdateDescription:i,onToggleDescription:u})}};D(de,be=>{o(ie)&&be(fe)})}v(W,se)}),v(B,$)});var Z=p(te,2);let R;var F=d(Z);{var M=B=>{var q=Hse();let $;var L=d(q);P((ne,Y)=>{$=_e(q,1,"text-center opacity-60",null,$,ne),_n(q,Y),O(L,e.config.messageBottom)},[()=>({"montserrat-font":e.config.fontBottom==="montserrat-font","playfair-display":e.config.fontBottom==="playfair-display","oswald-font":e.config.fontBottom==="oswald-font","quicksand-font":e.config.fontBottom==="quicksand-font","fira-sans":e.config.fontBottom==="fira-sans","dancing-script":e.config.fontBottom==="dancing-script","pacifico-regular":e.config.fontBottom==="pacifico-regular","caveat-font":e.config.fontBottom==="caveat-font","gluten-font":e.config.fontBottom==="gluten-font","font-bold":e.config.boldBottom,italic:e.config.italicBottom}),()=>b(e.config.fontSizeBottom)]),v(B,q)};D(F,B=>{e.config.messageBottom&&B(M)})}P((B,q,$)=>{dt(I,"id",E===0?e.sectionId:`${e.sectionId}-page-${E}`),T=_e(I,1,"meal-poster-section relative bg-white shadow-2xl transition-shadow svelte-dikxtg",null,T,B),ee=_e(Q,1,"poster-content text-black svelte-dikxtg",null,ee,q),R=_e(Z,1,"pt-8",null,R,$)},[()=>({"is-printing-target":e.sectionsToPrint[E===0?e.sectionId:`${e.sectionId}-page-${E}`],"page-break-after":!o(C).isLast}),()=>({"centered-content":e.config.centerVertical}),()=>({"mt-auto":!e.config.centerVertical})]),v(A,I)});var S=p(k,2);ze(S,21,()=>o(h),bt,(A,C)=>{var E=ce(),I=z(E);ze(I,17,()=>o(c).get(o(C))??[],bt,(T,j)=>{const U=V(()=>`${e.dateKey}${e.horaire}_${o(j).recipeUuid}`),G=V(()=>e.recipeVisibility[o(U)]??!0),Q=V(()=>a[o(U)]??!0),ee=V(()=>e.getRecipeName(o(U),jt.getRecipeIndexByUuid(o(j).recipeUuid)?.title||"Recette"));var oe=Kse(),H=z(oe);{var J=Z=>{var R=Wse();R.__click=[Vse,e,U];var F=d(R);bE(F,{class:"size-5"});var M=p(F,2),B=d(M);P(()=>O(B,o(ee))),v(Z,R)};D(H,Z=>{o(G)||Z(J)})}var K=p(H,2);{var te=Z=>{var R=Gse();R.__click=[Qse,u,U];var F=d(R);du(F,{class:"size-5"});var M=p(F,2),B=p(d(M));P(()=>O(B,` ${o(ee)??""}`)),v(Z,R)};D(K,Z=>{o(G)&&!o(Q)&&Z(te)})}v(T,oe)}),v(A,E)}),v(r,x),ve()}tt(["click"]);var Yse=_('<div class="space-y-4 print:m-0 print:space-y-0 print:p-0"><!></div>'),Xse=_('<div class="bg-base-200 flex-1 overflow-auto p-4 print:m-0 print:overflow-visible print:p-0"><div class="mx-auto max-w-5xl space-y-8 print:m-0 print:w-full print:max-w-none print:space-y-0"></div></div>');function eie(r,e){pe(e,!0);let t=V(()=>{const s=[];return e.groupedMeals.forEach((i,u)=>{i.forEach((l,c)=>{s.push({dateKey:u,date:new Date(u),horaire:c,meals:l})})}),s.sort((i,u)=>i.date.getTime()-u.date.getTime())});var n=Xse(),a=d(n);ze(a,21,()=>o(t),s=>s.dateKey+s.horaire,(s,i)=>{const u=V(()=>`affiche${o(i).dateKey}${o(i).horaire}`);var l=Yse(),c=d(l);Zse(c,{get sectionId(){return o(u)},get dateKey(){return o(i).dateKey},get date(){return o(i).date},get horaire(){return o(i).horaire},get meals(){return o(i).meals},get config(){return e.config},get sectionsToPrint(){return e.sectionsToPrint},get recipesDetails(){return e.recipesDetails},get recipeVisibility(){return e.recipeVisibility},get recipeNames(){return e.recipeNames},get editingRecipe(){return e.editingRecipe},get onPrintThis(){return e.printThis},get onToggleRecipe(){return e.toggleRecipeVisibility},get onStartEditRecipe(){return e.startEditingRecipe},get onFinishEditRecipe(){return e.finishEditingRecipe},get onUpdateRecipeName(){return e.updateRecipeName},get getRecipeName(){return e.getRecipeName}}),v(s,l)}),v(r,n),ve()}async function tie(r,e){Object.keys(e).forEach(t=>{e[t]=!0}),await Ad(),setTimeout(()=>{window.print()},500)}var rie=_('<button class="btn btn-primary gap-2"><!> Imprimer tout</button>'),nie=_('<div class="flex min-h-[60vh] items-center justify-center"><div class="loading loading-spinner loading-lg text-primary"></div></div>'),aie=_('<div class="container mx-auto p-4"><div class="alert alert-error"><!> <span> </span></div></div>'),sie=_('<div class="flex min-h-[60vh] items-center justify-center"><div class="alert alert-info alert-vertical"><!> <p class="text-lg">Aucune recette pour le moment</p></div></div>'),iie=_('<!> <div><div class="mx-auto px-4 py-4"><!></div> <div><!></div></div>',1);function oie(r,e){pe(e,!0);const t=M=>{var B=rie();B.__click=[tie,h];var q=d(B);A2(q,{class:"h-5 w-5"}),v(M,B)};let n=V(()=>Nt.getEventById(e.params.id)),a=ae(!1),s=ae(null),i=ae(ot([])),u=ae(!1),l=ae(ot({showDate:!0,showHoraire:!0,showDescription:!1,showCategories:!0,showRecipes:!0,showRegimes:!1,showAllergens:!1,showIngredients:!1,catPageBreak:!1,dateByPageBreak:!1,messageTop:"",fontTop:"montserrat-font",fontSizeTop:1,boldTop:!1,italicTop:!1,messageBottom:"",fontBottom:"montserrat-font",fontSizeBottom:1,boldBottom:!1,italicBottom:!1,fontDate:"montserrat-font",fontSizeDate:1,boldDate:!1,italicDate:!1,fontHoraire:"montserrat-font",fontSizeHoraire:1,boldHoraire:!1,italicHoraire:!1,fontCat:"montserrat-font",fontSizeCat:1,boldCat:!1,italicCat:!1,fontRecettes:"pacifico-regular",fontSizeRecettes:2,boldRecettes:!1,italicRecettes:!1,fontDesc:"montserrat-font",fontSizeDesc:1,boldDesc:!1,italicDesc:!1,fontRegimes:"montserrat-font",fontSizeRegimes:1,boldRegimes:!1,italicRegimes:!1,fontAlert:"montserrat-font",fontSizeAlert:1,boldAlert:!1,italicAlert:!1,fontIng:"montserrat-font",fontSizeIng:1,boldIng:!1,italicIng:!1,centerVertical:!0})),c=ae(ot([])),f=ae(null),h=ot({}),m=ae(!1);const g=V(()=>{if(!o(n))return!1;const M=Ee.userId||"";return o(n).createdBy===M?!0:o(n).contributors?.find(q=>q.id===M)?.status==="accepted"});let b=ot({}),y=ot({}),x=ae(null),k=V(()=>{if(!o(n)?.meals)return new Kr;const M=new Kr;return o(n).meals.forEach(B=>{const q=new Date(B.date),$=q.toISOString().split("T")[0],L=q.getHours(),ne=L<12?"Petit-dÃ©jeuner":L<14?"DÃ©jeuner":L<18?"GoÃ»ter":"DÃ®ner";M.has($)||M.set($,new Kr);const Y=M.get($);Y.has(ne)||Y.set(ne,[]),Y.get(ne).push(B)}),M});st(()=>{o(n)?.meals&&o(n).meals.forEach(M=>{const B=new Date(M.date),q=B.toISOString().split("T")[0],$=B.getHours(),L=$<12?"Petit-dÃ©jeuner":$<14?"DÃ©jeuner":$<18?"GoÃ»ter":"DÃ®ner",ne=`affiche${q}${L}`;ne in h||(h[ne]=!0)})}),vn(()=>{(async()=>{if(!o(n)){w(a,!0);try{await Nt.fetchEvent(e.params.id)}catch(M){w(s,M instanceof Error?M.message:"Erreur de chargement",!0)}finally{w(a,!1)}}await S()})()});async function S(){try{const M=await Nt.loadPosterConfig(e.params.id);M&&(console.log("[EventPoster] Configuration chargÃ©e depuis le cache"),M.current?(w(l,{...o(l),...M.current},!0),w(c,M.versions||[],!0)):(w(l,{...o(l),...M},!0),w(c,[],!0)))}catch(M){console.error("[EventPoster] Erreur chargement config cache:",M)}}async function A(){try{await Nt.savePosterConfig(e.params.id,si(o(l))),Ee.toast.success("Configuration sauvegardÃ©e",{details:"Les rÃ©glages courants sont enregistrÃ©s localement."})}catch(M){console.error("[EventPoster] Erreur sauvegarde config cache:",M),Ee.toast.error("Erreur de sauvegarde",{details:"Impossible d'enregistrer la configuration localement."})}}async function C(){try{const M=new Date,q=`Version du ${new Intl.DateTimeFormat("fr-FR",{dateStyle:"short",timeStyle:"short"}).format(M)}`,$=await Nt.createPosterVersion(e.params.id,si(o(l)),q);await S(),$&&w(f,$.id,!0),Ee.toast.success("Version crÃ©Ã©e",{details:"Une nouvelle version de la configuration a Ã©tÃ© archivÃ©e."})}catch(M){console.error("[EventPoster] Erreur crÃ©ation version:",M),Ee.toast.error("Erreur de crÃ©ation",{details:M.message||"Impossible de crÃ©er une nouvelle version."})}}async function E(M){try{await Nt.deletePosterVersion(e.params.id,M),w(c,o(c).filter(B=>B.id!==M),!0),o(f)===M&&w(f,null),Ee.toast.success("Version supprimÃ©e",{details:"La version archivÃ©e a Ã©tÃ© supprimÃ©e."})}catch(B){console.error("[EventPoster] Erreur suppression version:",B),Ee.toast.error("Erreur de suppression",{details:"Impossible de supprimer la version."})}}function I(M){w(l,{...o(l),...M.config},!0),w(f,M.id,!0),Ee.toast.info("Version chargÃ©e",{details:`La configuration "${M.name}" a Ã©tÃ© appliquÃ©e.`})}st(()=>{if(!o(n)||o(a))return;if(!(o(n).meals&&o(n).meals.some(B=>B.recipes&&B.recipes.length>0))){w(u,!1);return}o(i).length===0&&!o(u)&&T().then(()=>{j()})});async function T(){if(!o(n)?.meals)return;const M=o(n).meals.flatMap(B=>B.recipes.map(q=>q.recipeUuid));if(M.length===0){w(u,!1);return}w(u,!0);try{console.log(`[EventPoster] Loading ${M.length} recipes (bulk mode)...`);const B=await jt.getRecipesByUuidsBulk(M);w(i,Array.from(B.values()).filter(q=>q!==null),!0),console.log(`[EventPoster] Loaded ${o(i).length}/${M.length} recipes in bulk`),console.log("[EventPoster] Recipe IDs:",o(i).map(q=>q.$id))}catch(B){console.error("Erreur lors du chargement des recettes:",B)}finally{w(u,!1)}}function j(){o(n)?.meals&&o(n).meals.forEach(M=>{const B=new Date(M.date),q=B.toISOString().split("T")[0],$=B.getHours(),L=$<12?"Petit-dÃ©jeuner":$<14?"DÃ©jeuner":$<18?"GoÃ»ter":"DÃ®ner",ne=`${q}${L}`;M.recipes.forEach(Y=>{const W=`${ne}_${Y.recipeUuid}`;b[W]=!0;const X=jt.getRecipeIndexByUuid(Y.recipeUuid);y[W]=X?.title||Y.recipeUuid})})}async function U(M){M in h||(h[M]=!0),Object.keys(h).forEach(B=>{h[B]=B===M}),await Ad(),setTimeout(()=>{window.print(),Object.keys(h).forEach(B=>{h[B]=!0})},900)}function G(M){b[M]=!b[M],b[M]||console.log("to-implement")}function Q(M){w(x,M,!0)}function ee(){w(x,null)}function oe(M,B){y[M]=B}function H(M,B){return y[M]||B}function J(){ct(`/dashboard/eventEdit/${e.params.id}`)}async function K(M){if(!(!e.params.id||!Ee.userId))try{w(m,!0);const B=M?"accepted":"declined";await Nt.updateContributorStatus(e.params.id,Ee.userId,B),Ee.toast.success(M?"Invitation acceptÃ©e":"Invitation dÃ©clinÃ©e")}catch(B){console.error("Erreur rÃ©ponse invitation:",B),Ee.toast.error("Erreur lors de la rÃ©ponse")}finally{w(m,!1)}}st(()=>{o(n)&&St.setConfig({eventId:e.params.id,title:`Affiches : ${o(n).name}`,backAction:J,actions:t})}),Ir(()=>{St.reset()});var te=ce(),Z=z(te);{var R=M=>{var B=nie();v(M,B)},F=M=>{var B=ce(),q=z(B);{var $=ne=>{var Y=aie(),W=d(Y),X=d(W);Ln(X,{class:"h-6 w-6 shrink-0"});var N=p(X,2),ie=d(N);P(()=>O(ie,o(s))),v(ne,Y)},L=ne=>{var Y=ce(),W=z(Y);{var X=ie=>{var re=sie(),le=d(re),ue=d(le);ra(ue,{}),v(ie,re)},N=ie=>{var re=ce(),le=z(re);{var ue=se=>{var de=iie(),fe=z(de);$o(fe,{bgClass:"bg-base-200",width:"120",children:(Ie,Pe)=>{{let Be=V(()=>!o(g));hse(Ie,{get versions(){return o(c)},get activeVersionId(){return o(f)},onSave:A,onCreateVersion:C,onDeleteVersion:E,onLoadVersion:I,get disabled(){return o(Be)},get config(){return o(l)},set config(He){w(l,He,!0)}})}},$$slots:{default:!0}});var be=p(fe,2),ye=d(be),De=d(ye);W2(De,{get currentEvent(){return o(n)},get isBusy(){return o(m)},onRespond:K});var xe=p(ye,2),Ce=d(xe);eie(Ce,{get event(){return o(n)},get groupedMeals(){return o(k)},get config(){return o(l)},get sectionsToPrint(){return h},get recipesDetails(){return o(i)},get recipeVisibility(){return b},get recipeNames(){return y},get editingRecipe(){return o(x)},printThis:U,toggleRecipeVisibility:G,startEditingRecipe:Q,finishEditingRecipe:ee,updateRecipeName:oe,getRecipeName:H}),P(()=>{_e(be,1,`bg-base-200 min-h-screen print:hidden ${Ee.isDesktop?"ml-80":""}`),_e(xe,1,`print:m-0 print:block print:p-0 ${Ee.isDesktop?"ml-80":""}`)}),v(se,de)};D(le,se=>{o(n)&&se(ue)},!0)}v(ie,re)};D(W,ie=>{!o(n)||o(n).meals&&o(n).meals.length>0&&o(n).meals.every(re=>!re.recipes||re.recipes.length===0)?ie(X):ie(N,!1)},!0)}v(ne,Y)};D(q,ne=>{o(s)?ne($):ne(L,!1)},!0)}v(M,B)};D(Z,M=>{o(a)?M(R):M(F,!1)})}v(r,te),ve()}tt(["click"]);var uie=(r,e,t)=>o(e)&&t.onEdit?.(t.materiel.$id),lie=(r,e,t)=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),o(e)&&t.onEdit?.(t.materiel.$id))},cie=_('<div class="flex items-center gap-1"><!> <span class="max-w-[100px] truncate"> </span></div>'),die=_('<div class="flex items-center gap-1"><!> <span> </span></div>'),fie=_('<div class="text-base-content/70 text-xs"> </div>'),hie=_('<div class="text-base-content/60 line-clamp-1 text-xs"> </div>'),pie=_("<div> </div>"),vie=_('<div><div class="text-xs"><span class="text-info font-semibold"> </span> <span class="text-base-content/80 ml-2 font-medium"> <!></span></div></div>'),mie=(r,e)=>{r.stopPropagation(),e.onEdit?.(e.materiel.$id)},gie=_('<button class="btn btn-ghost btn-xs text-primary" aria-label="Ãditer"><!></button>'),bie=_('<div class="card card-side bg-base-100 border-base-200 hover:border-primary/50 group cursor-pointer border text-left shadow-sm transition-all hover:shadow-md" role="button" tabindex="0"><div class="hidden pl-4 sm:flex sm:items-center"><div><!></div></div> <div class="card-body py-3"><div class="flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between"><div class="flex min-w-0 flex-col gap-1"><div class="flex flex-wrap items-center gap-x-4 gap-y-0"><div class="flex items-center gap-2"><div class="text-primary group-hover:text-primary/80 text-base font-semibold transition-colors"> </div> <span> </span></div> <div class="text-base-content/80 flex flex-wrap items-center gap-x-2 gap-y-1 text-sm"><!> <!></div></div> <div class="flex flex-wrap items-baseline gap-x-4 gap-y-2"><div class="text-sm font-medium"><span> </span> <span class="text-base-content/60 ml-1 text-xs">disp.</span></div> <!> <!> <!></div></div> <div class="flex flex-col items-start gap-1 sm:items-center"><!></div> <div class="flex items-center justify-end"><!></div></div></div></div>');function _ie(r,e){pe(e,!0);const t=V(()=>{switch(e.materiel.type){case"electronic":return cl;case"manual":return go;case"cooking":return Jr;case"dish":return nn;case"gaz":return zi;case"hygiene":return ul;case"other":default:return vo}}),n=V(()=>{if(!e.materiel||!e.materiel.status)return{label:"Chargement...",badgeClass:"badge-neutral",priority:99};const $=Z6(e.materiel.status);return{ok:{label:$,badgeClass:"badge-success",priority:0},lost:{label:$,badgeClass:"badge-error",priority:4},torepair:{label:$,badgeClass:"badge-warning",priority:1}}[e.materiel.status]||{label:$,badgeClass:"badge-neutral",priority:99}}),a=V(()=>Ee.userId?!!(e.materiel.ownerData?.userId===Ee.userId||e.materiel.ownerData?.teamId):!1),s=V(()=>e.materiel.description?e.materiel.description.length>80?e.materiel.description.substring(0,80)+"...":e.materiel.description:null);var i=bie();i.__click=[uie,a,e],i.__keydown=[lie,a,e];var u=d(i),l=d(u),c=d(l);{let $=V(()=>s2(e.materiel.type));qt(c,()=>o(t),(L,ne)=>{ne(L,{get class(){return`${o($)??""} h-6 w-6`}})})}var f=p(u,2),h=d(f),m=d(h),g=d(m),b=d(g),y=d(b),x=d(y),k=p(y,2),S=d(k),A=p(b,2),C=d(A);{var E=$=>{var L=cie(),ne=d(L);qi(ne,{class:"h-3 w-3"});var Y=p(ne,2),W=d(Y);P(()=>O(W,e.materiel.location)),v($,L)};D(C,$=>{e.materiel.location&&$(E)})}var I=p(C,2);{var T=$=>{var L=die(),ne=d(L);Ut(ne,{class:"h-3 w-3"});var Y=p(ne,2),W=d(Y);P(()=>O(W,e.materiel.ownerData.teamName)),v($,L)};D(I,$=>{e.materiel.ownerData?.teamName&&$(T)})}var j=p(g,2),U=d(j),G=d(U),Q=d(G),ee=p(U,2);{var oe=$=>{var L=fie(),ne=d(L);P(()=>O(ne,`${e.materiel.totalLoanedQuantity??""}/${e.materiel.quantity??""} en prÃªt(s)`)),v($,L)};D(ee,$=>{e.materiel.totalLoanedQuantity>0&&$(oe)})}var H=p(ee,2);{var J=$=>{var L=hie(),ne=d(L);P(()=>O(ne,o(s))),v($,L)};D(H,$=>{o(s)&&$(J)})}var K=p(H,2);{var te=$=>{var L=pie(),ne=d(L);P(()=>{_e(L,1,`badge ${o(n).badgeClass??""} badge-xs gap-1 py-0`),O(ne,o(n).label)}),v($,L)};D(K,$=>{e.materiel.status!=="ok"&&$(te)})}var Z=p(m,2),R=d(Z);{var F=$=>{var L=vie(),ne=d(L),Y=d(ne),W=d(Y),X=p(Y,2),N=d(X),ie=p(N);{var re=le=>{var ue=Pt();P((se,de)=>O(ue,`du ${se??""}
                  jusqu'au ${de??""}`),[()=>Zn(e.materiel.loanDetails[0].startDate),()=>Zn(e.materiel.loanDetails[0].endDate)]),v(le,ue)};D(ie,le=>{e.materiel.loanDetails.length>0&&le(re)})}P(le=>{O(W,`${e.materiel.loanDetails.length??""} rÃ©servation :`),O(N,`${le??""} `)},[()=>e.materiel.loanDetails.map(le=>`${le.responsibleName} (${le.quantity})`).join(", ")]),v($,L)};D(R,$=>{e.materiel.loanDetails.length>0&&$(F)})}var M=p(Z,2),B=d(M);{var q=$=>{var L=gie();L.__click=[mie,e];var ne=d(L);na(ne,{class:"h-4 w-4"}),v($,L)};D(B,$=>{o(a)&&$(q)})}P(($,L,ne)=>{_e(l,1,`${$??""} rounded-lg p-3`),O(x,e.materiel.name),_e(k,1,`badge ${L??""} badge-soft badge-sm gap-1 py-0`),O(S,ne),_e(G,1,gn(e.materiel.availableQuantity>0?"text-success":"text-error")),O(Q,`${e.materiel.availableQuantity??""}/${e.materiel.quantity??""}`)},[()=>i2(e.materiel.type),()=>J6(e.materiel.type),()=>Md(e.materiel.type).label]),v(r,i),ve()}tt(["click","keydown"]);function yie(r,e,t,n){e()||t(n.value)}var xie=_('<button type="button"><span> </span> <!></button>');function wie(r,e){pe(e,!0);let t=ke(e,"selectedValue",15),n=ke(e,"color",3,"primary"),a=ke(e,"size",3,"sm"),s=ke(e,"disabled",3,!1);function i(y){return{xs:"btn-xs",sm:"btn-sm",md:"btn-md",lg:"btn-lg"}[y]||"btn-sm"}const u=V(()=>e.value===t()),l=V(()=>i(a()));var c=xie();let f;c.__click=[yie,s,t,e];var h=d(c),m=d(h),g=p(h,2);{var b=y=>{wr(y,{class:"h-3 w-3"})};D(g,y=>{o(u)&&y(b)})}P(y=>{f=_e(c,1,`btn ${o(l)??""} flex items-center gap-2 transition-all ${`btn-${n()}`} duration-200 ${o(u)?"":"btn-dash"}`,null,f,y),c.disabled=s(),O(m,e.label)},[()=>({"opacity-50":s(),"cursor-not-allowed":s()})]),v(r,c),ve()}tt(["click"]);var kie=_('<div class="flex flex-wrap gap-2"></div>');function Vg(r,e){pe(e,!0);let t=ke(e,"selected",15),n=ke(e,"size",3,"sm"),a=ke(e,"disabled",3,!1),s=ke(e,"color",3,"primary");var i=kie();ze(i,21,()=>e.items,u=>u.id,(u,l)=>{wie(u,{get value(){return o(l).id},get label(){return o(l).label},get color(){return s()},get size(){return n()},get disabled(){return a()},get selectedValue(){return t()},set selectedValue(c){t(c)}})}),v(r,i),ve()}function Eie(r,e,t,n,a,s,i,u,l,c,f){if(!o(e))return;const h={name:o(t).trim(),description:o(n).trim()||null,type:o(a)||"other",status:o(s),quantity:o(i),location:o(u).trim()||null,shareableWith:o(l).length>0?o(l):null,owner:o(c)};f.onSubmit?.(h)}function Sie(r,e){e.onCancel?.()}var Aie=_('<div class="flex min-w-[200px] flex-1 flex-col gap-1"><span class="label-text-alt text-base-content/70">Status</span> <!></div>'),Die=_('<div class="alert alert-error alert-sm"><span class="text-sm"> </span></div>'),Cie=_('<div class="ms-auto mt-8 flex justify-end gap-2"><button class="btn btn-ghost"><!> Annuler</button> <button class="btn btn-primary"><!> Enregistrer</button></div>'),Iie=_(`<div class="space-y-6"><div class="text-lg font-medium">Ajouter du matÃ©riel a l'inventaire de <span class="font-bold italic"> </span></div> <div class="space-y-3"><div class="flex flex-wrap gap-x-6 gap-y-4"><label class="input min-w-1/2"><span class="label"><!> Nom *</span> <input type="text" class="grow" placeholder="Ex: Mixeur professionnel" maxlength="100"/></label></div> <fieldset class="fieldset bg-base-100"><legend class="fieldset-legend">Description</legend> <textarea class="textarea textarea-bordered w-full" rows="2" placeholder="DÃ©crivez le matÃ©riel..." maxlength="500"></textarea></fieldset></div> <div class="flex flex-wrap items-center gap-x-4 gap-y-3"><div class="flex min-w-[200px] flex-1 flex-col gap-1"><span class="label-text-alt text-base-content/70">Type</span> <!></div> <!></div> <div class="flex flex-1 flex-wrap gap-x-6 gap-y-4"><label class="input w-58"><span class="label"><!>QuantitÃ© *</span> <input type="number" min="1"/></label> <label class="input flex-1"><span class="label"><!>Localisation</span> <input type="text" class="grow" placeholder="oÃ¹ c'est stocker" maxlength="50"/></label></div>  <!></div> <div><!></div>`,1);function ew(r,e){pe(e,!0);let t=ke(e,"showStatus",3,!1),n=ke(e,"buttonAction",3,!0),a=ae(ot(e.initialValues?.name||"")),s=ae(ot(e.initialValues?.description||"")),i=ae(ot(e.initialValues?.type||"")),u=ae(ot(e.initialValues?.status||"ok")),l=ae(ot(e.initialValues?.quantity||1)),c=ae(ot(e.initialValues?.location||"")),f=ae(ot(e.initialValues?.shareableWith||[])),h=!1,m=ae(null);const g=V(()=>e.ownerId),b=V(()=>[{id:"electronic",label:"Ãlectronique"},{id:"manual",label:"Ustensile"},{id:"tools",label:"Outils"},{id:"dish",label:"Vaisselle"},{id:"cooking",label:"MatÃ©riel de Cuisine"},{id:"gaz",label:"Gaz"},{id:"hygiene",label:"HygiÃ¨ne"},{id:"other",label:"Autre"}]),y=V(()=>[{id:"ok",label:"OK"},{id:"lost",label:"Perdu"},{id:"torepair",label:"Ã rÃ©parer"}]),x=V(()=>o(g)&&e.ownerId?JSON.stringify({teamName:e.ownerName||"",teamId:e.ownerId}):JSON.stringify({teamName:"",teamId:""})),k=V(()=>o(a).trim().length>0&&o(l)>=1&&!h);var S=Iie(),A=z(S),C=d(A),E=p(d(C)),I=d(E),T=p(C,2),j=d(T),U=d(j),G=d(U),Q=d(G);va(Q,{class:"h-4 w-4 "});var ee=p(G,2);ee.disabled=h;var oe=p(j,2),H=p(d(oe),2);H.disabled=h;var J=p(T,2),K=d(J),te=p(d(K),2);Vg(te,{get items(){return o(b)},size:"sm",disabled:h,get selected(){return o(i)},set selected(ue){w(i,ue,!0)}});var Z=p(K,2);{var R=ue=>{var se=Aie(),de=p(d(se),2);Vg(de,{get items(){return o(y)},size:"sm",disabled:h,get selected(){return o(u)},set selected(fe){w(u,fe,!0)}}),v(ue,se)};D(Z,ue=>{t()&&ue(R)})}var F=p(J,2),M=d(F),B=d(M),q=d(B);g2(q,{class:"size-4"});var $=p(B,2);$.disabled=h;var L=p(M,2),ne=d(L),Y=d(ne);qi(Y,{class:"size-4"});var W=p(ne,2);W.disabled=h;var X=p(F,2);{var N=ue=>{var se=Die(),de=d(se),fe=d(de);P(()=>O(fe,o(m))),v(ue,se)};D(X,ue=>{o(m)&&ue(N)})}var ie=p(A,2),re=d(ie);{var le=ue=>{var se=Cie(),de=d(se);de.__click=[Sie,e],de.disabled=h;var fe=d(de);ir(fe,{class:"h-5 w-5"});var be=p(de,2);be.__click=[Eie,k,a,s,i,u,l,c,f,x,e];var ye=d(be);{var De=xe=>{wr(xe,{class:"h-5 w-5"})};D(ye,xe=>{xe(De,!1)})}P(()=>be.disabled=!o(k)),v(ue,se)};D(re,ue=>{n()&&ue(le)})}P(()=>O(I,e.ownerName)),ft(ee,()=>o(a),ue=>w(a,ue)),ft(H,()=>o(s),ue=>w(s,ue)),ft($,()=>o(l),ue=>w(l,ue)),ft(W,()=>o(c),ue=>w(c,ue)),v(r,S),ve()}tt(["click"]);var Tie=_('<div><span class="font-semibold">Ãquipe propriÃ©taire :</span> </div>'),Mie=_('<div class="alert alert-error"><span class="text-sm"> </span></div>'),Rie=_('<div class="alert alert-soft mb-4"><div class="flex items-center gap-2 text-sm"><!> <div><!></div></div></div> <!> <!>',1),Nie=_('<div class="alert alert-warning"><span>MatÃ©riel introuvable</span></div>'),Pie=_("<!> <!>",1);function $ie(r,e){pe(e,!0);let t=ae(!1),n=ae(null);const a=V(()=>e.materielId?Yt.getMaterielById(e.materielId):null);function s(){w(n,null)}async function i(l){if(!e.materielId){w(n,"ID du matÃ©riel manquant");return}w(t,!0),w(n,null);try{await Yt.updateMateriel(e.materielId,{name:l.name,description:l.description||void 0,type:l.type||"other",status:l.status,quantity:l.quantity,location:l.location||void 0}),console.log("[EditMaterielModal] MatÃ©riel mis Ã  jour:",e.materielId),e.onSuccess?.(),s(),e.onClose()}catch(c){w(n,c.message||"Erreur lors de la mise Ã  jour du matÃ©riel",!0),console.error("[EditMaterielModal] Erreur:",c)}finally{w(t,!1)}}function u(){s(),e.onClose()}on(r,{get isOpen(){return e.isOpen},onClose:u,children:(l,c)=>{var f=Pie(),h=z(f);Hr(h,{title:"Modifier le matÃ©riel",onClose:u});var m=p(h,2);Zr(m,{children:(g,b)=>{var y=ce(),x=z(y);{var k=A=>{var C=Rie(),E=z(C),I=d(E),T=d(I);Ut(T,{class:"h-4 w-4"});var j=p(T,2),U=d(j);{var G=H=>{var J=Tie(),K=p(d(J));P(()=>O(K,` ${o(a).ownerData.teamName??""}`)),v(H,J)};D(U,H=>{o(a).ownerData?.teamId&&H(G)})}var Q=p(E,2);{let H=V(()=>({name:o(a).name,description:o(a).description,type:o(a).type,status:o(a).status,quantity:o(a).quantity,location:o(a).location,shareableWith:o(a).shareableWith}));ew(Q,{showStatus:!0,get initialValues(){return o(H)},onSubmit:i,onCancel:u})}var ee=p(Q,2);{var oe=H=>{var J=Mie(),K=d(J),te=d(K);P(()=>O(te,o(n))),v(H,J)};D(ee,H=>{o(n)&&H(oe)})}v(A,C)},S=A=>{var C=Nie();v(A,C)};D(x,A=>{o(a)?A(k):A(S,!1)})}v(g,y)}}),v(l,f)},$$slots:{default:!0}}),ve()}var Lie=_('<div class="flex flex-wrap gap-3"></div>'),Oie=_('<div class="flex flex-wrap gap-3"></div>'),Bie=_('<div class="flex flex-wrap gap-3"></div>'),Fie=_('<div><div class="mb-4 flex items-center justify-between"><h4 class="text-lg font-bold"><!> Filtres</h4> <button class="btn btn-warning btn-sm"><!> Effacer</button></div> <!> <!> <!></div>');function zie(r,e){pe(e,!0);let t=ke(e,"filters",15),n=ke(e,"disabled",3,!1);function a(k,S){const A=k.indexOf(S);A===-1?k.push(S):k.splice(A,1),t({...t()})}function s(k){return{electronic:"Ãlectronique",manual:"Manuel",other:"Autre",tools:"Outils",dish:"Vaisselle",cooking:"Cuisine",gaz:"Gaz",hygiene:"HygiÃ¨ne"}[k]||k}function i(k){return{ok:"OK",lost:"Perdu",loan:"UtilisÃ©",reserved:"RÃ©servÃ©",torepair:"Ã rÃ©parer"}[k]||k}var u=Fie();let l;var c=d(u),f=d(c),h=d(f);ol(h,{class:"inline size-4 align-baseline"});var m=p(f,2);m.__click=function(...k){e.onReset?.apply(this,k)};var g=d(m);oi(g,{class:"h-4 w-4"});var b=p(c,2);Gt(b,{legend:"Type",get iconComponent(){return va},children:(k,S)=>{var A=Lie();ze(A,20,()=>e.availableTypes,C=>C,(C,E)=>{{let I=V(()=>t().types.includes(E)),T=V(()=>s(E));Bs(C,{get checked(){return o(I)},get label(){return o(T)},onchange:()=>a(t().types,E),get disabled(){return n()},color:"secondary",size:"md"})}}),v(k,A)},$$slots:{default:!0}});var y=p(b,2);Gt(y,{legend:"Lieu",get iconComponent(){return qi},children:(k,S)=>{var A=Oie();ze(A,20,()=>e.availableLocations,C=>C,(C,E)=>{{let I=V(()=>t().locations.includes(E));Bs(C,{get checked(){return o(I)},get label(){return E},onchange:()=>a(t().locations,E),get disabled(){return n()},color:"secondary",size:"md"})}}),v(k,A)},$$slots:{default:!0}});var x=p(y,2);Gt(x,{legend:"Statut",get iconComponent(){return Ln},children:(k,S)=>{var A=Bie();ze(A,20,()=>e.availableStatuses,C=>C,(C,E)=>{{let I=V(()=>t().statuses.includes(E)),T=V(()=>i(E));Bs(C,{get checked(){return o(I)},get label(){return o(T)},onchange:()=>a(t().statuses,E),get disabled(){return n()},color:"secondary",size:"md"})}}),v(k,A)},$$slots:{default:!0}}),P(k=>{l=_e(u,1,"mt-16 space-y-4",null,l,k),m.disabled=n()},[()=>({"opacity-30":n()})]),v(r,u),ve()}tt(["click"]);function qie(r,e){w(e,!o(e))}var jie=(r,e,t)=>e(o(t).$id),Hie=_('<button><!> <span class="badge badge-sm badge-neutral ml-2"> </span></button>'),Uie=_('<div class="tabs tabs-border bg-base-200 tabs-lg mb-6"></div>'),Vie=_('<div class="mb-6 text-end"><button class="btn btn-wide btn-primary"><!> Ajouter du matÃ©riel</button></div>'),Wie=_('<div class="card bg-base-100 mb-6 shadow-lg"><div class="card-body"><!></div></div>'),Qie=_('<div class="alert alert-warning"><span>Vous devez Ãªtre connectÃ© pour voir le matÃ©riel.</span></div>'),Gie=_('<div class="alert alert-error shadow-lg"><span> </span></div>'),Kie=_('<div class="alert alert-info"><span>SÃ©lectionnez une Ã©quipe pour voir son matÃ©riel.</span></div>'),Jie=_('<div class="py-12 text-center"><p class="text-base-content/60 mb-4 text-lg">Aucun matÃ©riel ne correspond aux critÃ¨res de filtrage...</p> <button class="btn btn-warning btn-sm">Effacer les filtres</button></div>'),Zie=_(`<div class="bg-base-200 rounded-box border-base-200 border-2 border-dashed py-20 text-center"><div class="bg-base-200 mb-4 inline-block rounded-full p-4"><!></div> <h3 class="mb-2 text-lg font-bold">Aucun matÃ©riel</h3> <p class="text-base-content/60 mb-6">Cette Ã©quipe n'a pas encore de matÃ©riel.</p></div>`),Yie=_('<div class="grid grid-cols-1"></div>'),Xie=_('<!> <div class="p-4 lg:ml-100"><div class="mx-auto max-w-7xl px-4 py-8"><!> <!> <!> <!></div></div> <!>',1);function Wg(r,e){pe(e,!0);let t=ae(!1),n=ae(null),a=ae(null),s=ae(!1),i=ae(ot({types:[],locations:[],statuses:[]}));function u(){w(t,!1)}function l(R){w(n,R,!0)}function c(){w(n,null)}async function f(R){try{await Yt.createMateriel(R),u(),console.log("[MaterielPage] MatÃ©riel crÃ©Ã© avec succÃ¨s")}catch(F){console.error("[MaterielPage] Erreur crÃ©ation:",F)}}function h(){console.log("[MaterielPage] MatÃ©riel mis Ã  jour"),c()}const m=["electronic","manual","other","tools","dish","cooking","gaz","hygiene"],g=["ok","lost","loan","reserved","torepair"],b=V(()=>At.myTeams),y=V(()=>o(a)?o(b).find(R=>R.$id===o(a)):null),x=V(()=>o(a)?Yt.materiels.filter(R=>R.ownerData.teamId===o(a)||R.shareableWith?.includes(o(a))):[]),k=V(()=>{const R=o(x),F=new Set;return R.forEach(M=>{M.location&&F.add(M.location)}),Array.from(F).sort()}),S=V(()=>{const R=o(x);return o(i).types.length>0||o(i).locations.length>0||o(i).statuses.length>0?R.filter(M=>{const B=o(i).types.length===0||M.type&&o(i).types.includes(M.type),q=o(i).locations.length===0||M.location&&o(i).locations.includes(M.location),$=o(i).statuses.length===0||o(i).statuses.includes(M.status);return B&&q&&$}):R});function A(){w(i,{types:[],locations:[],statuses:[]},!0)}function C(R){ct(`/dashboard/materiel/${R}`)}st(()=>{const R=e.params?.teamId;R&&R!==o(a)?o(b).find(M=>M.$id===R)&&w(a,R,!0):!R&&!o(a)&&!o(s)&&o(b).length>0&&(w(s,!0),ct(`/dashboard/materiel/${o(b)[0].$id}`))}),st(()=>{const F=(o(a)?o(b).find(M=>M.$id===o(a)):null)?.name||"MatÃ©riel";St.setConfig({title:F,materielContext:"materiel",teamId:o(a)||void 0})}),Ir(()=>{St.reset()});var E=Xie(),I=z(E);$o(I,{width:"100",children:(R,F)=>{zie(R,{disabled:!1,get availableTypes(){return m},get availableLocations(){return o(k)},get availableStatuses(){return g},onReset:A,get filters(){return o(i)},set filters(M){w(i,M,!0)}})},$$slots:{default:!0}});var T=p(I,2),j=d(T),U=d(j);{var G=R=>{var F=Uie();ze(F,21,()=>o(b),M=>M.$id,(M,B)=>{var q=Hie();q.__click=[jie,C,B];var $=d(q);Ut($,{class:"mr-2 h-4 w-4"});var L=p($),ne=p(L),Y=d(ne);P(W=>{_e(q,1,`tab ${o(a)===o(B).$id?"tab-active":""}`),O(L,` ${o(B).name??""} `),O(Y,W)},[()=>Yt.materiels.filter(W=>W.ownerData.teamId===o(B).$id||W.shareableWith?.includes(o(B).$id)).length]),v(M,q)}),v(R,F)};D(U,R=>{o(b).length>1&&R(G)})}var Q=p(U,2);{var ee=R=>{var F=Vie(),M=d(F);M.__click=[qie,t];var B=d(M);Zt(B,{class:"h-4 w-4"}),v(R,F)};D(Q,R=>{o(t)||R(ee)})}var oe=p(Q,2);{var H=R=>{var F=Wie(),M=d(F),B=d(M);ew(B,{showStatus:!1,onSubmit:f,onCancel:u,get ownerId(){return o(y).$id},get ownerName(){return o(y).name}}),Li(3,F,()=>Ld),v(R,F)};D(oe,R=>{o(t)&&o(y)&&R(H)})}var J=p(oe,2);{var K=R=>{var F=Qie();v(R,F)},te=R=>{var F=ce(),M=z(F);{var B=$=>{var L=Gie(),ne=d(L),Y=d(ne);P(()=>O(Y,Yt.error)),v($,L)},q=$=>{var L=ce(),ne=z(L);{var Y=X=>{var N=Kie();v(X,N)},W=X=>{var N=ce(),ie=z(N);{var re=ue=>{var se=ce(),de=z(se);{var fe=ye=>{var De=Jie(),xe=p(d(De),2);xe.__click=A,v(ye,De)},be=ye=>{var De=Zie(),xe=d(De),Ce=d(xe);va(Ce,{class:"h-8 w-8 opacity-50"}),v(ye,De)};D(de,ye=>{o(i).types.length>0||o(i).locations.length>0||o(i).statuses.length>0?ye(fe):ye(be,!1)})}v(ue,se)},le=ue=>{var se=Yie();ze(se,21,()=>o(S),de=>de.$id,(de,fe)=>{_ie(de,{get materiel(){return o(fe)},onEdit:be=>l(be)})}),v(ue,se)};D(ie,ue=>{o(S).length===0?ue(re):ue(le,!1)})}v(X,N)};D(ne,X=>{o(a)?X(W,!1):X(Y)},!0)}v($,L)};D(M,$=>{Yt.error?$(B):$(q,!1)},!0)}v(R,F)};D(J,R=>{Ee.isAuthenticated?R(te,!1):R(K)})}var Z=p(T,2);{let R=V(()=>o(n)!==null);$ie(Z,{get materielId(){return o(n)},get isOpen(){return o(R)},onClose:c,onSuccess:h})}v(r,E),ve()}tt(["click"]);function eoe(r,e,t){e.onAdd(Array.from(o(t))),e.onClose()}function Qg(r,e,t,n){w(e,new Set(t()),!0),n.onClose()}var toe=_('<div class="mb-6"><h4 class="mb-3 flex items-center gap-2 text-base font-semibold"><div class="bg-primary/10 rounded-lg p-1.5"><!></div> <span class="badge badge-ghost badge-sm ml-auto"> </span></h4> <!></div>'),roe=_('<div class="text-center py-12 opacity-50"><!> <p class="text-lg font-medium">Aucun matÃ©riel disponible</p> <p class="text-sm mt-2">Tous les matÃ©riels sont actuellement empruntÃ©s ou non disponibles</p></div>'),noe=_(`<div><div class="modal-box fixed top-0 flex h-lvh w-lvw flex-col overflow-auto md:top-10 md:h-full md:max-h-11/12 md:w-full md:max-w-4xl"><div class="flex items-center justify-between border-b p-4 pt-0"><h3 class="text-lg font-bold">SÃ©lection rapide du matÃ©riel</h3> <button class="btn btn-circle btn-ghost btn-sm absolute top-2 right-2" aria-label="Fermer"><!></button></div> <div class="flex-1 space-y-6 overflow-y-auto p-4"><div class="alert alert-info alert-soft text-base">Les nombres indiquent les quantitÃ©s disponibles de chaque matÃ©riel, vous
        indiquerez aprÃ¨s la quantitÃ© que vous souhaitez rÃ©server.</div> <!></div> <div class="border-base-300 flex-none border-t px-4 py-3"><div class="flex flex-wrap items-center justify-between gap-2"><div class="text-sm opacity-70"> </div> <div class="flex gap-2"><button class="btn btn-ghost">Annuler</button> <button class="btn btn-primary">Ajouter la sÃ©lection</button></div></div></div></div></div>`);function aoe(r,e){pe(e,!0);let t=ke(e,"selectedIds",19,()=>new Set);const n=V(()=>({electronic:"Ãlectronique",manual:"Ustensiles",cooking:"MatÃ©riel de cuisine",dish:"Vaisselle",gaz:"Gaz",hygiene:"HygiÃ¨ne",other:"Autre"})),a=V(()=>({electronic:cl,manual:go,cooking:Jr,dish:nn,gaz:zi,hygiene:ul,other:vo})),s=V(()=>{const I={};return e.materiels.forEach(T=>{const j=T.type||"other";I[j]||(I[j]=[]),I[j].push(T)}),I});let i=ae(ot(new Set));st(()=>{w(i,new Set(t()),!0)});function u(I){o(i).has(I)?o(i).delete(I):o(i).add(I),w(i,new Set(o(i)),!0)}var l=noe(),c=d(l),f=d(c),h=p(d(f),2);h.__click=[Qg,i,t,e];var m=d(h);ir(m,{class:"h-4 w-4"});var g=p(f,2),b=p(d(g),2);ze(b,17,()=>Object.entries(o(s)),([I,T])=>I,(I,T,j,U)=>{var G=V(()=>ha(o(T),2));let Q=()=>o(G)[0],ee=()=>o(G)[1];const oe=V(()=>o(a)[Q()]);var H=toe(),J=d(H),K=d(J),te=d(K);qt(te,()=>o(oe),(B,q)=>{q(B,{class:"text-primary h-4 w-4"})});var Z=p(K),R=p(Z),F=d(R),M=p(J,2);{let B=V(()=>ee().map(q=>({id:q.$id,label:q.name,badge:String(q.availableQuantity),selected:o(i).has(q.$id),title:`${q.availableQuantity}/${q.quantity} disponibles`})));Fa(M,{get items(){return o(B)},onToggleItem:u,size:"md",color:"primary"})}P(B=>{O(Z,` ${o(n)[Q()]??""} `),O(F,`${B??""}/${ee().length??""}`)},[()=>ee().filter(B=>o(i).has(B.$id)).length]),v(I,H)},I=>{var T=roe(),j=d(T);vo(j,{class:"h-16 w-16 mx-auto mb-4"}),v(I,T)});var y=p(g,2),x=d(y),k=d(x),S=d(k),A=p(k,2),C=d(A);C.__click=[Qg,i,t,e];var E=p(C,2);E.__click=[eoe,e,i],P(()=>{_e(l,1,`modal ${(e.isOpen&&"modal-open")??""}`),O(S,`${o(i).size??""} matÃ©riel${o(i).size>1?"s":""}
          sÃ©lectionnÃ©${o(i).size>1?"s":""}`),E.disabled=o(i).size===0}),v(r,l),ve()}tt(["click"]);async function soe(r,e,t,n,a,s,i,u,l,c){if(o(e)){w(t,!0);try{const f=o(n).map(g=>({materielId:g.materielId,materielName:g.materielName,quantity:g.quantity})),h=Ee.userId||"",m=Ee.userName||"Inconnu";await Yt.createLoan({startDate:o(a),endDate:o(s),responsibleId:h,responsibleName:m,ownerId:i.ownerId,ownerName:i.ownerName,materiels:f,notes:o(u).trim()||void 0,status:o(l)}),c(),i.onClose(),i.onSuccess?.()}catch(f){console.error("Erreur crÃ©ation emprunt:",f),rt.error("Erreur lors de la crÃ©ation de l'emprunt")}finally{w(t,!1)}}}function Gg(r,e,t){e(),t.onClose()}var ioe=_(`<div class="alert alert-info"><!> <span>Veuillez sÃ©lectionner une <strong>date de dÃ©but</strong> et une <strong>date de fin</strong> pour voir le matÃ©riel disponible sur cette
              pÃ©riode.</span></div>`),ooe=(r,e)=>w(e,!0),uoe=_('<div class="alert alert-warning"><!> <span>Aucun matÃ©riel disponible pour la pÃ©riode sÃ©lectionnÃ©e.</span></div>'),loe=_('<div class="flex flex-wrap gap-6"><div class="flex-1"><!></div> <button class="btn btn-secondary btn-md flex-1 gap-2"><!> Ajout rapide</button></div> <!>',1),coe=(r,e,t)=>{const n=r.target;e(o(t).materielId,parseInt(n.value))},doe=_("<option></option>"),foe=(r,e,t)=>e(o(t).materielId),hoe=_('<div class="bg-base-200 rounded-lg p-2"><div class="flex items-center gap-2"><div class="bg-base-300 rounded p-1"><!></div> <div class="min-w-0 flex-1"><div class="truncate font-medium"> </div> <div class="text-xs opacity-70">Disponible : <span class="font-semibold"> </span></div></div> <div class="flex items-center gap-1"><span class="text-sm opacity-70"><!></span> <label class="select join"><select class="join-item select-sm select-bordered w-20"></select></label></div> <button class="btn btn-ghost btn-xs btn-circle" aria-label="Supprimer"><!></button></div></div>'),poe=_('<div class="space-y-2"><p class="text-sm font-semibold opacity-70">MatÃ©riels sÃ©lectionnÃ©s</p> <!></div>'),voe=_(`<div class="py-8 text-center opacity-50"><!> <p class="text-sm">Aucun matÃ©riel sÃ©lectionnÃ©</p> <p class="text-xs">Utilisez la recherche ou l'ajout rapide pour ajouter du matÃ©riel</p></div>`),moe=_('<span class="loading loading-spinner loading-sm"></span>'),goe=_(`<div><div class="modal-box fixed top-0 flex h-lvh w-lvw flex-col overflow-auto md:top-10 md:h-full md:max-h-11/12 md:w-full md:max-w-4xl"><div class="flex items-center justify-between border-b p-4 pt-0"><h3 class="flex items-center gap-2 text-lg font-bold"><!> </h3> <button class="btn btn-circle btn-ghost btn-sm absolute top-2 right-2" aria-label="Fermer"><!></button></div> <div class="flex-1 space-y-6 overflow-y-auto p-4"><div class="space-y-4"><div class="flex flex-wrap gap-4"><label class="input min-w-[200px] flex-1"><span class="label"><!> Date dÃ©but *</span> <input type="date" class="grow"/></label> <label class="input min-w-[200px] flex-1"><span class="label"><!> Date fin *</span> <input type="date" class="grow"/></label></div> <label class="input w-full"><span class="label"><!> Responsable</span> <input type="text" class="grow" disabled/></label> <fieldset class="fieldset bg-base-100"><legend class="fieldset-legend">Notes (optionnel)</legend> <textarea class="textarea textarea-bordered w-full" rows="2" placeholder="Informations complÃ©mentaires sur l'emprunt..." maxlength="500"></textarea></fieldset> <fieldset class="fieldset bg-base-100"><legend class="fieldset-legend">Statut de la rÃ©servation</legend> <div class="flex flex-wrap gap-4"><label class="label justify-gap-3 cursor-pointer gap-3"><input type="radio" class="radio radio-primary"/> <span class="label-text"><strong class="block">Demande de rÃ©servation</strong> <span class="text-xs opacity-70">Si vous souhaitez attendre la validation du reste de l'Ã©quipe</span></span></label> <label class="label justify-gap-3 cursor-pointer gap-3"><input type="radio" class="radio radio-primary"/> <span class="label-text"><strong class="block">RÃ©servation confirmÃ©e</strong> <span class="text-xs opacity-70">L'emprunt est automatiquement validÃ©</span></span></label></div></fieldset></div> <div class="space-y-4"><h4 class="flex items-center gap-2 text-sm font-semibold uppercase opacity-70"><!> </h4> <!> <!></div></div> <div class="border-base-300 flex-none border-t px-4 py-3"><div class="flex flex-wrap items-center justify-end gap-2"><button class="btn btn-ghost"><!> Annuler</button> <button class="btn btn-primary"><!> CrÃ©er l'emprunt</button></div></div></div> <!></div>`);function boe(r,e){pe(e,!0);const t=[];let n=ae(""),a=ae(""),s=ae(""),i=ae(ot([])),u=ae("asked"),l=ae(!1),c=ae(!1);const f=V(()=>!o(n)||!o(a)?Yt.getAvailableMaterielsByOwner(e.ownerId):Yt.getAvailableMaterielsForPeriod(e.ownerId,o(n),o(a))),h=V(()=>o(n)!==""&&o(a)!==""&&o(n)<o(a)&&o(i).length>0&&o(i).every(we=>we.quantity>=1)&&Ee.userId!==null&&Ee.userId!==void 0&&!o(c));function m(we){const Oe=we.availableForPeriod??we.availableQuantity,Le=o(i).find(Ke=>Ke.materielId===we.$id);if(Le){Le.quantity<Oe&&Le.quantity++;return}w(i,[...o(i),{materielId:we.$id,materielName:we.name,quantity:1,type:we.type||"",maxQuantity:Oe}],!0)}function g(we){w(i,o(i).filter(Oe=>Oe.materielId!==we),!0)}function b(we,Oe){w(i,o(i).map(Le=>Le.materielId===we?{...Le,quantity:Math.max(1,Math.min(Oe,Le.maxQuantity))}:Le),!0)}function y(we){we.forEach(Oe=>{const Le=o(f).find(Ke=>Ke.$id===Oe);Le&&m(Le)}),w(l,!1)}function x(){w(n,""),w(a,""),w(s,""),w(i,[],!0),w(u,"asked")}var k=goe(),S=d(k),A=d(S),C=d(A),E=d(C);va(E,{class:"h-5 w-5"});var I=p(E),T=p(C,2);T.__click=[Gg,x,e];var j=d(T);ir(j,{class:"h-4 w-4"});var U=p(A,2),G=d(U),Q=d(G),ee=d(Q),oe=d(ee),H=d(oe);fr(H,{class:"h-4 w-4"});var J=p(oe,2),K=p(ee,2),te=d(K),Z=d(te);fr(Z,{class:"h-4 w-4"});var R=p(te,2),F=p(Q,2),M=d(F),B=d(M);Hi(B,{class:"h-4 w-4"});var q=p(M,2),$=p(F,2),L=p(d($),2),ne=p($,2),Y=p(d(ne),2),W=d(Y),X=d(W);X.value=X.__value="asked";var N=p(W,2),ie=d(N);ie.value=ie.__value="accepted";var re=p(G,2),le=d(re),ue=d(le);gm(ue,{class:"h-4 w-4"});var se=p(ue),de=p(le,2);{var fe=we=>{var Oe=ioe(),Le=d(Oe);ra(Le,{class:"h-5 w-5"}),v(we,Oe)},be=we=>{var Oe=loe(),Le=z(Oe),Ke=d(Le),Re=d(Ke);t0(Re,{get items(){return o(f)},itemToString:qe=>qe.name,onSelect:qe=>m(qe),placeholder:"Rechercher du matÃ©riel...",get disabled(){return o(c)}});var Je=p(Ke,2);Je.__click=[ooe,l];var Ve=d(Je);gm(Ve,{class:"h-4 w-4"});var Ge=p(Le,2);{var We=qe=>{var et=uoe(),lt=d(et);ra(lt,{class:"h-5 w-5"}),v(qe,et)};D(Ge,qe=>{o(f).length===0&&qe(We)})}P(()=>Je.disabled=o(c)||o(f).length===0),v(we,Oe)};D(de,we=>{!o(n)||!o(a)?we(fe):we(be,!1)})}var ye=p(de,2);{var De=we=>{var Oe=poe(),Le=p(d(Oe),2);ze(Le,17,()=>o(i),Ke=>Ke.materielId,(Ke,Re,Je)=>{const Ve=V(()=>o(Re).type==="electronic"?cl:o(Re).type==="manual"?go:o(Re).type==="cooking"?Jr:o(Re).type==="dish"?nn:o(Re).type==="gaz"?zi:o(Re).type==="hygiene"?ul:vo);var Ge=hoe(),We=d(Ge),qe=d(We),et=d(qe);qt(et,()=>o(Ve),(Ft,pr)=>{pr(Ft,{class:"h-4 w-4 opacity-70"})});var lt=p(qe,2),pt=d(lt),Et=d(pt),kt=p(pt,2),Ue=p(d(kt)),Ye=d(Ue),at=p(lt,2),gt=d(at),Ct=d(gt);g2(Ct,{class:"inline h-3 w-3"});var $t=p(gt,2),Mt=d($t);Mt.__change=[coe,b,Re],ze(Mt,21,()=>Array(o(Re).maxQuantity),bt,(Ft,pr,vr)=>{var Wt=doe();Wt.textContent=vr+1,Wt.value=Wt.__value=vr+1,v(Ft,Wt)});var Ot=p(at,2);Ot.__click=[foe,g,Re];var It=d(Ot);ir(It,{class:"h-3 w-3"}),P(()=>{O(Et,o(Re).materielName),O(Ye,o(Re).maxQuantity),Mt.disabled=o(c),Ot.disabled=o(c)}),$n(Mt,()=>o(Re).quantity,Ft=>o(Re).quantity=Ft),v(Ke,Ge)}),v(we,Oe)},xe=we=>{var Oe=voe(),Le=d(Oe);va(Le,{class:"mx-auto mb-2 h-12 w-12"}),v(we,Oe)};D(ye,we=>{o(i).length>0?we(De):we(xe,!1)})}var Ce=p(U,2),Ie=d(Ce),Pe=d(Ie);Pe.__click=[Gg,x,e];var Be=d(Pe);ir(Be,{class:"h-5 w-5"});var He=p(Pe,2);He.__click=[soe,h,c,i,n,a,e,s,u,x];var Te=d(He);{var he=we=>{var Oe=moe();v(we,Oe)},Se=we=>{wr(we,{class:"h-5 w-5"})};D(Te,we=>{o(c)?we(he):we(Se,!1)})}var Ae=p(S,2);{var $e=we=>{{let Oe=V(()=>new Set(o(i).map(Le=>Le.materielId)));aoe(we,{get isOpen(){return o(l)},onClose:()=>w(l,!1),onAdd:y,get selectedIds(){return o(Oe)},get materiels(){return o(f)}})}};D(Ae,we=>{o(l)&&we($e)})}P(()=>{_e(k,1,`modal ${(e.isOpen&&"modal-open")??""}`),O(I,` Nouvel rÃ©servation - ${e.ownerName??""}`),J.disabled=o(c),R.disabled=o(c),dt(R,"min",o(n)),$i(q,Ee.userName||"Utilisateur actuel"),L.disabled=o(c),X.disabled=o(c),ie.disabled=o(c),O(se,` MatÃ©riel Ã  emprunter (${o(i).length??""})`),Pe.disabled=o(c),He.disabled=!o(h)}),ft(J,()=>o(n),we=>w(n,we)),ft(R,()=>o(a),we=>w(a,we)),ft(L,()=>o(s),we=>w(s,we)),Au(t,[],X,()=>o(u),we=>w(u,we)),Au(t,[],ie,()=>o(u),we=>w(u,we)),v(r,k),ve()}tt(["click","change"]);var _oe=_('<div class="text-base-content/60 text-xs italic"> </div>'),yoe=_('<span><span class="font-semibold"> </span> </span>'),xoe=_('<div class="text-warning bg-warning/10 rounded p-2 text-xs"><strong>Retour :</strong> </div>'),woe=(r,e,t)=>e(o(t).action),koe=_("<button><!> <span> </span></button>"),Eoe=(r,e)=>e.onEdit(e.loan.$id),Soe=_('<button class="btn btn-ghost btn-sm" title="Modifier"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-4 w-4"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"></path></svg></button>'),Aoe=_('<div class="card bg-base-100 border-base-200 border text-left shadow-sm"><div class="card-body py-3"><div class="flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between"><div class="flex min-w-0 flex-1 flex-col gap-4"><div class=" flex flex-wrap items-center gap-x-4 gap-y-1 text-base"><div class="flex items-center gap-1"><!> <span> </span></div> <div><!> <span> </span></div> <span> </span></div> <!> <div class="flex flex-wrap gap-2"></div> <!></div> <div class="flex flex-col gap-4 not-sm:mt-4"><!> <!></div></div></div></div>');function Doe(r,e){pe(e,!0);const t=V(()=>e.loan.materielItems),n=V(()=>{const R=new Date,F=new Date(e.loan.startDate),M=new Date(e.loan.endDate);return R<F?"future":R>=F&&R<=M?"current":"past"}),a=V(()=>{switch(o(n)){case"future":return{icon:wh,class:"text-info",label:"Ã venir"};case"current":return{icon:dm,class:"text-accent",label:"En cours"};case"past":default:return{icon:fr,class:"",label:""}}});function s(R){if(e.loan.status!=="completed")return"";const F=R.lostQuantity||0,M=R.brokenQuantity||0,B=F+M;return R.quantity-B===0?"badge-error":B>0?"badge-warning":"badge-success"}const i=V(()=>!e.loan||!e.loan.status?{label:"Chargement...",badgeClass:"badge-neutral",icon:Ln}:{asked:{label:"En attente",badgeClass:"badge-warning",icon:Ln},accepted:{label:"confirmÃ©",badgeClass:"badge-info",icon:wr},refused:{label:"RefusÃ©",badgeClass:"badge-error",icon:ir},canceled:{label:"AnnulÃ©",badgeClass:"badge-neutral",icon:ir},completed:{label:"Retour effectuÃ©",badgeClass:"badge-success",icon:wr},archived:{label:"ArchivÃ©",badgeClass:"badge-neutral",icon:Mp},returned:{label:"RetournÃ©",badgeClass:"badge-success",icon:xh}}[e.loan.status]||{label:"Statut inconnu",badgeClass:"badge-neutral",icon:Ln}),u=V(()=>()=>{switch(e.loan.status){case"asked":return[{label:"Confirmer",icon:wr,action:e.onAccept,class:"btn-success"},{label:"Annuler",icon:ji,action:e.onCancel,class:"btn-error btn-outline"}];case"accepted":return[{label:"ComplÃ©ter Fiche retour",icon:TE,action:e.onReturn,class:"btn-warning"}];case"completed":return[{label:"Fiche retour",icon:IE,action:e.onReturn,class:""}];case"refused":case"canceled":return[{label:"Supprimer",icon:ir,action:e.onDelete,class:"btn-error btn-sm"}];default:return[]}});function l(R){R?.(e.loan.$id)}var c=Aoe(),f=d(c),h=d(f),m=d(h),g=d(m),b=d(g),y=d(b);Hi(y,{class:"h-4 w-4"});var x=p(y,2),k=d(x),S=p(b,2),A=d(S);{var C=R=>{wh(R,{class:"h-4 w-4"})},E=R=>{var F=ce(),M=z(F);{var B=$=>{dm($,{class:"h-4 w-4"})},q=$=>{fr($,{class:"h-4 w-4"})};D(M,$=>{o(n)==="current"?$(B):$(q,!1)},!0)}v(R,F)};D(A,R=>{o(n)==="future"?R(C):R(E,!1)})}var I=p(A,2),T=d(I),j=p(S,2),U=d(j),G=p(g,2);{var Q=R=>{var F=_oe(),M=d(F);P(()=>O(M,`"${e.loan.notes??""}"`)),v(R,F)};D(G,R=>{e.loan.notes&&R(Q)})}var ee=p(G,2);ze(ee,21,()=>o(t),bt,(R,F)=>{var M=yoe(),B=d(M),q=d(B),$=p(B);P(L=>{_e(M,1,`badge badge-sm badge-soft ${L??""}`),O(q,o(F).materielName),O($,` Ã ${o(F).quantity??""}`)},[()=>s(o(F))]),v(R,M)});var oe=p(ee,2);{var H=R=>{var F=xoe(),M=p(d(F));P(()=>O(M,` ${e.loan.returnNotes??""}`)),v(R,F)};D(oe,R=>{e.loan.returnNotes&&R(H)})}var J=p(m,2),K=d(J);ze(K,17,()=>o(u)(),bt,(R,F)=>{var M=koe();M.__click=[woe,l,F];var B=d(M);qt(B,()=>o(F).icon,(L,ne)=>{ne(L,{class:"h-4 w-4"})});var q=p(B,2),$=d(q);P(()=>{_e(M,1,`btn btn-sm ${o(F).class??""}`),dt(M,"title",o(F).label),O($,o(F).label)}),v(R,M)});var te=p(K,2);{var Z=R=>{var F=Soe();F.__click=[Eoe,e],v(R,F)};D(te,R=>{e.onEdit&&e.loan.status==="asked"&&R(Z)})}P((R,F)=>{O(k,e.loan.responsibleName),_e(S,1,`flex items-center gap-1 ${o(a).class??""} font-bold`),O(T,`${R??""} - ${F??""}`),_e(j,1,`badge ${o(i).badgeClass??""} badge-sm gap-1`),O(U,o(i).label)},[()=>Zn(e.loan.startDate),()=>Zn(e.loan.endDate)]),v(r,c),ve()}tt(["click"]);async function Coe(r,e,t,n,a,s){if(o(e)){w(t,!0);try{const i=o(n).map(u=>({materielId:u.materielId,materielName:u.materielName,quantity:u.quantity,lostQuantity:u.lostQuantity>0?u.lostQuantity:void 0,brokenQuantity:u.brokenQuantity>0?u.brokenQuantity:void 0}));await Yt.updateLoan(a.loan.$id,{materiels:i,status:"returned",returnedAt:new Date().toISOString(),returnNotes:o(s).trim()||void 0}),a.onClose()}catch(i){console.error("Erreur retour emprunt:",i)}finally{w(t,!1)}}}function Kg(r,e,t){w(e,""),t.onClose()}var Ioe=(r,e)=>{r.target.checked&&(o(e).lostQuantity=0,o(e).brokenQuantity=0)},Toe=(r,e)=>{const t=r.target;o(e).lostQuantity=t.checked?1:0},Moe=_('<div class="ml-8"><label class="input input-sm w-32"><span class="label text-xs">QtÃ© perdue:</span> <input type="number" class="grow" min="0"/></label></div>'),Roe=(r,e)=>{const t=r.target;o(e).brokenQuantity=t.checked?1:0},Noe=_('<div class="ml-8"><label class="input input-sm w-32"><span class="label text-xs">QtÃ© cassÃ©e:</span> <input type="number" class="grow" min="0"/></label></div>'),Poe=_('<div class="border-base-300 bg-base-100 rounded-lg border p-4"><div class="mb-3 flex items-start gap-3"><div class="bg-primary/10 rounded-lg p-2"><!></div> <div class="flex-1"><div class="font-semibold"> </div> <div class="text-sm opacity-70"> </div></div></div> <div class="ml-10 space-y-3"><label class="flex cursor-pointer items-start gap-3"><input type="checkbox" class="checkbox checkbox-success checkbox-sm mt-1"/> <div class="text-sm"><div class="font-medium">Tout est OK</div> <div class="opacity-60">Aucune perte ni casse</div></div></label> <div class="space-y-2"><label class="flex cursor-pointer items-start gap-3"><input type="checkbox" class="checkbox checkbox-error checkbox-sm mt-1"/> <div class="flex-1 text-sm"><div class="flex items-center gap-2 font-medium"><!> Des piÃ¨ces sont perdues</div></div></label> <!></div> <div class="space-y-2"><label class="flex cursor-pointer items-start gap-3"><input type="checkbox" class="checkbox checkbox-warning checkbox-sm mt-1"/> <div class="flex-1 text-sm"><div class="flex items-center gap-2 font-medium"><!> Des piÃ¨ces sont cassÃ©es</div> <div class="text-xs opacity-60">Ã rÃ©parer (status: torepair)</div></div></label> <!></div></div></div>'),$oe=_('<div class="text-error"> </div>'),Loe=_('<div class="text-warning"> </div>'),Ooe=_('<div class="alert alert-warning"><!> <div><h4 class="font-bold"> </h4> <div class="text-sm"><!> <!></div></div></div> )',1),Boe=_('<span class="loading loading-spinner loading-sm"></span>'),Foe=_(`<div><div class="modal-box fixed top-0 flex h-lvh w-lvw flex-col overflow-auto md:top-10 md:h-full md:max-h-11/12 md:w-full md:max-w-3xl"><div class="flex items-center justify-between border-b p-4 pt-0"><div><h3 class="text-lg font-bold">Retour d'emprunt</h3> <p class="text-sm opacity-70"> </p></div> <button class="btn btn-circle btn-ghost btn-sm absolute top-2 right-2" aria-label="Fermer"><!></button></div> <div class="flex-1 space-y-6 overflow-y-auto p-4"><div class="space-y-4"><h4 class="text-sm font-semibold uppercase opacity-70">MatÃ©riel Ã  retourner</h4> <!></div> <!> <fieldset class="fieldset bg-base-100"><legend class="fieldset-legend">Notes de retour (optionnel)</legend> <textarea class="textarea textarea-bordered w-full" rows="3" placeholder="PrÃ©cisez l'Ã©tat du matÃ©riel, les raisons des pertes/casses, etc." maxlength="1000"></textarea></fieldset></div> <div class="border-base-300 flex-none border-t px-4 py-3"><div class="flex flex-wrap items-center justify-end gap-2"><button class="btn btn-ghost"><!> Annuler</button> <button class="btn btn-warning"><!> Valider le retour</button></div></div></div></div>`);function zoe(r,e){pe(e,!0);let t=ae(ot([])),n=ae(""),a=ae(!1);st(()=>{if(!e.loan)return;const K=e.loan.materielItems;w(t,K.map(te=>({materielId:te.materielId,materielName:te.materielName,quantity:te.quantity,type:"",lostQuantity:0,brokenQuantity:0})),!0),K.forEach(te=>{const Z=Yt.materiels.find(R=>R.$id===te.materielId);if(Z){const R=o(t).find(F=>F.materielId===te.materielId);R&&(R.type=Z.type||"")}})});const s=V(()=>o(t).every(K=>K.lostQuantity>=0&&K.brokenQuantity>=0&&K.lostQuantity+K.brokenQuantity<=K.quantity)&&!o(a)),i=V(()=>o(t).reduce((K,te)=>K+te.lostQuantity,0)),u=V(()=>o(t).reduce((K,te)=>K+te.brokenQuantity,0));function l(K){switch(K){case"electronic":return cl;case"manual":return go;case"cooking":return Jr;case"dish":return nn;case"gaz":return zi;case"hygiene":return ul;default:return vo}}var c=Foe(),f=d(c),h=d(f),m=d(h),g=p(d(m),2),b=d(g),y=p(m,2);y.__click=[Kg,n,e];var x=d(y);ir(x,{class:"h-4 w-4"});var k=p(h,2),S=d(k),A=p(d(S),2);ze(A,17,()=>o(t),K=>K.materielId,(K,te,Z)=>{const R=V(()=>l(o(te).type));var F=Poe(),M=d(F),B=d(M),q=d(B);qt(q,()=>o(R),(he,Se)=>{Se(he,{class:"text-primary h-5 w-5"})});var $=p(B,2),L=d($),ne=d(L),Y=p(L,2),W=d(Y),X=p(M,2),N=d(X),ie=d(N);ie.__change=[Ioe,te];var re=p(N,2),le=d(re),ue=d(le);ue.__change=[Toe,te];var se=p(ue,2),de=d(se),fe=d(de);Cr(fe,{class:"h-3 w-3"});var be=p(le,2);{var ye=he=>{var Se=Moe(),Ae=d(Se),$e=p(d(Ae),2);P(()=>{dt($e,"max",o(te).quantity-o(te).brokenQuantity),$e.disabled=o(a)}),ft($e,()=>o(te).lostQuantity,we=>o(te).lostQuantity=we),v(he,Se)};D(be,he=>{o(te).lostQuantity>0&&he(ye)})}var De=p(re,2),xe=d(De),Ce=d(xe);Ce.__change=[Roe,te];var Ie=p(Ce,2),Pe=d(Ie),Be=d(Pe);go(Be,{class:"h-3 w-3"});var He=p(xe,2);{var Te=he=>{var Se=Noe(),Ae=d(Se),$e=p(d(Ae),2);P(()=>{dt($e,"max",o(te).quantity-o(te).lostQuantity),$e.disabled=o(a)}),ft($e,()=>o(te).brokenQuantity,we=>o(te).brokenQuantity=we),v(he,Se)};D(He,he=>{o(te).brokenQuantity>0&&he(Te)})}P(()=>{O(ne,o(te).materielName),O(W,`QuantitÃ© empruntÃ©e : ${o(te).quantity??""}`),fa(ie,o(te).lostQuantity===0&&o(te).brokenQuantity===0),ie.disabled=o(a),fa(ue,o(te).lostQuantity>0),ue.disabled=o(a),fa(Ce,o(te).brokenQuantity>0),Ce.disabled=o(a)}),v(K,F)});var C=p(S,2);{var E=K=>{var te=Ooe(),Z=z(te),R=d(Z);Cr(R,{class:"h-5 w-5"});var F=p(R,2),M=d(F),B=d(M),q=p(M,2),$=d(q);{var L=W=>{var X=$oe(),N=d(X);P(()=>O(N,`â¢ ${o(i)??""} perdue${o(i)>1?"s":""} (dÃ©duit du stock)`)),v(W,X)};D($,W=>{o(i)>0&&W(L)})}var ne=p($,2);{var Y=W=>{var X=Loe(),N=d(X);P(()=>O(N,`â¢ ${o(u)??""} cassÃ©e${o(u)>1?"s":""} (Ã  rÃ©parer)`)),v(W,X)};D(ne,W=>{o(u)>0&&W(Y)})}P(()=>O(B,`Attention : ${o(i)+o(u)} unitÃ©${o(i)+o(u)>1?"s":""} problÃ©matique${o(i)+o(u)>1?"s":""}`)),v(K,te)};D(C,K=>{(o(i)>0||o(u)>0)&&K(E)})}var I=p(C,2),T=p(d(I),2),j=p(k,2),U=d(j),G=d(U);G.__click=[Kg,n,e];var Q=d(G);ir(Q,{class:"h-5 w-5"});var ee=p(G,2);ee.__click=[Coe,s,a,t,e,n];var oe=d(ee);{var H=K=>{var te=Boe();v(K,te)},J=K=>{wr(K,{class:"h-5 w-5"})};D(oe,K=>{o(a)?K(H):K(J,!1)})}P((K,te)=>{_e(c,1,`modal ${(e.isOpen&&"modal-open")??""}`),O(b,`Du ${K??""} au ${te??""}`),T.disabled=o(a),G.disabled=o(a),ee.disabled=!o(s)},[()=>new Date(e.loan.startDate).toLocaleDateString("fr-FR"),()=>new Date(e.loan.endDate).toLocaleDateString("fr-FR")]),ft(T,()=>o(n),K=>w(n,K)),v(r,c),ve()}tt(["click","change"]);function Jg(r,e,t,n){if(!o(e))return;if(!o(t).find(s=>s.$id===o(e))){rt.error("Ãquipe introuvable");return}w(n,!0)}var qoe=(r,e,t)=>e(o(t).$id),joe=_('<button><!> <span class="badge badge-sm badge-neutral ml-2"> </span></button>'),Hoe=_('<div class="tabs tabs-border bg-base-200 tabs-lg mb-6 font-medium"></div>'),Uoe=_('<div class="alert alert-warning"><span>Vous devez Ãªtre connectÃ© pour voir les emprunts.</span></div>'),Voe=_('<div class="alert alert-error shadow-lg"><span> </span></div>'),Woe=_('<div class="alert alert-info"><span>SÃ©lectionnez une Ã©quipe pour voir ses emprunts.</span></div>'),Qoe=_(`<div class="bg-base-200 rounded-box border-base-200 border-2 border-dashed py-20 text-center"><!> <h3 class="mb-2 text-lg font-bold">Aucune rÃ©servation</h3> <p class="text-base-content/60 mb-6">Cette Ã©quipe n'a pas encore d'emprunt.</p> <button class="btn btn-primary btn-sm">CrÃ©er une rÃ©servation</button></div>`),Goe=_('<div class="space-y-4"><div class="mb-6 flex justify-end"><button class="btn btn-primary btn-wide flex gap-2"><!> Ajouter une reservation</button></div> <!></div>'),Koe=_('<div class="container mx-auto p-4"><div class="mx-auto max-w-7xl px-4 py-8"><!> <!></div></div> <!> <!>',1);function Zg(r,e){pe(e,!0);let t=ae(!1),n=ae(null),a=ae(!1),s=ae(null),i=ae(!1);function u(){w(t,!1)}function l(){console.log("[LoansPage] Emprunt crÃ©Ã© avec succÃ¨s"),u()}function c(H){ct(`/dashboard/loans/return/${H}`)}function f(){w(a,!1),w(s,null)}async function h(H){try{await Yt.acceptLoan(H),rt.success("Emprunt acceptÃ© avec succÃ¨s")}catch(J){console.error("[LoansPage] Erreur acceptation emprunt:",J),rt.error("Erreur lors de l'acceptation de l'emprunt")}}async function m(H){try{await Yt.cancelLoan(H),rt.success("Emprunt annulÃ© avec succÃ¨s")}catch(J){console.error("[LoansPage] Erreur annulation emprunt:",J),rt.error("Erreur lors de l'annulation de l'emprunt")}}async function g(H){try{await Yt.deleteLoan(H),rt.success("Emprunt supprimÃ© avec succÃ¨s")}catch(J){console.error("[LoansPage] Erreur suppression emprunt:",J),rt.error("Erreur lors de la suppression de l'emprunt")}}const b=V(()=>At.myTeams),y=V(()=>o(n)?o(b).find(H=>H.$id===o(n)):null),x=V(()=>{if(!o(n))return console.log("[LoansPage] teamLoans: pas d'activeTeamId"),[];const H=Yt.loans.filter(J=>J.ownerId===o(n));return console.log("[LoansPage] teamLoans filtrÃ©s:",{activeTeamId:o(n),totalLoans:Yt.loans.length,filteredCount:H.length,allLoans:Yt.loans.map(J=>({id:J.$id,ownerId:J.ownerId}))}),H});function k(H){ct(`/dashboard/loans/${H}`)}st(()=>{const H=e.params?.teamId;if(H&&H!==o(n)){console.log("[LoansPage] teamIdFromParams:",H);const J=o(b).find(K=>K.$id===H);console.log("[LoansPage] Ã©quipe trouvÃ©e:",J),J&&(console.log("[LoansPage] Mise Ã  jour activeTeamId:",H),w(n,H,!0))}else!H&&!o(n)&&!o(i)&&o(b).length>0&&(console.log("[LoansPage] Redirection vers premiÃ¨re Ã©quipe:",o(b)[0].$id),w(i,!0),ct(`/dashboard/loans/${o(b)[0].$id}`))}),st(()=>{const J=(o(n)?o(b).find(K=>K.$id===o(n)):null)?.name||"Emprunts";St.setConfig({title:J,materielContext:"loans",teamId:o(n)||void 0})}),Ir(()=>{St.reset()});var S=Koe(),A=z(S),C=d(A),E=d(C);{var I=H=>{var J=Hoe();ze(J,21,()=>o(b),K=>K.$id,(K,te)=>{const Z=V(()=>Yt.loans.filter($=>$.ownerId===o(te).$id).length);var R=joe();R.__click=[qoe,k,te];var F=d(R);Ut(F,{class:"mr-2 h-4 w-4"});var M=p(F),B=p(M),q=d(B);P(()=>{_e(R,1,`tab ${o(n)===o(te).$id?"tab-active":""}`),O(M,` ${o(te).name??""} `),O(q,o(Z))}),v(K,R)}),v(H,J)};D(E,H=>{o(b).length>1&&H(I)})}var T=p(E,2);{var j=H=>{var J=Uoe();v(H,J)},U=H=>{var J=ce(),K=z(J);{var te=R=>{var F=Voe(),M=d(F),B=d(M);P(()=>O(B,Yt.error)),v(R,F)},Z=R=>{var F=ce(),M=z(F);{var B=$=>{var L=Woe();v($,L)},q=$=>{var L=ce(),ne=z(L);{var Y=X=>{var N=Qoe(),ie=d(N);Ut(ie,{class:"mx-auto mb-4 h-12 w-12  text-center opacity-50"});var re=p(ie,6);re.__click=[Jg,n,b,t],v(X,N)},W=X=>{var N=Goe(),ie=d(N),re=d(ie);re.__click=[Jg,n,b,t];var le=d(re);Zt(le,{size:16});var ue=p(ie,2);ze(ue,17,()=>o(x),se=>se.$id,(se,de)=>{Doe(se,{get loan(){return o(de)},onReturn:c,onAccept:h,onCancel:m,onDelete:g})}),v(X,N)};D(ne,X=>{o(x).length===0?X(Y):X(W,!1)})}v($,L)};D(M,$=>{o(n)?$(q,!1):$(B)},!0)}v(R,F)};D(K,R=>{Yt.error?R(te):R(Z,!1)},!0)}v(H,J)};D(T,H=>{Ee.isAuthenticated?H(U,!1):H(j)})}var G=p(A,2);{var Q=H=>{boe(H,{get isOpen(){return o(t)},onClose:u,onSuccess:l,get ownerId(){return o(y).$id},get ownerName(){return o(y).name}})};D(G,H=>{o(y)&&H(Q)})}var ee=p(G,2);{var oe=H=>{zoe(H,{get loan(){return o(s)},get isOpen(){return o(a)},onClose:f})};D(ee,H=>{o(a)&&o(s)&&H(oe)})}v(r,S),ve()}tt(["click"]);function Joe(r,e,t,n,a,s,i){if(!o(e)||!o(t)||o(n))return;const u=new Date,l=new Date(o(a)?.endDate||"");u<l?w(s,!0):i()}var Zoe=_('<p class="text-sm opacity-70"> </p>'),Yoe=_('<div class="badge badge-info">Mode lecture seule</div>'),Xoe=_('<div class="alert alert-info mb-4"><!> <div><div class="font-bold">Retour enregistrÃ©</div> <div class="text-sm"> </div></div></div>'),eue=_("<div><!></div>"),tue=_('<div class="badge badge-warning gap-2"><!> </div>'),rue=_('<div class="badge badge-error gap-2"><!> </div>'),nue=_('<div class="badge badge-success gap-2"><!> </div>'),aue=_('<div class="flex items-center gap-6 p-2"><!> <!> <!></div>'),sue=_('<div class="ms-auto flex flex-wrap items-center justify-end gap-6 p-2"><button type="button" aria-label="Ã rÃ©parer"><!> Ã  rÃ©parer</button> <button type="button" aria-label="Perdu"><!> perdu</button> <button type="button" aria-label="Tout OK"><!></button></div>'),iue=_('<div class="badge badge-warning gap-2"><!> </div>'),oue=_('<div class="badge badge-error gap-2"><!> </div>'),uue=_('<div class="badge badge-success gap-2"><!> </div>'),lue=_('<div class="ms-auto flex flex-wrap justify-end gap-4"><!> <!> <!></div>'),cue=(r,e)=>{const t=o(e).lostQuantity,n=o(e).brokenQuantity;o(e).state="issues",o(e).okQuantity=Math.min(o(e).quantity-t-n,o(e).okQuantity)},due=_('<div class="min-w-[100px]"><label class="input w-full"><span class="label-text">ok</span> <input type="number"/></label></div>'),fue=_('<button aria-label="Marquer comme ok">tout est ok</button>'),hue=_('<div class="flex flex-wrap gap-4"><div class="min-w-[140px]"><label class="input"><span class="label-text">Ã rÃ©parer</span> <input type="number" class="  input-sm w-full" aria-label="Marquer comme Ã  rÃ©parer"/></label></div> <div class="min-w-[140px]"><label class="input w-full"><span class="label-text">Perdus</span> <input type="number"/></label></div> <!></div>'),pue=_('<div class="bg-base-200 rounded-box flex flex-wrap items-center justify-between p-4"><div class="flex items-center gap-4"><!> <div class="text-lg font-semibold"> </div> <p class="font-semibold opacity-70"> </p></div> <!></div>'),vue=_('<div class="alert"><p class="whitespace-pre-wrap"> </p></div>'),mue=_('<p class="text-sm italic opacity-50">Aucune note</p>'),gue=_(`<textarea class="textarea textarea-bordered w-full" rows="2" placeholder="Remarques sur l'Ã©tat du matÃ©riel, problÃ¨mes constatÃ©s..." maxlength="500"></textarea>`),bue=_('<div class="text-error label"><span> </span></div>'),_ue=_('<span class="loading loading-spinner loading-sm"></span>'),yue=_('<button class="btn btn-ghost">"Annuler"</button> <button class="btn btn-primary gap-2"><!> Valider le retour</button>',1),xue=_('<div class="card bg-base-100 mb-6 shadow-sm"><div class="card-body"><!> <h2 class="card-title mb-4"><!> MatÃ©riels empruntÃ©s</h2> <div class="space-y-4"></div> <fieldset class="fieldset bg-base-100 mt-6"><legend class="fieldset-legend">Notes de retour (optionnel)</legend> <!></fieldset></div> <!></div> <div class="flex justify-end gap-2"><!></div>',1),wue=_(`<div class="alert alert-warning"><span>Chargement de l'emprunt...</span></div>`),kue=(r,e)=>w(e,!1),Eue=_('<span class="loading loading-spinner loading-sm"></span>'),Sue=(r,e)=>w(e,!1),Aue=_(`<div class="modal modal-open"><div class="modal-box"><p class="py-4"> <strong> </strong>.
        Vous Ãªtes en train d'effectuer le retour avant cette date.</p> <p class="pb-4">Vous confirmez ce retour anticipÃ© ?</p> <div class="modal-action"><button class="btn btn-ghost">Annuler</button> <button class="btn btn-warning"><!></button></div></div> <div class="modal-backdrop"></div></div>`),Due=_('<div class="container mx-auto p-4"><div class="mx-auto max-w-4xl"><div class="mb-6 flex items-center gap-4"><button class="btn btn-circle btn-ghost" aria-label="Retour"><!></button> <div class="flex-1"><h1 class="text-2xl font-bold">Fiche de retour</h1> <!></div> <!></div> <!></div></div> <!>',1);function Cue(r,e){pe(e,!0);let t=ae(null),n=ae(!1),a=ae(!1),s=ae(!1),i=ae(""),u=ae(null),l=ae(ot([])),c=ae("");const f=V(()=>o(t)?Yt.getLoanById(o(t)):null);function h(K){switch(K){case"electronic":return cl;case"manual":return go;case"cooking":return Jr;case"dish":return nn;case"gaz":return zi;case"hygiene":return ul;case"other":default:return vo}}vn(()=>{const K=e.params?.loanId;if(!K){rt.error("Emprunt non trouvÃ©"),ct("/dashboard/loans");return}w(t,K,!0);const te=Yt.getLoanById(K);if(!te||te.status!=="accepted"&&te.status!=="completed"){rt.error("Emprunt non valide"),ct("/dashboard/loans");return}te.status==="completed"?(w(a,!0),w(u,te.returnedAt?new Date(te.returnedAt).toLocaleDateString("fr-FR"):null,!0),w(i,te.returnNotes||"",!0),w(l,te.materielItems.map(Z=>{const R=Z.lostQuantity||0,F=Z.brokenQuantity||0,M=Z.quantity-R-F,B=Yt.getMaterielById(Z.materielId);return{materielId:Z.materielId,materielName:Z.materielName,materielType:B?.type||null,quantity:Z.quantity,lostQuantity:R,brokenQuantity:F,okQuantity:M,state:R>0||F>0?"issues":"ok"}}),!0)):w(l,te.materielItems.map(Z=>{const R=Yt.getMaterielById(Z.materielId);return{materielId:Z.materielId,materielName:Z.materielName,materielType:R?.type||null,quantity:Z.quantity,lostQuantity:0,brokenQuantity:0,okQuantity:Z.quantity,state:"pending"}}),!0)});function m(K){const te=o(l)[K],Z=te.lostQuantity,R=te.brokenQuantity;te.okQuantity=te.quantity-Z-R,(te.lostQuantity>0||te.brokenQuantity>0)&&(te.state="issues")}const g=V(()=>{for(const K of o(l)){if(K.lostQuantity+K.brokenQuantity+K.okQuantity!==K.quantity)return w(c,"erreur, veuillez vÃ©rifez le formulaire "),!1;if(K.state==="pending")return!1}return!0});function b(){ct("/dashboard/loans")}async function y(){if(o(t)){w(s,!1),w(n,!0);try{const K=o(l).map(te=>({materielId:te.materielId,materielName:te.materielName,quantity:te.quantity,lostQuantity:te.lostQuantity,brokenQuantity:te.brokenQuantity}));await Yt.completeLoanWithReturn(o(t),{materiels:K,returnNotes:o(i).trim()||void 0}),rt.success("Retour enregistrÃ© avec succÃ¨s"),b()}catch(K){console.error("[LoanReturnPage] Erreur enregistrement retour:",K),rt.error("Erreur lors de l'enregistrement du retour")}finally{w(n,!1)}}}var x=Due(),k=z(x),S=d(k),A=d(S),C=d(A);C.__click=b;var E=d(C);Rp(E,{class:"h-5 w-5"});var I=p(C,2),T=p(d(I),2);{var j=K=>{var te=Zoe(),Z=d(te);P((R,F)=>O(Z,`Emprunt du ${R??""} au 
            ${F??""}`),[()=>Zn(o(f).startDate),()=>Zn(o(f).endDate)]),v(K,te)};D(T,K=>{o(f)&&K(j)})}var U=p(I,2);{var G=K=>{var te=Yoe();v(K,te)};D(U,K=>{o(a)&&K(G)})}var Q=p(A,2);{var ee=K=>{var te=xue(),Z=z(te),R=d(Z),F=d(R);{var M=ue=>{var se=Xoe(),de=d(se);va(de,{class:"h-5 w-5"});var fe=p(de,2),be=p(d(fe),2),ye=d(be);P(()=>O(ye,`Le ${o(u)??""}`)),v(ue,se)};D(F,ue=>{o(a)&&o(u)&&ue(M)})}var B=p(F,2),q=d(B);va(q,{class:"h-5 w-5"});var $=p(B,2);ze($,21,()=>o(l),bt,(ue,se,de)=>{var fe=pue(),be=d(fe);{const Te=(he,Se=me)=>{const Ae=V(()=>h(Se()));var $e=eue(),we=d($e);{let Oe=V(()=>s2(Se()));qt(we,()=>o(Ae),(Le,Ke)=>{Ke(Le,{get class(){return`${o(Oe)??""} h-5 w-5`}})})}P(Oe=>_e($e,1,`${Oe??""} rounded-lg p-2`),[()=>i2(Se())]),v(he,$e)};var ye=d(be);Te(ye,()=>o(se).materielType);var De=p(ye,2),xe=d(De),Ce=p(De,2),Ie=d(Ce);P(()=>{O(xe,o(se).materielName),O(Ie,`(${o(se).quantity??""})`)})}var Pe=p(be,2);{var Be=Te=>{var he=ce(),Se=z(he);{var Ae=we=>{var Oe=aue(),Le=d(Oe);{var Ke=We=>{var qe=tue(),et=d(qe);Cr(et,{class:"h-4 w-4"});var lt=p(et);P(()=>O(lt,` Ã rÃ©parer : ${o(se).brokenQuantity??""}`)),v(We,qe)};D(Le,We=>{o(se).brokenQuantity>0&&We(Ke)})}var Re=p(Le,2);{var Je=We=>{var qe=rue(),et=d(qe);ir(et,{class:"h-4 w-4"});var lt=p(et);P(()=>O(lt,` Perdu : ${o(se).lostQuantity??""}`)),v(We,qe)};D(Re,We=>{o(se).lostQuantity>0&&We(Je)})}var Ve=p(Re,2);{var Ge=We=>{var qe=nue(),et=d(qe);wr(et,{class:"h-4 w-4"});var lt=p(et);P(()=>O(lt,` OK : ${o(se).okQuantity??""}`)),v(We,qe)};D(Ve,We=>{o(se).okQuantity>0&&We(Ge)})}v(we,Oe)},$e=we=>{var Oe=sue(),Le=d(Oe);let Ke;Le.__click=()=>{o(se).state="issues",o(se).lostQuantity=0,o(se).brokenQuantity=1,m(de)};var Re=d(Le);Cr(Re,{class:"h-4 w-4"});var Je=p(Le,2);let Ve;Je.__click=()=>{o(se).state="issues",o(se).lostQuantity=1,o(se).brokenQuantity=0,m(de)};var Ge=d(Je);ir(Ge,{class:"h-4 w-4"});var We=p(Je,2);We.__click=()=>{o(se).state="ok",o(se).lostQuantity=0,o(se).brokenQuantity=0,m(de)};var qe=d(We);wr(qe,{class:""}),P((et,lt)=>{Ke=_e(Le,1,`btn btn-sm btn-warning ${o(se).brokenQuantity===0&&"btn-outline"}`,null,Ke,et),Ve=_e(Je,1,`btn btn-error btn-sm ${o(se).lostQuantity===0&&"btn-outline"}`,null,Ve,lt),_e(We,1,`btn btn-circle btn-sm btn-success ${o(se).state!=="ok"&&"btn-outline"}`)},[()=>({"ring-2":o(se).brokenQuantity>0,"ring-warning":o(se).brokenQuantity>0}),()=>({"ring-2":o(se).lostQuantity>0,"ring-error":o(se).lostQuantity>0})]),v(we,Oe)};D(Se,we=>{o(a)?we(Ae):we($e,!1)})}v(Te,he)},He=Te=>{var he=ce(),Se=z(he);{var Ae=we=>{var Oe=lue(),Le=d(Oe);{var Ke=We=>{var qe=iue(),et=d(qe);Cr(et,{class:"h-4 w-4"});var lt=p(et);P(()=>O(lt,` Ã rÃ©parer : ${o(se).brokenQuantity??""}`)),v(We,qe)};D(Le,We=>{o(se).brokenQuantity>0&&We(Ke)})}var Re=p(Le,2);{var Je=We=>{var qe=oue(),et=d(qe);ir(et,{class:"h-4 w-4"});var lt=p(et);P(()=>O(lt,` Perdus : ${o(se).lostQuantity??""}`)),v(We,qe)};D(Re,We=>{o(se).lostQuantity>0&&We(Je)})}var Ve=p(Re,2);{var Ge=We=>{var qe=uue(),et=d(qe);wr(et,{class:"h-4 w-4"});var lt=p(et);P(()=>O(lt,` OK : ${o(se).okQuantity??""}`)),v(We,qe)};D(Ve,We=>{o(se).okQuantity>0&&We(Ge)})}v(we,Oe)},$e=we=>{var Oe=hue(),Le=d(Oe),Ke=d(Le),Re=p(d(Ke),2);dt(Re,"min",0),Re.__change=()=>m(de);var Je=p(Le,2),Ve=d(Je),Ge=p(d(Ve),2);dt(Ge,"min",0),Ge.__change=()=>m(de);var We=p(Je,2);{var qe=lt=>{var pt=due(),Et=d(pt),kt=p(d(Et),2);dt(kt,"min",0),kt.__change=[cue,se],P(()=>dt(kt,"max",o(se).quantity)),ft(kt,()=>o(se).okQuantity,Ue=>o(se).okQuantity=Ue),v(lt,pt)},et=lt=>{var pt=fue();pt.__click=()=>{o(se).state="ok",o(se).lostQuantity=0,o(se).brokenQuantity=0,m(de)},P(()=>_e(pt,1,`btn btn-success ${o(se).state!=="ok"&&"btn-outline"}`)),v(lt,pt)};D(We,lt=>{o(se).lostQuantity>0||o(se).brokenQuantity>0?lt(qe):lt(et,!1)})}P(()=>{dt(Re,"max",o(se).quantity),dt(Ge,"max",o(se).quantity)}),ft(Re,()=>o(se).brokenQuantity,lt=>o(se).brokenQuantity=lt),ft(Ge,()=>o(se).lostQuantity,lt=>o(se).lostQuantity=lt),v(we,Oe)};D(Se,we=>{o(a)?we(Ae):we($e,!1)})}v(Te,he)};D(Pe,Te=>{o(se).quantity===1?Te(Be):Te(He,!1)})}v(ue,fe)});var L=p($,2),ne=p(d(L),2);{var Y=ue=>{var se=ce(),de=z(se);{var fe=ye=>{var De=vue(),xe=d(De),Ce=d(xe);P(()=>O(Ce,o(i))),v(ye,De)},be=ye=>{var De=mue();v(ye,De)};D(de,ye=>{o(i)?ye(fe):ye(be,!1)})}v(ue,se)},W=ue=>{var se=gue();P(()=>se.disabled=o(n)),ft(se,()=>o(i),de=>w(i,de)),v(ue,se)};D(ne,ue=>{o(a)?ue(Y):ue(W,!1)})}var X=p(R,2);{var N=ue=>{var se=bue(),de=d(se),fe=d(de);P(()=>O(fe,o(c))),v(ue,se)};D(X,ue=>{o(c)&&ue(N)})}var ie=p(Z,2),re=d(ie);{var le=ue=>{var se=yue(),de=z(se);de.__click=b;var fe=p(de,2);fe.__click=[Joe,t,g,n,f,s,y];var be=d(fe);{var ye=xe=>{var Ce=_ue();v(xe,Ce)},De=xe=>{Pd(xe,{class:"h-4 w-4"})};D(be,xe=>{o(n)?xe(ye):xe(De,!1)})}P(()=>{de.disabled=o(n),fe.disabled=!o(g)||o(n)}),v(ue,se)};D(re,ue=>{o(a)||ue(le)})}v(K,te)},oe=K=>{var te=wue();v(K,te)};D(Q,K=>{o(f)?K(ee):K(oe,!1)})}var H=p(k,2);{var J=K=>{var te=Aue(),Z=d(te),R=d(Z),F=d(R);F.nodeValue="Bizarre ! La date de fin de l'emprunt est prÃ©vue pour le  ";var M=p(F),B=d(M),q=p(R,4),$=d(q);$.__click=[kue,s];var L=p($,2);L.__click=y;var ne=d(L);{var Y=N=>{var ie=Eue();v(N,ie)},W=N=>{var ie=Pt("Confirmer le retour");v(N,ie)};D(ne,N=>{o(n)?N(Y):N(W,!1)})}var X=p(Z,2);X.__click=[Sue,s],P(N=>{O(B,N),$.disabled=o(n),L.disabled=o(n)},[()=>o(f)?Zn(o(f).endDate):""]),v(K,te)};D(H,K=>{o(s)&&K(J)})}v(r,x),ve()}tt(["click","change"]);function Iue(){ct("/dashboard")}var Tue=_('<div class="flex items-center justify-center py-8"><span class="loading loading-spinner loading-md"></span></div>'),Mue=_('<div class="py-6 text-center"><!> <p class="text-base-content/60">Aucun Ã©vÃ©nement passÃ©</p></div>'),Rue=(r,e)=>ct(`/dashboard/eventEdit/${o(e).$id}`),Nue=(r,e)=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),ct(`/dashboard/eventEdit/${o(e).$id}`))},Pue=_("<!> ",1),$ue=_("<!> ",1),Lue=_('<div class="flex items-center gap-1"><!> <span> </span></div>'),Oue=_('<div class="flex items-center gap-1"><!> <span> </span></div>'),Bue=(r,e)=>{r.stopPropagation(),ct(`/dashboard/eventEdit/${o(e).$id}`)},Fue=(r,e)=>{r.stopPropagation(),ct(`/dashboard/eventEdit/recipes/${o(e).$id}`)},zue=(r,e)=>{r.stopPropagation(),ct(`/dashboard/eventEdit/products/${o(e).$id}`)},que=(r,e)=>{r.stopPropagation(),ct(`/dashboard/eventPosters/${o(e).$id}`)},jue=_('<div class="bg-base-200 hover:bg-base-300 flex cursor-pointer items-start gap-3 rounded-lg p-3 transition-colors" role="button" tabindex="0"><div class="min-w-0 flex-1"><div class="flex flex-wrap items-center gap-4"><div class="text-primary truncate text-lg font-semibold"> </div> <div class="badge badge-soft badge-secondary font-medium"><!></div></div> <div class="text-base-content/60 mt-2 flex flex-wrap items-center gap-3 text-xs"><div class="flex items-center gap-1"><!> <span> </span></div> <!> <div class="flex items-center gap-1"><!> <span> </span></div> <div class="flex items-center gap-1"><!> <span> </span></div> <div class="flex items-center gap-1"><!> <span> </span></div> <!></div> <div class="mt-3 flex flex-wrap gap-2"><button class="btn btn-outline btn-xs"><!> Ãditer</button> <button class="btn btn-outline btn-xs"><!> Recettes</button> <button class="btn btn-outline btn-xs"><!> Produits</button> <button class="btn btn-outline btn-xs"><!> Affiches</button></div></div></div>'),Hue=_('<div class="space-y-3"></div>'),Uue=_('<div class="container mx-auto p-4"><div class="mb-4 flex items-center gap-2"><button class="btn btn-ghost btn-sm"><!></button> <h1 class="text-2xl font-bold">ÃvÃ©nements passÃ©s</h1></div> <!></div>');function Vue(r,e){pe(e,!0);let t=V(()=>Nt.pastEvents),n=ae(!1),a=ae(!1);vn(async()=>{w(n,!0);try{await Nt.loadAllPastEvents(),w(a,!0)}catch(g){console.error("[EventListPage] Erreur lors du chargement:",g)}finally{w(n,!1)}});function s(g){return"Lieu Ã  dÃ©finir"}var i=Uue(),u=d(i),l=d(u);l.__click=[Iue];var c=d(l);Rp(c,{class:"h-4 w-4"});var f=p(u,2);{var h=g=>{var b=Tue();v(g,b)},m=g=>{var b=ce(),y=z(b);{var x=S=>{var A=Mue(),C=d(A);fr(C,{class:"mx-auto mb-3 h-12 w-12 opacity-20"}),v(S,A)},k=S=>{var A=Hue();ze(A,21,()=>o(t),C=>C.$id,(C,E)=>{var I=jue();I.__click=[Rue,E],I.__keydown=[Nue,E];var T=d(I),j=d(T),U=d(j),G=d(U),Q=p(U,2),ee=d(Q);{var oe=Be=>{var He=Pue(),Te=z(He);fr(Te,{class:"h-4 w-4"});var he=p(Te);P((Se,Ae)=>O(he,` ${Se??""} au ${Ae??""}`),[()=>rn(o(E).dateStart),()=>rn(o(E).dateEnd)]),v(Be,He)},H=Be=>{var He=ce(),Te=z(He);{var he=Se=>{var Ae=$ue(),$e=z(Ae);fr($e,{class:"h-4 w-4"});var we=p($e);P(Oe=>O(we,` ${Oe??""}`),[()=>rn(o(E).dateStart)]),v(Se,Ae)};D(Te,Se=>{o(E).dateStart&&Se(he)},!0)}v(Be,He)};D(ee,Be=>{o(E).allDates&&o(E).allDates.length>1&&o(E).dateStart&&o(E).dateEnd?Be(oe):Be(H,!1)})}var J=p(j,2),K=d(J),te=d(K);qi(te,{class:"h-3 w-3"});var Z=p(te,2),R=d(Z),F=p(K,2);{var M=Be=>{var He=Lue(),Te=d(He);Ut(Te,{class:"h-3 w-3"});var he=p(Te,2),Se=d(he);P(()=>O(Se,`${o(E).contributors.length??""} participant${o(E).contributors.length>1?"s":""}`)),v(Be,He)};D(F,Be=>{o(E).contributors&&o(E).contributors.length>0&&Be(M)})}var B=p(F,2),q=d(B);Jr(q,{class:"h-3 w-3"});var $=p(q,2),L=d($),ne=p(B,2),Y=d(ne);Jr(Y,{class:"h-3 w-3"});var W=p(Y,2),X=d(W),N=p(ne,2),ie=d(N);Oa(ie,{class:"h-3 w-3"});var re=p(ie,2),le=d(re),ue=p(N,2);{var se=Be=>{var He=Oue(),Te=d(He);Ut(Te,{class:"h-3 w-3"});var he=p(Te,2),Se=d(he);P(Ae=>O(Se,Ae),[()=>o(E).teams.join(", ")]),v(Be,He)};D(ue,Be=>{o(E).teams&&o(E).teams.length>0&&Be(se)})}var de=p(J,2),fe=d(de);fe.__click=[Bue,E];var be=d(fe);na(be,{class:"h-3 w-3"});var ye=p(fe,2);ye.__click=[Fue,E];var De=d(ye);Ro(De,{class:"h-3 w-3"});var xe=p(ye,2);xe.__click=[zue,E];var Ce=d(xe);us(Ce,{class:"h-3 w-3"});var Ie=p(xe,2);Ie.__click=[que,E];var Pe=d(Ie);_2(Pe,{class:"h-3 w-3"}),P((Be,He,Te,he)=>{O(G,o(E).name),O(R,Be),O(L,`${He??""} repas`),O(X,`${Te??""} recettes`),O(le,`${he??""} tÃ¢ches`)},[()=>s(o(E)),()=>qp(o(E)),()=>jp(o(E)),()=>j2(o(E))]),v(C,I)}),v(S,A)};D(y,S=>{o(t).length===0?S(x):S(k,!1)},!0)}v(g,b)};D(f,g=>{o(n)?g(h):g(m,!1)})}v(r,i),ve()}tt(["click","keydown"]);var Wue=ur.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(r=>({tag:`h${r}`,attrs:{level:r}}))},renderHTML({node:r,HTMLAttributes:e}){return[`h${this.options.levels.includes(r.attrs.level)?r.attrs.level:this.options.levels[0]}`,Sr(this.options.HTMLAttributes,e),0]},parseMarkdown:(r,e)=>e.createNode("heading",{level:r.depth||1},e.parseInline(r.tokens||[])),renderMarkdown:(r,e)=>{var t;const n=(t=r.attrs)!=null&&t.level?parseInt(r.attrs.level,10):1,a="#".repeat(n);return r.content?`${a} ${e.renderChildren(r.content)}`:""},addCommands(){return{setHeading:r=>({commands:e})=>this.options.levels.includes(r.level)?e.setNode(this.name,r):!1,toggleHeading:r=>({commands:e})=>this.options.levels.includes(r.level)?e.toggleNode(this.name,"paragraph",r):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((r,e)=>({...r,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(r=>Jh({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${r}})\\s$`),type:this.type,getAttributes:{level:r}}))}}),Que=Wue,Gue=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,Kue=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,Jue=Cn.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:r=>r.getAttribute("data-color")||r.style.backgroundColor,renderHTML:r=>r.color?{"data-color":r.color,style:`background-color: ${r.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:r}){return["mark",Sr(this.options.HTMLAttributes,r),0]},renderMarkdown:(r,e)=>`==${e.renderChildren(r)}==`,parseMarkdown:(r,e)=>e.applyMark("highlight",e.parseInline(r.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:r=>r.indexOf("=="),tokenize(r,e,t){const a=/^(==)([^=]+)(==)/.exec(r);if(a){const s=a[2].trim(),i=t.inlineTokens(s);return{type:"highlight",raw:a[0],text:s,tokens:i}}}},addCommands(){return{setHighlight:r=>({commands:e})=>e.setMark(this.name,r),toggleHighlight:r=>({commands:e})=>e.toggleMark(this.name,r),unsetHighlight:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Mi({find:Gue,type:this.type})]},addPasteRules(){return[Vs({find:Kue,type:this.type})]}}),Zue=Jue,Yue=ur.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:r}){return["hr",Sr(this.options.HTMLAttributes,r)]},markdownTokenName:"hr",parseMarkdown:(r,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:r,state:e})=>{if(!zH(e,e.schema.nodes[this.name]))return!1;const{selection:t}=e,{$to:n}=t,a=r();return sx(t)?a.insertContentAt(n.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({state:s,tr:i,dispatch:u})=>{if(u){const{$to:l}=i.selection,c=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?i.setSelection(yt.create(i.doc,l.pos+1)):l.nodeAfter.isBlock?i.setSelection(xt.create(i.doc,l.pos)):i.setSelection(yt.create(i.doc,l.pos));else{const f=s.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,h=f?.create();h&&(i.insert(c,h),i.setSelection(yt.create(i.doc,c+1)))}i.scrollIntoView()}return!0}).run()}}},addInputRules(){return[FH({find:/^(?:---|â-|___\s|\*\*\*\s)$/,type:this.type})]}}),Xue=Yue;function ele(r,e){o(e).chain().focus().setHorizontalRule().run()}var tle=_('<label class="label"><span class="label-text font-medium"> </span></label>'),rle=(r,e)=>w(e,!o(e)),nle=(r,e)=>e(0),ale=(r,e)=>e(1),sle=(r,e)=>e(2),ile=(r,e)=>e(3),ole=(r,e)=>o(e).chain().focus().toggleBold().run(),ule=(r,e)=>o(e).chain().focus().toggleItalic().run(),lle=(r,e)=>o(e).chain().focus().toggleStrike().run(),cle=(r,e)=>o(e).chain().focus().toggleHighlight().run(),dle=(r,e)=>o(e).chain().focus().toggleBulletList().run(),fle=(r,e)=>o(e).chain().focus().toggleOrderedList().run(),hle=(r,e)=>o(e).chain().focus().undo().run(),ple=(r,e)=>o(e).chain().focus().redo().run(),vle=_('<div class="border-base-200 bg-base-100 flex flex-wrap items-center gap-1 border-b p-1"><div><button type="button" tabindex="0" class="btn btn-ghost btn-sm gap-1" title="Titre"><!></button> <ul tabindex="-1" class="menu dropdown-content bg-base-100 rounded-box z-50 w-52 shadow-xl"><li><button type="button"><!> Paragraphe</button></li> <li><button type="button"><!> Titre 1</button></li> <li><button type="button"><!> Titre 2</button></li> <li><button type="button"><!> Titre 3</button></li></ul></div> <div class="divider divider-horizontal mx-0 h-6"></div> <button type="button" title="Gras"><!></button> <button type="button" title="Italique"><!></button> <button type="button" title="BarrÃ©"><!></button> <button type="button" title="Surlignage"><!></button> <div class="divider divider-horizontal mx-0 h-6"></div> <button type="button" title="Liste Ã  puces"><!></button> <button type="button" title="Liste ordonnÃ©e"><!></button> <div class="divider divider-horizontal mx-0 h-6"></div> <button type="button" class="btn btn-ghost btn-square btn-sm" title="Ligne horizontale"><!></button> <div class="divider divider-horizontal mx-0 h-6"></div> <button type="button" class="btn btn-ghost btn-square btn-sm" title="Annuler"><!></button> <button type="button" class="btn btn-ghost btn-square btn-sm" title="RÃ©tablir"><!></button></div>'),mle=_('<div class="label"><span class="text-error"> </span></div>'),gle=_('<div class="form-control w-full"><!> <div><!> <div></div></div> <!></div>');function tw(r,e){pe(e,!0);let t=ke(e,"value",15);ke(e,"placeholder",3,"Commencez Ã  rÃ©diger...");let n=ae(null),a=ae(null),s=ae(0),i=ae(!1),u=ae(!1);const l=V(()=>o(a)?(o(s),o(a).isActive("heading",{level:1})?1:o(a).isActive("heading",{level:2})?2:o(a).isActive("heading",{level:3})?3:o(a).isActive("heading",{level:4})?4:o(a).isActive("heading",{level:5})?5:o(a).isActive("heading",{level:6})?6:0):0);vn(()=>{o(n)&&w(a,new kx({element:o(n),extensions:[h3.configure({codeBlock:!1,blockquote:!1,heading:!1}),Que.configure({levels:[1,2,3,4,5,6]}),Zue.configure({multicolor:!1}),Xue,V3.configure({html:!1,tightLists:!0})],content:t(),editorProps:{attributes:{class:"prose prose-sm max-w-none focus:outline-none h-[80dvh] p-4 prose-li:marker:text-base-content/50 overflow-auto"}},onUpdate:({editor:C})=>{const E=C.storage.markdown.getMarkdown();t()!==E&&t(E)},onSelectionUpdate:()=>{$a(s)},onTransaction:()=>{$a(s)},onFocus:()=>w(i,!0),onBlur:()=>w(i,!1)}),!0)}),Ir(()=>{o(a)&&o(a).destroy()});function c(C){C===0?o(a).chain().focus().setParagraph().run():o(a).chain().focus().setHeading({level:C}).run(),w(u,!1)}var f=gle(),h=d(f);{var m=C=>{var E=tle(),I=d(E),T=d(I);P(()=>{dt(E,"for",e.id),O(T,e.label)}),v(C,E)};D(h,C=>{e.label&&C(m)})}var g=p(h,2);let b;var y=d(g);{var x=C=>{var E=vle(),I=d(E);let T;var j=d(I);j.__click=[rle,u];var U=d(j);{var G=Se=>{hm(Se,{class:"h-4 w-4"})},Q=Se=>{var Ae=ce(),$e=z(Ae);{var we=Le=>{pm(Le,{class:"h-4 w-4"})},Oe=Le=>{var Ke=ce(),Re=z(Ke);{var Je=Ge=>{vm(Ge,{class:"h-4 w-4"})},Ve=Ge=>{_m(Ge,{class:"h-4 w-4"})};D(Re,Ge=>{o(l)===3?Ge(Je):Ge(Ve,!1)},!0)}v(Le,Ke)};D($e,Le=>{o(l)===2?Le(we):Le(Oe,!1)},!0)}v(Se,Ae)};D(U,Se=>{o(l)===1?Se(G):Se(Q,!1)})}var ee=p(j,2),oe=d(ee),H=d(oe);H.__click=[nle,c];var J=d(H);_m(J,{class:"h-4 w-4"});var K=p(oe,2),te=d(K);te.__click=[ale,c];var Z=d(te);hm(Z,{class:"h-4 w-4"});var R=p(K,2),F=d(R);F.__click=[sle,c];var M=d(F);pm(M,{class:"h-4 w-4"});var B=p(R,2),q=d(B);q.__click=[ile,c];var $=d(q);vm($,{class:"h-4 w-4"});var L=p(I,4);let ne;L.__click=[ole,a];var Y=d(L);Pp(Y,{class:"h-4 w-4"});var W=p(L,2);let X;W.__click=[ule,a];var N=d(W);$p(N,{class:"h-4 w-4"});var ie=p(W,2);let re;ie.__click=[lle,a];var le=d(ie);rS(le,{class:"h-4 w-4"});var ue=p(ie,2);let se;ue.__click=[cle,a];var de=d(ue);BE(de,{class:"h-4 w-4"});var fe=p(ue,4);let be;fe.__click=[dle,a];var ye=d(fe);cc(ye,{class:"h-4 w-4"});var De=p(fe,2);let xe;De.__click=[fle,a];var Ce=d(De);x2(Ce,{class:"h-4 w-4"});var Ie=p(De,4);Ie.__click=[ele,a];var Pe=d(Ie);w2(Pe,{class:"h-4 w-4"});var Be=p(Ie,4);Be.__click=[hle,a];var He=d(Be);Pd(He,{class:"h-4 w-4"});var Te=p(Be,2);Te.__click=[ple,a];var he=d(Te);C2(he,{class:"h-4 w-4"}),P((Se,Ae,$e,we,Oe,Le,Ke,Re,Je)=>{T=_e(I,1,"dropdown",null,T,Se),ne=_e(L,1,"btn btn-ghost btn-square btn-sm",null,ne,Ae),X=_e(W,1,"btn btn-ghost btn-square btn-sm",null,X,$e),re=_e(ie,1,"btn btn-ghost btn-square btn-sm",null,re,we),se=_e(ue,1,"btn btn-ghost btn-square btn-sm",null,se,Oe),be=_e(fe,1,"btn btn-ghost btn-square btn-sm",null,be,Le),xe=_e(De,1,"btn btn-ghost btn-square btn-sm",null,xe,Ke),Be.disabled=Re,Te.disabled=Je},[()=>({"dropdown-open":o(u)}),()=>({"btn-active":o(s)>=0&&o(a).isActive("bold")}),()=>({"btn-active":o(s)>=0&&o(a).isActive("italic")}),()=>({"btn-active":o(s)>=0&&o(a).isActive("strike")}),()=>({"btn-active":o(s)>=0&&o(a).isActive("highlight")}),()=>({"btn-active":o(s)>=0&&o(a).isActive("bulletList")}),()=>({"btn-active":o(s)>=0&&o(a).isActive("orderedList")}),()=>!(o(s)>=0&&o(a).can().undo()),()=>!(o(s)>=0&&o(a).can().redo())]),v(C,E)};D(y,C=>{o(a)&&C(x)})}var k=p(y,2);xn(k,C=>w(n,C),()=>o(n));var S=p(g,2);{var A=C=>{var E=mle(),I=d(E),T=d(I);P(()=>O(T,e.error)),v(C,E)};D(S,C=>{e.error&&C(A)})}P(C=>{b=_e(g,1,"bg-base-100 overflow-hidden rounded-lg border-2 transition-all",null,b,C),dt(k,"id",e.id)},[()=>({"border-primary":o(i),"border-error":e.error,"border-base-300":!o(i)&&!e.error})]),v(r,f),ve()}tt(["click"]);function ble(r,e){r.key==="Enter"&&(r.preventDefault(),e())}var _le=_('<span class="loading loading-spinner loading-sm"></span>'),yle=_('<div class="flex items-center gap-2"><button class="btn btn-primary"><!> CrÃ©er</button></div>'),xle=_("<div><!></div>"),wle=_('<div class="mx-auto max-w-5xl p-4" role="region" tabindex="-1"><div class="space-y-4"><fieldset class="fieldset flex"><label class="input input-lg w-full"><span class="label">Nom</span> <input type="text" placeholder="Titre du document" maxlength="50" required/></label></fieldset> <fieldset class="fieldset"><!></fieldset> <fieldset class="fieldset"><legend class="fieldset-legend">Tags</legend> <div class="flex flex-wrap items-center gap-x-6 gap-y-2"><!> <label class="input w-80"><input type="text" placeholder="Nouveau tag..." maxlength="30"/> <button class="btn btn-primary btn-sm"><!> Ajouter</button></label></div></fieldset></div></div>');function kle(r,e){pe(e,!0);const t=Z=>{var R=yle(),F=d(R);F.__click=k;var M=d(F);{var B=$=>{var L=_le();v($,L)},q=$=>{Ba($,{class:"h-4 w-4"})};D(M,$=>{o(c)?$(B):$(q,!1)})}P(()=>F.disabled=!o(m)||!o(g)||o(c)),v(Z,R)};let n=V(()=>e.params.teamId),a=ae(""),s=ae(""),i=ae(ot([])),u=ae(""),l=!1,c=ae(!1),f=V(()=>At.myTeams.find(Z=>Z.$id===o(n))),h=V(()=>{const Z=ar.getTeamTags(o(n)),R=new Set([...Z,...o(i)]);return Array.from(R).map(F=>({id:F,label:F,selected:o(i).includes(F)}))});const m=V(()=>!o(c)),g=V(()=>o(a).trim().length>0&&o(f)!==void 0);st(()=>{if(!Ee.userId){rt.error("Vous devez Ãªtre connectÃ©"),ct("/");return}if(!o(f)){rt.error("Ãquipe introuvable"),ct("/");return}ar.isInitialized||ar.initialize()});const b=V(()=>`Nouveau document - ${o(f)?.name} `);st(()=>{St.setConfig({title:o(b),actions:t})}),Ir(()=>{St.reset()});function y(){const Z=o(u).trim().toLowerCase();Z&&!o(i).includes(Z)&&(w(i,[...o(i),Z],!0),w(u,""))}function x(Z){o(i).includes(Z)?w(i,o(i).filter(R=>R!==Z),!0):w(i,[...o(i),Z],!0)}async function k(){if(!(!o(g)||o(c)||!o(f))){w(c,!0);try{const Z=await ar.createDocument({title:o(a).trim(),content:o(s),tags:o(i).length>0?o(i):null,isPublic:l,teamName:o(f).name,status:"doc"},o(n));rt.success("Document crÃ©Ã© avec succÃ¨s"),ct(`/editdocument/${o(n)}/${Z.$id}`)}catch(Z){console.error("[CreateDocumentPage] Erreur crÃ©ation document:",Z),rt.error("Erreur lors de la crÃ©ation du document")}finally{w(c,!1)}}}function S(Z){(Z.ctrlKey||Z.metaKey)&&Z.key==="s"&&(Z.preventDefault(),k())}st(()=>(window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)));var A=wle();A.__keydown=S;var C=d(A),E=d(C),I=d(E),T=p(d(I),2),j=p(E,2),U=d(j);tw(U,{placeholder:"Commencez Ã  rÃ©diger votre document...",get value(){return o(s)},set value(Z){w(s,Z,!0)}});var G=p(j,2),Q=p(d(G),2),ee=d(Q);{var oe=Z=>{var R=xle(),F=d(R);Fa(F,{get items(){return o(h)},onToggleItem:M=>x(M),size:"md",showStats:!1}),v(Z,R)};D(ee,Z=>{o(h).length>0&&Z(oe)})}var H=p(ee,2),J=d(H);J.__keydown=[ble,y];var K=p(J,2);K.__click=y;var te=d(K);Zt(te,{class:"h-4 w-4"}),P(Z=>{T.disabled=o(c),J.disabled=o(c),K.disabled=Z},[()=>o(c)||!o(u).trim()]),ft(T,()=>o(a),Z=>w(a,Z)),ft(J,()=>o(u),Z=>w(u,Z)),v(r,A),ve()}tt(["click","keydown"]);var Ele=(r,e)=>e("edit"),Sle=(r,e)=>e("preview"),Ale=_('<div class="rounded-box bg-secondary/10 px-4 py-1"><div class="tabs tabs-border justify-center"><button><!> Ãdition</button> <button><!> AperÃ§u</button></div></div>');function Dle(r,e){pe(e,!0);let t=ke(e,"disabled",3,!1);function n(m){t()||e.onModeChange(m)}var a=Ale(),s=d(a),i=d(s);let u;i.__click=[Ele,n];var l=d(i);S2(l,{class:"h-4 w-4"});var c=p(i,2);let f;c.__click=[Sle,n];var h=d(c);du(h,{class:"h-4 w-4"}),P((m,g)=>{u=_e(i,1,"tab gap-2 font-semibold",null,u,m),i.disabled=t(),f=_e(c,1,"tab gap-2 font-semibold",null,f,g)},[()=>({"tab-active":e.mode==="edit"}),()=>({"tab-active":e.mode==="preview"})]),v(r,a),ve()}tt(["click"]);function Cle(r,e){r.key==="Enter"&&(r.preventDefault(),e())}var Ile=_('<span class="loading loading-spinner loading-sm"></span>'),Tle=_('<button class="btn btn-primary"><!> Enregistrer</button>'),Mle=_('<div class="flex items-center gap-2"><!></div>'),Rle=_('<div class="alert alert-warning mb-4"><!> <div><h4 class="font-bold">Document verrouillÃ©</h4> <p class="text-sm">Ce document est actuellement Ã©ditÃ© par <span class="font-bold"> </span> . Vous ne pouvez pas le modifier pour le moment.</p></div></div>'),Nle=_('<div class="flex justify-center py-20"><div class="loading loading-spinner loading-lg"></div></div>'),Ple=_("<div><!></div>"),$le=_('<fieldset class="fieldset flex"><label class="input input-lg w-full"><span class="label">Nom</span> <input type="text" placeholder="Titre du document" maxlength="50" required/></label></fieldset> <fieldset class="fieldset"><!></fieldset> <fieldset class="fieldset"><legend class="fieldset-legend">Tags</legend> <div class="flex flex-wrap items-center gap-x-6 gap-y-2"><!> <label class="input w-80"><input type="text" placeholder="Nouveau tag..." maxlength="30"/> <button class="btn btn-primary btn-sm"><!> Ajouter</button></label></div></fieldset>',1),Lle=_('<div class="flex items-center gap-2"><!> <span>Chargement...</span></div>'),Ole=_('<span class="badge badge-secondary badge-soft"> </span>'),Ble=_('<div class="flex flex-wrap items-center justify-between gap-x-4 gap-y-2"><h1 class="text-2xl font-bold"> </h1> <p class="text-sm opacity-70">Ãquipe : <span class="font-medium"> </span></p></div> <div class="flex flex-wrap gap-2"></div>',1),Fle=_('<p class="text-sm opacity-70">Aucun contenu</p>'),zle=_('<div class="mb-6 flex items-center justify-between"><div class="flex-1"><!></div></div> <div class="prose bg-base-100 border-grey-400 max-w-none rounded-lg border p-6"><!></div>',1),qle=_('<div class="space-y-4"><!></div>'),jle=_('<div class="mx-auto max-w-5xl p-4" role="region" tabindex="-1"><!> <!></div> <!>',1);function Hle(r,e){pe(e,!0);const t=W=>{var X=Mle(),N=d(X);{var ie=re=>{var le=Tle();le.__click=K;var ue=d(le);{var se=fe=>{var be=Ile();v(fe,be)},de=fe=>{Ba(fe,{class:"h-4 w-4"})};D(ue,fe=>{o(g)?fe(se):fe(de,!1)})}P(()=>le.disabled=!o(j)||!o(U)||o(g)),v(re,le)};D(N,re=>{o(S)==="edit"&&re(ie)})}v(W,X)},n=W=>{Dle(W,{get mode(){return o(S)},get disabled(){return o(I)},onModeChange:X=>w(S,X,!0)})};let a=V(()=>e.params.teamId),s=V(()=>e.params.docId),i=ae(null),u=ae(""),l=ae(""),c=ae(ot([])),f=ae(""),h=ae(!1),m=ae(!0),g=ae(!1),b=ae(null),y=ae(""),x=null,k=ae(""),S=ae("preview"),A=V(()=>At.myTeams.find(W=>W.$id===o(a))),C=V(()=>{const W=ar.getTeamTags(o(a)),X=new Set([...W,...o(c)]);return Array.from(X).map(N=>({id:N,label:N,selected:o(c).includes(N)}))});const E=V(()=>JSON.stringify({title:o(u),content:o(l),tags:o(c),isPublic:o(h)})!==o(k)),I=V(()=>!!o(b)&&o(b)!==Ee.userId),T=V(()=>!!o(b)&&o(b)===Ee.userId),j=V(()=>!o(I)&&!o(m)&&!o(g)),U=V(()=>o(u).trim().length>0&&o(A)!==void 0);async function G(){if(!o(s)||!Ee.userId||!o(i))return!1;try{const W=o(i).lockedBy,X=o(i).$updatedAt?new Date(o(i).$updatedAt):null,N=X&&Date.now()-X.getTime()>3e5;if(W&&W!==Ee.userId)if(N)console.log("[EditDocumentPage] Verrou prÃ©cÃ©dent expirÃ©, reprise de contrÃ´le...");else return w(b,W,!0),console.warn("[EditDocumentPage] Document dÃ©jÃ  verrouillÃ©"),!1;return await ar.updateDocumentLock(o(s),Ee.userId),w(b,Ee.userId,!0),w(y,Ee.userName||"",!0),Q(),console.log(`[EditDocumentPage] Lock acquis pour ${o(s)}`),!0}catch(W){return console.error("[EditDocumentPage] Erreur acquisition lock:",W),rt.error("Impossible de verrouiller le document"),!1}}function Q(){ee(),x=setInterval(async()=>{if(o(b)===Ee.userId&&o(s))try{await ar.updateDocumentLock(o(s),Ee.userId),console.log(`[EditDocumentPage] Heartbeat envoyÃ© pour ${o(s)}`)}catch(W){console.error("[EditDocumentPage] Erreur heartbeat:",W)}},12e4)}function ee(){x&&(clearInterval(x),x=null)}async function oe(){if(o(s)&&(ee(),o(T)))try{await ar.updateDocumentLock(o(s),null),w(b,null),w(y,""),console.log(`[EditDocumentPage] Lock libÃ©rÃ© pour ${o(s)}`)}catch(W){console.error("[EditDocumentPage] Erreur libÃ©ration lock:",W)}}vn(async()=>{if(!Ee.userId){rt.error("Vous devez Ãªtre connectÃ©"),ct("/");return}if(!o(A)){rt.error("Ãquipe introuvable"),ct("/");return}ar.isInitialized||await ar.initialize(),w(m,!0);try{const W=ar.getDocumentById(o(s));if(!W){rt.error("Document introuvable"),ct(`/teams/${o(a)}`);return}w(i,W,!0),w(u,W.title||"",!0),w(l,W.content||"",!0),w(c,W.tags||[],!0),w(h,W.isPublic||!1,!0),w(k,JSON.stringify({title:o(u),content:o(l),tags:o(c),isPublic:o(h)}),!0),await G()}catch(W){console.error("[EditDocumentPage] Erreur chargement document:",W),rt.error("Erreur lors du chargement du document")}finally{w(m,!1)}}),Ir(async()=>{await oe()}),st(()=>{const W=X=>{o(E)&&o(T)&&(X.preventDefault(),X.returnValue="")};return window.addEventListener("beforeunload",W),()=>window.removeEventListener("beforeunload",W)});function H(){const W=o(f).trim().toLowerCase();W&&!o(c).includes(W)&&(w(c,[...o(c),W],!0),w(f,""))}function J(W){o(c).includes(W)?w(c,o(c).filter(X=>X!==W),!0):w(c,[...o(c),W],!0)}async function K(){if(!(!o(U)||o(g)||!o(i))){w(g,!0);try{await ar.updateDocument(o(s),{title:o(u).trim(),content:o(l),tags:o(c).length>0?o(c):null,isPublic:o(h)}),w(k,JSON.stringify({title:o(u),content:o(l),tags:o(c),isPublic:o(h)}),!0),rt.success("Document enregistrÃ© avec succÃ¨s")}catch(W){console.error("[EditDocumentPage] Erreur sauvegarde:",W),rt.error("Erreur lors de la sauvegarde du document")}finally{w(g,!1)}}}function te(W){(W.ctrlKey||W.metaKey)&&W.key==="s"&&(W.preventDefault(),K())}const Z=V(()=>o(i)?`Document: ${o(i).title}`:"Modifier le document"),R=V(()=>o(S)==="edit"?0:1);st(()=>{St.setConfig({title:o(Z),actions:t,tabs:n,eventId:o(s),activeTab:o(R),isLockedByOthers:o(I),lockedByUserName:o(y)})}),Ir(()=>{St.reset()}),st(()=>(window.addEventListener("keydown",te),()=>window.removeEventListener("keydown",te)));var F=jle(),M=z(F);M.__keydown=te;var B=d(M);{var q=W=>{var X=Rle(),N=d(X);No(N,{class:"h-5 w-5"});var ie=p(N,2),re=p(d(ie),2),le=p(d(re)),ue=d(le);P(()=>O(ue,o(y)||"un autre utilisateur")),v(W,X)};D(B,W=>{o(I)&&W(q)})}var $=p(B,2);{var L=W=>{var X=Nle();v(W,X)},ne=W=>{var X=ce(),N=z(X);{var ie=re=>{var le=qle(),ue=d(le);{var se=fe=>{var be=$le(),ye=z(be),De=d(ye),xe=p(d(De),2),Ce=p(ye,2),Ie=d(Ce);tw(Ie,{placeholder:"Commencez Ã  rÃ©diger votre document...",get value(){return o(l)},set value(we){w(l,we,!0)}});var Pe=p(Ce,2),Be=p(d(Pe),2),He=d(Be);{var Te=we=>{var Oe=Ple(),Le=d(Oe);Fa(Le,{get items(){return o(C)},onToggleItem:Ke=>J(Ke),size:"md",showStats:!1}),v(we,Oe)};D(He,we=>{o(C).length>0&&we(Te)})}var he=p(He,2),Se=d(he);Se.__keydown=[Cle,H];var Ae=p(Se,2);Ae.__click=H;var $e=d(Ae);Zt($e,{class:"h-4 w-4"}),P(we=>{xe.disabled=!o(j),Se.disabled=!o(j),Ae.disabled=we},[()=>!o(j)||!o(f).trim()]),ft(xe,()=>o(u),we=>w(u,we)),ft(Se,()=>o(f),we=>w(f,we)),v(fe,be)},de=fe=>{var be=zle(),ye=z(be),De=d(ye),xe=d(De);{var Ce=he=>{var Se=Lle(),Ae=d(Se);mo(Ae,{class:"h-5 w-5 animate-spin"}),v(he,Se)},Ie=he=>{var Se=ce(),Ae=z(Se);{var $e=we=>{var Oe=Ble(),Le=z(Oe),Ke=d(Le),Re=d(Ke),Je=p(Ke,2),Ve=p(d(Je)),Ge=d(Ve),We=p(Le,2);ze(We,21,()=>o(c),bt,(qe,et)=>{var lt=Ole(),pt=d(lt);P(()=>O(pt,`#${o(et)??""}`)),v(qe,lt)}),P(()=>{O(Re,o(u)),O(Ge,o(A)?.name)}),v(we,Oe)};D(Ae,we=>{o(i)&&we($e)},!0)}v(he,Se)};D(xe,he=>{o(m)?he(Ce):he(Ie,!1)})}var Pe=p(ye,2),Be=d(Pe);{var He=he=>{Mh(he,{get source(){return o(l)}})},Te=he=>{var Se=Fle();v(he,Se)};D(Be,he=>{o(l)?he(He):he(Te,!1)})}v(fe,be)};D(ue,fe=>{o(S)==="edit"?fe(se):fe(de,!1)})}v(re,le)};D(N,re=>{o(i)&&re(ie)},!0)}v(W,X)};D($,W=>{o(m)?W(L):W(ne,!1)})}var Y=p(M,2);{let W=V(()=>`editdocument/${o(a)}/${o(s)}`);Bd(Y,{get routeKey(){return o(W)},shouldProtect:()=>o(E)&&o(T),onLeaveWithoutSave:()=>{},onSaveAndLeave:async()=>(await K(),!0),message:"Vous avez des modifications non sauvegardÃ©es. Voulez-vous quitter sans enregistrer ?"})}v(r,F),ve()}tt(["click","keydown"]);var Ule=_('<div class="flex flex-wrap gap-2"></div>'),Vle=_('<p class="text-base-content/60 text-sm">Aucun tag disponible</p>'),Wle=_('<div class="flex flex-wrap gap-2"></div>'),Qle=_('<p class="text-base-content/60 text-sm">Aucun statut disponible</p>'),Gle=_('<div><div class="mb-4 flex items-center justify-between"><h4 class="text-lg font-bold">Filtres</h4> <button class="btn btn-warning btn-sm"><!> Effacer</button></div> <!> <!></div>');function Kle(r,e){pe(e,!0);let t=ke(e,"filters",15),n=ke(e,"disabled",3,!1);function a(m,g){const b=m.indexOf(g);b===-1?m.push(g):m.splice(b,1),t({...t()})}var s=Gle();let i;var u=d(s),l=p(d(u),2);l.__click=function(...m){e.onReset?.apply(this,m)};var c=d(l);oi(c,{class:"h-4 w-4"});var f=p(u,2);Gt(f,{legend:"Tags",get iconComponent(){return nS},children:(m,g)=>{var b=ce(),y=z(b);{var x=S=>{var A=Ule();ze(A,21,()=>e.availableTags,bt,(C,E)=>{{let I=V(()=>t().tags.includes(o(E)));Bs(C,{get checked(){return o(I)},get label(){return o(E)},onchange:()=>a(t().tags,o(E)),get disabled(){return n()}})}}),v(S,A)},k=S=>{var A=Vle();v(S,A)};D(y,S=>{e.availableTags.length>0?S(x):S(k,!1)})}v(m,b)},$$slots:{default:!0}});var h=p(f,2);Gt(h,{legend:"Statut",get iconComponent(){return tS},children:(m,g)=>{var b=ce(),y=z(b);{var x=S=>{var A=Wle();ze(A,21,()=>e.availableStatus,bt,(C,E)=>{{let I=V(()=>t().status.includes(o(E)));Bs(C,{get checked(){return o(I)},get label(){return o(E)},onchange:()=>a(t().status,o(E)),get disabled(){return n()}})}}),v(S,A)},k=S=>{var A=Qle();v(S,A)};D(y,S=>{e.availableStatus.length>0?S(x):S(k,!1)})}v(m,b)},$$slots:{default:!0}}),P(m=>{i=_e(s,1,"mt-16 space-y-4",null,i,m),l.disabled=n()},[()=>({"opacity-30":n()})]),v(r,s),ve()}tt(["click"]);function Jle(r,e){r.key==="Escape"&&e.onReset()}var Zle=_('<button class="btn join-item btn-ghost btn-lg" aria-label="Effacer la recherche"><!></button>'),Yle=_('<div class="input input-lg w-full"><!> <input type="text" class="join-item grow" aria-label="Rechercher"/> <!></div>');function Xle(r,e){pe(e,!0);let t=ke(e,"searchQuery",15),n=ke(e,"placeholder",3,"Rechercher...");var a=Yle(),s=d(a);Po(s,{class:"text-base-content/50 join-item h-5 w-5"});var i=p(s,2);i.__keydown=[Jle,e];var u=p(i,2);{var l=c=>{var f=Zle();f.__click=function(...m){e.onReset?.apply(this,m)};var h=d(f);ir(h,{class:"h-5 w-5"}),v(c,f)};D(u,c=>{t().length>0&&c(l)})}P(()=>dt(i,"placeholder",n())),ft(i,t),v(r,a),ve()}tt(["keydown","click"]);var ece=(r,e)=>e("title"),tce=(r,e)=>e("$createdAt"),rce=(r,e)=>e("$updatedAt"),nce=_('<div class="bg-base-300 rounded-box flex flex-wrap items-center justify-between gap-6 px-6 py-6"><fieldset class="fieldset w-full"><legend class="legend label"><!> Trier par :</legend> <div class="btn-group"><button aria-label="Trier par titre">Titre</button> <button aria-label="Trier par date de crÃ©ation"><!> Date de crÃ©ation</button> <button aria-label="Trier par date de modification"><!> Date de modification</button></div></fieldset></div>');function ace(r,e){pe(e,!0);const t=S=>e.sortBy!==S?"inactive":e.sortOrder,n=S=>{S==="title"?e.onSortChange("title",e.sortBy==="title"&&e.sortOrder==="asc"?"desc":"asc"):e.sortBy!==S?e.onSortChange(S,"desc"):e.sortOrder==="desc"?e.onSortChange(S,"asc"):e.onSortChange("title","asc")},a=S=>{const A=t(S),C="btn btn-sm btn-primary btn-outline gap-2";return A==="inactive"?`${C}`:A==="asc"?`${C} btn-active`:`${C} btn-active`},s=S=>{const A=t(S);return A==="inactive"?null:A==="asc"?Np:d2};var i=nce(),u=d(i),l=d(u),c=d(l);c2(c,{class:"inline size-4"});var f=p(l,2),h=d(f);h.__click=[ece,n];var m=p(h,2);m.__click=[tce,n];var g=d(m);{var b=S=>{const A=V(()=>s("$createdAt"));var C=ce(),E=z(C);qt(E,()=>o(A),(I,T)=>{T(I,{size:16})}),v(S,C)};D(g,S=>{s("$createdAt")&&S(b)})}var y=p(m,2);y.__click=[rce,n];var x=d(y);{var k=S=>{const A=V(()=>s("$updatedAt"));var C=ce(),E=z(C);qt(E,()=>o(A),(I,T)=>{T(I,{size:16})}),v(S,C)};D(x,S=>{s("$updatedAt")&&S(k)})}P((S,A,C)=>{_e(h,1,S),_e(m,1,A),_e(y,1,C)},[()=>gn(a("title")),()=>gn(a("$createdAt")),()=>gn(a("$updatedAt"))]),v(r,i),ve()}tt(["click"]);var sce=_(`<span class="font-semibold"> </span> correspondent
        aux critÃ¨res`,1),ice=_('<span class="font-semibold">1 document</span> correspond aux critÃ¨res',1),oce=_('<span class="text-warning">Aucun document</span> ne correspond aux critÃ¨res...',1),uce=_('<legend class="legend text-base-content/70 ms-4"><!></legend>'),lce=_('<div class="text-base-content/70 text-base"> </div>'),cce=_('<div><span class="text-base-content/60 italic">contient (dans le titre ou le contenu) :</span> <span class="font-bold"> </span></div>'),dce=_('<span class="badge badge-primary"> </span>'),fce=_('<span class="badge badge-secondary"> </span>'),hce=_('<div class="flex flex-wrap gap-2"><!> <!></div> <div class="mt-3 text-end"><button class="btn btn-warning btn-sm"><!> Effacer tous les filtres</button></div>',1),pce=_('<fieldset class="fieldset border-base-300 relative rounded-lg border-2"><!> <div class="p-4"><!> <!></div></fieldset>');function vce(r,e){pe(e,!0);const t=V(()=>e.filters.tags.length>0||e.filters.status.length>0);function n(g){switch(g.toLowerCase()){case"draft":case"brouillon":return"Brouillon";case"published":case"publiÃ©":return"PubliÃ©";case"archived":case"archivÃ©":return"ArchivÃ©";default:return g}}var a=pce(),s=d(a);{var i=g=>{var b=uce(),y=d(b);{var x=S=>{var A=sce(),C=z(A),E=d(C);P(()=>O(E,`${e.resultCount??""} documents`)),v(S,A)},k=S=>{var A=ce(),C=z(A);{var E=T=>{var j=ice();v(T,j)},I=T=>{var j=oce();v(T,j)};D(C,T=>{e.resultCount===1?T(E):T(I,!1)},!0)}v(S,A)};D(y,S=>{e.resultCount>1?S(x):S(k,!1)})}v(g,b)};D(s,g=>{(o(t)||e.searchQuery.length>=2)&&g(i)})}var u=p(s,2),l=d(u);{var c=g=>{var b=lce(),y=d(b);P(()=>O(y,`${e.resultCount??""} document${e.resultCount>1?"s":""}`)),v(g,b)};D(l,g=>{!o(t)&&e.searchQuery.length<2&&g(c)})}var f=p(l,2);{var h=g=>{var b=cce(),y=p(d(b),2),x=d(y);P(()=>O(x,e.searchQuery)),v(g,b)},m=g=>{var b=ce(),y=z(b);{var x=k=>{var S=hce(),A=z(S),C=d(A);ze(C,17,()=>e.filters.tags,bt,(U,G)=>{var Q=dce(),ee=d(Q);P(()=>O(ee,o(G))),v(U,Q)});var E=p(C,2);ze(E,17,()=>e.filters.status,bt,(U,G)=>{var Q=fce(),ee=d(Q);P(oe=>O(ee,oe),[()=>n(o(G))]),v(U,Q)});var I=p(A,2),T=d(I);T.__click=function(...U){e.onResetFilters?.apply(this,U)};var j=d(T);m2(j,{class:"h-4 w-4"}),v(k,S)};D(y,k=>{o(t)&&k(x)},!0)}v(g,b)};D(f,g=>{e.searchQuery.length>=2?g(h):g(m,!1)})}v(r,a),ve()}tt(["click"]);var mce=(r,e)=>ct(`/createdocument/${o(e)}/new`),gce=_('<button class="btn btn-primary"><!> CrÃ©er un document</button>'),bce=_('<div class="alert alert-error"><span> </span></div>'),_ce=_('<div class="py-8 text-center"><span class="loading loading-spinner loading-md"></span></div>'),yce=_('<div class="py-12 text-center"><p class="text-base-content/60 text-lg">Aucun document ne correspond aux critÃ¨res...</p></div>'),xce=(r,e)=>ct(`/createdocument/${o(e)}/new`),wce=_('<div class="py-12 text-center"><p class="text-base-content/60 mb-4 text-lg">Aucun document dans cette Ã©quipe</p> <button class="btn btn-primary"><!> CrÃ©er le premier document</button></div>'),kce=_('<div class="my-8 space-y-3"></div> <!> <!> <!>',1),Ece=_('<!> <div class="p-4 lg:ml-100"><div class="mx-auto max-w-4xl"><div class="mb-10 space-y-6"><div class="mb-4"><!></div> <div class="mb-6"><!></div> <!></div> <!></div></div>',1);function Sce(r,e){pe(e,!0);const t=Z=>{var R=gce();R.__click=[mce,n];var F=d(R);Zt(F,{size:18}),v(Z,R)};let n=V(()=>e.params.teamId),a=ae(""),s=ae(ot({tags:[],status:[]})),i=ae("$updatedAt"),u=ae("desc"),l=20,c=ae(1),f=ae(void 0),h=V(()=>At.myTeams.find(Z=>Z.$id===o(n)));const m=V(()=>ar.isInitialized?ar.getTeamDocuments(o(n)):[]),g=V(()=>ar.getTeamTags(o(n))),b=V(()=>["draft","published","archived"]),y=V(()=>{if(o(a).length>=2){const Z=o(a).toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"");return o(m).filter(R=>{const F=R.title.toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").includes(Z),M=R.content?.toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").includes(Z);return F||M})}return o(m).filter(Z=>{const R=!o(s).tags.length||o(s).tags.some(M=>Z.tags?.includes(M)),F=!o(s).status.length||o(s).status.includes(Z.status);return R&&F})}),x=V(()=>[...o(y)].sort((R,F)=>{if(o(i)==="title")return o(u)==="asc"?R.title.localeCompare(F.title,"fr"):F.title.localeCompare(R.title,"fr");if(o(i)==="$createdAt"){const M=new Date(F.$createdAt||0).getTime()-new Date(R.$createdAt||0).getTime();return o(u)==="asc"?-M:M}else{const M=new Date(F.$updatedAt||0).getTime()-new Date(R.$updatedAt||0).getTime();return o(u)==="asc"?-M:M}})),k=V(()=>o(x).slice(0,o(c)*l)),S=V(()=>o(a).length>=2);function A(){w(a,"")}function C(){w(s,{tags:[],status:[]},!0)}st(()=>{if(!o(f))return;const Z=new IntersectionObserver(R=>{R[0].isIntersecting&&o(k).length<o(y).length&&$a(c)},{threshold:.1});return Z.observe(o(f)),()=>Z.disconnect()}),st(()=>{o(y),o(i),o(u),w(c,1)}),st(()=>{o(h)&&St.setConfig({title:`Documents - ${o(h).name}`,actions:t})}),Ir(()=>{St.reset()}),vn(async()=>{ar.isInitialized||await ar.initialize(),o(h)||ct("/dashboard/teams")});var E=Ece(),I=z(E);$o(I,{width:"100",children:(Z,R)=>{Kle(Z,{get availableTags(){return o(g)},get availableStatus(){return o(b)},get disabled(){return o(S)},onReset:C,get filters(){return o(s)},set filters(F){w(s,F,!0)}})},$$slots:{default:!0}});var T=p(I,2),j=d(T),U=d(j),G=d(U),Q=d(G);Xle(Q,{onReset:A,placeholder:"Rechercher dans les documents...",get searchQuery(){return o(a)},set searchQuery(Z){w(a,Z,!0)}});var ee=p(G,2),oe=d(ee);vce(oe,{get searchQuery(){return o(a)},get filters(){return o(s)},get resultCount(){return o(y).length},onResetFilters:C});var H=p(ee,2);ace(H,{get sortBy(){return o(i)},get sortOrder(){return o(u)},onSortChange:(Z,R)=>{w(i,Z,!0),w(u,R,!0)}});var J=p(U,2);{var K=Z=>{var R=bce(),F=d(R),M=d(F);P(()=>O(M,`Erreur : ${ar.error??""}`)),v(Z,R)},te=Z=>{var R=kce(),F=z(R);ze(F,21,()=>o(k),Y=>Y.$id,(Y,W)=>{H2(Y,{get doc(){return o(W)},get teamId(){return o(n)},get highlightedTags(){return o(s).tags},bgClass:"bg-base-100"})});var M=p(F,2);{var B=Y=>{var W=_ce();xn(W,X=>w(f,X),()=>o(f)),v(Y,W)};D(M,Y=>{o(k).length<o(y).length&&Y(B)})}var q=p(M,2);{var $=Y=>{var W=yce();v(Y,W)};D(q,Y=>{o(y).length===0&&Y($)})}var L=p(q,2);{var ne=Y=>{var W=wce(),X=p(d(W),2);X.__click=[xce,n];var N=d(X);Zt(N,{size:18}),v(Y,W)};D(L,Y=>{o(m).length===0&&!ar.loading&&Y(ne)})}v(Z,R)};D(J,Z=>{ar.error?Z(K):Z(te,!1)})}v(r,E),ve()}tt(["click"]);var Ace=_('<div class="flex h-[50vh] items-center justify-center"><!></div>'),Dce=_('<div class="flex h-[80vh] flex-col items-center justify-center gap-4"><div class="loading loading-spinner loading-lg text-primary"></div> <p class="text-base-content/70 animate-pulse font-medium"><!></p></div>'),Cce=_("<!> <!>",1),Ice=_('<!> <div class="bg-base-200 min-h-screen"><!></div> <!> <!> <!>',1);function Tce(r,e){pe(e,!0);let t=ae("BOOTING"),n=ae(null);const a={beforeEnter:async()=>Ee.isAuthenticated?!0:(console.log("[Router] AccÃ¨s refusÃ© > Redirection /"),ct("/"),!1)};zt.addRoute("/",Tae),zt.addRoute("/recipe",Af),zt.addRoute("/recipe/my",Af,a),zt.addRoute("/recipe/my/draft",Af,a),zt.addRoute("/recipe/new",jg,a),zt.addRoute("/recipe/:uuid/edit",mY,a),zt.addRoute("/recipe/:uuid/duplicate",jg,a),zt.addRoute("/recipe/:uuid",W$),zt.addRoute("/accept-invite",QP),zt.addRoute("/reset-password",zae),zt.addRoute("/dashboard",XA,a),zt.addRoute("/dashboard/teams",l$,a),zt.addRoute("/dashboard/eventCreate",oT,a),zt.addRoute("/dashboard/eventEdit/:id",qI,a),zt.addRoute("/dashboard/eventEdit/recipes/:id",OP,a),zt.addRoute("/dashboard/eventEdit/products/:id",bae,a),zt.addRoute("/dashboard/eventPosters/:id",oie,a),zt.addRoute("/dashboard/materiel",Wg,a),zt.addRoute("/dashboard/materiel/:teamId",Wg,a),zt.addRoute("/dashboard/loans",Zg,a),zt.addRoute("/dashboard/loans/:teamId",Zg,a),zt.addRoute("/dashboard/loans/return/:loanId",Cue,a),zt.addRoute("/eventList",Vue,a),zt.addRoute("/createdocument/:teamId/new",kle,a),zt.addRoute("/editdocument/:teamId/:docId",Hle,a),zt.addRoute("/documents/:teamId",Sce,a);let s=ae(null);async function i(){try{if(w(t,"BOOTING"),await Ee.initializeAuth(),Ee.isAuthenticated){w(t,"LOADING_PRIVATE_CACHE");const E=rt.loading("Chargement des donnÃ©es...");await Promise.all([Nt.loadCache(),jt.loadCache(),Yt.loadCache(),Al.loadCache(),ar.loadCache()]),w(t,"READY_WITH_CACHE"),rt.update(E,{state:"loading",message:"Mise Ã  jour des donnÃ©es en cours..."}),Promise.all([Nt.syncFromRemote(),jt.syncFromRemote(),Yt.syncFromRemote(),At.syncFromRemote(),Al.syncFromRemote(),ar.syncFromRemote()]).then(async()=>{await Promise.all([Nt.setupRealtime(),jt.setupRealtime(),Yt.setupRealtime(),At.setupRealtime(),Al.setupRealtime(),ar.setupRealtime()]),await Pn.initialize(),w(t,"READY_FULLY_SYNCED"),rt.dismiss(E)}).catch(I=>{console.error("[App] Erreur synchro distante:",I),rt.update(E,{state:"warning",message:"Mode hors ligne : donnÃ©es mises en cache",autoCloseDelay:5e3}),Pn.initialize().catch(console.error)})}else{w(t,"LOADING_PUBLIC_CACHE");const E=rt.loading("PrÃ©paration de la cuisine...");await jt.loadCache(),w(t,"READY_WITH_CACHE"),rt.update(E,{state:"loading",message:"Mise Ã  jour des recettes..."}),Promise.all([jt.syncFromRemote(),Pn.initialize()]).then(()=>{w(t,"READY_FULLY_SYNCED")}).catch(I=>{console.error("[App] Erreur synchro recettes:",I),rt.update(E,{state:"warning",message:"Mode hors ligne : recettes en cache",autoCloseDelay:1e4})})}}catch(E){console.error("[App] Erreur fatale d'initialisation:",E),w(n,E.message||"Erreur critique de chargement",!0),w(t,"ERROR")}}let u=ae("");st(()=>{const E=zt.path,I=o(t);(I==="READY_WITH_CACHE"||I==="READY_FULLY_SYNCED"||I==="READY")&&zt.match().then(async T=>{w(s,T,!0),E!==o(u)&&(w(u,E,!0),await Ad(),requestAnimationFrame(()=>{requestAnimationFrame(()=>{window.scrollTo({top:0,behavior:"smooth"})})}))})}),st(()=>{});let l=ae(!1),c=ae(!1);st(()=>{const E=Ee.isAuthenticated;o(c)||o(t)!=="BOOTING"&&o(t)!=="LOADING_PRIVATE_CACHE"&&o(t)!=="LOADING_PUBLIC_CACHE"&&E!==o(l)&&(w(l,E,!0),console.log("[App] Changement d'Ã©tat Auth dÃ©tectÃ© -> Rechargement"),w(c,!0),i().finally(()=>{w(c,!1)}))}),vn(()=>{i()}),Ir(()=>{console.log("[App] Destruction de l'application - Nettoyage des stores..."),Al.destroy(),At.destroy(),Nt.destroy(),jt.destroy(),Yt.destroy(),ar.destroy(),Pn.destroy()});let f=V(()=>o(n)||Xe.error);var h=Ice(),m=z(h);n5(m,{});var g=p(m,2),b=d(g);{var y=E=>{const I=V(()=>o(s).component);var T=ce(),j=z(T);qt(j,()=>o(I),(U,G)=>{G(U,{get params(){return o(s).params},get query(){return o(s).query}})}),v(E,T)},x=E=>{var I=ce(),T=z(I);{var j=G=>{var Q=Ace(),ee=d(Q);{let oe=V(()=>o(f)||"Erreur inconnue");om(ee,{get message(){return o(oe)}})}v(G,Q)},U=G=>{var Q=Dce(),ee=p(d(Q),2),oe=d(ee);{var H=K=>{var te=Pt("DÃ©marrage...");v(K,te)},J=K=>{var te=ce(),Z=z(te);{var R=M=>{var B=Pt("Chargement des donnÃ©es en cache...");v(M,B)},F=M=>{var B=ce(),q=z(B);{var $=L=>{var ne=Pt("PrÃ©paration de la cuisine...");v(L,ne)};D(q,L=>{o(t)==="LOADING_PUBLIC_CACHE"&&L($)},!0)}v(M,B)};D(Z,M=>{o(t)==="LOADING_PRIVATE_CACHE"?M(R):M(F,!1)},!0)}v(K,te)};D(oe,K=>{o(t)==="BOOTING"?K(H):K(J,!1)})}v(G,Q)};D(T,G=>{o(t)==="ERROR"?G(j):G(U,!1)},!0)}v(E,I)};D(b,E=>{(o(t)==="READY_WITH_CACHE"||o(t)==="READY_FULLY_SYNCED"||o(t)==="READY")&&o(s)?E(y):E(x,!1)})}var k=p(g,2);f5(k,{});var S=p(k,2);b5(S,{});var A=p(S,2);{var C=E=>{var I=Cce(),T=z(I);{var j=G=>{om(G,{get message(){return o(f)}})};D(T,G=>{o(f)&&G(j)})}var U=p(T,2);_5(U,{}),v(E,I)};D(A,E=>{Ee.isAuthenticated&&o(t)==="READY"&&E(C)})}v(r,h),ve()}I4(Tce,{target:document.getElementById("app")});export{vt as a,Ok as b,el as g,To as s};
