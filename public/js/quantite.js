(() => {
  // <stdin>
  var quantityInput = document.querySelector("#quantityInput");
  var quantityInit = document.getElementById("quantityInit").textContent;
  var quantitySpan = document.getElementById("quantityDefined");
  var amounts = document.querySelectorAll(".amount");
  var amountArray = [];
  var originalData = [];
  Array.from(amounts).forEach(function(element, index) {
    const unitElement = element.parentElement.querySelector(".unit");
    const unit = unitElement ? unitElement.textContent : "";
    let baseValue = Number(element.innerText);
    let baseUnit = unit;
    if (unit === "Kg") {
      baseValue = baseValue * 1e3;
      baseUnit = "gr.";
    } else if (unit === "l.") {
      baseValue = baseValue * 1e3;
      baseUnit = "ml";
    }
    amountArray.push(baseValue);
    originalData.push({
      baseValue,
      baseUnit,
      originalUnit: unit
    });
  });
  quantityInput.addEventListener("keydown", function(e) {
    if (e.keyIdentifier == "U+000A" || e.keyIdentifier == "Enter" || e.keyCode == 13) {
      e.preventDefault();
      return false;
    }
  }, true);
  function formatQuantity(qty, unit) {
    if (!unit) return Math.round(qty * 10) / 10;
    switch (unit) {
      case "l.":
      case "Kg":
        return Math.round(qty * 100) / 100;
      case "ml":
      case "gr.":
        return Math.round(qty);
      default:
        return Math.round(qty * 10) / 10;
    }
  }
  function getBestDisplayUnit(baseQty, baseUnit) {
    if (baseUnit === "gr.") {
      if (baseQty >= 1e3) {
        return { qty: baseQty / 1e3, unit: "Kg" };
      }
      return { qty: baseQty, unit: "gr." };
    } else if (baseUnit === "ml") {
      if (baseQty >= 1e3) {
        return { qty: baseQty / 1e3, unit: "l." };
      }
      return { qty: baseQty, unit: "ml" };
    }
    return { qty: baseQty, unit: baseUnit };
  }
  quantityInput.addEventListener("input", function() {
    amountArray.forEach((baseValue, i) => {
      const unitElement = amounts[i].parentElement.querySelector(".unit");
      const original = originalData[i];
      const newBaseQty = baseValue * quantityInput.value / quantityInit;
      const display = getBestDisplayUnit(newBaseQty, original.baseUnit);
      amounts[i].innerHTML = formatQuantity(display.qty, display.unit);
      if (unitElement) {
        unitElement.textContent = display.unit;
      }
    });
    quantitySpan.textContent = quantityInput.value;
  });
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiPHN0ZGluPiJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLy8gclx1MDBFOWNjdXBcdTAwRTlyZXIgbGUgbm9tYnJlIGQnYXNzaWV0ZXMgKHF1YW50aXR5SW5wdXQpIGV0IGxlcyBxdWFudGl0XHUwMEU5IGRlIGJhc2UgKGFtb3VudHMpXG5cbi8vLyBRdWFudGl0XHUwMEU5cyBkYW5zIGwnaW5wdXQgdXRpbGlzYXRldXJcbmNvbnN0IHF1YW50aXR5SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3F1YW50aXR5SW5wdXRcIik7XG5cbi8vLyBRdWFudGl0XHUwMEU5IGluaXRpYWxlIGRcdTAwRTlmaW5pIHBhciBsJ2F1dGV1ciBkZSBsYSByZWNldHRlXG5jb25zdCBxdWFudGl0eUluaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInF1YW50aXR5SW5pdFwiKS50ZXh0Q29udGVudDtcblxuLy8gTm9tYnJlcyBkZSBjb3V2ZXJ0cyBzZWxlY3Rpb25uXHUwMEU5IChwb3VyIGxlcyBpbXByZXNzaW9ucylcbmNvbnN0IHF1YW50aXR5U3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicXVhbnRpdHlEZWZpbmVkXCIpXG5cbi8vLyBRdWFudGl0XHUwMEU5IGRlcyBpbmdyXHUwMEU5ZGllbnRzXG5jb25zdCBhbW91bnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hbW91bnRcIik7XG5jb25zdCBhbW91bnRBcnJheSA9IFtdO1xuXG4vLy8gSW5mb3JtYXRpb25zIG9yaWdpbmFsZXMgcG91ciBjaGFxdWUgcXVhbnRpdFx1MDBFOSAodmFsZXVyIGV0IHVuaXRcdTAwRTkpXG5jb25zdCBvcmlnaW5hbERhdGEgPSBbXTtcblxuLy8gUmVtcGxpciBsZSB0YWJsZWF1IGRlcyBxdWFudGl0XHUwMEU5IGFtb3VudEFycmF5IGRlIGNoYXF1ZSBxdWFudGl0XHUwMEU5IHNpZ25hbFx1MDBFOWUgY29tbWUgYXBwYXJ0ZW5hbnQgYSBhbW91bnRzIChlbGVtZW50IGRlIGNsYXNzIGNzcyAuYW1vdW50KVxuQXJyYXkuZnJvbShhbW91bnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50LCBpbmRleCkge1xuICBjb25zdCB1bml0RWxlbWVudCA9IGVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcudW5pdCcpO1xuICBjb25zdCB1bml0ID0gdW5pdEVsZW1lbnQgPyB1bml0RWxlbWVudC50ZXh0Q29udGVudCA6ICcnO1xuICBcbiAgLy8gVG91am91cnMgc3RvY2tlciBsYSB2YWxldXIgb3JpZ2luYWxlIGVuIHVuaXRcdTAwRTkgZGUgYmFzZSAoZ3Igb3UgbWwpXG4gIGxldCBiYXNlVmFsdWUgPSBOdW1iZXIoZWxlbWVudC5pbm5lclRleHQpO1xuICBsZXQgYmFzZVVuaXQgPSB1bml0O1xuICBcbiAgLy8gQ29udmVydGlyIGVuIHVuaXRcdTAwRTkgZGUgYmFzZSBzaSBuXHUwMEU5Y2Vzc2FpcmVcbiAgaWYgKHVuaXQgPT09IFwiS2dcIikge1xuICAgIGJhc2VWYWx1ZSA9IGJhc2VWYWx1ZSAqIDEwMDA7XG4gICAgYmFzZVVuaXQgPSBcImdyLlwiO1xuICB9IGVsc2UgaWYgKHVuaXQgPT09IFwibC5cIikge1xuICAgIGJhc2VWYWx1ZSA9IGJhc2VWYWx1ZSAqIDEwMDA7XG4gICAgYmFzZVVuaXQgPSBcIm1sXCI7XG4gIH1cbiAgXG4gIGFtb3VudEFycmF5LnB1c2goYmFzZVZhbHVlKTtcbiAgb3JpZ2luYWxEYXRhLnB1c2goe1xuICAgIGJhc2VWYWx1ZTogYmFzZVZhbHVlLFxuICAgIGJhc2VVbml0OiBiYXNlVW5pdCxcbiAgICBvcmlnaW5hbFVuaXQ6IHVuaXRcbiAgfSk7XG59KTtcblxuLy8gRW1wZWNoZXIgbGUgcmVjaGFyZ2VtZW50IGRlIGxhIHBhZ2UgbG9yc3F1ZSBsYSB0b3VjaGUgZW50clx1MDBFOWUgZXN0IHByZXNzZXIgc3VyIHF1YW50aXR5SW5wdXRcbnF1YW50aXR5SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChlKSB7XG4gIGlmKGUua2V5SWRlbnRpZmllcj09J1UrMDAwQSd8fGUua2V5SWRlbnRpZmllcj09J0VudGVyJ3x8ZS5rZXlDb2RlPT0xMylcbiAge2UucHJldmVudERlZmF1bHQoKTtyZXR1cm4gZmFsc2U7fVxufSx0cnVlKTtcblxuXG5cbi8vIEZvbmN0aW9uIHBvdXIgZm9ybWF0ZXIgdW5lIHF1YW50aXRcdTAwRTkgc2Vsb24gc29uIHVuaXRcdTAwRTlcbmZ1bmN0aW9uIGZvcm1hdFF1YW50aXR5KHF0eSwgdW5pdCkge1xuICBpZiAoIXVuaXQpIHJldHVybiBNYXRoLnJvdW5kKHF0eSAqIDEwKSAvIDEwO1xuXG4gIHN3aXRjaCh1bml0KSB7XG4gICAgY2FzZSBcImwuXCI6XG4gICAgY2FzZSBcIktnXCI6XG4gICAgICByZXR1cm4gTWF0aC5yb3VuZChxdHkgKiAxMDApIC8gMTAwO1xuICAgIGNhc2UgXCJtbFwiOlxuICAgIGNhc2UgXCJnci5cIjpcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKHF0eSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKHF0eSAqIDEwKSAvIDEwO1xuICB9XG59XG5cbi8vIEZvbmN0aW9uIHBvdXIgZFx1MDBFOXRlcm1pbmVyIGxhIG1laWxsZXVyZSB1bml0XHUwMEU5IGQnYWZmaWNoYWdlXG5mdW5jdGlvbiBnZXRCZXN0RGlzcGxheVVuaXQoYmFzZVF0eSwgYmFzZVVuaXQpIHtcbiAgaWYgKGJhc2VVbml0ID09PSBcImdyLlwiKSB7XG4gICAgaWYgKGJhc2VRdHkgPj0gMTAwMCkge1xuICAgICAgcmV0dXJuIHsgcXR5OiBiYXNlUXR5IC8gMTAwMCwgdW5pdDogXCJLZ1wiIH07XG4gICAgfVxuICAgIHJldHVybiB7IHF0eTogYmFzZVF0eSwgdW5pdDogXCJnci5cIiB9O1xuICB9IGVsc2UgaWYgKGJhc2VVbml0ID09PSBcIm1sXCIpIHtcbiAgICBpZiAoYmFzZVF0eSA+PSAxMDAwKSB7XG4gICAgICByZXR1cm4geyBxdHk6IGJhc2VRdHkgLyAxMDAwLCB1bml0OiBcImwuXCIgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgcXR5OiBiYXNlUXR5LCB1bml0OiBcIm1sXCIgfTtcbiAgfVxuICBcbiAgcmV0dXJuIHsgcXR5OiBiYXNlUXR5LCB1bml0OiBiYXNlVW5pdCB9O1xufVxuXG4vLyBMb3JzcXVlIHF1YW50aXR5SW5wdXQgY2hhbmdlLCBjaGFxdWUgdmFsZXVyIGR1IHRhYmxlYXUgYW1vdW50QXJyYXkgZXN0IG1vZGlmaVx1MDBFOVxucXVhbnRpdHlJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICBhbW91bnRBcnJheS5mb3JFYWNoKChiYXNlVmFsdWUsIGkpID0+IHtcbiAgICBjb25zdCB1bml0RWxlbWVudCA9IGFtb3VudHNbaV0ucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcudW5pdCcpO1xuICAgIGNvbnN0IG9yaWdpbmFsID0gb3JpZ2luYWxEYXRhW2ldO1xuICAgIFxuICAgIC8vIENhbGN1bGVyIGxhIG5vdXZlbGxlIHF1YW50aXRcdTAwRTkgZW4gdW5pdFx1MDBFOSBkZSBiYXNlXG4gICAgY29uc3QgbmV3QmFzZVF0eSA9IChiYXNlVmFsdWUgKiBxdWFudGl0eUlucHV0LnZhbHVlKSAvIHF1YW50aXR5SW5pdDtcbiAgICBcbiAgICAvLyBEXHUwMEU5dGVybWluZXIgbGEgbWVpbGxldXJlIHVuaXRcdTAwRTkgZCdhZmZpY2hhZ2VcbiAgICBjb25zdCBkaXNwbGF5ID0gZ2V0QmVzdERpc3BsYXlVbml0KG5ld0Jhc2VRdHksIG9yaWdpbmFsLmJhc2VVbml0KTtcbiAgICBcbiAgICAvLyBGb3JtYXRlciBzZWxvbiBsJ3VuaXRcdTAwRTkgZCdhZmZpY2hhZ2VcbiAgICBhbW91bnRzW2ldLmlubmVySFRNTCA9IGZvcm1hdFF1YW50aXR5KGRpc3BsYXkucXR5LCBkaXNwbGF5LnVuaXQpO1xuICAgIFxuICAgIC8vIE1ldHRyZSBcdTAwRTAgam91ciBsJ3VuaXRcdTAwRTkgYWZmaWNoXHUwMEU5ZVxuICAgIGlmICh1bml0RWxlbWVudCkge1xuICAgICAgdW5pdEVsZW1lbnQudGV4dENvbnRlbnQgPSBkaXNwbGF5LnVuaXQ7XG4gICAgfVxuICB9KTtcblxuICBxdWFudGl0eVNwYW4udGV4dENvbnRlbnQgPSBxdWFudGl0eUlucHV0LnZhbHVlO1xufSk7XG4iXSwKICAibWFwcGluZ3MiOiAiOztBQUdBLE1BQU0sZ0JBQWdCLFNBQVMsY0FBYyxnQkFBZ0I7QUFHN0QsTUFBTSxlQUFlLFNBQVMsZUFBZSxjQUFjLEVBQUU7QUFHN0QsTUFBTSxlQUFlLFNBQVMsZUFBZSxpQkFBaUI7QUFHOUQsTUFBTSxVQUFVLFNBQVMsaUJBQWlCLFNBQVM7QUFDbkQsTUFBTSxjQUFjLENBQUM7QUFHckIsTUFBTSxlQUFlLENBQUM7QUFHdEIsUUFBTSxLQUFLLE9BQU8sRUFBRSxRQUFRLFNBQVUsU0FBUyxPQUFPO0FBQ3BELFVBQU0sY0FBYyxRQUFRLGNBQWMsY0FBYyxPQUFPO0FBQy9ELFVBQU0sT0FBTyxjQUFjLFlBQVksY0FBYztBQUdyRCxRQUFJLFlBQVksT0FBTyxRQUFRLFNBQVM7QUFDeEMsUUFBSSxXQUFXO0FBR2YsUUFBSSxTQUFTLE1BQU07QUFDakIsa0JBQVksWUFBWTtBQUN4QixpQkFBVztBQUFBLElBQ2IsV0FBVyxTQUFTLE1BQU07QUFDeEIsa0JBQVksWUFBWTtBQUN4QixpQkFBVztBQUFBLElBQ2I7QUFFQSxnQkFBWSxLQUFLLFNBQVM7QUFDMUIsaUJBQWEsS0FBSztBQUFBLE1BQ2hCO0FBQUEsTUFDQTtBQUFBLE1BQ0EsY0FBYztBQUFBLElBQ2hCLENBQUM7QUFBQSxFQUNILENBQUM7QUFHRCxnQkFBYyxpQkFBaUIsV0FBVyxTQUFVLEdBQUc7QUFDckQsUUFBRyxFQUFFLGlCQUFlLFlBQVUsRUFBRSxpQkFBZSxXQUFTLEVBQUUsV0FBUyxJQUNuRTtBQUFDLFFBQUUsZUFBZTtBQUFFLGFBQU87QUFBQSxJQUFNO0FBQUEsRUFDbkMsR0FBRSxJQUFJO0FBS04sV0FBUyxlQUFlLEtBQUssTUFBTTtBQUNqQyxRQUFJLENBQUMsS0FBTSxRQUFPLEtBQUssTUFBTSxNQUFNLEVBQUUsSUFBSTtBQUV6QyxZQUFPLE1BQU07QUFBQSxNQUNYLEtBQUs7QUFBQSxNQUNMLEtBQUs7QUFDSCxlQUFPLEtBQUssTUFBTSxNQUFNLEdBQUcsSUFBSTtBQUFBLE1BQ2pDLEtBQUs7QUFBQSxNQUNMLEtBQUs7QUFDSCxlQUFPLEtBQUssTUFBTSxHQUFHO0FBQUEsTUFDdkI7QUFDRSxlQUFPLEtBQUssTUFBTSxNQUFNLEVBQUUsSUFBSTtBQUFBLElBQ2xDO0FBQUEsRUFDRjtBQUdBLFdBQVMsbUJBQW1CLFNBQVMsVUFBVTtBQUM3QyxRQUFJLGFBQWEsT0FBTztBQUN0QixVQUFJLFdBQVcsS0FBTTtBQUNuQixlQUFPLEVBQUUsS0FBSyxVQUFVLEtBQU0sTUFBTSxLQUFLO0FBQUEsTUFDM0M7QUFDQSxhQUFPLEVBQUUsS0FBSyxTQUFTLE1BQU0sTUFBTTtBQUFBLElBQ3JDLFdBQVcsYUFBYSxNQUFNO0FBQzVCLFVBQUksV0FBVyxLQUFNO0FBQ25CLGVBQU8sRUFBRSxLQUFLLFVBQVUsS0FBTSxNQUFNLEtBQUs7QUFBQSxNQUMzQztBQUNBLGFBQU8sRUFBRSxLQUFLLFNBQVMsTUFBTSxLQUFLO0FBQUEsSUFDcEM7QUFFQSxXQUFPLEVBQUUsS0FBSyxTQUFTLE1BQU0sU0FBUztBQUFBLEVBQ3hDO0FBR0EsZ0JBQWMsaUJBQWlCLFNBQVMsV0FBWTtBQUNsRCxnQkFBWSxRQUFRLENBQUMsV0FBVyxNQUFNO0FBQ3BDLFlBQU0sY0FBYyxRQUFRLENBQUMsRUFBRSxjQUFjLGNBQWMsT0FBTztBQUNsRSxZQUFNLFdBQVcsYUFBYSxDQUFDO0FBRy9CLFlBQU0sYUFBYyxZQUFZLGNBQWMsUUFBUztBQUd2RCxZQUFNLFVBQVUsbUJBQW1CLFlBQVksU0FBUyxRQUFRO0FBR2hFLGNBQVEsQ0FBQyxFQUFFLFlBQVksZUFBZSxRQUFRLEtBQUssUUFBUSxJQUFJO0FBRy9ELFVBQUksYUFBYTtBQUNmLG9CQUFZLGNBQWMsUUFBUTtBQUFBLE1BQ3BDO0FBQUEsSUFDRixDQUFDO0FBRUQsaUJBQWEsY0FBYyxjQUFjO0FBQUEsRUFDM0MsQ0FBQzsiLAogICJuYW1lcyI6IFtdCn0K
