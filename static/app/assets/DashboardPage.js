import{B as ge,d as fe,v as d,k as J,h as t,g as a,K as p,N as me,b as i,c as pe,G as se,j as ie,m as r,u as P,C as H,o as e,I as de,e as we,n as Je,w as Z,D as qe,a9 as ot,M as ct,x as G,aa as lt,p as ye,$ as ce,a1 as ke,y as Ie,A as oe,H as Ce,U as Te,s as Qe,J as ut,Y as mt,P as bt}from"./appwrite.js";import{n as Ye,a as _t}from"./index.js";import{f as gt}from"./date-helpers.js";import{B as Se,I as He,T as Ke,k as ft,m as We,U as _e,t as Ae,J as pt,d as le,N as xt,O as Xe,Q as ht,V as yt,W as wt,Y as kt,a as Ct}from"./icons.js";import{T as Tt,C as It}from"./CreateTeamModal.js";import{E as At}from"./EventCard.js";import{D as Et}from"./DocCard.js";import{E as zt}from"./EmailVerificationAlert.js";import"./ConfirmModal.js";import"./InfoCollapse.js";import"./products-display.js";import"./event-stats-helpers.js";import"./BadgeEventStatus.js";var Dt=d('<span class="font-medium"> </span>'),jt=d('<div class="flex items-center gap-1"><!> <span> </span></div>'),Rt=d('<div class="badge badge-accent badge-outline badge-xs">brouillon</div>'),Mt=d('<div role="button" tabindex="0"><div class="min-w-0 flex-1"><div class="flex flex-wrap items-center gap-x-10 gap-y-2"><div class="text-primary flex items-center gap-2"><svg class="text-primary h-4 w-4 shrink-0"><use></use></svg> <div class="truncate text-sm font-medium"> </div> <!></div> <div class="text-base-content/50 flex items-center gap-3 text-xs"><!> <div class="flex items-center gap-1"><span> </span></div></div> <!></div></div> <!></div>'),Bt=d('<div class="py-6 text-center"><div class="text-error mb-2"><!></div> <p class="text-base-content/60 text-sm">Erreur de chargement des recettes</p> <button class="btn btn-ghost btn-xs mt-2">Réessayer</button></div>'),St=d('<div class="space-y-3 py-4"><div class="skeleton h-32 w-full rounded-lg"></div> <div class="skeleton h-32 w-full rounded-lg"></div> <div class="skeleton h-32 w-full rounded-lg"></div></div>'),Vt=d('<div class="py-6 text-center"><!> <p class="text-base-content/60 mb-4 text-sm">Aucune recette publiée</p> <button class="btn btn-primary btn-sm"><!> Créer une recette</button></div>'),qt=d('<div class="mb-4"><h3 class="text-base-content/80 mb-2 text-xs font-semibold tracking-wider uppercase">Mes dernières recettes</h3> <div class="space-y-2"></div></div>'),Nt=d('<!> <div><h3 class="text-base-content/80 mb-2 text-xs font-semibold tracking-wider uppercase">Dernières recettes ajoutées</h3> <div class="space-y-2"></div></div> <div class="card-actions border-base-200 mt-4 justify-end border-t pt-4"><button class="btn btn-primary btn-sm btn-soft"><!> Créer une recette</button></div>',1),Lt=d('<div class="flex items-center justify-between"><h2 class="card-title flex items-center gap-2"><!> Dernières Recettes</h2> <button class="btn" title="Voir toutes les recettes">Voir tout <!></button></div> <!>',1);function Pt($,s){fe(s,!0);const _=(n,v=Je,o=Je)=>{const c=P(()=>U(v()));var m=Mt();m.__click=()=>q(v().$id),m.__keydown=A=>{(A.key==="Enter"||A.key===" ")&&q(v().$id)};var C=t(m),S=t(C),V=t(S),T=t(V),M=t(T);e(T);var f=a(T,2),L=t(f,!0);e(f);var K=a(f,2);{var W=A=>{var X=Dt(),ne=t(X);e(X),Z(()=>G(ne,`- ${v().versionLabel??""}`)),i(A,X)};p(K,A=>{v().versionLabel&&A(W)})}e(V);var F=a(V,2),b=t(F);{var D=A=>{var X=jt(),ne=t(X);_e(ne,{class:"h-3 w-3"});var xe=a(ne,2),be=t(xe);e(xe),e(X),Z(()=>G(be,`${v().plate??""} pers`)),i(A,X)};p(b,A=>{v().plate&&A(D)})}var I=a(b,2),y=t(I),j=t(y);e(y),e(I),e(F);var N=a(F,2);{var ae=A=>{var X=Rt();i(A,X)};p(N,A=>{v().draft&&A(ae)})}e(S),e(C);var re=a(C,2);We(re,{class:"mt-1 h-4 w-4 shrink-0 opacity-40"}),e(m),Z(A=>{qe(m,1,`${o()?"border-accent/60 border-l-2":""} bg-base-200 hover:bg-base-300 flex cursor-pointer items-start gap-3 rounded-lg p-3 transition-colors`),ct(M,"href",`/icons/sprite.svg#${r(c).iconId}`),G(L,v().title),G(j,`Ajouté ${A??""}`)},[()=>w(v())]),i(n,m)},u=P(()=>me.isInitialized?me.recipesIndex.filter(n=>n.auteur===de.userName).sort((n,v)=>{const o=n.$createdAt?new Date(n.$createdAt).getTime():0;return(v.$createdAt?new Date(v.$createdAt).getTime():0)-o}).slice(0,5):[]),x=P(()=>me.isInitialized?me.recipesIndex.filter(n=>n.auteur!==de.userName).sort((n,v)=>{const o=n.$createdAt?new Date(n.$createdAt).getTime():0;return(v.$createdAt?new Date(v.$createdAt).getTime():0)-o}).slice(0,5):[]);function w(n){return n.$createdAt?gt(n.$createdAt):"Date inconnue"}function U(n){return lt(n.typeR,n.categories)}const R=P(()=>!me.isInitialized&&!me.loading);function q(n){se(`/recipe/${n}`)}function te(){se("/recipe")}function h(){se("/recipe/new")}var Q=Lt(),Y=J(Q),ee=t(Y),B=t(ee);Se(B,{class:"text-primary h-5 w-5 stroke-3"}),H(),e(ee);var l=a(ee,2);l.__click=te;var z=a(t(l));He(z,{size:16}),e(l),e(Y);var O=a(Y,2);{var g=n=>{var v=Bt(),o=t(v),c=t(o);Ke(c,{class:"mx-auto h-8 w-8"}),e(o);var m=a(o,4);m.__click=()=>window.location.reload(),e(v),i(n,v)},k=n=>{var v=ie(),o=J(v);{var c=C=>{var S=St();i(C,S)},m=C=>{var S=ie(),V=J(S);{var T=f=>{var L=Vt(),K=t(L);ft(K,{class:"mx-auto mb-3 h-12 w-12 opacity-20"});var W=a(K,4);W.__click=h;var F=t(W);Se(F,{class:"mr-2 h-4 w-4"}),H(),e(W),e(L),i(f,L)},M=f=>{var L=Nt(),K=J(L);{var W=j=>{var N=qt(),ae=a(t(N),2);we(ae,21,()=>r(u),re=>re.$id,(re,A)=>{_(re,()=>r(A),()=>!0)}),e(ae),e(N),i(j,N)};p(K,j=>{r(u).length>0&&j(W)})}var F=a(K,2),b=a(t(F),2);we(b,21,()=>r(x),j=>j.$id,(j,N)=>{_(j,()=>r(N),()=>!1)}),e(b),e(F);var D=a(F,2),I=t(D);I.__click=h;var y=t(I);Se(y,{class:"mr-2 h-4 w-4"}),H(),e(I),e(D),Z(()=>qe(F,1,ot(r(u).length>0?"mt-4":""))),i(f,L)};p(V,f=>{r(u).length===0&&r(x).length===0?f(T):f(M,!1)},!0)}i(C,S)};p(o,C=>{r(R)?C(c):C(m,!1)},!0)}i(n,v)};p(O,n=>{me.error?n(g):n(k,!1)})}i($,Q),pe()}ge(["click","keydown"]);var Ut=d('<div class="space-y-6 py-4"><div class="skeleton h-40 w-full rounded-lg"></div> <div class="skeleton h-40 w-full rounded-lg"></div> <div class="skeleton h-40 w-full rounded-lg"></div></div>'),Ot=d('<div class="py-6 text-center"><!> <p class="text-base-content/60 mb-4 text-sm">Aucun événement prévu</p></div>'),Ft=d('<div class="my-4"><div class="space-y-6"></div></div>');function Ne($,s){fe(s,!0);let _=ye(s,"events",19,()=>[]),u=ye(s,"loading",3,!1),x=ye(s,"cardClass",3,"");function w(h){return ce.getContributorStatus(h)==="invited"}var U=ie(),R=J(U);{var q=h=>{var Q=Ut();i(h,Q)},te=h=>{var Q=ie(),Y=J(Q);{var ee=l=>{var z=Ot(),O=t(z);Ae(O,{size:32,class:"text-base-content/20 mx-auto mb-3"}),H(2),e(z),i(l,z)},B=l=>{var z=ie(),O=J(z);{var g=k=>{var n=Ft(),v=t(n);we(v,21,_,o=>o.$id,(o,c)=>{{let m=P(()=>w(r(c).$id)?"invited":null);At(o,{get event(){return r(c)},get cardClass(){return x()},get contributorStatus(){return r(m)}})}}),e(v),e(n),i(k,n)};p(O,k=>{_().length>0&&k(g)})}i(l,z)};p(Y,l=>{_().length===0?l(ee):l(B,!1)},!0)}i(h,Q)};p(R,h=>{u()?h(q):h(te,!1)})}i($,U),pe()}var Gt=d('<div class="py-6 text-center"><span class="loading loading-spinner loading-md text-primary"></span> <p class="text-base-content/60 mt-2 text-sm">Chargement...</p></div>'),Jt=d('<div class="py-6 text-center"><div class="text-error mb-2"><!></div> <p class="text-base-content/60 text-sm">Erreur de chargement des documents</p></div>'),Qt=d('<div class="py-6 text-center"><!> <p class="text-base-content/60 mb-4 text-sm">Aucun document</p></div>'),Yt=d('<div class="space-y-2"></div>'),Ht=d('<div class="card bg-base-100 card-sm border-neutral/20 border shadow-sm"><div class="card-body"><div class="flex flex-wrap items-center justify-between"><h2 class="card-title flex items-center gap-2"><!> Documents récents</h2> <button class="btn btn-sm" title="Voir tous les documents">Voir tout <!></button></div> <!> <div class="card-actions mt-4 justify-end pt-4"><button class="btn btn-primary btn-soft btn-sm"><!> Créer un document</button></div></div></div>');function Kt($,s){fe(s,!0);const _=P(()=>ke.isInitialized?ke.getTeamDocuments(s.teamId).sort((g,k)=>{const n=g.$updatedAt?new Date(g.$updatedAt).getTime():0;return(k.$updatedAt?new Date(k.$updatedAt).getTime():0)-n}).slice(0,5):[]);function u(){se(`/documents/${s.teamId}`)}function x(){se(`/createdocument/${s.teamId}/new`)}var w=Ht(),U=t(w),R=t(U),q=t(R),te=t(q);pt(te,{class:"text-primary h-5 w-5"}),H(),e(q);var h=a(q,2);h.__click=u;var Q=a(t(h));He(Q,{size:16}),e(h),e(R);var Y=a(R,2);{var ee=g=>{var k=Gt();i(g,k)},B=g=>{var k=ie(),n=J(k);{var v=c=>{var m=Jt(),C=t(m),S=t(C);Ke(S,{class:"mx-auto h-8 w-8"}),e(C),H(2),e(m),i(c,m)},o=c=>{var m=ie(),C=J(m);{var S=T=>{var M=Qt(),f=t(M);xt(f,{size:32,class:"text-base-content/20 mx-auto mb-3"}),H(2),e(M),i(T,M)},V=T=>{var M=Yt();we(M,21,()=>r(_),f=>f.$id,(f,L)=>{Et(f,{get doc(){return r(L)},get teamId(){return s.teamId}})}),e(M),i(T,M)};p(C,T=>{r(_).length===0?T(S):T(V,!1)},!0)}i(c,m)};p(n,c=>{ke.error?c(v):c(o,!1)},!0)}i(g,k)};p(Y,g=>{ke.loading?g(ee):g(B,!1)})}var l=a(Y,2),z=t(l);z.__click=x;var O=t(z);le(O,{class:"h-4 w-4"}),H(),e(z),e(l),e(U),e(w),i($,w),pe()}ge(["click"]);var Wt=d('<div class="badge badge-soft badge-secondary gap-1"><!> </div>'),Xt=d('<blockquote class="text-base-content/70 border-neutral/20 bg-base-200/50 mt-2 rounded-lg border-x-4 p-2"> <!></blockquote>'),Zt=d('<div class="fieldset-legend">Récents</div> <!>',1),$t=d(`<div class="card bg-base-100 border-base-200 border shadow-xl"><div class="card-body gap-4 max-sm:px-2"><div class="flex items-start justify-between gap-2"><div class="flex items-center gap-2"><!> <h2> </h2> <!></div> <button class="btn btn-circle btn-ghost" title="Paramètres de l'équipe"><!></button></div> <div class="grid grid-cols-1 gap-4 md:grid-cols-2"><div class="card card-sm border-neutral/20 shoadow-sm self-start border shadow"><div class="card-body"><div class="flex flex-wrap items-center justify-between gap-2 text-sm"><div class=" flex items-center gap-2"><div class="indicator bg-primary/20 rounded-full p-2"><span class="indicator-item badge badge-sm badge-primary"> </span> <!></div> <div class="text-base-content/70"> </div></div> <button class="btn btn-sm btn-accent ms-auto"><!> Inviter</button></div> <!></div></div> <div class="card border-neutral/20 card-sm flex w-full justify-center border shadow-sm"><div class="card-body"><div class="card card-sm bg-base-300/60"><div class="card-body text-center"><p class="font-semibold">Gérez le matériel collectif de cantine :</p> <p>inventaire, gestion des emprunt, partage, etc.</p></div></div> <div class="flex w-full flex-wrap justify-around gap-2"><button class="btn btn-primary btn-soft flex-1"><!> Inventaire</button> <button class="btn btn-primary btn-soft flex-1"><!> Réservations</button></div></div></div></div> <div class="card grid grid-cols-1 gap-6 text-sm"><div class="card card-sm border-neutral/20 border shadow-sm"><div class="card-body"><div class="flex flex-wrap justify-between gap-2"><h3 class="card-title items-center"><!> Événements</h3> <button class="btn btn-sm">Voir les événements passés <!></button></div> <!> <!> <div class="card-actions mt-auto items-center justify-end"><button class="btn btn-primary btn-soft btn-sm ml-auto"><!> Créer un événement</button></div></div></div> <div><!></div></div> <div class="flex justify-center"></div></div></div> <!>`,1);function ea($,s){fe(s,!0);let _=ye(s,"loading",3,!1),u=Ie(!1),x=Ie("");const w=P(()=>{const E=s.team.prefs||{};return E.city||E.location||E.region||null}),U=P(()=>s.team.members||[]),R=P(()=>Ce.getTeamMemberNames(s.team.$id)),q=P(()=>r(R).length<=20?r(R).join(", "):`${r(R).slice(0,20).join(", ")} +${r(R).length-20}`),te=P(()=>s.currentEvents.filter(E=>E.teamsId?.includes(s.team.$id)||E.teams?.includes(s.team.name))),h=P(()=>s.pastEvents.filter(E=>E.teamsId?.includes(s.team.$id)||E.teams?.includes(s.team.name)).slice(0,3));function Q(){oe(x,"members"),oe(u,!0)}function Y(){oe(x,"invitations"),oe(u,!0)}function ee(){se(`/dashboard/eventCreate/${s.team.$id}`)}function B(){se(`/dashboard/materiel/${s.team.$id}`)}function l(){se(`/dashboard/loans/${s.team.$id}`)}function z(){se("/eventList")}var O=$t(),g=J(O),k=t(g),n=t(k),v=t(n),o=t(v);_e(o,{class:"text-primary size-6 shrink-0 stroke-3"});var c=a(o,2),m=t(c,!0);e(c);var C=a(c,2);{var S=E=>{var ve=Wt(),ue=t(ve);wt(ue,{class:"h-3 w-3"});var Be=a(ue);e(ve),Z(()=>G(Be,` ${r(w)??""}`)),i(E,ve)};p(C,E=>{r(w)&&E(S)})}e(v);var V=a(v,2);V.__click=Q;var T=t(V);Xe(T,{}),e(V),e(n);var M=a(n,2),f=t(M),L=t(f),K=t(L),W=t(K),F=t(W),b=t(F),D=t(b,!0);e(b);var I=a(b,2);_e(I,{class:" text-primary inline size-5 shrink-0 "}),e(F);var y=a(F,2),j=t(y,!0);e(y),e(W);var N=a(W,2);N.__click=Y;var ae=t(N);le(ae,{class:"h-4 w-4"}),H(),e(N),e(K);var re=a(K,2);{var A=E=>{var ve=Xt(),ue=t(ve),Be=a(ue);{var vt=he=>{var dt=Te("...");i(he,dt)};p(Be,he=>{s.team.prefs.description.length>250&&he(vt)})}e(ve),Z(he=>G(ue,`${he??""} `),[()=>s.team.prefs.description.slice(0,250)]),i(E,ve)};p(re,E=>{s.team.prefs.description&&E(A)})}e(L),e(f);var X=a(f,2),ne=t(X),xe=a(t(ne),2),be=t(xe);be.__click=B;var Ze=t(be);ht(Ze,{class:"size-4"}),H(),e(be);var Ee=a(be,2);Ee.__click=l;var $e=t(Ee);yt($e,{class:"size-4"}),H(),e(Ee),e(xe),e(ne),e(X),e(M);var Le=a(M,2),ze=t(Le),Pe=t(ze),De=t(Pe),je=t(De),et=t(je);Ae(et,{class:"text-primary inline size-5"}),H(),e(je);var Re=a(je,2);Re.__click=z;var tt=a(t(Re));We(tt,{class:"ml-2 h-4 w-4"}),e(Re),e(De);var Ue=a(De,2);Ne(Ue,{get events(){return r(te)},get loading(){return _()},cardClass:"border-l-4 border-accent/60"});var Oe=a(Ue,2);{var at=E=>{var ve=Zt(),ue=a(J(ve),2);Ne(ue,{get events(){return r(h)},get loading(){return _()}}),i(E,ve)};p(Oe,E=>{r(h).length>0&&E(at)})}var Fe=a(Oe,2),Me=t(Fe);Me.__click=ee;var rt=t(Me);le(rt,{class:"h-4 w-4"}),H(),e(Me),e(Fe),e(Pe),e(ze);var Ge=a(ze,2),st=t(Ge);Kt(st,{get teamId(){return s.team.$id}}),e(Ge),e(Le),H(2),e(k),e(g);var nt=a(g,2);{var it=E=>{Tt(E,{get teamId(){return s.team.$id},onClose:()=>oe(u,!1),get initialTab(){return r(x)}})};p(nt,E=>{r(u)&&E(it)})}Z(()=>{G(m,s.team.name),G(D,r(U).length),G(j,r(q))}),i($,O),pe()}ge(["click"]);var ta=d('<button class="btn btn-sm gap-2"><!> Voir tous mes événements <div class="badge badge-xs badge-neutral"> </div></button>'),aa=d('<div class="card bg-base-100 border-base-200 mb-6 border shadow-xl"><div class="card-body"><div class="flex items-center justify-between"><div class="flex items-center gap-3"><!> <div><h2 class="card-title mb-1">Événements</h2> <p class="text-base-content/60 text-sm">Aucune invitation à participer à un événement hors de vos équipes.</p></div></div> <!></div></div></div>'),ra=d('<!> Voir tous mes événements <div class="badge badge-neutral"> </div>',1),sa=d('<button class="btn btn-sm"><!></button>'),na=d('<div class="card bg-base-100 border-base-200 mb-6 border shadow-xl"><div class="card-body"><div class="mb-4 flex items-center justify-between"><div class="flex items-center gap-3"><!> <div><h2 class="card-title mb-1"> </h2> <p class="text-base-content/60 text-sm"><!></p></div></div> <!></div> <!></div></div>');function ia($,s){fe(s,!0);let _=ye(s,"loading",3,!1),u=Ie(!1);const x=P(()=>{const B=de.user?.$id;return B?s.currentEvents.filter(l=>l.teamsId?.some(g=>s.userTeamIds.includes(g))?!1:l.contributors?.some(g=>g.userId===B||g.id===B)):[]}),w=P(()=>s.currentEvents.filter(B=>B.teamsId?.some(l=>s.userTeamIds.includes(l)))),U=P(()=>r(u)?[...r(x),...r(w)]:r(x)),R=P(()=>r(x).length+r(w).length),q=P(()=>r(x).length);function te(){oe(u,!r(u))}var h=ie(),Q=J(h);{var Y=B=>{},ee=B=>{var l=ie(),z=J(l);{var O=k=>{var n=aa(),v=t(n),o=t(v),c=t(o),m=t(c);Ae(m,{class:"text-primary h-6 w-6 stroke-3"}),H(2),e(c);var C=a(c,2);{var S=V=>{var T=ta();T.__click=te;var M=t(T);_e(M,{class:"h-4 w-4"});var f=a(M,2),L=t(f,!0);e(f),e(T),Z(()=>G(L,r(R))),i(V,T)};p(C,V=>{r(w).length>0&&V(S)})}e(o),e(v),e(n),i(k,n)},g=k=>{var n=na(),v=t(n),o=t(v),c=t(o),m=t(c);Ae(m,{class:"text-primary h-6 w-6 stroke-3"});var C=a(m,2),S=t(C),V=t(S,!0);e(S);var T=a(S,2),M=t(T);{var f=b=>{var D=Te();Z(()=>G(D,`${r(U).length??""} événement${r(U).length>1?"s":""} à venir`)),i(b,D)},L=b=>{var D=Te();Z(()=>G(D,`${r(q)??""} évenement${r(q)>1?"s":""} hors équipe`)),i(b,D)};p(M,b=>{r(u)?b(f):b(L,!1)})}e(T),e(C),e(c);var K=a(c,2);{var W=b=>{var D=sa();D.__click=te;var I=t(D);{var y=N=>{var ae=Te("Voir les invitations externes uniquement");i(N,ae)},j=N=>{var ae=ra(),re=J(ae);_e(re,{class:"h-4 w-4"});var A=a(re,2),X=t(A,!0);e(A),Z(()=>G(X,r(R))),i(N,ae)};p(I,N=>{r(u)?N(y):N(j,!1)})}e(D),i(b,D)};p(K,b=>{r(w).length>0&&b(W)})}e(o);var F=a(o,2);{let b=P(()=>r(u)?"":"border-l-4 border-info");Ne(F,{get events(){return r(U)},get loading(){return _()},get cardClass(){return r(b)}})}e(v),e(n),Z(()=>G(V,r(u)?"Tous mes événements":"Invitations externes")),i(k,n)};p(z,k=>{r(x).length===0&&!r(u)?k(O):k(g,!1)},!0)}i(B,l)};p(Q,B=>{s.currentEvents.length===0?B(Y):B(ee,!1)})}i($,h),pe()}ge(["click"]);ge(["click","keydown"]);var va=d('<div class="card bg-base-100 border-base-200 border shadow-sm"><div class="card-body"><div class="flex items-center gap-3"><div class="text-primary self-baseline stroke-3"><!></div> <div><h4> </h4> <p class="text-base-content/60 py-2 text-sm"> </p></div></div> <div class="card-actions mt-auto justify-end"><!></div></div></div>');function Ve($,s){var _=va(),u=t(_),x=t(u),w=t(x),U=t(w);Qe(U,()=>s.icon),e(w);var R=a(w,2),q=t(R),te=t(q,!0);e(q);var h=a(q,2),Q=t(h,!0);e(h),e(R),e(x);var Y=a(x,2),ee=t(Y);Qe(ee,()=>s.action),e(Y),e(u),e(_),Z(()=>{G(te,s.title),G(Q,s.description)}),i($,_)}const da=$=>{var s=oa(),_=t(s);_.__click=()=>se("/dashboard/eventCreate");var u=t(_);le(u,{class:"h-4 w-4"}),H(),e(_);var x=a(_,2);x.__click=()=>se("/recipe/new");var w=t(x);le(w,{class:"h-4 w-4"}),H(),e(x),e(s),Z(()=>qe(s,1,`flex gap-2 ${(de.isMobile&&"hidden")??""}`)),i($,s)};var oa=d('<div><button class="btn btn-primary btn-sm"><!> Créer un Événement</button> <button class="btn btn-primary btn-sm"><!> Créer une Recette</button></div>'),ca=d('<div class="bg-base-100 border-base-200 rounded-xl border p-8 text-center shadow-sm"><!> <h2 class="mb-2 text-xl font-semibold">Connectez-vous pour accéder à votre tableau de bord</h2> <p class="text-base-content/60 mb-6">Connectez-vous pour voir vos équipes, événements et recettes.</p> <button class="btn btn-primary">Se connecter</button></div>'),la=d('<div class="alert alert-error shadow-lg"><span> </span></div>'),ua=d('<button class="btn btn-primary btn-sm"><!></button>'),ma=d('<button class="btn btn-primary btn-sm"><!></button>'),ba=d('<button class="btn btn-primary btn-sm"><!></button>'),_a=d('<section class="bg-base-200 py-8"><div class="mx-auto"><div class="grid grid-cols-1 gap-6"></div></div></section>'),ga=d('<div class="mb-8"><div class="grid grid-cols-1 gap-4 md:grid-cols-3"><!> <!> <!></div></div> <section class="bg-base-200 py-8"><div class=" mx-auto"><!></div></section> <!> <div class="card bg-base-100 border-base-200 border shadow-xl"><div class="card-body"><!></div></div>',1),fa=d('<div class="bg-base-200 min-h-screen"><!> <div class="mx-auto max-w-7xl px-4 pt-8 sm:px-6 lg:px-8"><h2 class="text-base-content"> </h2></div> <div class="mx-auto max-w-7xl px-1 py-8 sm:px-4"><!></div></div> <!>',1);function ja($,s){fe(s,!0);let _=Ie(!1);function u(l){oe(_,!1)}ut(()=>{Ye.setConfig({title:"Dashboard",actions:da})}),mt(()=>{Ye.reset()});var x=fa(),w=J(x),U=t(w);zt(U,{});var R=a(U,2),q=t(R),te=t(q);e(q),e(R);var h=a(R,2),Q=t(h);{var Y=l=>{var z=ca(),O=t(z);Xe(O,{class:"mx-auto mb-4 h-16 w-16 opacity-20"});var g=a(O,6);g.__click=()=>{},e(z),i(l,z)},ee=l=>{var z=ie(),O=J(z);{var g=n=>{var v=la(),o=t(v),c=t(o,!0);e(o),e(v),Z(()=>G(c,ce.error||Ce.error||"Une erreur est survenue")),i(n,v)},k=n=>{var v=ga(),o=J(v),c=t(o),m=t(c);Ve(m,{title:"Créer un Événement",description:"Organisez un nouvel événement et invitez des équipes ou des individus à participer",icon:I=>{kt(I,{class:"size-5"})},action:I=>{var y=ua();y.__click=()=>se("/dashboard/eventCreate");var j=t(y);le(j,{class:"size-5"}),e(y),i(I,y)}});var C=a(m,2);Ve(C,{title:"Créer une Recette",description:"Partager une nouvelle recette pour pouvoir l'ajouter à des événements",icon:I=>{Ct(I,{class:"size-5"})},action:I=>{var y=ma();y.__click=()=>se("/recipe/new");var j=t(y);le(j,{class:"size-5"}),e(y),i(I,y)}});var S=a(C,2);Ve(S,{title:"Créer une Équipe",description:"Créez un groupe et invitez des membres pour ensuite vous organiser ensemble sur des événements, gérer du matos en commun, partager des documents...",icon:I=>{_e(I,{class:"size-5"})},action:I=>{var y=ba();y.__click=()=>oe(_,!0);var j=t(y);le(j,{class:"size-5"}),e(y),i(I,y)}}),e(c),e(o);var V=a(o,2),T=t(V),M=t(T);ia(M,{get currentEvents(){return ce.currentEvents},get userTeamIds(){return de.userTeams},get loading(){return ce.loading}}),e(T),e(V);var f=a(V,2);{var L=b=>{var D=_a(),I=t(D),y=t(I);we(y,20,()=>de.userTeams,j=>j,(j,N)=>{const ae=P(()=>Ce.getTeamById(N));var re=ie(),A=J(re);{var X=ne=>{ea(ne,{get team(){return r(ae)},get currentEvents(){return ce.currentEvents},get pastEvents(){return ce.pastEvents},get loading(){return ce.loading}})};p(A,ne=>{r(ae)&&ne(X)})}i(j,re)}),e(y),e(I),e(D),i(b,D)};p(f,b=>{de.userTeams.length>0&&b(L)})}var K=a(f,2),W=t(K),F=t(W);Pt(F,{}),e(W),e(K),i(n,v)};p(O,n=>{ce.error||Ce.error?n(g):n(k,!1)},!0)}i(l,z)};p(Q,l=>{de.isAuthenticated?l(ee,!1):l(Y)})}e(h),e(w);var B=a(w,2);It(B,{get isOpen(){return r(_)},onClose:()=>oe(_,!1),onSuccess:u}),Z(()=>G(te,`Bienvenue ${(de.user?.name||"")??""}`)),bt(1,w,()=>_t),i($,x),pe()}ge(["click"]);export{ja as default};
